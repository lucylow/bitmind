const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/basic-Djs8hOn0.js","assets/index-BoSzxtCa.js","assets/w3m-modal-7o4dZvlK.js"])))=>i.map(i=>d[i]);
function $L(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var AD={exports:{}},J0={},ND={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp=Symbol.for("react.element"),RL=Symbol.for("react.portal"),jL=Symbol.for("react.fragment"),ML=Symbol.for("react.strict_mode"),LL=Symbol.for("react.profiler"),UL=Symbol.for("react.provider"),BL=Symbol.for("react.context"),FL=Symbol.for("react.forward_ref"),zL=Symbol.for("react.suspense"),VL=Symbol.for("react.memo"),HL=Symbol.for("react.lazy"),MS=Symbol.iterator;function WL(e){return e===null||typeof e!="object"?null:(e=MS&&e[MS]||e["@@iterator"],typeof e=="function"?e:null)}var ID={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_D=Object.assign,TD={};function Yu(e,t,n){this.props=e,this.context=t,this.refs=TD,this.updater=n||ID}Yu.prototype.isReactComponent={};Yu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PD(){}PD.prototype=Yu.prototype;function yE(e,t,n){this.props=e,this.context=t,this.refs=TD,this.updater=n||ID}var wE=yE.prototype=new PD;wE.constructor=yE;_D(wE,Yu.prototype);wE.isPureReactComponent=!0;var LS=Array.isArray,DD=Object.prototype.hasOwnProperty,vE={current:null},OD={key:!0,ref:!0,__self:!0,__source:!0};function kD(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)DD.call(t,r)&&!OD.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:lp,type:e,key:i,ref:o,props:s,_owner:vE.current}}function qL(e,t){return{$$typeof:lp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bE(e){return typeof e=="object"&&e!==null&&e.$$typeof===lp}function KL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var US=/\/+/g;function pw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KL(""+e.key):t.toString(36)}function cg(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case lp:case RL:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+pw(o,0):r,LS(s)?(n="",e!=null&&(n=e.replace(US,"$&/")+"/"),cg(s,t,n,"",function(l){return l})):s!=null&&(bE(s)&&(s=qL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(US,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",LS(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+pw(i,a);o+=cg(i,t,n,c,s)}else if(c=WL(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+pw(i,a++),o+=cg(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xp(e,t,n){if(e==null)return e;var r=[],s=0;return cg(e,r,"","",function(i){return t.call(n,i,s++)}),r}function GL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yn={current:null},lg={transition:null},YL={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:lg,ReactCurrentOwner:vE};function $D(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Xp,forEach:function(e,t,n){Xp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xp(e,function(){t++}),t},toArray:function(e){return Xp(e,function(t){return t})||[]},only:function(e){if(!bE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};De.Component=Yu;De.Fragment=jL;De.Profiler=LL;De.PureComponent=yE;De.StrictMode=ML;De.Suspense=zL;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YL;De.act=$D;De.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_D({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vE.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)DD.call(t,c)&&!OD.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:lp,type:e.type,key:s,ref:i,props:r,_owner:o}};De.createContext=function(e){return e={$$typeof:BL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:UL,_context:e},e.Consumer=e};De.createElement=kD;De.createFactory=function(e){var t=kD.bind(null,e);return t.type=e,t};De.createRef=function(){return{current:null}};De.forwardRef=function(e){return{$$typeof:FL,render:e}};De.isValidElement=bE;De.lazy=function(e){return{$$typeof:HL,_payload:{_status:-1,_result:e},_init:GL}};De.memo=function(e,t){return{$$typeof:VL,type:e,compare:t===void 0?null:t}};De.startTransition=function(e){var t=lg.transition;lg.transition={};try{e()}finally{lg.transition=t}};De.unstable_act=$D;De.useCallback=function(e,t){return Yn.current.useCallback(e,t)};De.useContext=function(e){return Yn.current.useContext(e)};De.useDebugValue=function(){};De.useDeferredValue=function(e){return Yn.current.useDeferredValue(e)};De.useEffect=function(e,t){return Yn.current.useEffect(e,t)};De.useId=function(){return Yn.current.useId()};De.useImperativeHandle=function(e,t,n){return Yn.current.useImperativeHandle(e,t,n)};De.useInsertionEffect=function(e,t){return Yn.current.useInsertionEffect(e,t)};De.useLayoutEffect=function(e,t){return Yn.current.useLayoutEffect(e,t)};De.useMemo=function(e,t){return Yn.current.useMemo(e,t)};De.useReducer=function(e,t,n){return Yn.current.useReducer(e,t,n)};De.useRef=function(e){return Yn.current.useRef(e)};De.useState=function(e){return Yn.current.useState(e)};De.useSyncExternalStore=function(e,t,n){return Yn.current.useSyncExternalStore(e,t,n)};De.useTransition=function(){return Yn.current.useTransition()};De.version="18.3.1";ND.exports=De;var P=ND.exports;const X=cp(P),RD=$L({__proto__:null,default:X},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QL=P,XL=Symbol.for("react.element"),ZL=Symbol.for("react.fragment"),JL=Object.prototype.hasOwnProperty,eU=QL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tU={key:!0,ref:!0,__self:!0,__source:!0};function jD(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)JL.call(t,r)&&!tU.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:XL,type:e,key:i,ref:o,props:s,_owner:eU.current}}J0.Fragment=ZL;J0.jsx=jD;J0.jsxs=jD;AD.exports=J0;var p=AD.exports,MD={exports:{}},Gr={},LD={exports:{}},UD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,$){var R=T.length;T.push($);e:for(;0<R;){var z=R-1>>>1,W=T[z];if(0<s(W,$))T[z]=$,T[R]=W,R=z;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var $=T[0],R=T.pop();if(R!==$){T[0]=R;e:for(var z=0,W=T.length,V=W>>>1;z<V;){var H=2*(z+1)-1,Q=T[H],oe=H+1,ae=T[oe];if(0>s(Q,R))oe<W&&0>s(ae,Q)?(T[z]=ae,T[oe]=R,z=oe):(T[z]=Q,T[H]=R,z=H);else if(oe<W&&0>s(ae,R))T[z]=ae,T[oe]=R,z=oe;else break e}}return $}function s(T,$){var R=T.sortIndex-$.sortIndex;return R!==0?R:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,f=3,h=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(T){for(var $=n(l);$!==null;){if($.callback===null)r(l);else if($.startTime<=T)r(l),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(l)}}function x(T){if(g=!1,b(T),!m)if(n(c)!==null)m=!0,_(E);else{var $=n(l);$!==null&&k(x,$.startTime-T)}}function E(T,$){m=!1,g&&(g=!1,w(C),C=-1),h=!0;var R=f;try{for(b($),d=n(c);d!==null&&(!(d.expirationTime>$)||T&&!M());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var W=z(d.expirationTime<=$);$=e.unstable_now(),typeof W=="function"?d.callback=W:d===n(c)&&r(c),b($)}else r(c);d=n(c)}if(d!==null)var V=!0;else{var H=n(l);H!==null&&k(x,H.startTime-$),V=!1}return V}finally{d=null,f=R,h=!1}}var S=!1,A=null,C=-1,N=5,j=-1;function M(){return!(e.unstable_now()-j<N)}function L(){if(A!==null){var T=e.unstable_now();j=T;var $=!0;try{$=A(!0,T)}finally{$?B():(S=!1,A=null)}}else S=!1}var B;if(typeof v=="function")B=function(){v(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,I=U.port2;U.port1.onmessage=L,B=function(){I.postMessage(null)}}else B=function(){y(L,0)};function _(T){A=T,S||(S=!0,B())}function k(T,$){C=y(function(){T(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,_(E))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var R=f;f=$;try{return T()}finally{f=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var R=f;f=T;try{return $()}finally{f=R}},e.unstable_scheduleCallback=function(T,$,R){var z=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?z+R:z):R=z,T){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=R+W,T={id:u++,callback:$,priorityLevel:T,startTime:R,expirationTime:W,sortIndex:-1},R>z?(T.sortIndex=R,t(l,T),n(c)===null&&T===n(l)&&(g?(w(C),C=-1):g=!0,k(x,R-z))):(T.sortIndex=W,t(c,T),m||h||(m=!0,_(E))),T},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(T){var $=f;return function(){var R=f;f=$;try{return T.apply(this,arguments)}finally{f=R}}}})(UD);LD.exports=UD;var nU=LD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rU=P,Wr=nU;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BD=new Set,Wf={};function Qc(e,t){Iu(e,t),Iu(e+"Capture",t)}function Iu(e,t){for(Wf[e]=t,e=0;e<t.length;e++)BD.add(t[e])}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yb=Object.prototype.hasOwnProperty,sU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BS={},FS={};function iU(e){return yb.call(FS,e)?!0:yb.call(BS,e)?!1:sU.test(e)?FS[e]=!0:(BS[e]=!0,!1)}function oU(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aU(e,t,n,r){if(t===null||typeof t>"u"||oU(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new Qn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];En[t]=new Qn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new Qn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new Qn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new Qn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new Qn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new Qn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new Qn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new Qn(e,5,!1,e.toLowerCase(),null,!1,!1)});var xE=/[\-:]([a-z])/g;function EE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xE,EE);En[t]=new Qn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xE,EE);En[t]=new Qn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xE,EE);En[t]=new Qn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new Qn(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new Qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new Qn(e,1,!1,e.toLowerCase(),null,!0,!0)});function CE(e,t,n,r){var s=En.hasOwnProperty(t)?En[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aU(t,n,s,r)&&(n=null),r||s===null?iU(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Eo=rU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zp=Symbol.for("react.element"),Hl=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),SE=Symbol.for("react.strict_mode"),wb=Symbol.for("react.profiler"),FD=Symbol.for("react.provider"),zD=Symbol.for("react.context"),AE=Symbol.for("react.forward_ref"),vb=Symbol.for("react.suspense"),bb=Symbol.for("react.suspense_list"),NE=Symbol.for("react.memo"),Yo=Symbol.for("react.lazy"),VD=Symbol.for("react.offscreen"),zS=Symbol.iterator;function bd(e){return e===null||typeof e!="object"?null:(e=zS&&e[zS]||e["@@iterator"],typeof e=="function"?e:null)}var St=Object.assign,mw;function Jd(e){if(mw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mw=t&&t[1]||""}return`
`+mw+e}var gw=!1;function yw(e,t){if(!e||gw)return"";gw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{gw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jd(e):""}function cU(e){switch(e.tag){case 5:return Jd(e.type);case 16:return Jd("Lazy");case 13:return Jd("Suspense");case 19:return Jd("SuspenseList");case 0:case 2:case 15:return e=yw(e.type,!1),e;case 11:return e=yw(e.type.render,!1),e;case 1:return e=yw(e.type,!0),e;default:return""}}function xb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wl:return"Fragment";case Hl:return"Portal";case wb:return"Profiler";case SE:return"StrictMode";case vb:return"Suspense";case bb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zD:return(e.displayName||"Context")+".Consumer";case FD:return(e._context.displayName||"Context")+".Provider";case AE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case NE:return t=e.displayName||null,t!==null?t:xb(e.type)||"Memo";case Yo:t=e._payload,e=e._init;try{return xb(e(t))}catch{}}return null}function lU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xb(t);case 8:return t===SE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uU(e){var t=HD(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jp(e){e._valueTracker||(e._valueTracker=uU(e))}function WD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=HD(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Eb(e,t){var n=t.checked;return St({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function VS(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_a(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qD(e,t){t=t.checked,t!=null&&CE(e,"checked",t,!1)}function Cb(e,t){qD(e,t);var n=_a(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sb(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sb(e,t.type,_a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HS(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sb(e,t,n){(t!=="number"||Vg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ef=Array.isArray;function hu(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_a(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ab(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return St({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WS(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Z(92));if(ef(n)){if(1<n.length)throw Error(Z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_a(n)}}function KD(e,t){var n=_a(t.value),r=_a(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function qS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var em,YD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(em=em||document.createElement("div"),em.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=em.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ff={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dU=["Webkit","ms","Moz","O"];Object.keys(ff).forEach(function(e){dU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ff[t]=ff[e]})});function QD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ff.hasOwnProperty(e)&&ff[e]?(""+t).trim():t+"px"}function XD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=QD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var fU=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ib(e,t){if(t){if(fU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function _b(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tb=null;function IE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pb=null,pu=null,mu=null;function KS(e){if(e=fp(e)){if(typeof Pb!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=sy(t),Pb(e.stateNode,e.type,t))}}function ZD(e){pu?mu?mu.push(e):mu=[e]:pu=e}function JD(){if(pu){var e=pu,t=mu;if(mu=pu=null,KS(e),t)for(e=0;e<t.length;e++)KS(t[e])}}function eO(e,t){return e(t)}function tO(){}var ww=!1;function nO(e,t,n){if(ww)return e(t,n);ww=!0;try{return eO(e,t,n)}finally{ww=!1,(pu!==null||mu!==null)&&(tO(),JD())}}function Kf(e,t){var n=e.stateNode;if(n===null)return null;var r=sy(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Z(231,t,typeof n));return n}var Db=!1;if(uo)try{var xd={};Object.defineProperty(xd,"passive",{get:function(){Db=!0}}),window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Db=!1}function hU(e,t,n,r,s,i,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var hf=!1,Hg=null,Wg=!1,Ob=null,pU={onError:function(e){hf=!0,Hg=e}};function mU(e,t,n,r,s,i,o,a,c){hf=!1,Hg=null,hU.apply(pU,arguments)}function gU(e,t,n,r,s,i,o,a,c){if(mU.apply(this,arguments),hf){if(hf){var l=Hg;hf=!1,Hg=null}else throw Error(Z(198));Wg||(Wg=!0,Ob=l)}}function Xc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function GS(e){if(Xc(e)!==e)throw Error(Z(188))}function yU(e){var t=e.alternate;if(!t){if(t=Xc(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return GS(s),e;if(i===r)return GS(s),t;i=i.sibling}throw Error(Z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?e:t}function sO(e){return e=yU(e),e!==null?iO(e):null}function iO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iO(e);if(t!==null)return t;e=e.sibling}return null}var oO=Wr.unstable_scheduleCallback,YS=Wr.unstable_cancelCallback,wU=Wr.unstable_shouldYield,vU=Wr.unstable_requestPaint,Dt=Wr.unstable_now,bU=Wr.unstable_getCurrentPriorityLevel,_E=Wr.unstable_ImmediatePriority,aO=Wr.unstable_UserBlockingPriority,qg=Wr.unstable_NormalPriority,xU=Wr.unstable_LowPriority,cO=Wr.unstable_IdlePriority,ey=null,bi=null;function EU(e){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(ey,e,void 0,(e.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:AU,CU=Math.log,SU=Math.LN2;function AU(e){return e>>>=0,e===0?32:31-(CU(e)/SU|0)|0}var tm=64,nm=4194304;function tf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=tf(a):(i&=o,i!==0&&(r=tf(i)))}else o=n&~s,o!==0?r=tf(o):i!==0&&(r=tf(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fs(t),s=1<<n,r|=e[n],t&=~s;return r}function NU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IU(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Fs(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=NU(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function kb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lO(){var e=tm;return tm<<=1,!(tm&4194240)&&(tm=64),e}function vw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function up(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fs(t),e[t]=n}function _U(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Fs(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function TE(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fs(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var et=0;function uO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dO,PE,fO,hO,pO,$b=!1,rm=[],pa=null,ma=null,ga=null,Gf=new Map,Yf=new Map,na=[],TU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QS(e,t){switch(e){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Gf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(t.pointerId)}}function Ed(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=fp(t),t!==null&&PE(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function PU(e,t,n,r,s){switch(t){case"focusin":return pa=Ed(pa,e,t,n,r,s),!0;case"dragenter":return ma=Ed(ma,e,t,n,r,s),!0;case"mouseover":return ga=Ed(ga,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Gf.set(i,Ed(Gf.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Yf.set(i,Ed(Yf.get(i)||null,e,t,n,r,s)),!0}return!1}function mO(e){var t=fc(e.target);if(t!==null){var n=Xc(t);if(n!==null){if(t=n.tag,t===13){if(t=rO(n),t!==null){e.blockedOn=t,pO(e.priority,function(){fO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ug(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tb=r,n.target.dispatchEvent(r),Tb=null}else return t=fp(n),t!==null&&PE(t),e.blockedOn=n,!1;t.shift()}return!0}function XS(e,t,n){ug(e)&&n.delete(t)}function DU(){$b=!1,pa!==null&&ug(pa)&&(pa=null),ma!==null&&ug(ma)&&(ma=null),ga!==null&&ug(ga)&&(ga=null),Gf.forEach(XS),Yf.forEach(XS)}function Cd(e,t){e.blockedOn===t&&(e.blockedOn=null,$b||($b=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,DU)))}function Qf(e){function t(s){return Cd(s,e)}if(0<rm.length){Cd(rm[0],e);for(var n=1;n<rm.length;n++){var r=rm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(pa!==null&&Cd(pa,e),ma!==null&&Cd(ma,e),ga!==null&&Cd(ga,e),Gf.forEach(t),Yf.forEach(t),n=0;n<na.length;n++)r=na[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<na.length&&(n=na[0],n.blockedOn===null);)mO(n),n.blockedOn===null&&na.shift()}var gu=Eo.ReactCurrentBatchConfig,Gg=!0;function OU(e,t,n,r){var s=et,i=gu.transition;gu.transition=null;try{et=1,DE(e,t,n,r)}finally{et=s,gu.transition=i}}function kU(e,t,n,r){var s=et,i=gu.transition;gu.transition=null;try{et=4,DE(e,t,n,r)}finally{et=s,gu.transition=i}}function DE(e,t,n,r){if(Gg){var s=Rb(e,t,n,r);if(s===null)Tw(e,t,r,Yg,n),QS(e,r);else if(PU(s,e,t,n,r))r.stopPropagation();else if(QS(e,r),t&4&&-1<TU.indexOf(e)){for(;s!==null;){var i=fp(s);if(i!==null&&dO(i),i=Rb(e,t,n,r),i===null&&Tw(e,t,r,Yg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Tw(e,t,r,null,n)}}var Yg=null;function Rb(e,t,n,r){if(Yg=null,e=IE(r),e=fc(e),e!==null)if(t=Xc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yg=e,null}function gO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bU()){case _E:return 1;case aO:return 4;case qg:case xU:return 16;case cO:return 536870912;default:return 16}default:return 16}}var oa=null,OE=null,dg=null;function yO(){if(dg)return dg;var e,t=OE,n=t.length,r,s="value"in oa?oa.value:oa.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return dg=s.slice(e,1<r?1-r:void 0)}function fg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sm(){return!0}function ZS(){return!1}function Yr(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sm:ZS,this.isPropagationStopped=ZS,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sm)},persist:function(){},isPersistent:sm}),t}var Qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kE=Yr(Qu),dp=St({},Qu,{view:0,detail:0}),$U=Yr(dp),bw,xw,Sd,ty=St({},dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$E,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sd&&(Sd&&e.type==="mousemove"?(bw=e.screenX-Sd.screenX,xw=e.screenY-Sd.screenY):xw=bw=0,Sd=e),bw)},movementY:function(e){return"movementY"in e?e.movementY:xw}}),JS=Yr(ty),RU=St({},ty,{dataTransfer:0}),jU=Yr(RU),MU=St({},dp,{relatedTarget:0}),Ew=Yr(MU),LU=St({},Qu,{animationName:0,elapsedTime:0,pseudoElement:0}),UU=Yr(LU),BU=St({},Qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FU=Yr(BU),zU=St({},Qu,{data:0}),eA=Yr(zU),VU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=WU[e])?!!t[e]:!1}function $E(){return qU}var KU=St({},dp,{key:function(e){if(e.key){var t=VU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$E,charCode:function(e){return e.type==="keypress"?fg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GU=Yr(KU),YU=St({},ty,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tA=Yr(YU),QU=St({},dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$E}),XU=Yr(QU),ZU=St({},Qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),JU=Yr(ZU),eB=St({},ty,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tB=Yr(eB),nB=[9,13,27,32],RE=uo&&"CompositionEvent"in window,pf=null;uo&&"documentMode"in document&&(pf=document.documentMode);var rB=uo&&"TextEvent"in window&&!pf,wO=uo&&(!RE||pf&&8<pf&&11>=pf),nA=" ",rA=!1;function vO(e,t){switch(e){case"keyup":return nB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ql=!1;function sB(e,t){switch(e){case"compositionend":return bO(t);case"keypress":return t.which!==32?null:(rA=!0,nA);case"textInput":return e=t.data,e===nA&&rA?null:e;default:return null}}function iB(e,t){if(ql)return e==="compositionend"||!RE&&vO(e,t)?(e=yO(),dg=OE=oa=null,ql=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wO&&t.locale!=="ko"?null:t.data;default:return null}}var oB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oB[e.type]:t==="textarea"}function xO(e,t,n,r){ZD(r),t=Qg(t,"onChange"),0<t.length&&(n=new kE("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mf=null,Xf=null;function aB(e){OO(e,0)}function ny(e){var t=Yl(e);if(WD(t))return e}function cB(e,t){if(e==="change")return t}var EO=!1;if(uo){var Cw;if(uo){var Sw="oninput"in document;if(!Sw){var iA=document.createElement("div");iA.setAttribute("oninput","return;"),Sw=typeof iA.oninput=="function"}Cw=Sw}else Cw=!1;EO=Cw&&(!document.documentMode||9<document.documentMode)}function oA(){mf&&(mf.detachEvent("onpropertychange",CO),Xf=mf=null)}function CO(e){if(e.propertyName==="value"&&ny(Xf)){var t=[];xO(t,Xf,e,IE(e)),nO(aB,t)}}function lB(e,t,n){e==="focusin"?(oA(),mf=t,Xf=n,mf.attachEvent("onpropertychange",CO)):e==="focusout"&&oA()}function uB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ny(Xf)}function dB(e,t){if(e==="click")return ny(t)}function fB(e,t){if(e==="input"||e==="change")return ny(t)}function hB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ws=typeof Object.is=="function"?Object.is:hB;function Zf(e,t){if(Ws(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yb.call(t,s)||!Ws(e[s],t[s]))return!1}return!0}function aA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cA(e,t){var n=aA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aA(n)}}function SO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function AO(){for(var e=window,t=Vg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vg(e.document)}return t}function jE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pB(e){var t=AO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SO(n.ownerDocument.documentElement,n)){if(r!==null&&jE(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=cA(n,i);var o=cA(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mB=uo&&"documentMode"in document&&11>=document.documentMode,Kl=null,jb=null,gf=null,Mb=!1;function lA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mb||Kl==null||Kl!==Vg(r)||(r=Kl,"selectionStart"in r&&jE(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gf&&Zf(gf,r)||(gf=r,r=Qg(jb,"onSelect"),0<r.length&&(t=new kE("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Kl)))}function im(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gl={animationend:im("Animation","AnimationEnd"),animationiteration:im("Animation","AnimationIteration"),animationstart:im("Animation","AnimationStart"),transitionend:im("Transition","TransitionEnd")},Aw={},NO={};uo&&(NO=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function ry(e){if(Aw[e])return Aw[e];if(!Gl[e])return e;var t=Gl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NO)return Aw[e]=t[n];return e}var IO=ry("animationend"),_O=ry("animationiteration"),TO=ry("animationstart"),PO=ry("transitionend"),DO=new Map,uA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(e,t){DO.set(e,t),Qc(t,[e])}for(var Nw=0;Nw<uA.length;Nw++){var Iw=uA[Nw],gB=Iw.toLowerCase(),yB=Iw[0].toUpperCase()+Iw.slice(1);La(gB,"on"+yB)}La(IO,"onAnimationEnd");La(_O,"onAnimationIteration");La(TO,"onAnimationStart");La("dblclick","onDoubleClick");La("focusin","onFocus");La("focusout","onBlur");La(PO,"onTransitionEnd");Iu("onMouseEnter",["mouseout","mouseover"]);Iu("onMouseLeave",["mouseout","mouseover"]);Iu("onPointerEnter",["pointerout","pointerover"]);Iu("onPointerLeave",["pointerout","pointerover"]);Qc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wB=new Set("cancel close invalid load scroll toggle".split(" ").concat(nf));function dA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gU(r,t,void 0,e),e.currentTarget=null}function OO(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;dA(s,a,l),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;dA(s,a,l),i=c}}}if(Wg)throw e=Ob,Wg=!1,Ob=null,e}function ht(e,t){var n=t[zb];n===void 0&&(n=t[zb]=new Set);var r=e+"__bubble";n.has(r)||(kO(t,e,2,!1),n.add(r))}function _w(e,t,n){var r=0;t&&(r|=4),kO(n,e,r,t)}var om="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[om]){e[om]=!0,BD.forEach(function(n){n!=="selectionchange"&&(wB.has(n)||_w(n,!1,e),_w(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[om]||(t[om]=!0,_w("selectionchange",!1,t))}}function kO(e,t,n,r){switch(gO(t)){case 1:var s=OU;break;case 4:s=kU;break;default:s=DE}n=s.bind(null,t,n,e),s=void 0,!Db||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Tw(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fc(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}nO(function(){var l=i,u=IE(n),d=[];e:{var f=DO.get(e);if(f!==void 0){var h=kE,m=e;switch(e){case"keypress":if(fg(n)===0)break e;case"keydown":case"keyup":h=GU;break;case"focusin":m="focus",h=Ew;break;case"focusout":m="blur",h=Ew;break;case"beforeblur":case"afterblur":h=Ew;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=JS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=jU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=XU;break;case IO:case _O:case TO:h=UU;break;case PO:h=JU;break;case"scroll":h=$U;break;case"wheel":h=tB;break;case"copy":case"cut":case"paste":h=FU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=tA}var g=(t&4)!==0,y=!g&&e==="scroll",w=g?f!==null?f+"Capture":null:f;g=[];for(var v=l,b;v!==null;){b=v;var x=b.stateNode;if(b.tag===5&&x!==null&&(b=x,w!==null&&(x=Kf(v,w),x!=null&&g.push(eh(v,x,b)))),y)break;v=v.return}0<g.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==Tb&&(m=n.relatedTarget||n.fromElement)&&(fc(m)||m[fo]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=l,m=m?fc(m):null,m!==null&&(y=Xc(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=l),h!==m)){if(g=JS,x="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=tA,x="onPointerLeave",w="onPointerEnter",v="pointer"),y=h==null?f:Yl(h),b=m==null?f:Yl(m),f=new g(x,v+"leave",h,n,u),f.target=y,f.relatedTarget=b,x=null,fc(u)===l&&(g=new g(w,v+"enter",m,n,u),g.target=b,g.relatedTarget=y,x=g),y=x,h&&m)t:{for(g=h,w=m,v=0,b=g;b;b=ml(b))v++;for(b=0,x=w;x;x=ml(x))b++;for(;0<v-b;)g=ml(g),v--;for(;0<b-v;)w=ml(w),b--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=ml(g),w=ml(w)}g=null}else g=null;h!==null&&fA(d,f,h,g,!1),m!==null&&y!==null&&fA(d,y,m,g,!0)}}e:{if(f=l?Yl(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=cB;else if(sA(f))if(EO)E=fB;else{E=uB;var S=lB}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=dB);if(E&&(E=E(e,l))){xO(d,E,n,u);break e}S&&S(e,f,l),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Sb(f,"number",f.value)}switch(S=l?Yl(l):window,e){case"focusin":(sA(S)||S.contentEditable==="true")&&(Kl=S,jb=l,gf=null);break;case"focusout":gf=jb=Kl=null;break;case"mousedown":Mb=!0;break;case"contextmenu":case"mouseup":case"dragend":Mb=!1,lA(d,n,u);break;case"selectionchange":if(mB)break;case"keydown":case"keyup":lA(d,n,u)}var A;if(RE)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ql?vO(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(wO&&n.locale!=="ko"&&(ql||C!=="onCompositionStart"?C==="onCompositionEnd"&&ql&&(A=yO()):(oa=u,OE="value"in oa?oa.value:oa.textContent,ql=!0)),S=Qg(l,C),0<S.length&&(C=new eA(C,e,null,n,u),d.push({event:C,listeners:S}),A?C.data=A:(A=bO(n),A!==null&&(C.data=A)))),(A=rB?sB(e,n):iB(e,n))&&(l=Qg(l,"onBeforeInput"),0<l.length&&(u=new eA("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=A))}OO(d,t)})}function eh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qg(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Kf(e,n),i!=null&&r.unshift(eh(e,i,s)),i=Kf(e,t),i!=null&&r.push(eh(e,i,s))),e=e.return}return r}function ml(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fA(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,s?(c=Kf(n,i),c!=null&&o.unshift(eh(n,c,a))):s||(c=Kf(n,i),c!=null&&o.push(eh(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vB=/\r\n?/g,bB=/\u0000|\uFFFD/g;function hA(e){return(typeof e=="string"?e:""+e).replace(vB,`
`).replace(bB,"")}function am(e,t,n){if(t=hA(t),hA(e)!==t&&n)throw Error(Z(425))}function Xg(){}var Lb=null,Ub=null;function Bb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fb=typeof setTimeout=="function"?setTimeout:void 0,xB=typeof clearTimeout=="function"?clearTimeout:void 0,pA=typeof Promise=="function"?Promise:void 0,EB=typeof queueMicrotask=="function"?queueMicrotask:typeof pA<"u"?function(e){return pA.resolve(null).then(e).catch(CB)}:Fb;function CB(e){setTimeout(function(){throw e})}function Pw(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Qf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qf(t)}function ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xu=Math.random().toString(36).slice(2),mi="__reactFiber$"+Xu,th="__reactProps$"+Xu,fo="__reactContainer$"+Xu,zb="__reactEvents$"+Xu,SB="__reactListeners$"+Xu,AB="__reactHandles$"+Xu;function fc(e){var t=e[mi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fo]||n[mi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mA(e);e!==null;){if(n=e[mi])return n;e=mA(e)}return t}e=n,n=e.parentNode}return null}function fp(e){return e=e[mi]||e[fo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function sy(e){return e[th]||null}var Vb=[],Ql=-1;function Ua(e){return{current:e}}function mt(e){0>Ql||(e.current=Vb[Ql],Vb[Ql]=null,Ql--)}function ut(e,t){Ql++,Vb[Ql]=e.current,e.current=t}var Ta={},Un=Ua(Ta),br=Ua(!1),Rc=Ta;function _u(e,t){var n=e.type.contextTypes;if(!n)return Ta;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xr(e){return e=e.childContextTypes,e!=null}function Zg(){mt(br),mt(Un)}function gA(e,t,n){if(Un.current!==Ta)throw Error(Z(168));ut(Un,t),ut(br,n)}function $O(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Z(108,lU(e)||"Unknown",s));return St({},n,r)}function Jg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,Rc=Un.current,ut(Un,e),ut(br,br.current),!0}function yA(e,t,n){var r=e.stateNode;if(!r)throw Error(Z(169));n?(e=$O(e,t,Rc),r.__reactInternalMemoizedMergedChildContext=e,mt(br),mt(Un),ut(Un,e)):mt(br),ut(br,n)}var to=null,iy=!1,Dw=!1;function RO(e){to===null?to=[e]:to.push(e)}function NB(e){iy=!0,RO(e)}function Ba(){if(!Dw&&to!==null){Dw=!0;var e=0,t=et;try{var n=to;for(et=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}to=null,iy=!1}catch(s){throw to!==null&&(to=to.slice(e+1)),oO(_E,Ba),s}finally{et=t,Dw=!1}}return null}var Xl=[],Zl=0,e0=null,t0=0,fs=[],hs=0,jc=null,ro=1,so="";function rc(e,t){Xl[Zl++]=t0,Xl[Zl++]=e0,e0=e,t0=t}function jO(e,t,n){fs[hs++]=ro,fs[hs++]=so,fs[hs++]=jc,jc=e;var r=ro;e=so;var s=32-Fs(r)-1;r&=~(1<<s),n+=1;var i=32-Fs(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ro=1<<32-Fs(t)+s|n<<s|r,so=i+e}else ro=1<<i|n<<s|r,so=e}function ME(e){e.return!==null&&(rc(e,1),jO(e,1,0))}function LE(e){for(;e===e0;)e0=Xl[--Zl],Xl[Zl]=null,t0=Xl[--Zl],Xl[Zl]=null;for(;e===jc;)jc=fs[--hs],fs[hs]=null,so=fs[--hs],fs[hs]=null,ro=fs[--hs],fs[hs]=null}var Vr=null,Fr=null,vt=!1,Ls=null;function MO(e,t){var n=ps(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vr=e,Fr=ya(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vr=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jc!==null?{id:ro,overflow:so}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ps(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vr=e,Fr=null,!0):!1;default:return!1}}function Hb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wb(e){if(vt){var t=Fr;if(t){var n=t;if(!wA(e,t)){if(Hb(e))throw Error(Z(418));t=ya(n.nextSibling);var r=Vr;t&&wA(e,t)?MO(r,n):(e.flags=e.flags&-4097|2,vt=!1,Vr=e)}}else{if(Hb(e))throw Error(Z(418));e.flags=e.flags&-4097|2,vt=!1,Vr=e}}}function vA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vr=e}function cm(e){if(e!==Vr)return!1;if(!vt)return vA(e),vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bb(e.type,e.memoizedProps)),t&&(t=Fr)){if(Hb(e))throw LO(),Error(Z(418));for(;t;)MO(e,t),t=ya(t.nextSibling)}if(vA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fr=ya(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Vr?ya(e.stateNode.nextSibling):null;return!0}function LO(){for(var e=Fr;e;)e=ya(e.nextSibling)}function Tu(){Fr=Vr=null,vt=!1}function UE(e){Ls===null?Ls=[e]:Ls.push(e)}var IB=Eo.ReactCurrentBatchConfig;function Ad(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,e))}return e}function lm(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bA(e){var t=e._init;return t(e._payload)}function UO(e){function t(w,v){if(e){var b=w.deletions;b===null?(w.deletions=[v],w.flags|=16):b.push(v)}}function n(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=xa(w,v),w.index=0,w.sibling=null,w}function i(w,v,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<v?(w.flags|=2,v):b):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,v,b,x){return v===null||v.tag!==6?(v=Lw(b,w.mode,x),v.return=w,v):(v=s(v,b),v.return=w,v)}function c(w,v,b,x){var E=b.type;return E===Wl?u(w,v,b.props.children,x,b.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yo&&bA(E)===v.type)?(x=s(v,b.props),x.ref=Ad(w,v,b),x.return=w,x):(x=vg(b.type,b.key,b.props,null,w.mode,x),x.ref=Ad(w,v,b),x.return=w,x)}function l(w,v,b,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Uw(b,w.mode,x),v.return=w,v):(v=s(v,b.children||[]),v.return=w,v)}function u(w,v,b,x,E){return v===null||v.tag!==7?(v=Nc(b,w.mode,x,E),v.return=w,v):(v=s(v,b),v.return=w,v)}function d(w,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Lw(""+v,w.mode,b),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zp:return b=vg(v.type,v.key,v.props,null,w.mode,b),b.ref=Ad(w,null,v),b.return=w,b;case Hl:return v=Uw(v,w.mode,b),v.return=w,v;case Yo:var x=v._init;return d(w,x(v._payload),b)}if(ef(v)||bd(v))return v=Nc(v,w.mode,b,null),v.return=w,v;lm(w,v)}return null}function f(w,v,b,x){var E=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(w,v,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zp:return b.key===E?c(w,v,b,x):null;case Hl:return b.key===E?l(w,v,b,x):null;case Yo:return E=b._init,f(w,v,E(b._payload),x)}if(ef(b)||bd(b))return E!==null?null:u(w,v,b,x,null);lm(w,b)}return null}function h(w,v,b,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(b)||null,a(v,w,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zp:return w=w.get(x.key===null?b:x.key)||null,c(v,w,x,E);case Hl:return w=w.get(x.key===null?b:x.key)||null,l(v,w,x,E);case Yo:var S=x._init;return h(w,v,b,S(x._payload),E)}if(ef(x)||bd(x))return w=w.get(b)||null,u(v,w,x,E,null);lm(v,x)}return null}function m(w,v,b,x){for(var E=null,S=null,A=v,C=v=0,N=null;A!==null&&C<b.length;C++){A.index>C?(N=A,A=null):N=A.sibling;var j=f(w,A,b[C],x);if(j===null){A===null&&(A=N);break}e&&A&&j.alternate===null&&t(w,A),v=i(j,v,C),S===null?E=j:S.sibling=j,S=j,A=N}if(C===b.length)return n(w,A),vt&&rc(w,C),E;if(A===null){for(;C<b.length;C++)A=d(w,b[C],x),A!==null&&(v=i(A,v,C),S===null?E=A:S.sibling=A,S=A);return vt&&rc(w,C),E}for(A=r(w,A);C<b.length;C++)N=h(A,w,C,b[C],x),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?C:N.key),v=i(N,v,C),S===null?E=N:S.sibling=N,S=N);return e&&A.forEach(function(M){return t(w,M)}),vt&&rc(w,C),E}function g(w,v,b,x){var E=bd(b);if(typeof E!="function")throw Error(Z(150));if(b=E.call(b),b==null)throw Error(Z(151));for(var S=E=null,A=v,C=v=0,N=null,j=b.next();A!==null&&!j.done;C++,j=b.next()){A.index>C?(N=A,A=null):N=A.sibling;var M=f(w,A,j.value,x);if(M===null){A===null&&(A=N);break}e&&A&&M.alternate===null&&t(w,A),v=i(M,v,C),S===null?E=M:S.sibling=M,S=M,A=N}if(j.done)return n(w,A),vt&&rc(w,C),E;if(A===null){for(;!j.done;C++,j=b.next())j=d(w,j.value,x),j!==null&&(v=i(j,v,C),S===null?E=j:S.sibling=j,S=j);return vt&&rc(w,C),E}for(A=r(w,A);!j.done;C++,j=b.next())j=h(A,w,C,j.value,x),j!==null&&(e&&j.alternate!==null&&A.delete(j.key===null?C:j.key),v=i(j,v,C),S===null?E=j:S.sibling=j,S=j);return e&&A.forEach(function(L){return t(w,L)}),vt&&rc(w,C),E}function y(w,v,b,x){if(typeof b=="object"&&b!==null&&b.type===Wl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zp:e:{for(var E=b.key,S=v;S!==null;){if(S.key===E){if(E=b.type,E===Wl){if(S.tag===7){n(w,S.sibling),v=s(S,b.props.children),v.return=w,w=v;break e}}else if(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yo&&bA(E)===S.type){n(w,S.sibling),v=s(S,b.props),v.ref=Ad(w,S,b),v.return=w,w=v;break e}n(w,S);break}else t(w,S);S=S.sibling}b.type===Wl?(v=Nc(b.props.children,w.mode,x,b.key),v.return=w,w=v):(x=vg(b.type,b.key,b.props,null,w.mode,x),x.ref=Ad(w,v,b),x.return=w,w=x)}return o(w);case Hl:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(w,v.sibling),v=s(v,b.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else t(w,v);v=v.sibling}v=Uw(b,w.mode,x),v.return=w,w=v}return o(w);case Yo:return S=b._init,y(w,v,S(b._payload),x)}if(ef(b))return m(w,v,b,x);if(bd(b))return g(w,v,b,x);lm(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,b),v.return=w,w=v):(n(w,v),v=Lw(b,w.mode,x),v.return=w,w=v),o(w)):n(w,v)}return y}var Pu=UO(!0),BO=UO(!1),n0=Ua(null),r0=null,Jl=null,BE=null;function FE(){BE=Jl=r0=null}function zE(e){var t=n0.current;mt(n0),e._currentValue=t}function qb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yu(e,t){r0=e,BE=Jl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yr=!0),e.firstContext=null)}function vs(e){var t=e._currentValue;if(BE!==e)if(e={context:e,memoizedValue:t,next:null},Jl===null){if(r0===null)throw Error(Z(308));Jl=e,r0.dependencies={lanes:0,firstContext:e}}else Jl=Jl.next=e;return t}var hc=null;function VE(e){hc===null?hc=[e]:hc.push(e)}function FO(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,VE(t)):(n.next=s.next,s.next=n),t.interleaved=n,ho(e,r)}function ho(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qo=!1;function HE(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ho(e,n)}return s=r.interleaved,s===null?(t.next=t,VE(r)):(t.next=s.next,s.next=t),r.interleaved=t,ho(e,n)}function hg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TE(e,n)}}function xA(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function s0(e,t,n,r){var s=e.updateQueue;Qo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?i=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,u=l=c=null,a=i;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,g=a;switch(f=t,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=St({},d,f);break e;case 2:Qo=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=h,c=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(c=d),s.baseState=c,s.firstBaseUpdate=l,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Lc|=o,e.lanes=o,e.memoizedState=d}}function EA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Z(191,s));s.call(r)}}}var hp={},xi=Ua(hp),nh=Ua(hp),rh=Ua(hp);function pc(e){if(e===hp)throw Error(Z(174));return e}function WE(e,t){switch(ut(rh,t),ut(nh,e),ut(xi,hp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nb(t,e)}mt(xi),ut(xi,t)}function Du(){mt(xi),mt(nh),mt(rh)}function VO(e){pc(rh.current);var t=pc(xi.current),n=Nb(t,e.type);t!==n&&(ut(nh,e),ut(xi,n))}function qE(e){nh.current===e&&(mt(xi),mt(nh))}var xt=Ua(0);function i0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ow=[];function KE(){for(var e=0;e<Ow.length;e++)Ow[e]._workInProgressVersionPrimary=null;Ow.length=0}var pg=Eo.ReactCurrentDispatcher,kw=Eo.ReactCurrentBatchConfig,Mc=0,Ct=null,Gt=null,rn=null,o0=!1,yf=!1,sh=0,_B=0;function _n(){throw Error(Z(321))}function GE(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ws(e[n],t[n]))return!1;return!0}function YE(e,t,n,r,s,i){if(Mc=i,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pg.current=e===null||e.memoizedState===null?OB:kB,e=n(r,s),yf){i=0;do{if(yf=!1,sh=0,25<=i)throw Error(Z(301));i+=1,rn=Gt=null,t.updateQueue=null,pg.current=$B,e=n(r,s)}while(yf)}if(pg.current=a0,t=Gt!==null&&Gt.next!==null,Mc=0,rn=Gt=Ct=null,o0=!1,t)throw Error(Z(300));return e}function QE(){var e=sh!==0;return sh=0,e}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Ct.memoizedState=rn=e:rn=rn.next=e,rn}function bs(){if(Gt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var t=rn===null?Ct.memoizedState:rn.next;if(t!==null)rn=t,Gt=e;else{if(e===null)throw Error(Z(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},rn===null?Ct.memoizedState=rn=e:rn=rn.next=e}return rn}function ih(e,t){return typeof t=="function"?t(e):t}function $w(e){var t=bs(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=Gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,l=i;do{var u=l.lane;if((Mc&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Ct.lanes|=u,Lc|=u}l=l.next}while(l!==null&&l!==i);c===null?o=r:c.next=a,Ws(r,t.memoizedState)||(yr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Ct.lanes|=i,Lc|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rw(e){var t=bs(),n=t.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ws(i,t.memoizedState)||(yr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function HO(){}function WO(e,t){var n=Ct,r=bs(),s=t(),i=!Ws(r.memoizedState,s);if(i&&(r.memoizedState=s,yr=!0),r=r.queue,XE(GO.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,oh(9,KO.bind(null,n,r,s,t),void 0,null),ln===null)throw Error(Z(349));Mc&30||qO(n,t,s)}return s}function qO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KO(e,t,n,r){t.value=n,t.getSnapshot=r,YO(t)&&QO(e)}function GO(e,t,n){return n(function(){YO(t)&&QO(e)})}function YO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ws(e,n)}catch{return!0}}function QO(e){var t=ho(e,1);t!==null&&zs(t,e,1,-1)}function CA(e){var t=li();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:e},t.queue=e,e=e.dispatch=DB.bind(null,Ct,e),[t.memoizedState,e]}function oh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function XO(){return bs().memoizedState}function mg(e,t,n,r){var s=li();Ct.flags|=e,s.memoizedState=oh(1|t,n,void 0,r===void 0?null:r)}function oy(e,t,n,r){var s=bs();r=r===void 0?null:r;var i=void 0;if(Gt!==null){var o=Gt.memoizedState;if(i=o.destroy,r!==null&&GE(r,o.deps)){s.memoizedState=oh(t,n,i,r);return}}Ct.flags|=e,s.memoizedState=oh(1|t,n,i,r)}function SA(e,t){return mg(8390656,8,e,t)}function XE(e,t){return oy(2048,8,e,t)}function ZO(e,t){return oy(4,2,e,t)}function JO(e,t){return oy(4,4,e,t)}function ek(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tk(e,t,n){return n=n!=null?n.concat([e]):null,oy(4,4,ek.bind(null,t,e),n)}function ZE(){}function nk(e,t){var n=bs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&GE(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rk(e,t){var n=bs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&GE(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sk(e,t,n){return Mc&21?(Ws(n,t)||(n=lO(),Ct.lanes|=n,Lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yr=!0),e.memoizedState=n)}function TB(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var r=kw.transition;kw.transition={};try{e(!1),t()}finally{et=n,kw.transition=r}}function ik(){return bs().memoizedState}function PB(e,t,n){var r=ba(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ok(e))ak(t,n);else if(n=FO(e,t,n,r),n!==null){var s=qn();zs(n,e,r,s),ck(n,t,r)}}function DB(e,t,n){var r=ba(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ok(e))ak(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ws(a,o)){var c=t.interleaved;c===null?(s.next=s,VE(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=FO(e,t,s,r),n!==null&&(s=qn(),zs(n,e,r,s),ck(n,t,r))}}function ok(e){var t=e.alternate;return e===Ct||t!==null&&t===Ct}function ak(e,t){yf=o0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ck(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,TE(e,n)}}var a0={readContext:vs,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},OB={readContext:vs,useCallback:function(e,t){return li().memoizedState=[e,t===void 0?null:t],e},useContext:vs,useEffect:SA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,mg(4194308,4,ek.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mg(4194308,4,e,t)},useInsertionEffect:function(e,t){return mg(4,2,e,t)},useMemo:function(e,t){var n=li();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=li();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PB.bind(null,Ct,e),[r.memoizedState,e]},useRef:function(e){var t=li();return e={current:e},t.memoizedState=e},useState:CA,useDebugValue:ZE,useDeferredValue:function(e){return li().memoizedState=e},useTransition:function(){var e=CA(!1),t=e[0];return e=TB.bind(null,e[1]),li().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ct,s=li();if(vt){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=t(),ln===null)throw Error(Z(349));Mc&30||qO(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,SA(GO.bind(null,r,i,e),[e]),r.flags|=2048,oh(9,KO.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=li(),t=ln.identifierPrefix;if(vt){var n=so,r=ro;n=(r&~(1<<32-Fs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_B++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kB={readContext:vs,useCallback:nk,useContext:vs,useEffect:XE,useImperativeHandle:tk,useInsertionEffect:ZO,useLayoutEffect:JO,useMemo:rk,useReducer:$w,useRef:XO,useState:function(){return $w(ih)},useDebugValue:ZE,useDeferredValue:function(e){var t=bs();return sk(t,Gt.memoizedState,e)},useTransition:function(){var e=$w(ih)[0],t=bs().memoizedState;return[e,t]},useMutableSource:HO,useSyncExternalStore:WO,useId:ik,unstable_isNewReconciler:!1},$B={readContext:vs,useCallback:nk,useContext:vs,useEffect:XE,useImperativeHandle:tk,useInsertionEffect:ZO,useLayoutEffect:JO,useMemo:rk,useReducer:Rw,useRef:XO,useState:function(){return Rw(ih)},useDebugValue:ZE,useDeferredValue:function(e){var t=bs();return Gt===null?t.memoizedState=e:sk(t,Gt.memoizedState,e)},useTransition:function(){var e=Rw(ih)[0],t=bs().memoizedState;return[e,t]},useMutableSource:HO,useSyncExternalStore:WO,useId:ik,unstable_isNewReconciler:!1};function Rs(e,t){if(e&&e.defaultProps){t=St({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Kb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:St({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ay={isMounted:function(e){return(e=e._reactInternals)?Xc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=qn(),s=ba(e),i=oo(r,s);i.payload=t,n!=null&&(i.callback=n),t=wa(e,i,s),t!==null&&(zs(t,e,s,r),hg(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=qn(),s=ba(e),i=oo(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=wa(e,i,s),t!==null&&(zs(t,e,s,r),hg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qn(),r=ba(e),s=oo(n,r);s.tag=2,t!=null&&(s.callback=t),t=wa(e,s,r),t!==null&&(zs(t,e,r,n),hg(t,e,r))}};function AA(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Zf(n,r)||!Zf(s,i):!0}function lk(e,t,n){var r=!1,s=Ta,i=t.contextType;return typeof i=="object"&&i!==null?i=vs(i):(s=xr(t)?Rc:Un.current,r=t.contextTypes,i=(r=r!=null)?_u(e,s):Ta),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ay,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function NA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ay.enqueueReplaceState(t,t.state,null)}function Gb(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},HE(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=vs(i):(i=xr(t)?Rc:Un.current,s.context=_u(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Kb(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ay.enqueueReplaceState(s,s.state,null),s0(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ou(e,t){try{var n="",r=t;do n+=cU(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function jw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RB=typeof WeakMap=="function"?WeakMap:Map;function uk(e,t,n){n=oo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){l0||(l0=!0,i1=r),Yb(e,t)},n}function dk(e,t,n){n=oo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Yb(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Yb(e,t),typeof r!="function"&&(va===null?va=new Set([this]):va.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function IA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RB;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=YB.bind(null,e,t,n),t.then(e,e))}function _A(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TA(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oo(-1,1),t.tag=2,wa(n,t,1))),n.lanes|=1),e)}var jB=Eo.ReactCurrentOwner,yr=!1;function zn(e,t,n,r){t.child=e===null?BO(t,null,n,r):Pu(t,e.child,n,r)}function PA(e,t,n,r,s){n=n.render;var i=t.ref;return yu(t,s),r=YE(e,t,n,r,i,s),n=QE(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,po(e,t,s)):(vt&&n&&ME(t),t.flags|=1,zn(e,t,r,s),t.child)}function DA(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!oC(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,fk(e,t,i,r,s)):(e=vg(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zf,n(o,r)&&e.ref===t.ref)return po(e,t,s)}return t.flags|=1,e=xa(i,r),e.ref=t.ref,e.return=t,t.child=e}function fk(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Zf(i,r)&&e.ref===t.ref)if(yr=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(yr=!0);else return t.lanes=e.lanes,po(e,t,s)}return Qb(e,t,n,r,s)}function hk(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(tu,$r),$r|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ut(tu,$r),$r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ut(tu,$r),$r|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ut(tu,$r),$r|=r;return zn(e,t,s,n),t.child}function pk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Qb(e,t,n,r,s){var i=xr(n)?Rc:Un.current;return i=_u(t,i),yu(t,s),n=YE(e,t,n,r,i,s),r=QE(),e!==null&&!yr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,po(e,t,s)):(vt&&r&&ME(t),t.flags|=1,zn(e,t,n,s),t.child)}function OA(e,t,n,r,s){if(xr(n)){var i=!0;Jg(t)}else i=!1;if(yu(t,s),t.stateNode===null)gg(e,t),lk(t,n,r),Gb(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=vs(l):(l=xr(n)?Rc:Un.current,l=_u(t,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&NA(t,o,r,l),Qo=!1;var f=t.memoizedState;o.state=f,s0(t,r,o,s),c=t.memoizedState,a!==r||f!==c||br.current||Qo?(typeof u=="function"&&(Kb(t,n,u,r),c=t.memoizedState),(a=Qo||AA(t,n,a,r,f,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zO(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:Rs(t.type,a),o.props=l,d=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=vs(c):(c=xr(n)?Rc:Un.current,c=_u(t,c));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==c)&&NA(t,o,r,c),Qo=!1,f=t.memoizedState,o.state=f,s0(t,r,o,s);var m=t.memoizedState;a!==d||f!==m||br.current||Qo?(typeof h=="function"&&(Kb(t,n,h,r),m=t.memoizedState),(l=Qo||AA(t,n,l,r,f,m,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Xb(e,t,n,r,i,s)}function Xb(e,t,n,r,s,i){pk(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&yA(t,n,!1),po(e,t,i);r=t.stateNode,jB.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Pu(t,e.child,null,i),t.child=Pu(t,null,a,i)):zn(e,t,a,i),t.memoizedState=r.state,s&&yA(t,n,!0),t.child}function mk(e){var t=e.stateNode;t.pendingContext?gA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gA(e,t.context,!1),WE(e,t.containerInfo)}function kA(e,t,n,r,s){return Tu(),UE(s),t.flags|=256,zn(e,t,n,r),t.child}var Zb={dehydrated:null,treeContext:null,retryLane:0};function Jb(e){return{baseLanes:e,cachePool:null,transitions:null}}function gk(e,t,n){var r=t.pendingProps,s=xt.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ut(xt,s&1),e===null)return Wb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uy(o,r,0,null),e=Nc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Jb(n),t.memoizedState=Zb,e):JE(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return MB(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=xa(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=xa(a,i):(i=Nc(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Jb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Zb,r}return i=e.child,e=i.sibling,r=xa(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function JE(e,t){return t=uy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function um(e,t,n,r){return r!==null&&UE(r),Pu(t,e.child,null,n),e=JE(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MB(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=jw(Error(Z(422))),um(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=uy({mode:"visible",children:r.children},s,0,null),i=Nc(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pu(t,e.child,null,o),t.child.memoizedState=Jb(o),t.memoizedState=Zb,i);if(!(t.mode&1))return um(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Z(419)),r=jw(i,r,void 0),um(e,t,o,r)}if(a=(o&e.childLanes)!==0,yr||a){if(r=ln,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ho(e,s),zs(r,e,s,-1))}return iC(),r=jw(Error(Z(421))),um(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=QB.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Fr=ya(s.nextSibling),Vr=t,vt=!0,Ls=null,e!==null&&(fs[hs++]=ro,fs[hs++]=so,fs[hs++]=jc,ro=e.id,so=e.overflow,jc=t),t=JE(t,r.children),t.flags|=4096,t)}function $A(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qb(e.return,t,n)}function Mw(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function yk(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(zn(e,t,r.children,n),r=xt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$A(e,n,t);else if(e.tag===19)$A(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ut(xt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&i0(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Mw(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&i0(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Mw(t,!0,n,null,i);break;case"together":Mw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function po(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,n=xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LB(e,t,n){switch(t.tag){case 3:mk(t),Tu();break;case 5:VO(t);break;case 1:xr(t.type)&&Jg(t);break;case 4:WE(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ut(n0,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ut(xt,xt.current&1),t.flags|=128,null):n&t.child.childLanes?gk(e,t,n):(ut(xt,xt.current&1),e=po(e,t,n),e!==null?e.sibling:null);ut(xt,xt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yk(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ut(xt,xt.current),r)break;return null;case 22:case 23:return t.lanes=0,hk(e,t,n)}return po(e,t,n)}var wk,e1,vk,bk;wk=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};e1=function(){};vk=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,pc(xi.current);var i=null;switch(n){case"input":s=Eb(e,s),r=Eb(e,r),i=[];break;case"select":s=St({},s,{value:void 0}),r=St({},r,{value:void 0}),i=[];break;case"textarea":s=Ab(e,s),r=Ab(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xg)}Ib(n,r);var o;n=null;for(l in s)if(!r.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Wf.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=s!=null?s[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Wf.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&ht("scroll",e),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(t.updateQueue=l)&&(t.flags|=4)}};bk=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nd(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function UB(e,t,n){var r=t.pendingProps;switch(LE(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return xr(t.type)&&Zg(),Tn(t),null;case 3:return r=t.stateNode,Du(),mt(br),mt(Un),KE(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ls!==null&&(c1(Ls),Ls=null))),e1(e,t),Tn(t),null;case 5:qE(t);var s=pc(rh.current);if(n=t.type,e!==null&&t.stateNode!=null)vk(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Z(166));return Tn(t),null}if(e=pc(xi.current),cm(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[mi]=t,r[th]=i,e=(t.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(s=0;s<nf.length;s++)ht(nf[s],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":VS(r,i),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ht("invalid",r);break;case"textarea":WS(r,i),ht("invalid",r)}Ib(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&am(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&am(r.textContent,a,e),s=["children",""+a]):Wf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ht("scroll",r)}switch(n){case"input":Jp(r),HS(r,i,!0);break;case"textarea":Jp(r),qS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xg)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[mi]=t,e[th]=r,wk(e,t,!1,!1),t.stateNode=e;e:{switch(o=_b(n,r),n){case"dialog":ht("cancel",e),ht("close",e),s=r;break;case"iframe":case"object":case"embed":ht("load",e),s=r;break;case"video":case"audio":for(s=0;s<nf.length;s++)ht(nf[s],e);s=r;break;case"source":ht("error",e),s=r;break;case"img":case"image":case"link":ht("error",e),ht("load",e),s=r;break;case"details":ht("toggle",e),s=r;break;case"input":VS(e,r),s=Eb(e,r),ht("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=St({},r,{value:void 0}),ht("invalid",e);break;case"textarea":WS(e,r),s=Ab(e,r),ht("invalid",e);break;default:s=r}Ib(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?XD(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YD(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qf(e,c):typeof c=="number"&&qf(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wf.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ht("scroll",e):c!=null&&CE(e,i,c,o))}switch(n){case"input":Jp(e),HS(e,r,!1);break;case"textarea":Jp(e),qS(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_a(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?hu(e,!!r.multiple,i,!1):r.defaultValue!=null&&hu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)bk(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Z(166));if(n=pc(rh.current),pc(xi.current),cm(t)){if(r=t.stateNode,n=t.memoizedProps,r[mi]=t,(i=r.nodeValue!==n)&&(e=Vr,e!==null))switch(e.tag){case 3:am(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&am(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mi]=t,t.stateNode=r}return Tn(t),null;case 13:if(mt(xt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vt&&Fr!==null&&t.mode&1&&!(t.flags&128))LO(),Tu(),t.flags|=98560,i=!1;else if(i=cm(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[mi]=t}else Tu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),i=!1}else Ls!==null&&(c1(Ls),Ls=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?Xt===0&&(Xt=3):iC())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return Du(),e1(e,t),e===null&&Jf(t.stateNode.containerInfo),Tn(t),null;case 10:return zE(t.type._context),Tn(t),null;case 17:return xr(t.type)&&Zg(),Tn(t),null;case 19:if(mt(xt),i=t.memoizedState,i===null)return Tn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Nd(i,!1);else{if(Xt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=i0(e),o!==null){for(t.flags|=128,Nd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ut(xt,xt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Dt()>ku&&(t.flags|=128,r=!0,Nd(i,!1),t.lanes=4194304)}else{if(!r)if(e=i0(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vt)return Tn(t),null}else 2*Dt()-i.renderingStartTime>ku&&n!==1073741824&&(t.flags|=128,r=!0,Nd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dt(),t.sibling=null,n=xt.current,ut(xt,r?n&1|2:n&1),t):(Tn(t),null);case 22:case 23:return sC(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$r&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function BB(e,t){switch(LE(t),t.tag){case 1:return xr(t.type)&&Zg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Du(),mt(br),mt(Un),KE(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qE(t),null;case 13:if(mt(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Tu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return mt(xt),null;case 4:return Du(),null;case 10:return zE(t.type._context),null;case 22:case 23:return sC(),null;case 24:return null;default:return null}}var dm=!1,Mn=!1,FB=typeof WeakSet=="function"?WeakSet:Set,ce=null;function eu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(e,t,r)}else n.current=null}function t1(e,t,n){try{n()}catch(r){Nt(e,t,r)}}var RA=!1;function zB(e,t){if(Lb=Gg,e=AO(),jE(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=e,f=null;t:for(;;){for(var h;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++l===s&&(a=o),f===i&&++u===r&&(c=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ub={focusedElem:e,selectionRange:n},Gg=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:Rs(t.type,g),y);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(x){Nt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return m=RA,RA=!1,m}function wf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&t1(t,n,i)}s=s.next}while(s!==r)}}function cy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function n1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xk(e){var t=e.alternate;t!==null&&(e.alternate=null,xk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mi],delete t[th],delete t[zb],delete t[SB],delete t[AB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ek(e){return e.tag===5||e.tag===3||e.tag===4}function jA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ek(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function r1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xg));else if(r!==4&&(e=e.child,e!==null))for(r1(e,t,n),e=e.sibling;e!==null;)r1(e,t,n),e=e.sibling}function s1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(s1(e,t,n),e=e.sibling;e!==null;)s1(e,t,n),e=e.sibling}var gn=null,Ms=!1;function _o(e,t,n){for(n=n.child;n!==null;)Ck(e,t,n),n=n.sibling}function Ck(e,t,n){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(ey,n)}catch{}switch(n.tag){case 5:Mn||eu(n,t);case 6:var r=gn,s=Ms;gn=null,_o(e,t,n),gn=r,Ms=s,gn!==null&&(Ms?(e=gn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gn.removeChild(n.stateNode));break;case 18:gn!==null&&(Ms?(e=gn,n=n.stateNode,e.nodeType===8?Pw(e.parentNode,n):e.nodeType===1&&Pw(e,n),Qf(e)):Pw(gn,n.stateNode));break;case 4:r=gn,s=Ms,gn=n.stateNode.containerInfo,Ms=!0,_o(e,t,n),gn=r,Ms=s;break;case 0:case 11:case 14:case 15:if(!Mn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&t1(n,t,o),s=s.next}while(s!==r)}_o(e,t,n);break;case 1:if(!Mn&&(eu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Nt(n,t,a)}_o(e,t,n);break;case 21:_o(e,t,n);break;case 22:n.mode&1?(Mn=(r=Mn)||n.memoizedState!==null,_o(e,t,n),Mn=r):_o(e,t,n);break;default:_o(e,t,n)}}function MA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new FB),t.forEach(function(r){var s=XB.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ns(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:gn=a.stateNode,Ms=!1;break e;case 3:gn=a.stateNode.containerInfo,Ms=!0;break e;case 4:gn=a.stateNode.containerInfo,Ms=!0;break e}a=a.return}if(gn===null)throw Error(Z(160));Ck(i,o,s),gn=null,Ms=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(l){Nt(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sk(t,e),t=t.sibling}function Sk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ns(t,e),ei(e),r&4){try{wf(3,e,e.return),cy(3,e)}catch(g){Nt(e,e.return,g)}try{wf(5,e,e.return)}catch(g){Nt(e,e.return,g)}}break;case 1:Ns(t,e),ei(e),r&512&&n!==null&&eu(n,n.return);break;case 5:if(Ns(t,e),ei(e),r&512&&n!==null&&eu(n,n.return),e.flags&32){var s=e.stateNode;try{qf(s,"")}catch(g){Nt(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&qD(s,i),_b(a,o);var l=_b(a,i);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?XD(s,d):u==="dangerouslySetInnerHTML"?YD(s,d):u==="children"?qf(s,d):CE(s,u,d,l)}switch(a){case"input":Cb(s,i);break;case"textarea":KD(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?hu(s,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?hu(s,!!i.multiple,i.defaultValue,!0):hu(s,!!i.multiple,i.multiple?[]:"",!1))}s[th]=i}catch(g){Nt(e,e.return,g)}}break;case 6:if(Ns(t,e),ei(e),r&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Nt(e,e.return,g)}}break;case 3:if(Ns(t,e),ei(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qf(t.containerInfo)}catch(g){Nt(e,e.return,g)}break;case 4:Ns(t,e),ei(e);break;case 13:Ns(t,e),ei(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nC=Dt())),r&4&&MA(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Mn=(l=Mn)||u,Ns(t,e),Mn=l):Ns(t,e),ei(e),r&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!u&&e.mode&1)for(ce=e,u=e.child;u!==null;){for(d=ce=u;ce!==null;){switch(f=ce,h=f.child,f.tag){case 0:case 11:case 14:case 15:wf(4,f,f.return);break;case 1:eu(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Nt(r,n,g)}}break;case 5:eu(f,f.return);break;case 22:if(f.memoizedState!==null){UA(d);continue}}h!==null?(h.return=f,ce=h):UA(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,l?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=QD("display",o))}catch(g){Nt(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Nt(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ns(t,e),ei(e),r&4&&MA(e);break;case 21:break;default:Ns(t,e),ei(e)}}function ei(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ek(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qf(s,""),r.flags&=-33);var i=jA(e);s1(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=jA(e);r1(e,a,o);break;default:throw Error(Z(161))}}catch(c){Nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function VB(e,t,n){ce=e,Ak(e)}function Ak(e,t,n){for(var r=(e.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dm;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Mn;a=dm;var l=Mn;if(dm=o,(Mn=c)&&!l)for(ce=s;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?BA(s):c!==null?(c.return=o,ce=c):BA(s);for(;i!==null;)ce=i,Ak(i),i=i.sibling;ce=s,dm=a,Mn=l}LA(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):LA(e)}}function LA(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mn||cy(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Rs(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&EA(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}EA(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Mn||t.flags&512&&n1(t)}catch(f){Nt(t,t.return,f)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function UA(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function BA(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cy(4,t)}catch(c){Nt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Nt(t,s,c)}}var i=t.return;try{n1(t)}catch(c){Nt(t,i,c)}break;case 5:var o=t.return;try{n1(t)}catch(c){Nt(t,o,c)}}}catch(c){Nt(t,t.return,c)}if(t===e){ce=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ce=a;break}ce=t.return}}var HB=Math.ceil,c0=Eo.ReactCurrentDispatcher,eC=Eo.ReactCurrentOwner,ys=Eo.ReactCurrentBatchConfig,Fe=0,ln=null,Bt=null,xn=0,$r=0,tu=Ua(0),Xt=0,ah=null,Lc=0,ly=0,tC=0,vf=null,mr=null,nC=0,ku=1/0,eo=null,l0=!1,i1=null,va=null,fm=!1,aa=null,u0=0,bf=0,o1=null,yg=-1,wg=0;function qn(){return Fe&6?Dt():yg!==-1?yg:yg=Dt()}function ba(e){return e.mode&1?Fe&2&&xn!==0?xn&-xn:IB.transition!==null?(wg===0&&(wg=lO()),wg):(e=et,e!==0||(e=window.event,e=e===void 0?16:gO(e.type)),e):1}function zs(e,t,n,r){if(50<bf)throw bf=0,o1=null,Error(Z(185));up(e,n,r),(!(Fe&2)||e!==ln)&&(e===ln&&(!(Fe&2)&&(ly|=n),Xt===4&&ra(e,xn)),Er(e,r),n===1&&Fe===0&&!(t.mode&1)&&(ku=Dt()+500,iy&&Ba()))}function Er(e,t){var n=e.callbackNode;IU(e,t);var r=Kg(e,e===ln?xn:0);if(r===0)n!==null&&YS(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&YS(n),t===1)e.tag===0?NB(FA.bind(null,e)):RO(FA.bind(null,e)),EB(function(){!(Fe&6)&&Ba()}),n=null;else{switch(uO(r)){case 1:n=_E;break;case 4:n=aO;break;case 16:n=qg;break;case 536870912:n=cO;break;default:n=qg}n=kk(n,Nk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nk(e,t){if(yg=-1,wg=0,Fe&6)throw Error(Z(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=Kg(e,e===ln?xn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=d0(e,r);else{t=r;var s=Fe;Fe|=2;var i=_k();(ln!==e||xn!==t)&&(eo=null,ku=Dt()+500,Ac(e,t));do try{KB();break}catch(a){Ik(e,a)}while(!0);FE(),c0.current=i,Fe=s,Bt!==null?t=0:(ln=null,xn=0,t=Xt)}if(t!==0){if(t===2&&(s=kb(e),s!==0&&(r=s,t=a1(e,s))),t===1)throw n=ah,Ac(e,0),ra(e,r),Er(e,Dt()),n;if(t===6)ra(e,r);else{if(s=e.current.alternate,!(r&30)&&!WB(s)&&(t=d0(e,r),t===2&&(i=kb(e),i!==0&&(r=i,t=a1(e,i))),t===1))throw n=ah,Ac(e,0),ra(e,r),Er(e,Dt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Z(345));case 2:sc(e,mr,eo);break;case 3:if(ra(e,r),(r&130023424)===r&&(t=nC+500-Dt(),10<t)){if(Kg(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){qn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fb(sc.bind(null,e,mr,eo),t);break}sc(e,mr,eo);break;case 4:if(ra(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Fs(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HB(r/1960))-r,10<r){e.timeoutHandle=Fb(sc.bind(null,e,mr,eo),r);break}sc(e,mr,eo);break;case 5:sc(e,mr,eo);break;default:throw Error(Z(329))}}}return Er(e,Dt()),e.callbackNode===n?Nk.bind(null,e):null}function a1(e,t){var n=vf;return e.current.memoizedState.isDehydrated&&(Ac(e,t).flags|=256),e=d0(e,t),e!==2&&(t=mr,mr=n,t!==null&&c1(t)),e}function c1(e){mr===null?mr=e:mr.push.apply(mr,e)}function WB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ws(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t){for(t&=~tC,t&=~ly,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fs(t),r=1<<n;e[n]=-1,t&=~r}}function FA(e){if(Fe&6)throw Error(Z(327));wu();var t=Kg(e,0);if(!(t&1))return Er(e,Dt()),null;var n=d0(e,t);if(e.tag!==0&&n===2){var r=kb(e);r!==0&&(t=r,n=a1(e,r))}if(n===1)throw n=ah,Ac(e,0),ra(e,t),Er(e,Dt()),n;if(n===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sc(e,mr,eo),Er(e,Dt()),null}function rC(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(ku=Dt()+500,iy&&Ba())}}function Uc(e){aa!==null&&aa.tag===0&&!(Fe&6)&&wu();var t=Fe;Fe|=1;var n=ys.transition,r=et;try{if(ys.transition=null,et=1,e)return e()}finally{et=r,ys.transition=n,Fe=t,!(Fe&6)&&Ba()}}function sC(){$r=tu.current,mt(tu)}function Ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xB(n)),Bt!==null)for(n=Bt.return;n!==null;){var r=n;switch(LE(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zg();break;case 3:Du(),mt(br),mt(Un),KE();break;case 5:qE(r);break;case 4:Du();break;case 13:mt(xt);break;case 19:mt(xt);break;case 10:zE(r.type._context);break;case 22:case 23:sC()}n=n.return}if(ln=e,Bt=e=xa(e.current,null),xn=$r=t,Xt=0,ah=null,tC=ly=Lc=0,mr=vf=null,hc!==null){for(t=0;t<hc.length;t++)if(n=hc[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}hc=null}return e}function Ik(e,t){do{var n=Bt;try{if(FE(),pg.current=a0,o0){for(var r=Ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}o0=!1}if(Mc=0,rn=Gt=Ct=null,yf=!1,sh=0,eC.current=null,n===null||n.return===null){Xt=1,ah=t,Bt=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=xn,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=_A(o);if(h!==null){h.flags&=-257,TA(h,o,a,i,t),h.mode&1&&IA(i,l,t),t=h,c=l;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){IA(i,l,t),iC();break e}c=Error(Z(426))}}else if(vt&&a.mode&1){var y=_A(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),TA(y,o,a,i,t),UE(Ou(c,a));break e}}i=c=Ou(c,a),Xt!==4&&(Xt=2),vf===null?vf=[i]:vf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=uk(i,c,t);xA(i,w);break e;case 1:a=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(va===null||!va.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=dk(i,a,t);xA(i,x);break e}}i=i.return}while(i!==null)}Pk(n)}catch(E){t=E,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function _k(){var e=c0.current;return c0.current=a0,e===null?a0:e}function iC(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ln===null||!(Lc&268435455)&&!(ly&268435455)||ra(ln,xn)}function d0(e,t){var n=Fe;Fe|=2;var r=_k();(ln!==e||xn!==t)&&(eo=null,Ac(e,t));do try{qB();break}catch(s){Ik(e,s)}while(!0);if(FE(),Fe=n,c0.current=r,Bt!==null)throw Error(Z(261));return ln=null,xn=0,Xt}function qB(){for(;Bt!==null;)Tk(Bt)}function KB(){for(;Bt!==null&&!wU();)Tk(Bt)}function Tk(e){var t=Ok(e.alternate,e,$r);e.memoizedProps=e.pendingProps,t===null?Pk(e):Bt=t,eC.current=null}function Pk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=BB(n,t),n!==null){n.flags&=32767,Bt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xt=6,Bt=null;return}}else if(n=UB(n,t,$r),n!==null){Bt=n;return}if(t=t.sibling,t!==null){Bt=t;return}Bt=t=e}while(t!==null);Xt===0&&(Xt=5)}function sc(e,t,n){var r=et,s=ys.transition;try{ys.transition=null,et=1,GB(e,t,n,r)}finally{ys.transition=s,et=r}return null}function GB(e,t,n,r){do wu();while(aa!==null);if(Fe&6)throw Error(Z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(_U(e,i),e===ln&&(Bt=ln=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fm||(fm=!0,kk(qg,function(){return wu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ys.transition,ys.transition=null;var o=et;et=1;var a=Fe;Fe|=4,eC.current=null,zB(e,n),Sk(n,e),pB(Ub),Gg=!!Lb,Ub=Lb=null,e.current=n,VB(n),vU(),Fe=a,et=o,ys.transition=i}else e.current=n;if(fm&&(fm=!1,aa=e,u0=s),i=e.pendingLanes,i===0&&(va=null),EU(n.stateNode),Er(e,Dt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(l0)throw l0=!1,e=i1,i1=null,e;return u0&1&&e.tag!==0&&wu(),i=e.pendingLanes,i&1?e===o1?bf++:(bf=0,o1=e):bf=0,Ba(),null}function wu(){if(aa!==null){var e=uO(u0),t=ys.transition,n=et;try{if(ys.transition=null,et=16>e?16:e,aa===null)var r=!1;else{if(e=aa,aa=null,u0=0,Fe&6)throw Error(Z(331));var s=Fe;for(Fe|=4,ce=e.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(ce=l;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:wf(8,u,i)}var d=u.child;if(d!==null)d.return=u,ce=d;else for(;ce!==null;){u=ce;var f=u.sibling,h=u.return;if(xk(u),u===l){ce=null;break}if(f!==null){f.return=h,ce=f;break}ce=h}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wf(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ce=w;break e}ce=i.return}}var v=e.current;for(ce=v;ce!==null;){o=ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ce=b;else e:for(o=v;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cy(9,a)}}catch(E){Nt(a,a.return,E)}if(a===o){ce=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ce=x;break e}ce=a.return}}if(Fe=s,Ba(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(ey,e)}catch{}r=!0}return r}finally{et=n,ys.transition=t}}return!1}function zA(e,t,n){t=Ou(n,t),t=uk(e,t,1),e=wa(e,t,1),t=qn(),e!==null&&(up(e,1,t),Er(e,t))}function Nt(e,t,n){if(e.tag===3)zA(e,e,n);else for(;t!==null;){if(t.tag===3){zA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(va===null||!va.has(r))){e=Ou(n,e),e=dk(t,e,1),t=wa(t,e,1),e=qn(),t!==null&&(up(t,1,e),Er(t,e));break}}t=t.return}}function YB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=qn(),e.pingedLanes|=e.suspendedLanes&n,ln===e&&(xn&n)===n&&(Xt===4||Xt===3&&(xn&130023424)===xn&&500>Dt()-nC?Ac(e,0):tC|=n),Er(e,t)}function Dk(e,t){t===0&&(e.mode&1?(t=nm,nm<<=1,!(nm&130023424)&&(nm=4194304)):t=1);var n=qn();e=ho(e,t),e!==null&&(up(e,t,n),Er(e,n))}function QB(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Dk(e,n)}function XB(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(t),Dk(e,n)}var Ok;Ok=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||br.current)yr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yr=!1,LB(e,t,n);yr=!!(e.flags&131072)}else yr=!1,vt&&t.flags&1048576&&jO(t,t0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;gg(e,t),e=t.pendingProps;var s=_u(t,Un.current);yu(t,n),s=YE(null,t,r,e,s,n);var i=QE();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xr(r)?(i=!0,Jg(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,HE(t),s.updater=ay,t.stateNode=s,s._reactInternals=t,Gb(t,r,e,n),t=Xb(null,t,r,!0,i,n)):(t.tag=0,vt&&i&&ME(t),zn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(gg(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=JB(r),e=Rs(r,e),s){case 0:t=Qb(null,t,r,e,n);break e;case 1:t=OA(null,t,r,e,n);break e;case 11:t=PA(null,t,r,e,n);break e;case 14:t=DA(null,t,r,Rs(r.type,e),n);break e}throw Error(Z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rs(r,s),Qb(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rs(r,s),OA(e,t,r,s,n);case 3:e:{if(mk(t),e===null)throw Error(Z(387));r=t.pendingProps,i=t.memoizedState,s=i.element,zO(e,t),s0(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ou(Error(Z(423)),t),t=kA(e,t,r,n,s);break e}else if(r!==s){s=Ou(Error(Z(424)),t),t=kA(e,t,r,n,s);break e}else for(Fr=ya(t.stateNode.containerInfo.firstChild),Vr=t,vt=!0,Ls=null,n=BO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tu(),r===s){t=po(e,t,n);break e}zn(e,t,r,n)}t=t.child}return t;case 5:return VO(t),e===null&&Wb(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Bb(r,s)?o=null:i!==null&&Bb(r,i)&&(t.flags|=32),pk(e,t),zn(e,t,o,n),t.child;case 6:return e===null&&Wb(t),null;case 13:return gk(e,t,n);case 4:return WE(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pu(t,null,r,n):zn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rs(r,s),PA(e,t,r,s,n);case 7:return zn(e,t,t.pendingProps,n),t.child;case 8:return zn(e,t,t.pendingProps.children,n),t.child;case 12:return zn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ut(n0,r._currentValue),r._currentValue=o,i!==null)if(Ws(i.value,o)){if(i.children===s.children&&!br.current){t=po(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=oo(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),qb(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qb(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,yu(t,n),s=vs(s),r=r(s),t.flags|=1,zn(e,t,r,n),t.child;case 14:return r=t.type,s=Rs(r,t.pendingProps),s=Rs(r.type,s),DA(e,t,r,s,n);case 15:return fk(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Rs(r,s),gg(e,t),t.tag=1,xr(r)?(e=!0,Jg(t)):e=!1,yu(t,n),lk(t,r,s),Gb(t,r,s,n),Xb(null,t,r,!0,e,n);case 19:return yk(e,t,n);case 22:return hk(e,t,n)}throw Error(Z(156,t.tag))};function kk(e,t){return oO(e,t)}function ZB(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(e,t,n,r){return new ZB(e,t,n,r)}function oC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function JB(e){if(typeof e=="function")return oC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===AE)return 11;if(e===NE)return 14}return 2}function xa(e,t){var n=e.alternate;return n===null?(n=ps(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vg(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")oC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wl:return Nc(n.children,s,i,t);case SE:o=8,s|=8;break;case wb:return e=ps(12,n,t,s|2),e.elementType=wb,e.lanes=i,e;case vb:return e=ps(13,n,t,s),e.elementType=vb,e.lanes=i,e;case bb:return e=ps(19,n,t,s),e.elementType=bb,e.lanes=i,e;case VD:return uy(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FD:o=10;break e;case zD:o=9;break e;case AE:o=11;break e;case NE:o=14;break e;case Yo:o=16,r=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=ps(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Nc(e,t,n,r){return e=ps(7,e,r,t),e.lanes=n,e}function uy(e,t,n,r){return e=ps(22,e,r,t),e.elementType=VD,e.lanes=n,e.stateNode={isHidden:!1},e}function Lw(e,t,n){return e=ps(6,e,null,t),e.lanes=n,e}function Uw(e,t,n){return t=ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e9(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vw(0),this.expirationTimes=vw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function aC(e,t,n,r,s,i,o,a,c){return e=new e9(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ps(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HE(i),e}function t9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $k(e){if(!e)return Ta;e=e._reactInternals;e:{if(Xc(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var n=e.type;if(xr(n))return $O(e,n,t)}return t}function Rk(e,t,n,r,s,i,o,a,c){return e=aC(n,r,!0,e,s,i,o,a,c),e.context=$k(null),n=e.current,r=qn(),s=ba(n),i=oo(r,s),i.callback=t??null,wa(n,i,s),e.current.lanes=s,up(e,s,r),Er(e,r),e}function dy(e,t,n,r){var s=t.current,i=qn(),o=ba(s);return n=$k(n),t.context===null?t.context=n:t.pendingContext=n,t=oo(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wa(s,t,o),e!==null&&(zs(e,s,o,i),hg(e,s,o)),o}function f0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cC(e,t){VA(e,t),(e=e.alternate)&&VA(e,t)}function n9(){return null}var jk=typeof reportError=="function"?reportError:function(e){console.error(e)};function lC(e){this._internalRoot=e}fy.prototype.render=lC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));dy(e,t,null,null)};fy.prototype.unmount=lC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uc(function(){dy(null,e,null,null)}),t[fo]=null}};function fy(e){this._internalRoot=e}fy.prototype.unstable_scheduleHydration=function(e){if(e){var t=hO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<na.length&&t!==0&&t<na[n].priority;n++);na.splice(n,0,e),n===0&&mO(e)}};function uC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function HA(){}function r9(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var l=f0(o);i.call(l)}}var o=Rk(t,r,e,0,null,!1,!1,"",HA);return e._reactRootContainer=o,e[fo]=o.current,Jf(e.nodeType===8?e.parentNode:e),Uc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var l=f0(c);a.call(l)}}var c=aC(e,0,!1,null,null,!1,!1,"",HA);return e._reactRootContainer=c,e[fo]=c.current,Jf(e.nodeType===8?e.parentNode:e),Uc(function(){dy(t,c,n,r)}),c}function py(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=f0(o);a.call(c)}}dy(t,o,e,s)}else o=r9(n,t,e,s,r);return f0(o)}dO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tf(t.pendingLanes);n!==0&&(TE(t,n|1),Er(t,Dt()),!(Fe&6)&&(ku=Dt()+500,Ba()))}break;case 13:Uc(function(){var r=ho(e,1);if(r!==null){var s=qn();zs(r,e,1,s)}}),cC(e,1)}};PE=function(e){if(e.tag===13){var t=ho(e,134217728);if(t!==null){var n=qn();zs(t,e,134217728,n)}cC(e,134217728)}};fO=function(e){if(e.tag===13){var t=ba(e),n=ho(e,t);if(n!==null){var r=qn();zs(n,e,t,r)}cC(e,t)}};hO=function(){return et};pO=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};Pb=function(e,t,n){switch(t){case"input":if(Cb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=sy(r);if(!s)throw Error(Z(90));WD(r),Cb(r,s)}}}break;case"textarea":KD(e,n);break;case"select":t=n.value,t!=null&&hu(e,!!n.multiple,t,!1)}};eO=rC;tO=Uc;var s9={usingClientEntryPoint:!1,Events:[fp,Yl,sy,ZD,JD,rC]},Id={findFiberByHostInstance:fc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i9={bundleType:Id.bundleType,version:Id.version,rendererPackageName:Id.rendererPackageName,rendererConfig:Id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sO(e),e===null?null:e.stateNode},findFiberByHostInstance:Id.findFiberByHostInstance||n9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hm.isDisabled&&hm.supportsFiber)try{ey=hm.inject(i9),bi=hm}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s9;Gr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uC(t))throw Error(Z(200));return t9(e,t,null,n)};Gr.createRoot=function(e,t){if(!uC(e))throw Error(Z(299));var n=!1,r="",s=jk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=aC(e,1,!1,null,null,n,!1,r,s),e[fo]=t.current,Jf(e.nodeType===8?e.parentNode:e),new lC(t)};Gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=sO(t),e=e===null?null:e.stateNode,e};Gr.flushSync=function(e){return Uc(e)};Gr.hydrate=function(e,t,n){if(!hy(t))throw Error(Z(200));return py(null,e,t,!0,n)};Gr.hydrateRoot=function(e,t,n){if(!uC(e))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=jk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Rk(t,null,e,1,n??null,s,!1,i,o),e[fo]=t.current,Jf(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fy(t)};Gr.render=function(e,t,n){if(!hy(t))throw Error(Z(200));return py(null,e,t,!1,n)};Gr.unmountComponentAtNode=function(e){if(!hy(e))throw Error(Z(40));return e._reactRootContainer?(Uc(function(){py(null,null,e,!1,function(){e._reactRootContainer=null,e[fo]=null})}),!0):!1};Gr.unstable_batchedUpdates=rC;Gr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!hy(n))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return py(e,t,n,!1,r)};Gr.version="18.3.1-next-f1338f8080-20240426";function Mk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mk)}catch(e){console.error(e)}}Mk(),MD.exports=Gr;var pp=MD.exports;const Lk=cp(pp);var Uk,WA=pp;Uk=WA.createRoot,WA.hydrateRoot;function Qt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function qA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bk(...e){return t=>{let n=!1;const r=e.map(s=>{const i=qA(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():qA(e[s],null)}}}}function qs(...e){return P.useCallback(Bk(...e),e)}function my(e,t=[]){let n=[];function r(i,o){const a=P.createContext(o),c=n.length;n=[...n,o];const l=d=>{var w;const{scope:f,children:h,...m}=d,g=((w=f==null?void 0:f[e])==null?void 0:w[c])||a,y=P.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:y,children:h})};l.displayName=i+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[e])==null?void 0:g[c])||a,m=P.useContext(h);if(m)return m;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[l,u]}const s=()=>{const i=n.map(o=>P.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return P.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,o9(s,...t)]}function o9(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:l})=>{const d=c(i)[`__scope${l}`];return{...a,...d}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function h0(e){const t=c9(e),n=P.forwardRef((r,s)=>{const{children:i,...o}=r,a=P.Children.toArray(i),c=a.find(u9);if(c){const l=c.props.children,u=a.map(d=>d===c?P.Children.count(l)>1?P.Children.only(null):P.isValidElement(l)?l.props.children:null:d);return p.jsx(t,{...o,ref:s,children:P.isValidElement(l)?P.cloneElement(l,void 0,u):null})}return p.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var a9=h0("Slot");function c9(e){const t=P.forwardRef((n,r)=>{const{children:s,...i}=n;if(P.isValidElement(s)){const o=f9(s),a=d9(i,s.props);return s.type!==P.Fragment&&(a.ref=r?Bk(r,o):o),P.cloneElement(s,a)}return P.Children.count(s)>1?P.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fk=Symbol("radix.slottable");function l9(e){const t=({children:n})=>p.jsx(p.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Fk,t}function u9(e){return P.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fk}function d9(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function f9(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function h9(e){const t=e+"CollectionProvider",[n,r]=my(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:w}=g,v=X.useRef(null),b=X.useRef(new Map).current;return p.jsx(s,{scope:y,itemMap:b,collectionRef:v,children:w})};o.displayName=t;const a=e+"CollectionSlot",c=h0(a),l=X.forwardRef((g,y)=>{const{scope:w,children:v}=g,b=i(a,w),x=qs(y,b.collectionRef);return p.jsx(c,{ref:x,children:v})});l.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=h0(u),h=X.forwardRef((g,y)=>{const{scope:w,children:v,...b}=g,x=X.useRef(null),E=qs(y,x),S=i(u,w);return X.useEffect(()=>(S.itemMap.set(x,{ref:x,...b}),()=>void S.itemMap.delete(x))),p.jsx(f,{[d]:"",ref:E,children:v})});h.displayName=u;function m(g){const y=i(e+"CollectionConsumer",g);return X.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((S,A)=>b.indexOf(S.ref.current)-b.indexOf(A.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},m,r]}var p9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Sr=p9.reduce((e,t)=>{const n=h0(`Primitive.${t}`),r=P.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function zk(e,t){e&&pp.flushSync(()=>e.dispatchEvent(t))}function Pa(e){const t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function m9(e,t=globalThis==null?void 0:globalThis.document){const n=Pa(e);P.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var g9="DismissableLayer",l1="dismissableLayer.update",y9="dismissableLayer.pointerDownOutside",w9="dismissableLayer.focusOutside",KA,Vk=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dC=P.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,l=P.useContext(Vk),[u,d]=P.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=P.useState({}),m=qs(t,A=>d(A)),g=Array.from(l.layers),[y]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(y),v=u?g.indexOf(u):-1,b=l.layersWithOutsidePointerEventsDisabled.size>0,x=v>=w,E=b9(A=>{const C=A.target,N=[...l.branches].some(j=>j.contains(C));!x||N||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},f),S=x9(A=>{const C=A.target;[...l.branches].some(j=>j.contains(C))||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},f);return m9(A=>{v===l.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},f),P.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(KA=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),GA(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=KA)}},[u,f,n,l]),P.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),GA())},[u,l]),P.useEffect(()=>{const A=()=>h({});return document.addEventListener(l1,A),()=>document.removeEventListener(l1,A)},[]),p.jsx(Sr.div,{...c,ref:m,style:{pointerEvents:b?x?"auto":"none":void 0,...e.style},onFocusCapture:Qt(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Qt(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Qt(e.onPointerDownCapture,E.onPointerDownCapture)})});dC.displayName=g9;var v9="DismissableLayerBranch",Hk=P.forwardRef((e,t)=>{const n=P.useContext(Vk),r=P.useRef(null),s=qs(t,r);return P.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(Sr.div,{...e,ref:s})});Hk.displayName=v9;function b9(e,t=globalThis==null?void 0:globalThis.document){const n=Pa(e),r=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){Wk(y9,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function x9(e,t=globalThis==null?void 0:globalThis.document){const n=Pa(e),r=P.useRef(!1);return P.useEffect(()=>{const s=i=>{i.target&&!r.current&&Wk(w9,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function GA(){const e=new CustomEvent(l1);document.dispatchEvent(e)}function Wk(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?zk(s,i):s.dispatchEvent(i)}var E9=dC,C9=Hk,Da=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},S9="Portal",qk=P.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=P.useState(!1);Da(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Lk.createPortal(p.jsx(Sr.div,{...r,ref:t}),o):null});qk.displayName=S9;function A9(e,t){return P.useReducer((n,r)=>t[n][r]??n,e)}var fC=e=>{const{present:t,children:n}=e,r=N9(t),s=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),i=qs(r.ref,I9(s));return typeof n=="function"||r.isPresent?P.cloneElement(s,{ref:i}):null};fC.displayName="Presence";function N9(e){const[t,n]=P.useState(),r=P.useRef(null),s=P.useRef(e),i=P.useRef("none"),o=e?"mounted":"unmounted",[a,c]=A9(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const l=pm(r.current);i.current=a==="mounted"?l:"none"},[a]),Da(()=>{const l=r.current,u=s.current;if(u!==e){const f=i.current,h=pm(l);e?c("MOUNT"):h==="none"||(l==null?void 0:l.display)==="none"?c("UNMOUNT"):c(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Da(()=>{if(t){let l;const u=t.ownerDocument.defaultView??window,d=h=>{const g=pm(r.current).includes(CSS.escape(h.animationName));if(h.target===t&&g&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",l=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=h=>{h.target===t&&(i.current=pm(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{u.clearTimeout(l),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function pm(e){return(e==null?void 0:e.animationName)||"none"}function I9(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var _9=RD[" useInsertionEffect ".trim().toString()]||Da;function T9({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=P9({defaultProp:t,onChange:n}),a=e!==void 0,c=a?e:s;{const u=P.useRef(e!==void 0);P.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const l=P.useCallback(u=>{var d;if(a){const f=D9(u)?u(e):u;f!==e&&((d=o.current)==null||d.call(o,f))}else i(u)},[a,e,i,o]);return[c,l]}function P9({defaultProp:e,onChange:t}){const[n,r]=P.useState(e),s=P.useRef(n),i=P.useRef(t);return _9(()=>{i.current=t},[t]),P.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function D9(e){return typeof e=="function"}var O9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k9="VisuallyHidden",gy=P.forwardRef((e,t)=>p.jsx(Sr.span,{...e,ref:t,style:{...O9,...e.style}}));gy.displayName=k9;var $9=gy,hC="ToastProvider",[pC,R9,j9]=h9("Toast"),[Kk]=my("Toast",[j9]),[M9,yy]=Kk(hC),Gk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=P.useState(null),[l,u]=P.useState(0),d=P.useRef(!1),f=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${hC}\`. Expected non-empty \`string\`.`),p.jsx(pC.Provider,{scope:t,children:p.jsx(M9,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:l,viewport:a,onViewportChange:c,onToastAdd:P.useCallback(()=>u(h=>h+1),[]),onToastRemove:P.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};Gk.displayName=hC;var Yk="ToastViewport",L9=["F8"],u1="toast.viewportPause",d1="toast.viewportResume",Qk=P.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=L9,label:s="Notifications ({hotkey})",...i}=e,o=yy(Yk,n),a=R9(n),c=P.useRef(null),l=P.useRef(null),u=P.useRef(null),d=P.useRef(null),f=qs(t,d,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=o.toastCount>0;P.useEffect(()=>{const y=w=>{var b;r.length!==0&&r.every(x=>w[x]||w.code===x)&&((b=d.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),P.useEffect(()=>{const y=c.current,w=d.current;if(m&&y&&w){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(u1);w.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(d1);w.dispatchEvent(S),o.isClosePausedRef.current=!1}},x=S=>{!y.contains(S.relatedTarget)&&b()},E=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",v),y.addEventListener("focusout",x),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",E),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",x),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[m,o.isClosePausedRef]);const g=P.useCallback(({tabbingDirection:y})=>{const v=a().map(b=>{const x=b.ref.current,E=[x,...X9(x)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?v.reverse():v).flat()},[a]);return P.useEffect(()=>{const y=d.current;if(y){const w=v=>{var E,S,A;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const C=document.activeElement,N=v.shiftKey;if(v.target===y&&N){(E=l.current)==null||E.focus();return}const L=g({tabbingDirection:N?"backwards":"forwards"}),B=L.findIndex(U=>U===C);Bw(L.slice(B+1))?v.preventDefault():N?(S=l.current)==null||S.focus():(A=u.current)==null||A.focus()}};return y.addEventListener("keydown",w),()=>y.removeEventListener("keydown",w)}},[a,g]),p.jsxs(C9,{ref:c,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&p.jsx(f1,{ref:l,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});Bw(y)}}),p.jsx(pC.Slot,{scope:n,children:p.jsx(Sr.ol,{tabIndex:-1,...i,ref:f})}),m&&p.jsx(f1,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});Bw(y)}})]})});Qk.displayName=Yk;var Xk="ToastFocusProxy",f1=P.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=yy(Xk,n);return p.jsx(gy,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var l;const a=o.relatedTarget;!((l=i.viewport)!=null&&l.contains(a))&&r()}})});f1.displayName=Xk;var mp="Toast",U9="toast.swipeStart",B9="toast.swipeMove",F9="toast.swipeCancel",z9="toast.swipeEnd",Zk=P.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a,c]=T9({prop:r,defaultProp:s??!0,onChange:i,caller:mp});return p.jsx(fC,{present:n||a,children:p.jsx(W9,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:Pa(e.onPause),onResume:Pa(e.onResume),onSwipeStart:Qt(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qt(e.onSwipeMove,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Qt(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qt(e.onSwipeEnd,l=>{const{x:u,y:d}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});Zk.displayName=mp;var[V9,H9]=Kk(mp,{onClose(){}}),W9=P.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...m}=e,g=yy(mp,n),[y,w]=P.useState(null),v=qs(t,U=>w(U)),b=P.useRef(null),x=P.useRef(null),E=s||g.duration,S=P.useRef(0),A=P.useRef(E),C=P.useRef(0),{onToastAdd:N,onToastRemove:j}=g,M=Pa(()=>{var I;(y==null?void 0:y.contains(document.activeElement))&&((I=g.viewport)==null||I.focus()),o()}),L=P.useCallback(U=>{!U||U===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(M,U))},[M]);P.useEffect(()=>{const U=g.viewport;if(U){const I=()=>{L(A.current),l==null||l()},_=()=>{const k=new Date().getTime()-S.current;A.current=A.current-k,window.clearTimeout(C.current),c==null||c()};return U.addEventListener(u1,_),U.addEventListener(d1,I),()=>{U.removeEventListener(u1,_),U.removeEventListener(d1,I)}}},[g.viewport,E,c,l,L]),P.useEffect(()=>{i&&!g.isClosePausedRef.current&&L(E)},[i,E,g.isClosePausedRef,L]),P.useEffect(()=>(N(),()=>j()),[N,j]);const B=P.useMemo(()=>y?i$(y):null,[y]);return g.viewport?p.jsxs(p.Fragment,{children:[B&&p.jsx(q9,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),p.jsx(V9,{scope:n,onClose:M,children:pp.createPortal(p.jsx(pC.ItemSlot,{scope:n,children:p.jsx(E9,{asChild:!0,onEscapeKeyDown:Qt(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||M(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Sr.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Qt(e.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Qt(e.onPointerDown,U=>{U.button===0&&(b.current={x:U.clientX,y:U.clientY})}),onPointerMove:Qt(e.onPointerMove,U=>{if(!b.current)return;const I=U.clientX-b.current.x,_=U.clientY-b.current.y,k=!!x.current,T=["left","right"].includes(g.swipeDirection),$=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,R=T?$(0,I):0,z=T?0:$(0,_),W=U.pointerType==="touch"?10:2,V={x:R,y:z},H={originalEvent:U,delta:V};k?(x.current=V,mm(B9,d,H,{discrete:!1})):YA(V,g.swipeDirection,W)?(x.current=V,mm(U9,u,H,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(I)>W||Math.abs(_)>W)&&(b.current=null)}),onPointerUp:Qt(e.onPointerUp,U=>{const I=x.current,_=U.target;if(_.hasPointerCapture(U.pointerId)&&_.releasePointerCapture(U.pointerId),x.current=null,b.current=null,I){const k=U.currentTarget,T={originalEvent:U,delta:I};YA(I,g.swipeDirection,g.swipeThreshold)?mm(z9,h,T,{discrete:!0}):mm(F9,f,T,{discrete:!0}),k.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),q9=e=>{const{__scopeToast:t,children:n,...r}=e,s=yy(mp,t),[i,o]=P.useState(!1),[a,c]=P.useState(!1);return Y9(()=>o(!0)),P.useEffect(()=>{const l=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(l)},[]),a?null:p.jsx(qk,{asChild:!0,children:p.jsx(gy,{...r,children:i&&p.jsxs(p.Fragment,{children:[s.label," ",n]})})})},K9="ToastTitle",Jk=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Sr.div,{...r,ref:t})});Jk.displayName=K9;var G9="ToastDescription",e$=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return p.jsx(Sr.div,{...r,ref:t})});e$.displayName=G9;var t$="ToastAction",n$=P.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?p.jsx(s$,{altText:n,asChild:!0,children:p.jsx(mC,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${t$}\`. Expected non-empty \`string\`.`),null)});n$.displayName=t$;var r$="ToastClose",mC=P.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=H9(r$,n);return p.jsx(s$,{asChild:!0,children:p.jsx(Sr.button,{type:"button",...r,ref:t,onClick:Qt(e.onClick,s.onClose)})})});mC.displayName=r$;var s$=P.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return p.jsx(Sr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function i$(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Q9(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...i$(r))}}),t}function mm(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?zk(s,i):s.dispatchEvent(i)}var YA=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function Y9(e=()=>{}){const t=Pa(e);Da(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Q9(e){return e.nodeType===e.ELEMENT_NODE}function X9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Bw(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Z9=Gk,o$=Qk,a$=Zk,c$=Jk,l$=e$,u$=n$,d$=mC;function f$(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=f$(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function h$(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=f$(e))&&(r&&(r+=" "),r+=t);return r}const QA=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,XA=h$,gC=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return XA(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(l=>{const u=n==null?void 0:n[l],d=i==null?void 0:i[l];if(u===null)return null;const f=QA(u)||QA(d);return s[l][f]}),a=n&&Object.entries(n).reduce((l,u)=>{let[d,f]=u;return f===void 0||(l[d]=f),l},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((l,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(m=>{let[g,y]=m;return Array.isArray(y)?y.includes({...i,...a}[g]):{...i,...a}[g]===y})?[...l,d,f]:l},[]);return XA(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),ZA=e=>{const t=eF(e);return t.charAt(0).toUpperCase()+t.slice(1)},p$=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),tF=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>P.createElement("svg",{ref:c,...nF,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:p$("lucide",s),...!i&&!tF(a)&&{"aria-hidden":"true"},...a},[...o.map(([l,u])=>P.createElement(l,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const n=P.forwardRef(({className:r,...s},i)=>P.createElement(rF,{ref:i,iconNode:t,className:p$(`lucide-${J9(ZA(e))}`,`lucide-${e}`,r),...s}));return n.displayName=ZA(e),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],m$=Ue("arrow-left",sF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wy=Ue("arrow-right",iF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]],g$=Ue("bitcoin",oF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],JA=Ue("book-open",aF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],yC=Ue("brain",cF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],uF=Ue("calendar",lF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fw=Ue("circle-alert",dF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],h1=Ue("circle-check",fF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ic=Ue("circle-check-big",hF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mF=Ue("circle-x",pF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$u=Ue("clock",gF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],wF=Ue("code",yF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wC=Ue("dollar-sign",vF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zw=Ue("external-link",bF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ei=Ue("file-text",xF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],p1=Ue("git-branch",EF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],ch=Ue("github",CF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],AF=Ue("mail",SF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],IF=Ue("menu",NF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],TF=Ue("message-circle",_F);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],DF=Ue("message-square",PF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],y$=Ue("play",OF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],m1=Ue("plus",kF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eN=Ue("refresh-cw",$F);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],jF=Ue("search",RF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lh=Ue("shield",MF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],w$=Ue("trending-up",LF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],v$=Ue("triangle-alert",UF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],FF=Ue("twitter",BF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],b$=Ue("users",zF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],HF=Ue("user",VF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],uh=Ue("wallet",WF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vC=Ue("x",qF);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vu=Ue("zap",KF),bC="-",GF=e=>{const t=QF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(bC);return a[0]===""&&a.length!==1&&a.shift(),x$(a,t)||YF(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},x$=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?x$(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(bC);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},tN=/^\[(.+)\]$/,YF=e=>{if(tN.test(e)){const t=tN.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},QF=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const s in n)g1(n[s],r,s,t);return r},g1=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:nN(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(XF(s)){g1(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{g1(o,nN(t,i),n,r)})})},nN=(e,t)=>{let n=e;return t.split(bC).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},XF=e=>e.isThemeGetter,ZF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},y1="!",w1=":",JF=w1.length,e7=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,a=0,c=0,l;for(let m=0;m<s.length;m++){let g=s[m];if(o===0&&a===0){if(g===w1){i.push(s.slice(c,m)),c=m+JF;continue}if(g==="/"){l=m;continue}}g==="["?o++:g==="]"?o--:g==="("?a++:g===")"&&a--}const u=i.length===0?s:s.substring(c),d=t7(u),f=d!==u,h=l&&l>c?l-c:void 0;return{modifiers:i,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}};if(t){const s=t+w1,i=r;r=o=>o.startsWith(s)?i(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},t7=e=>e.endsWith(y1)?e.substring(0,e.length-1):e.startsWith(y1)?e.substring(1):e,n7=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(o=>{o[0]==="["||t[o]?(s.push(...i.sort(),o),i=[]):i.push(o)}),s.push(...i.sort()),s}},r7=e=>({cache:ZF(e.cacheSize),parseClassName:e7(e),sortModifiers:n7(e),...GF(e)}),s7=/\s+/,i7=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],a=e.trim().split(s7);let c="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{isExternal:d,modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=n(u);if(d){c=u+(c.length>0?" "+c:c);continue}let y=!!g,w=r(y?m.substring(0,g):m);if(!w){if(!y){c=u+(c.length>0?" "+c:c);continue}if(w=r(m),!w){c=u+(c.length>0?" "+c:c);continue}y=!1}const v=i(f).join(":"),b=h?v+y1:v,x=b+w;if(o.includes(x))continue;o.push(x);const E=s(w,y);for(let S=0;S<E.length;++S){const A=E[S];o.push(b+A)}c=u+(c.length>0?" "+c:c)}return c};function o7(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=E$(t))&&(r&&(r+=" "),r+=n);return r}const E$=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=E$(e[r]))&&(n&&(n+=" "),n+=t);return n};function a7(e,...t){let n,r,s,i=o;function o(c){const l=t.reduce((u,d)=>d(u),e());return n=r7(l),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const l=r(c);if(l)return l;const u=i7(c,n);return s(c,u),u}return function(){return i(o7.apply(null,arguments))}}const Ht=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},C$=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,S$=/^\((?:(\w[\w-]*):)?(.+)\)$/i,c7=/^\d+\/\d+$/,l7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,u7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,d7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,f7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gl=e=>c7.test(e),Pe=e=>!!e&&!Number.isNaN(Number(e)),To=e=>!!e&&Number.isInteger(Number(e)),Vw=e=>e.endsWith("%")&&Pe(e.slice(0,-1)),Vi=e=>l7.test(e),p7=()=>!0,m7=e=>u7.test(e)&&!d7.test(e),A$=()=>!1,g7=e=>f7.test(e),y7=e=>h7.test(e),w7=e=>!ue(e)&&!de(e),v7=e=>Zu(e,_$,A$),ue=e=>C$.test(e),Ga=e=>Zu(e,T$,m7),Hw=e=>Zu(e,S7,Pe),rN=e=>Zu(e,N$,A$),b7=e=>Zu(e,I$,y7),gm=e=>Zu(e,P$,g7),de=e=>S$.test(e),_d=e=>Ju(e,T$),x7=e=>Ju(e,A7),sN=e=>Ju(e,N$),E7=e=>Ju(e,_$),C7=e=>Ju(e,I$),ym=e=>Ju(e,P$,!0),Zu=(e,t,n)=>{const r=C$.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Ju=(e,t,n=!1)=>{const r=S$.exec(e);return r?r[1]?t(r[1]):n:!1},N$=e=>e==="position"||e==="percentage",I$=e=>e==="image"||e==="url",_$=e=>e==="length"||e==="size"||e==="bg-size",T$=e=>e==="length",S7=e=>e==="number",A7=e=>e==="family-name",P$=e=>e==="shadow",N7=()=>{const e=Ht("color"),t=Ht("font"),n=Ht("text"),r=Ht("font-weight"),s=Ht("tracking"),i=Ht("leading"),o=Ht("breakpoint"),a=Ht("container"),c=Ht("spacing"),l=Ht("radius"),u=Ht("shadow"),d=Ht("inset-shadow"),f=Ht("text-shadow"),h=Ht("drop-shadow"),m=Ht("blur"),g=Ht("perspective"),y=Ht("aspect"),w=Ht("ease"),v=Ht("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...x(),de,ue],S=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],C=()=>[de,ue,c],N=()=>[gl,"full","auto",...C()],j=()=>[To,"none","subgrid",de,ue],M=()=>["auto",{span:["full",To,de,ue]},To,de,ue],L=()=>[To,"auto",de,ue],B=()=>["auto","min","max","fr",de,ue],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],I=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...C()],k=()=>[gl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],T=()=>[e,de,ue],$=()=>[...x(),sN,rN,{position:[de,ue]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",E7,v7,{size:[de,ue]}],W=()=>[Vw,_d,Ga],V=()=>["","none","full",l,de,ue],H=()=>["",Pe,_d,Ga],Q=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Pe,Vw,sN,rN],le=()=>["","none",m,de,ue],we=()=>["none",Pe,de,ue],Oe=()=>["none",Pe,de,ue],ze=()=>[Pe,de,ue],gt=()=>[gl,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vi],breakpoint:[Vi],color:[p7],container:[Vi],"drop-shadow":[Vi],ease:["in","out","in-out"],font:[w7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vi],shadow:[Vi],spacing:["px",Pe],text:[Vi],"text-shadow":[Vi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gl,ue,de,y]}],container:["container"],columns:[{columns:[Pe,ue,de,a]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[To,"auto",de,ue]}],basis:[{basis:[gl,"full","auto",a,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,gl,"auto","initial","none",ue]}],grow:[{grow:["",Pe,de,ue]}],shrink:[{shrink:["",Pe,de,ue]}],order:[{order:[To,"first","last","none",de,ue]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...I(),"normal"]}],"justify-self":[{"justify-self":["auto",...I()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...I(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...I(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...I(),"baseline"]}],"place-self":[{"place-self":["auto",...I()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[a,"screen",...k()]}],"min-w":[{"min-w":[a,"screen","none",...k()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...k()]}],h:[{h:["screen","lh",...k()]}],"min-h":[{"min-h":["screen","lh","none",...k()]}],"max-h":[{"max-h":["screen","lh",...k()]}],"font-size":[{text:["base",n,_d,Ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,de,Hw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vw,ue]}],"font-family":[{font:[x7,ue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,de,ue]}],"line-clamp":[{"line-clamp":[Pe,"none",de,Hw]}],leading:[{leading:[i,...C()]}],"list-image":[{"list-image":["none",de,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",de,Ga]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Pe,"auto",de,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},To,de,ue],radial:["",de,ue],conic:[To,de,ue]},C7,b7]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:H()}],"border-w-x":[{"border-x":H()}],"border-w-y":[{"border-y":H()}],"border-w-s":[{"border-s":H()}],"border-w-e":[{"border-e":H()}],"border-w-t":[{"border-t":H()}],"border-w-r":[{"border-r":H()}],"border-w-b":[{"border-b":H()}],"border-w-l":[{"border-l":H()}],"divide-x":[{"divide-x":H()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":H()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,de,ue]}],"outline-w":[{outline:["",Pe,_d,Ga]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",u,ym,gm]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",d,ym,gm]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Pe,Ga]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":H()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",f,ym,gm]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Pe,de,ue]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[de,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,ue]}],filter:[{filter:["","none",de,ue]}],blur:[{blur:le()}],brightness:[{brightness:[Pe,de,ue]}],contrast:[{contrast:[Pe,de,ue]}],"drop-shadow":[{"drop-shadow":["","none",h,ym,gm]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Pe,de,ue]}],"hue-rotate":[{"hue-rotate":[Pe,de,ue]}],invert:[{invert:["",Pe,de,ue]}],saturate:[{saturate:[Pe,de,ue]}],sepia:[{sepia:["",Pe,de,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",de,ue]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,de,ue]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,de,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,de,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,de,ue]}],"backdrop-invert":[{"backdrop-invert":["",Pe,de,ue]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,de,ue]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,de,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,de,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",de,ue]}],ease:[{ease:["linear","initial",w,de,ue]}],delay:[{delay:[Pe,de,ue]}],animate:[{animate:["none",v,de,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,de,ue]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:Oe()}],"scale-x":[{"scale-x":Oe()}],"scale-y":[{"scale-y":Oe()}],"scale-z":[{"scale-z":Oe()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[de,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:gt()}],"translate-x":[{"translate-x":gt()}],"translate-y":[{"translate-y":gt()}],"translate-z":[{"translate-z":gt()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,ue]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Pe,_d,Ga,Hw]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},I7=a7(N7);function Xn(...e){return I7(h$(e))}const _7=Z9,D$=P.forwardRef(({className:e,...t},n)=>p.jsx(o$,{ref:n,className:Xn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));D$.displayName=o$.displayName;const T7=gC("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),O$=P.forwardRef(({className:e,variant:t,...n},r)=>p.jsx(a$,{ref:r,className:Xn(T7({variant:t}),e),...n}));O$.displayName=a$.displayName;const P7=P.forwardRef(({className:e,...t},n)=>p.jsx(u$,{ref:n,className:Xn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));P7.displayName=u$.displayName;const k$=P.forwardRef(({className:e,...t},n)=>p.jsx(d$,{ref:n,className:Xn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:p.jsx(vC,{className:"h-4 w-4"})}));k$.displayName=d$.displayName;const $$=P.forwardRef(({className:e,...t},n)=>p.jsx(c$,{ref:n,className:Xn("text-sm font-semibold",e),...t}));$$.displayName=c$.displayName;const R$=P.forwardRef(({className:e,...t},n)=>p.jsx(l$,{ref:n,className:Xn("text-sm opacity-90",e),...t}));R$.displayName=l$.displayName;const D7=1,O7=1e6;let Ww=0;function k7(){return Ww=(Ww+1)%Number.MAX_SAFE_INTEGER,Ww.toString()}const qw=new Map,iN=e=>{if(qw.has(e))return;const t=setTimeout(()=>{qw.delete(e),xf({type:"REMOVE_TOAST",toastId:e})},O7);qw.set(e,t)},$7=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,D7)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?iN(n):e.toasts.forEach(r=>{iN(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},bg=[];let xg={toasts:[]};function xf(e){xg=$7(xg,e),bg.forEach(t=>{t(xg)})}function R7({...e}){const t=k7(),n=s=>xf({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>xf({type:"DISMISS_TOAST",toastId:t});return xf({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function j7(){const[e,t]=P.useState(xg);return P.useEffect(()=>(bg.push(t),()=>{const n=bg.indexOf(t);n>-1&&bg.splice(n,1)}),[e]),{...e,toast:R7,dismiss:n=>xf({type:"DISMISS_TOAST",toastId:n})}}function M7(){const{toasts:e}=j7();return p.jsxs(_7,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return p.jsxs(O$,{...i,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx($$,{children:n}),r&&p.jsx(R$,{children:r})]}),s,p.jsx(k$,{})]},t)}),p.jsx(D$,{})]})}function L7(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const U7=e=>{switch(e){case"success":return z7;case"info":return H7;case"warning":return V7;case"error":return W7;default:return null}},B7=Array(12).fill(0),F7=({visible:e,className:t})=>X.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},X.createElement("div",{className:"sonner-spinner"},B7.map((n,r)=>X.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),z7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),H7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),W7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},X.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),q7=X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},X.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),X.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),K7=()=>{const[e,t]=X.useState(document.hidden);return X.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let v1=1;class G7{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:v1++,o=this.toasts.find(c=>c.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,o;const a=s.then(async l=>{if(o=["resolve",l],X.isValidElement(l))i=!1,this.create({id:r,type:"default",message:l});else if(Q7(l)&&!l.ok){i=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${l.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${l.status}`):n.description,m=typeof d=="object"&&!X.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...m})}else if(l instanceof Error){i=!1;const d=typeof n.error=="function"?await n.error(l):n.error,f=typeof n.description=="function"?await n.description(l):n.description,m=typeof d=="object"&&!X.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:f,...m})}else if(n.success!==void 0){i=!1;const d=typeof n.success=="function"?await n.success(l):n.success,f=typeof n.description=="function"?await n.description(l):n.description,m=typeof d=="object"&&!X.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:f,...m})}}).catch(async l=>{if(o=["reject",l],n.error!==void 0){i=!1;const u=typeof n.error=="function"?await n.error(l):n.error,d=typeof n.description=="function"?await n.description(l):n.description,h=typeof u=="object"&&!X.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:d,...h})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((l,u)=>a.then(()=>o[0]==="reject"?u(o[1]):l(o[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||v1++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const dr=new G7,Y7=(e,t)=>{const n=(t==null?void 0:t.id)||v1++;return dr.addToast({title:e,...t,id:n}),n},Q7=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",X7=Y7,Z7=()=>dr.toasts,J7=()=>dr.getActiveToasts(),Vn=Object.assign(X7,{success:dr.success,info:dr.info,warning:dr.warning,error:dr.error,custom:dr.custom,message:dr.message,promise:dr.promise,dismiss:dr.dismiss,loading:dr.loading},{getHistory:Z7,getToasts:J7});L7("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function wm(e){return e.label!==void 0}const ez=3,tz="24px",nz="16px",oN=4e3,rz=356,sz=14,iz=45,oz=200;function ti(...e){return e.filter(Boolean).join(" ")}function az(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const cz=e=>{var t,n,r,s,i,o,a,c,l;const{invert:u,toast:d,unstyled:f,interacting:h,setHeights:m,visibleToasts:g,heights:y,index:w,toasts:v,expanded:b,removeToast:x,defaultRichColors:E,closeButton:S,style:A,cancelButtonStyle:C,actionButtonStyle:N,className:j="",descriptionClassName:M="",duration:L,position:B,gap:U,expandByDefault:I,classNames:_,icons:k,closeButtonAriaLabel:T="Close toast"}=e,[$,R]=X.useState(null),[z,W]=X.useState(null),[V,H]=X.useState(!1),[Q,oe]=X.useState(!1),[ae,le]=X.useState(!1),[we,Oe]=X.useState(!1),[ze,gt]=X.useState(!1),[Jn,In]=X.useState(0),[Qs,Xs]=X.useState(0),Zr=X.useRef(d.duration||L||oN),So=X.useRef(null),zt=X.useRef(null),ji=w===0,Mi=w+1<=g,Vt=d.type,Jr=d.dismissible!==!1,Ir=d.className||"",Li=d.descriptionClassName||"",Ui=X.useMemo(()=>y.findIndex(Ae=>Ae.toastId===d.id)||0,[y,d.id]),ll=X.useMemo(()=>{var Ae;return(Ae=d.closeButton)!=null?Ae:S},[d.closeButton,S]),Ha=X.useMemo(()=>d.duration||L||oN,[d.duration,L]),Ao=X.useRef(0),Zs=X.useRef(0),Fp=X.useRef(0),No=X.useRef(null),[cw,zp]=B.split("-"),Vp=X.useMemo(()=>y.reduce((Ae,kt,Zt)=>Zt>=Ui?Ae:Ae+kt.height,0),[y,Ui]),Hp=K7(),yd=d.invert||u,Bi=Vt==="loading";Zs.current=X.useMemo(()=>Ui*U+Vp,[Ui,Vp]),X.useEffect(()=>{Zr.current=Ha},[Ha]),X.useEffect(()=>{H(!0)},[]),X.useEffect(()=>{const Ae=zt.current;if(Ae){const kt=Ae.getBoundingClientRect().height;return Xs(kt),m(Zt=>[{toastId:d.id,height:kt,position:d.position},...Zt]),()=>m(Zt=>Zt.filter(Fn=>Fn.toastId!==d.id))}},[m,d.id]),X.useLayoutEffect(()=>{if(!V)return;const Ae=zt.current,kt=Ae.style.height;Ae.style.height="auto";const Zt=Ae.getBoundingClientRect().height;Ae.style.height=kt,Xs(Zt),m(Fn=>Fn.find($t=>$t.toastId===d.id)?Fn.map($t=>$t.toastId===d.id?{...$t,height:Zt}:$t):[{toastId:d.id,height:Zt,position:d.position},...Fn])},[V,d.title,d.description,m,d.id,d.jsx,d.action,d.cancel]);const es=X.useCallback(()=>{oe(!0),In(Zs.current),m(Ae=>Ae.filter(kt=>kt.toastId!==d.id)),setTimeout(()=>{x(d)},oz)},[d,x,m,Zs]);X.useEffect(()=>{if(d.promise&&Vt==="loading"||d.duration===1/0||d.type==="loading")return;let Ae;return b||h||Hp?(()=>{if(Fp.current<Ao.current){const Fn=new Date().getTime()-Ao.current;Zr.current=Zr.current-Fn}Fp.current=new Date().getTime()})():(()=>{Zr.current!==1/0&&(Ao.current=new Date().getTime(),Ae=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),es()},Zr.current))})(),()=>clearTimeout(Ae)},[b,h,d,Vt,Hp,es]),X.useEffect(()=>{d.delete&&(es(),d.onDismiss==null||d.onDismiss.call(d,d))},[es,d.delete]);function wd(){var Ae;if(k!=null&&k.loading){var kt;return X.createElement("div",{className:ti(_==null?void 0:_.loader,d==null||(kt=d.classNames)==null?void 0:kt.loader,"sonner-loader"),"data-visible":Vt==="loading"},k.loading)}return X.createElement(F7,{className:ti(_==null?void 0:_.loader,d==null||(Ae=d.classNames)==null?void 0:Ae.loader),visible:Vt==="loading"})}const vd=d.icon||(k==null?void 0:k[Vt])||U7(Vt);var Io,Wp;return X.createElement("li",{tabIndex:0,ref:zt,className:ti(j,Ir,_==null?void 0:_.toast,d==null||(t=d.classNames)==null?void 0:t.toast,_==null?void 0:_.default,_==null?void 0:_[Vt],d==null||(n=d.classNames)==null?void 0:n[Vt]),"data-sonner-toast":"","data-rich-colors":(Io=d.richColors)!=null?Io:E,"data-styled":!(d.jsx||d.unstyled||f),"data-mounted":V,"data-promise":!!d.promise,"data-swiped":ze,"data-removed":Q,"data-visible":Mi,"data-y-position":cw,"data-x-position":zp,"data-index":w,"data-front":ji,"data-swiping":ae,"data-dismissible":Jr,"data-type":Vt,"data-invert":yd,"data-swipe-out":we,"data-swipe-direction":z,"data-expanded":!!(b||I&&V),"data-testid":d.testId,style:{"--index":w,"--toasts-before":w,"--z-index":v.length-w,"--offset":`${Q?Jn:Zs.current}px`,"--initial-height":I?"auto":`${Qs}px`,...A,...d.style},onDragEnd:()=>{le(!1),R(null),No.current=null},onPointerDown:Ae=>{Ae.button!==2&&(Bi||!Jr||(So.current=new Date,In(Zs.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(le(!0),No.current={x:Ae.clientX,y:Ae.clientY})))},onPointerUp:()=>{var Ae,kt,Zt;if(we||!Jr)return;No.current=null;const Fn=Number(((Ae=zt.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wa=Number(((kt=zt.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$t=new Date().getTime()-((Zt=So.current)==null?void 0:Zt.getTime()),Rt=$==="x"?Fn:Wa,ul=Math.abs(Rt)/$t;if(Math.abs(Rt)>=iz||ul>.11){In(Zs.current),d.onDismiss==null||d.onDismiss.call(d,d),W($==="x"?Fn>0?"right":"left":Wa>0?"down":"up"),es(),Oe(!0);return}else{var _r,Tr;(_r=zt.current)==null||_r.style.setProperty("--swipe-amount-x","0px"),(Tr=zt.current)==null||Tr.style.setProperty("--swipe-amount-y","0px")}gt(!1),le(!1),R(null)},onPointerMove:Ae=>{var kt,Zt,Fn;if(!No.current||!Jr||((kt=window.getSelection())==null?void 0:kt.toString().length)>0)return;const $t=Ae.clientY-No.current.y,Rt=Ae.clientX-No.current.x;var ul;const _r=(ul=e.swipeDirections)!=null?ul:az(B);!$&&(Math.abs(Rt)>1||Math.abs($t)>1)&&R(Math.abs(Rt)>Math.abs($t)?"x":"y");let Tr={x:0,y:0};const qp=Fi=>1/(1.5+Math.abs(Fi)/20);if($==="y"){if(_r.includes("top")||_r.includes("bottom"))if(_r.includes("top")&&$t<0||_r.includes("bottom")&&$t>0)Tr.y=$t;else{const Fi=$t*qp($t);Tr.y=Math.abs(Fi)<Math.abs($t)?Fi:$t}}else if($==="x"&&(_r.includes("left")||_r.includes("right")))if(_r.includes("left")&&Rt<0||_r.includes("right")&&Rt>0)Tr.x=Rt;else{const Fi=Rt*qp(Rt);Tr.x=Math.abs(Fi)<Math.abs(Rt)?Fi:Rt}(Math.abs(Tr.x)>0||Math.abs(Tr.y)>0)&&gt(!0),(Zt=zt.current)==null||Zt.style.setProperty("--swipe-amount-x",`${Tr.x}px`),(Fn=zt.current)==null||Fn.style.setProperty("--swipe-amount-y",`${Tr.y}px`)}},ll&&!d.jsx&&Vt!=="loading"?X.createElement("button",{"aria-label":T,"data-disabled":Bi,"data-close-button":!0,onClick:Bi||!Jr?()=>{}:()=>{es(),d.onDismiss==null||d.onDismiss.call(d,d)},className:ti(_==null?void 0:_.closeButton,d==null||(r=d.classNames)==null?void 0:r.closeButton)},(Wp=k==null?void 0:k.close)!=null?Wp:q7):null,(Vt||d.icon||d.promise)&&d.icon!==null&&((k==null?void 0:k[Vt])!==null||d.icon)?X.createElement("div",{"data-icon":"",className:ti(_==null?void 0:_.icon,d==null||(s=d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||wd():null,d.type!=="loading"?vd:null):null,X.createElement("div",{"data-content":"",className:ti(_==null?void 0:_.content,d==null||(i=d.classNames)==null?void 0:i.content)},X.createElement("div",{"data-title":"",className:ti(_==null?void 0:_.title,d==null||(o=d.classNames)==null?void 0:o.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?X.createElement("div",{"data-description":"",className:ti(M,Li,_==null?void 0:_.description,d==null||(a=d.classNames)==null?void 0:a.description)},typeof d.description=="function"?d.description():d.description):null),X.isValidElement(d.cancel)?d.cancel:d.cancel&&wm(d.cancel)?X.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||C,onClick:Ae=>{wm(d.cancel)&&Jr&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Ae),es())},className:ti(_==null?void 0:_.cancelButton,d==null||(c=d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,X.isValidElement(d.action)?d.action:d.action&&wm(d.action)?X.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||N,onClick:Ae=>{wm(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Ae),!Ae.defaultPrevented&&es())},className:ti(_==null?void 0:_.actionButton,d==null||(l=d.classNames)==null?void 0:l.actionButton)},d.action.label):null)};function aN(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lz(e,t){const n={};return[e,t].forEach((r,s)=>{const i=s===1,o=i?"--mobile-offset":"--offset",a=i?nz:tz;function c(l){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof l=="number"?`${l}px`:l})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(l=>{r[l]===void 0?n[`${o}-${l}`]=a:n[`${o}-${l}`]=typeof r[l]=="number"?`${r[l]}px`:r[l]}):c(a)}),n}const uz=X.forwardRef(function(t,n){const{id:r,invert:s,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:c,className:l,offset:u,mobileOffset:d,theme:f="light",richColors:h,duration:m,style:g,visibleToasts:y=ez,toastOptions:w,dir:v=aN(),gap:b=sz,icons:x,containerAriaLabel:E="Notifications"}=t,[S,A]=X.useState([]),C=X.useMemo(()=>r?S.filter(V=>V.toasterId===r):S.filter(V=>!V.toasterId),[S,r]),N=X.useMemo(()=>Array.from(new Set([i].concat(C.filter(V=>V.position).map(V=>V.position)))),[C,i]),[j,M]=X.useState([]),[L,B]=X.useState(!1),[U,I]=X.useState(!1),[_,k]=X.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=X.useRef(null),$=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=X.useRef(null),z=X.useRef(!1),W=X.useCallback(V=>{A(H=>{var Q;return(Q=H.find(oe=>oe.id===V.id))!=null&&Q.delete||dr.dismiss(V.id),H.filter(({id:oe})=>oe!==V.id)})},[]);return X.useEffect(()=>dr.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{A(H=>H.map(Q=>Q.id===V.id?{...Q,delete:!0}:Q))});return}setTimeout(()=>{Lk.flushSync(()=>{A(H=>{const Q=H.findIndex(oe=>oe.id===V.id);return Q!==-1?[...H.slice(0,Q),{...H[Q],...V},...H.slice(Q+1)]:[V,...H]})})})}),[S]),X.useEffect(()=>{if(f!=="system"){k(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?k("dark"):k("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:H})=>{k(H?"dark":"light")})}catch{V.addListener(({matches:Q})=>{try{k(Q?"dark":"light")}catch(oe){console.error(oe)}})}},[f]),X.useEffect(()=>{S.length<=1&&B(!1)},[S]),X.useEffect(()=>{const V=H=>{var Q;if(o.every(le=>H[le]||H.code===le)){var ae;B(!0),(ae=T.current)==null||ae.focus()}H.code==="Escape"&&(document.activeElement===T.current||(Q=T.current)!=null&&Q.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[o]),X.useEffect(()=>{if(T.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,z.current=!1)}},[T.current]),X.createElement("section",{ref:n,"aria-label":`${E} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((V,H)=>{var Q;const[oe,ae]=V.split("-");return C.length?X.createElement("ol",{key:V,dir:v==="auto"?aN():v,tabIndex:-1,ref:T,className:l,"data-sonner-toaster":!0,"data-sonner-theme":_,"data-y-position":oe,"data-x-position":ae,style:{"--front-toast-height":`${((Q=j[0])==null?void 0:Q.height)||0}px`,"--width":`${rz}px`,"--gap":`${b}px`,...g,...lz(u,d)},onBlur:le=>{z.current&&!le.currentTarget.contains(le.relatedTarget)&&(z.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||z.current||(z.current=!0,R.current=le.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{U||B(!1)},onDragEnd:()=>B(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},C.filter(le=>!le.position&&H===0||le.position===V).map((le,we)=>{var Oe,ze;return X.createElement(cz,{key:le.id,icons:x,index:we,toast:le,defaultRichColors:h,duration:(Oe=w==null?void 0:w.duration)!=null?Oe:m,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:s,visibleToasts:y,closeButton:(ze=w==null?void 0:w.closeButton)!=null?ze:c,interacting:U,position:V,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,closeButtonAriaLabel:w==null?void 0:w.closeButtonAriaLabel,removeToast:W,toasts:C.filter(gt=>gt.position==le.position),heights:j.filter(gt=>gt.position==le.position),setHeights:M,expandByDefault:a,gap:b,expanded:L,swipeDirections:t.swipeDirections})})):null}))}),dz=({...e})=>p.jsx(uz,{theme:"dark",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e}),fz=["top","right","bottom","left"],Oa=Math.min,Mr=Math.max,p0=Math.round,vm=Math.floor,Ci=e=>({x:e,y:e}),hz={left:"right",right:"left",bottom:"top",top:"bottom"},pz={start:"end",end:"start"};function b1(e,t,n){return Mr(e,Oa(t,n))}function mo(e,t){return typeof e=="function"?e(t):e}function go(e){return e.split("-")[0]}function ed(e){return e.split("-")[1]}function xC(e){return e==="x"?"y":"x"}function EC(e){return e==="y"?"height":"width"}const mz=new Set(["top","bottom"]);function wi(e){return mz.has(go(e))?"y":"x"}function CC(e){return xC(wi(e))}function gz(e,t,n){n===void 0&&(n=!1);const r=ed(e),s=CC(e),i=EC(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=m0(o)),[o,m0(o)]}function yz(e){const t=m0(e);return[x1(e),t,x1(t)]}function x1(e){return e.replace(/start|end/g,t=>pz[t])}const cN=["left","right"],lN=["right","left"],wz=["top","bottom"],vz=["bottom","top"];function bz(e,t,n){switch(e){case"top":case"bottom":return n?t?lN:cN:t?cN:lN;case"left":case"right":return t?wz:vz;default:return[]}}function xz(e,t,n,r){const s=ed(e);let i=bz(go(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(x1)))),i}function m0(e){return e.replace(/left|right|bottom|top/g,t=>hz[t])}function Ez(e){return{top:0,right:0,bottom:0,left:0,...e}}function j$(e){return typeof e!="number"?Ez(e):{top:e,right:e,bottom:e,left:e}}function g0(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function uN(e,t,n){let{reference:r,floating:s}=e;const i=wi(t),o=CC(t),a=EC(o),c=go(t),l=i==="y",u=r.x+r.width/2-s.width/2,d=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let h;switch(c){case"top":h={x:u,y:r.y-s.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-s.width,y:d};break;default:h={x:r.x,y:r.y}}switch(ed(t)){case"start":h[o]-=f*(n&&l?-1:1);break;case"end":h[o]+=f*(n&&l?-1:1);break}return h}const Cz=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let l=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:d}=uN(l,r,c),f=r,h={},m=0;for(let g=0;g<a.length;g++){const{name:y,fn:w}=a[g],{x:v,y:b,data:x,reset:E}=await w({x:u,y:d,initialPlacement:r,placement:f,strategy:s,middlewareData:h,rects:l,platform:o,elements:{reference:e,floating:t}});u=v??u,d=b??d,h={...h,[y]:{...h[y],...x}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(l=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:u,y:d}=uN(l,f,c)),g=-1)}return{x:u,y:d,placement:f,strategy:s,middlewareData:h}};async function dh(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:l="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=mo(t,e),m=j$(h),y=a[f?d==="floating"?"reference":"floating":d],w=g0(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:l,rootBoundary:u,strategy:c})),v=d==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},E=g0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:c}):v);return{top:(w.top-E.top+m.top)/x.y,bottom:(E.bottom-w.bottom+m.bottom)/x.y,left:(w.left-E.left+m.left)/x.x,right:(E.right-w.right+m.right)/x.x}}const Sz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:l,padding:u=0}=mo(e,t)||{};if(l==null)return{};const d=j$(u),f={x:n,y:r},h=CC(s),m=EC(h),g=await o.getDimensions(l),y=h==="y",w=y?"top":"left",v=y?"bottom":"right",b=y?"clientHeight":"clientWidth",x=i.reference[m]+i.reference[h]-f[h]-i.floating[m],E=f[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let A=S?S[b]:0;(!A||!await(o.isElement==null?void 0:o.isElement(S)))&&(A=a.floating[b]||i.floating[m]);const C=x/2-E/2,N=A/2-g[m]/2-1,j=Oa(d[w],N),M=Oa(d[v],N),L=j,B=A-g[m]-M,U=A/2-g[m]/2+C,I=b1(L,U,B),_=!c.arrow&&ed(s)!=null&&U!==I&&i.reference[m]/2-(U<L?j:M)-g[m]/2<0,k=_?U<L?U-L:U-B:0;return{[h]:f[h]+k,data:{[h]:I,centerOffset:U-I-k,..._&&{alignmentOffset:k}},reset:_}}}),Az=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:l}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...y}=mo(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=go(s),v=wi(a),b=go(a)===a,x=await(c.isRTL==null?void 0:c.isRTL(l.floating)),E=f||(b||!g?[m0(a)]:yz(a)),S=m!=="none";!f&&S&&E.push(...xz(a,g,m,x));const A=[a,...E],C=await dh(t,y),N=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&N.push(C[w]),d){const U=gz(s,o,x);N.push(C[U[0]],C[U[1]])}if(j=[...j,{placement:s,overflows:N}],!N.every(U=>U<=0)){var M,L;const U=(((M=i.flip)==null?void 0:M.index)||0)+1,I=A[U];if(I&&(!(d==="alignment"?v!==wi(I):!1)||j.every(T=>wi(T.placement)===v?T.overflows[0]>0:!0)))return{data:{index:U,overflows:j},reset:{placement:I}};let _=(L=j.filter(k=>k.overflows[0]<=0).sort((k,T)=>k.overflows[1]-T.overflows[1])[0])==null?void 0:L.placement;if(!_)switch(h){case"bestFit":{var B;const k=(B=j.filter(T=>{if(S){const $=wi(T.placement);return $===v||$==="y"}return!0}).map(T=>[T.placement,T.overflows.filter($=>$>0).reduce(($,R)=>$+R,0)]).sort((T,$)=>T[1]-$[1])[0])==null?void 0:B[0];k&&(_=k);break}case"initialPlacement":_=a;break}if(s!==_)return{reset:{placement:_}}}return{}}}};function dN(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function fN(e){return fz.some(t=>e[t]>=0)}const Nz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=mo(e,t);switch(r){case"referenceHidden":{const i=await dh(t,{...s,elementContext:"reference"}),o=dN(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:fN(o)}}}case"escaped":{const i=await dh(t,{...s,altBoundary:!0}),o=dN(i,n.floating);return{data:{escapedOffsets:o,escaped:fN(o)}}}default:return{}}}}},M$=new Set(["left","top"]);async function Iz(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=go(n),a=ed(n),c=wi(n)==="y",l=M$.has(o)?-1:1,u=i&&c?-1:1,d=mo(t,e);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof m=="number"&&(h=a==="end"?m*-1:m),c?{x:h*u,y:f*l}:{x:f*l,y:h*u}}const _z=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await Iz(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},Tz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:w,y:v}=y;return{x:w,y:v}}},...c}=mo(e,t),l={x:n,y:r},u=await dh(t,c),d=wi(go(s)),f=xC(d);let h=l[f],m=l[d];if(i){const y=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=h+u[y],b=h-u[w];h=b1(v,h,b)}if(o){const y=d==="y"?"top":"left",w=d==="y"?"bottom":"right",v=m+u[y],b=m-u[w];m=b1(v,m,b)}const g=a.fn({...t,[f]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:i,[d]:o}}}}}},Pz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:l=!0}=mo(e,t),u={x:n,y:r},d=wi(s),f=xC(d);let h=u[f],m=u[d];const g=mo(a,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=f==="y"?"height":"width",x=i.reference[f]-i.floating[b]+y.mainAxis,E=i.reference[f]+i.reference[b]-y.mainAxis;h<x?h=x:h>E&&(h=E)}if(l){var w,v;const b=f==="y"?"width":"height",x=M$.has(go(s)),E=i.reference[d]-i.floating[b]+(x&&((w=o.offset)==null?void 0:w[d])||0)+(x?0:y.crossAxis),S=i.reference[d]+i.reference[b]+(x?0:((v=o.offset)==null?void 0:v[d])||0)-(x?y.crossAxis:0);m<E?m=E:m>S&&(m=S)}return{[f]:h,[d]:m}}}},Dz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...l}=mo(e,t),u=await dh(t,l),d=go(s),f=ed(s),h=wi(s)==="y",{width:m,height:g}=i.floating;let y,w;d==="top"||d==="bottom"?(y=d,w=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=d,y=f==="end"?"top":"bottom");const v=g-u.top-u.bottom,b=m-u.left-u.right,x=Oa(g-u[y],v),E=Oa(m-u[w],b),S=!t.middlewareData.shift;let A=x,C=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(A=v),S&&!f){const j=Mr(u.left,0),M=Mr(u.right,0),L=Mr(u.top,0),B=Mr(u.bottom,0);h?C=m-2*(j!==0||M!==0?j+M:Mr(u.left,u.right)):A=g-2*(L!==0||B!==0?L+B:Mr(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:A});const N=await o.getDimensions(a.floating);return m!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function vy(){return typeof window<"u"}function td(e){return L$(e)?(e.nodeName||"").toLowerCase():"#document"}function Hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $i(e){var t;return(t=(L$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function L$(e){return vy()?e instanceof Node||e instanceof Hr(e).Node:!1}function Ks(e){return vy()?e instanceof Element||e instanceof Hr(e).Element:!1}function Di(e){return vy()?e instanceof HTMLElement||e instanceof Hr(e).HTMLElement:!1}function hN(e){return!vy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hr(e).ShadowRoot}const Oz=new Set(["inline","contents"]);function gp(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Gs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Oz.has(s)}const kz=new Set(["table","td","th"]);function $z(e){return kz.has(td(e))}const Rz=[":popover-open",":modal"];function by(e){return Rz.some(t=>{try{return e.matches(t)}catch{return!1}})}const jz=["transform","translate","scale","rotate","perspective"],Mz=["transform","translate","scale","rotate","perspective","filter"],Lz=["paint","layout","strict","content"];function SC(e){const t=AC(),n=Ks(e)?Gs(e):e;return jz.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Mz.some(r=>(n.willChange||"").includes(r))||Lz.some(r=>(n.contain||"").includes(r))}function Uz(e){let t=ka(e);for(;Di(t)&&!Ru(t);){if(SC(t))return t;if(by(t))return null;t=ka(t)}return null}function AC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Bz=new Set(["html","body","#document"]);function Ru(e){return Bz.has(td(e))}function Gs(e){return Hr(e).getComputedStyle(e)}function xy(e){return Ks(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ka(e){if(td(e)==="html")return e;const t=e.assignedSlot||e.parentNode||hN(e)&&e.host||$i(e);return hN(t)?t.host:t}function U$(e){const t=ka(e);return Ru(t)?e.ownerDocument?e.ownerDocument.body:e.body:Di(t)&&gp(t)?t:U$(t)}function fh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=U$(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Hr(s);if(i){const a=E1(o);return t.concat(o,o.visualViewport||[],gp(s)?s:[],a&&n?fh(a):[])}return t.concat(s,fh(s,[],n))}function E1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function B$(e){const t=Gs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Di(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=p0(n)!==i||p0(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function NC(e){return Ks(e)?e:e.contextElement}function bu(e){const t=NC(e);if(!Di(t))return Ci(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=B$(t);let o=(i?p0(n.width):n.width)/r,a=(i?p0(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Fz=Ci(0);function F$(e){const t=Hr(e);return!AC()||!t.visualViewport?Fz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Hr(e)?!1:t}function Bc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=NC(e);let o=Ci(1);t&&(r?Ks(r)&&(o=bu(r)):o=bu(e));const a=zz(i,n,r)?F$(i):Ci(0);let c=(s.left+a.x)/o.x,l=(s.top+a.y)/o.y,u=s.width/o.x,d=s.height/o.y;if(i){const f=Hr(i),h=r&&Ks(r)?Hr(r):r;let m=f,g=E1(m);for(;g&&r&&h!==m;){const y=bu(g),w=g.getBoundingClientRect(),v=Gs(g),b=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,x=w.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,l*=y.y,u*=y.x,d*=y.y,c+=b,l+=x,m=Hr(g),g=E1(m)}}return g0({width:u,height:d,x:c,y:l})}function Ey(e,t){const n=xy(e).scrollLeft;return t?t.left+n:Bc($i(e)).left+n}function z$(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Ey(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Vz(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=$i(r),a=t?by(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},l=Ci(1);const u=Ci(0),d=Di(r);if((d||!d&&!i)&&((td(r)!=="body"||gp(o))&&(c=xy(r)),Di(r))){const h=Bc(r);l=bu(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=o&&!d&&!i?z$(o,c):Ci(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function Hz(e){return Array.from(e.getClientRects())}function Wz(e){const t=$i(e),n=xy(e),r=e.ownerDocument.body,s=Mr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Mr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ey(e);const a=-n.scrollTop;return Gs(r).direction==="rtl"&&(o+=Mr(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const pN=25;function qz(e,t){const n=Hr(e),r=$i(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=AC();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const l=Ey(r);if(l<=0){const u=r.ownerDocument,d=u.body,f=getComputedStyle(d),h=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-h);m<=pN&&(i-=m)}else l<=pN&&(i+=l);return{width:i,height:o,x:a,y:c}}const Kz=new Set(["absolute","fixed"]);function Gz(e,t){const n=Bc(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Di(e)?bu(e):Ci(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,l=r*i.y;return{width:o,height:a,x:c,y:l}}function mN(e,t,n){let r;if(t==="viewport")r=qz(e,n);else if(t==="document")r=Wz($i(e));else if(Ks(t))r=Gz(t,n);else{const s=F$(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return g0(r)}function V$(e,t){const n=ka(e);return n===t||!Ks(n)||Ru(n)?!1:Gs(n).position==="fixed"||V$(n,t)}function Yz(e,t){const n=t.get(e);if(n)return n;let r=fh(e,[],!1).filter(a=>Ks(a)&&td(a)!=="body"),s=null;const i=Gs(e).position==="fixed";let o=i?ka(e):e;for(;Ks(o)&&!Ru(o);){const a=Gs(o),c=SC(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&Kz.has(s.position)||gp(o)&&!c&&V$(e,o))?r=r.filter(u=>u!==o):s=a,o=ka(o)}return t.set(e,r),r}function Qz(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?by(t)?[]:Yz(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((l,u)=>{const d=mN(t,u,s);return l.top=Mr(d.top,l.top),l.right=Oa(d.right,l.right),l.bottom=Oa(d.bottom,l.bottom),l.left=Mr(d.left,l.left),l},mN(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Xz(e){const{width:t,height:n}=B$(e);return{width:t,height:n}}function Zz(e,t,n){const r=Di(t),s=$i(t),i=n==="fixed",o=Bc(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Ci(0);function l(){c.x=Ey(s)}if(r||!r&&!i)if((td(t)!=="body"||gp(s))&&(a=xy(t)),r){const h=Bc(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&l();i&&!r&&s&&l();const u=s&&!r&&!i?z$(s,a):Ci(0),d=o.left+a.scrollLeft-c.x-u.x,f=o.top+a.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Kw(e){return Gs(e).position==="static"}function gN(e,t){if(!Di(e)||Gs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $i(e)===n&&(n=n.ownerDocument.body),n}function H$(e,t){const n=Hr(e);if(by(e))return n;if(!Di(e)){let s=ka(e);for(;s&&!Ru(s);){if(Ks(s)&&!Kw(s))return s;s=ka(s)}return n}let r=gN(e,t);for(;r&&$z(r)&&Kw(r);)r=gN(r,t);return r&&Ru(r)&&Kw(r)&&!SC(r)?n:r||Uz(e)||n}const Jz=async function(e){const t=this.getOffsetParent||H$,n=this.getDimensions,r=await n(e.floating);return{reference:Zz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eV(e){return Gs(e).direction==="rtl"}const tV={convertOffsetParentRelativeRectToViewportRelativeRect:Vz,getDocumentElement:$i,getClippingRect:Qz,getOffsetParent:H$,getElementRects:Jz,getClientRects:Hz,getDimensions:Xz,getScale:bu,isElement:Ks,isRTL:eV};function W$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nV(e,t){let n=null,r;const s=$i(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=l;if(a||t(),!f||!h)return;const m=vm(d),g=vm(s.clientWidth-(u+f)),y=vm(s.clientHeight-(d+h)),w=vm(u),b={rootMargin:-m+"px "+-g+"px "+-y+"px "+-w+"px",threshold:Mr(0,Oa(1,c))||1};let x=!0;function E(S){const A=S[0].intersectionRatio;if(A!==c){if(!x)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!W$(l,e.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(E,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(e)}return o(!0),i}function rV(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=NC(e),u=s||i?[...l?fh(l):[],...fh(t)]:[];u.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const d=l&&a?nV(l,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(w=>{let[v]=w;v&&v.target===l&&h&&(h.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=h)==null||b.observe(t)})),n()}),l&&!c&&h.observe(l),h.observe(t));let m,g=c?Bc(e):null;c&&y();function y(){const w=Bc(e);g&&!W$(g,w)&&n(),g=w,m=requestAnimationFrame(y)}return n(),()=>{var w;u.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),d==null||d(),(w=h)==null||w.disconnect(),h=null,c&&cancelAnimationFrame(m)}}const sV=_z,iV=Tz,oV=Az,aV=Dz,cV=Nz,yN=Sz,lV=Pz,uV=(e,t,n)=>{const r=new Map,s={platform:tV,...n},i={...s.platform,_c:r};return Cz(e,t,{...s,platform:i})};var dV=typeof document<"u",fV=function(){},Eg=dV?P.useLayoutEffect:fV;function y0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!y0(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!y0(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function q$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wN(e,t){const n=q$(e);return Math.round(t*n)/n}function Gw(e){const t=P.useRef(e);return Eg(()=>{t.current=e}),t}function hV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:l}=e,[u,d]=P.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,h]=P.useState(r);y0(f,r)||h(r);const[m,g]=P.useState(null),[y,w]=P.useState(null),v=P.useCallback(T=>{T!==S.current&&(S.current=T,g(T))},[]),b=P.useCallback(T=>{T!==A.current&&(A.current=T,w(T))},[]),x=i||m,E=o||y,S=P.useRef(null),A=P.useRef(null),C=P.useRef(u),N=c!=null,j=Gw(c),M=Gw(s),L=Gw(l),B=P.useCallback(()=>{if(!S.current||!A.current)return;const T={placement:t,strategy:n,middleware:f};M.current&&(T.platform=M.current),uV(S.current,A.current,T).then($=>{const R={...$,isPositioned:L.current!==!1};U.current&&!y0(C.current,R)&&(C.current=R,pp.flushSync(()=>{d(R)}))})},[f,t,n,M,L]);Eg(()=>{l===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(T=>({...T,isPositioned:!1})))},[l]);const U=P.useRef(!1);Eg(()=>(U.current=!0,()=>{U.current=!1}),[]),Eg(()=>{if(x&&(S.current=x),E&&(A.current=E),x&&E){if(j.current)return j.current(x,E,B);B()}},[x,E,B,j,N]);const I=P.useMemo(()=>({reference:S,floating:A,setReference:v,setFloating:b}),[v,b]),_=P.useMemo(()=>({reference:x,floating:E}),[x,E]),k=P.useMemo(()=>{const T={position:n,left:0,top:0};if(!_.floating)return T;const $=wN(_.floating,u.x),R=wN(_.floating,u.y);return a?{...T,transform:"translate("+$+"px, "+R+"px)",...q$(_.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:R}},[n,a,_.floating,u.x,u.y]);return P.useMemo(()=>({...u,update:B,refs:I,elements:_,floatingStyles:k}),[u,B,I,_,k])}const pV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?yN({element:r.current,padding:s}).fn(n):{}:r?yN({element:r,padding:s}).fn(n):{}}}},mV=(e,t)=>({...sV(e),options:[e,t]}),gV=(e,t)=>({...iV(e),options:[e,t]}),yV=(e,t)=>({...lV(e),options:[e,t]}),wV=(e,t)=>({...oV(e),options:[e,t]}),vV=(e,t)=>({...aV(e),options:[e,t]}),bV=(e,t)=>({...cV(e),options:[e,t]}),xV=(e,t)=>({...pV(e),options:[e,t]});var EV="Arrow",K$=P.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return p.jsx(Sr.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});K$.displayName=EV;var CV=K$;function SV(e){const[t,n]=P.useState(void 0);return Da(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,l=Array.isArray(c)?c[0]:c;o=l.inlineSize,a=l.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var G$="Popper",[Y$,Q$]=my(G$),[$be,X$]=Y$(G$),Z$="PopperAnchor",J$=P.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=X$(Z$,n),o=P.useRef(null),a=qs(t,o),c=P.useRef(null);return P.useEffect(()=>{const l=c.current;c.current=(r==null?void 0:r.current)||o.current,l!==c.current&&i.onAnchorChange(c.current)}),r?null:p.jsx(Sr.div,{...s,ref:a})});J$.displayName=Z$;var IC="PopperContent",[AV,NV]=Y$(IC),e4=P.forwardRef((e,t)=>{var ae,le,we,Oe,ze,gt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...g}=e,y=X$(IC,n),[w,v]=P.useState(null),b=qs(t,Jn=>v(Jn)),[x,E]=P.useState(null),S=SV(x),A=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,N=r+(i!=="center"?"-"+i:""),j=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},M=Array.isArray(l)?l:[l],L=M.length>0,B={padding:j,boundary:M.filter(_V),altBoundary:L},{refs:U,floatingStyles:I,placement:_,isPositioned:k,middlewareData:T}=hV({strategy:"fixed",placement:N,whileElementsMounted:(...Jn)=>rV(...Jn,{animationFrame:h==="always"}),elements:{reference:y.anchor},middleware:[mV({mainAxis:s+C,alignmentAxis:o}),c&&gV({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?yV():void 0,...B}),c&&wV({...B}),vV({...B,apply:({elements:Jn,rects:In,availableWidth:Qs,availableHeight:Xs})=>{const{width:Zr,height:So}=In.reference,zt=Jn.floating.style;zt.setProperty("--radix-popper-available-width",`${Qs}px`),zt.setProperty("--radix-popper-available-height",`${Xs}px`),zt.setProperty("--radix-popper-anchor-width",`${Zr}px`),zt.setProperty("--radix-popper-anchor-height",`${So}px`)}}),x&&xV({element:x,padding:a}),TV({arrowWidth:A,arrowHeight:C}),f&&bV({strategy:"referenceHidden",...B})]}),[$,R]=r4(_),z=Pa(m);Da(()=>{k&&(z==null||z())},[k,z]);const W=(ae=T.arrow)==null?void 0:ae.x,V=(le=T.arrow)==null?void 0:le.y,H=((we=T.arrow)==null?void 0:we.centerOffset)!==0,[Q,oe]=P.useState();return Da(()=>{w&&oe(window.getComputedStyle(w).zIndex)},[w]),p.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:k?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(Oe=T.transformOrigin)==null?void 0:Oe.x,(ze=T.transformOrigin)==null?void 0:ze.y].join(" "),...((gt=T.hide)==null?void 0:gt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:p.jsx(AV,{scope:n,placedSide:$,onArrowChange:E,arrowX:W,arrowY:V,shouldHideArrow:H,children:p.jsx(Sr.div,{"data-side":$,"data-align":R,...g,ref:b,style:{...g.style,animation:k?void 0:"none"}})})})});e4.displayName=IC;var t4="PopperArrow",IV={top:"bottom",right:"left",bottom:"top",left:"right"},n4=P.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=NV(t4,r),o=IV[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(CV,{...s,ref:n,style:{...s.style,display:"block"}})})});n4.displayName=t4;function _V(e){return e!==null}var TV=e=>({name:"transformOrigin",options:e,fn(t){var y,w,v;const{placement:n,rects:r,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[l,u]=r4(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,h=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let m="",g="";return l==="bottom"?(m=o?d:`${f}px`,g=`${-c}px`):l==="top"?(m=o?d:`${f}px`,g=`${r.floating.height+c}px`):l==="right"?(m=`${-c}px`,g=o?d:`${h}px`):l==="left"&&(m=`${r.floating.width+c}px`,g=o?d:`${h}px`),{data:{x:m,y:g}}}});function r4(e){const[t,n="center"]=e.split("-");return[t,n]}var PV=J$,DV=e4,OV=n4,[Cy]=my("Tooltip",[Q$]),_C=Q$(),s4="TooltipProvider",kV=700,vN="tooltip.open",[$V,i4]=Cy(s4),o4=e=>{const{__scopeTooltip:t,delayDuration:n=kV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=P.useRef(!0),a=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const l=c.current;return()=>window.clearTimeout(l)},[]),p.jsx($V,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:P.useCallback(l=>{a.current=l},[]),disableHoverableContent:s,children:i})};o4.displayName=s4;var a4="Tooltip",[Rbe,Sy]=Cy(a4),C1="TooltipTrigger",RV=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Sy(C1,n),i=i4(C1,n),o=_C(n),a=P.useRef(null),c=qs(t,a,s.onTriggerChange),l=P.useRef(!1),u=P.useRef(!1),d=P.useCallback(()=>l.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(PV,{asChild:!0,...o,children:p.jsx(Sr.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Qt(e.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Qt(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Qt(e.onPointerDown,()=>{s.open&&s.onClose(),l.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Qt(e.onFocus,()=>{l.current||s.onOpen()}),onBlur:Qt(e.onBlur,s.onClose),onClick:Qt(e.onClick,s.onClose)})})});RV.displayName=C1;var jV="TooltipPortal",[jbe,MV]=Cy(jV,{forceMount:void 0}),ju="TooltipContent",c4=P.forwardRef((e,t)=>{const n=MV(ju,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Sy(ju,e.__scopeTooltip);return p.jsx(fC,{present:r||o.open,children:o.disableHoverableContent?p.jsx(l4,{side:s,...i,ref:t}):p.jsx(LV,{side:s,...i,ref:t})})}),LV=P.forwardRef((e,t)=>{const n=Sy(ju,e.__scopeTooltip),r=i4(ju,e.__scopeTooltip),s=P.useRef(null),i=qs(t,s),[o,a]=P.useState(null),{trigger:c,onClose:l}=n,u=s.current,{onPointerInTransitChange:d}=r,f=P.useCallback(()=>{a(null),d(!1)},[d]),h=P.useCallback((m,g)=>{const y=m.currentTarget,w={x:m.clientX,y:m.clientY},v=VV(w,y.getBoundingClientRect()),b=HV(w,v),x=WV(g.getBoundingClientRect()),E=KV([...b,...x]);a(E),d(!0)},[d]);return P.useEffect(()=>()=>f(),[f]),P.useEffect(()=>{if(c&&u){const m=y=>h(y,u),g=y=>h(y,c);return c.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[c,u,h,f]),P.useEffect(()=>{if(o){const m=g=>{const y=g.target,w={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),b=!qV(w,o);v?f():b&&(f(),l())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,u,o,l,f]),p.jsx(l4,{...e,ref:i})}),[UV,BV]=Cy(a4,{isInside:!1}),FV=l9("TooltipContent"),l4=P.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,c=Sy(ju,n),l=_C(n),{onClose:u}=c;return P.useEffect(()=>(document.addEventListener(vN,u),()=>document.removeEventListener(vN,u)),[u]),P.useEffect(()=>{if(c.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(c.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,u]),p.jsx(dC,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(DV,{"data-state":c.stateAttribute,...l,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(FV,{children:r}),p.jsx(UV,{scope:n,isInside:!0,children:p.jsx($9,{id:c.contentId,role:"tooltip",children:s||r})})]})})});c4.displayName=ju;var u4="TooltipArrow",zV=P.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=_C(n);return BV(u4,n).isInside?null:p.jsx(OV,{...s,...r,ref:t})});zV.displayName=u4;function VV(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function HV(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function WV(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function qV(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i],c=t[o],l=a.x,u=a.y,d=c.x,f=c.y;u>r!=f>r&&n<(d-l)*(r-u)/(f-u)+l&&(s=!s)}return s}function KV(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),GV(t)}function GV(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var YV=o4,d4=c4;const QV=YV,XV=P.forwardRef(({className:e,sideOffset:t=4,...n},r)=>p.jsx(d4,{ref:r,sideOffset:t,className:Xn("z-50 overflow-hidden rounded-md border border-border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));XV.displayName=d4.displayName;class Ay{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const TC=typeof window>"u"||"Deno"in window;function js(){}function ZV(e,t){return typeof e=="function"?e(t):e}function JV(e){return typeof e=="number"&&e>=0&&e!==1/0}function eH(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bm(e,t,n){return Ny(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function Xo(e,t,n){return Ny(e)?[{...t,queryKey:e},n]:[e||{},t]}function bN(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(Ny(o)){if(r){if(t.queryHash!==PC(o,t.options))return!1}else if(!w0(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||typeof s<"u"&&s!==t.state.fetchStatus||i&&!i(t))}function xN(e,t){const{exact:n,fetching:r,predicate:s,mutationKey:i}=e;if(Ny(i)){if(!t.options.mutationKey)return!1;if(n){if(mc(t.options.mutationKey)!==mc(i))return!1}else if(!w0(t.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||s&&!s(t))}function PC(e,t){return((t==null?void 0:t.queryKeyHashFn)||mc)(e)}function mc(e){return JSON.stringify(e,(t,n)=>S1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function w0(e,t){return f4(e,t)}function f4(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!f4(e[n],t[n])):!1}function h4(e,t){if(e===t)return e;const n=EN(e)&&EN(t);if(n||S1(e)&&S1(t)){const r=n?e.length:Object.keys(e).length,s=n?t:Object.keys(t),i=s.length,o=n?[]:{};let a=0;for(let c=0;c<i;c++){const l=n?c:s[c];o[l]=h4(e[l],t[l]),o[l]===e[l]&&a++}return r===i&&a===r?e:o}return t}function EN(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function S1(e){if(!CN(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!CN(n)||!n.hasOwnProperty("isPrototypeOf"))}function CN(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ny(e){return Array.isArray(e)}function p4(e){return new Promise(t=>{setTimeout(t,e)})}function SN(e){p4(0).then(e)}function tH(){if(typeof AbortController=="function")return new AbortController}function nH(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?h4(e,t):t}class rH extends Ay{constructor(){super(),this.setup=t=>{if(!TC&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const A1=new rH,AN=["online","offline"];class sH extends Ay{constructor(){super(),this.setup=t=>{if(!TC&&window.addEventListener){const n=()=>t();return AN.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{AN.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const v0=new sH;function iH(e){return Math.min(1e3*2**e,3e4)}function DC(e){return(e??"online")==="online"?v0.isOnline():!0}class m4{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function Yw(e){return e instanceof m4}function g4(e){let t=!1,n=0,r=!1,s,i,o;const a=new Promise((y,w)=>{i=y,o=w}),c=y=>{r||(h(new m4(y)),e.abort==null||e.abort())},l=()=>{t=!0},u=()=>{t=!1},d=()=>!A1.isFocused()||e.networkMode!=="always"&&!v0.isOnline(),f=y=>{r||(r=!0,e.onSuccess==null||e.onSuccess(y),s==null||s(),i(y))},h=y=>{r||(r=!0,e.onError==null||e.onError(y),s==null||s(),o(y))},m=()=>new Promise(y=>{s=w=>{const v=r||!d();return v&&y(w),v},e.onPause==null||e.onPause()}).then(()=>{s=void 0,r||e.onContinue==null||e.onContinue()}),g=()=>{if(r)return;let y;try{y=e.fn()}catch(w){y=Promise.reject(w)}Promise.resolve(y).then(f).catch(w=>{var v,b;if(r)return;const x=(v=e.retry)!=null?v:3,E=(b=e.retryDelay)!=null?b:iH,S=typeof E=="function"?E(n,w):E,A=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,w);if(t||!A){h(w);return}n++,e.onFail==null||e.onFail(n,w),p4(S).then(()=>{if(d())return m()}).then(()=>{t?h(w):g()})})};return DC(e.networkMode)?g():m().then(g),{promise:a,cancel:c,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:l,continueRetry:u}}const OC=console;function oH(){let e=[],t=0,n=u=>{u()},r=u=>{u()};const s=u=>{let d;t++;try{d=u()}finally{t--,t||a()}return d},i=u=>{t?e.push(u):SN(()=>{n(u)})},o=u=>(...d)=>{i(()=>{u(...d)})},a=()=>{const u=e;e=[],u.length&&SN(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:s,batchCalls:o,schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u}}}const Hn=oH();class y4{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JV(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(TC?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class aH extends y4{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||OC,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||cH(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=nH(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(js).catch(js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!eH(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const o=tH(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(a);const l=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};if(c(u),(r=this.options.behavior)==null||r.onFetch(u),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=u.fetchOptions)==null?void 0:s.meta)){var d;this.dispatch({type:"fetch",meta:(d=u.fetchOptions)==null?void 0:d.meta})}const f=h=>{if(Yw(h)&&h.silent||this.dispatch({type:"error",error:h}),!Yw(h)){var m,g,y,w;(m=(g=this.cache.config).onError)==null||m.call(g,h,this),(y=(w=this.cache.config).onSettled)==null||y.call(w,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=g4({fn:u.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:h=>{var m,g,y,w;if(typeof h>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(m=(g=this.cache.config).onSuccess)==null||m.call(g,h,this),(y=(w=this.cache.config).onSettled)==null||y.call(w,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(h,m)=>{this.dispatch({type:"failed",failureCount:h,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var s,i;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=t.meta)!=null?s:null,fetchStatus:DC(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=t.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return Yw(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function cH(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class lH extends Ay{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var s;const i=n.queryKey,o=(s=n.queryHash)!=null?s:PC(i,n);let a=this.get(o);return a||(a=new aH({cache:this,logger:t.getLogger(),queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){Hn.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=Xo(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>bN(r,s))}findAll(t,n){const[r]=Xo(t,n);return Object.keys(r).length>0?this.queries.filter(s=>bN(r,s)):this.queries}notify(t){Hn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){Hn.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){Hn.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class uH extends y4{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||OC,this.observers=[],this.state=t.state||dH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var A;return this.retryer=g4({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(C,N)=>{this.dispatch({type:"failed",failureCount:C,error:N})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(A=this.options.retry)!=null?A:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,s,i,o,a,c,l,u;if(!n){var d,f,h,m;this.dispatch({type:"loading",variables:this.options.variables}),await((d=(f=this.mutationCache.config).onMutate)==null?void 0:d.call(f,this.state.variables,this));const C=await((h=(m=this.options).onMutate)==null?void 0:h.call(m,this.state.variables));C!==this.state.context&&this.dispatch({type:"loading",context:C,variables:this.state.variables})}const A=await t();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,A,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,A,this.state.variables,this.state.context)),await((a=(c=this.mutationCache.config).onSettled)==null?void 0:a.call(c,A,null,this.state.variables,this.state.context,this)),await((l=(u=this.options).onSettled)==null?void 0:l.call(u,A,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:A}),A}catch(A){try{var g,y,w,v,b,x,E,S;throw await((g=(y=this.mutationCache.config).onError)==null?void 0:g.call(y,A,this.state.variables,this.state.context,this)),await((w=(v=this.options).onError)==null?void 0:w.call(v,A,this.state.variables,this.state.context)),await((b=(x=this.mutationCache.config).onSettled)==null?void 0:b.call(x,void 0,A,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,A,this.state.variables,this.state.context)),A}finally{this.dispatch({type:"error",error:A})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!DC(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),Hn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function dH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class fH extends Ay{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const s=new uH({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(s),s}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){Hn.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>xN(t,n))}findAll(t){return this.mutations.filter(n=>xN(t,n))}notify(t){Hn.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Hn.batch(()=>n.reduce((r,s)=>r.then(()=>s.continue().catch(js)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function hH(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,s,i,o;const a=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,c=(r=e.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,l=c==null?void 0:c.pageParam,u=(c==null?void 0:c.direction)==="forward",d=(c==null?void 0:c.direction)==="backward",f=((i=e.state.data)==null?void 0:i.pages)||[],h=((o=e.state.data)==null?void 0:o.pageParams)||[];let m=h,g=!1;const y=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>{var A;if((A=e.signal)!=null&&A.aborted)g=!0;else{var C;(C=e.signal)==null||C.addEventListener("abort",()=>{g=!0})}return e.signal}})},w=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),v=(S,A,C,N)=>(m=N?[A,...m]:[...m,A],N?[C,...S]:[...S,C]),b=(S,A,C,N)=>{if(g)return Promise.reject("Cancelled");if(typeof C>"u"&&!A&&S.length)return Promise.resolve(S);const j={queryKey:e.queryKey,pageParam:C,meta:e.options.meta};y(j);const M=w(j);return Promise.resolve(M).then(B=>v(S,C,B,N))};let x;if(!f.length)x=b([]);else if(u){const S=typeof l<"u",A=S?l:NN(e.options,f);x=b(f,S,A)}else if(d){const S=typeof l<"u",A=S?l:pH(e.options,f);x=b(f,S,A,!0)}else{m=[];const S=typeof e.options.getNextPageParam>"u";x=(a&&f[0]?a(f[0],0,f):!0)?b([],S,h[0]):Promise.resolve(v([],h[0],f[0]));for(let C=1;C<f.length;C++)x=x.then(N=>{if(a&&f[C]?a(f[C],C,f):!0){const M=S?h[C]:NN(e.options,N);return b(N,S,M)}return Promise.resolve(v(N,h[C],f[C]))})}return x.then(S=>({pages:S,pageParams:m}))}}}}function NN(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function pH(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class mH{constructor(t={}){this.queryCache=t.queryCache||new lH,this.mutationCache=t.mutationCache||new fH,this.logger=t.logger||OC,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=A1.subscribe(()=>{A1.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=v0.subscribe(()=>{v0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=Xo(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const s=bm(t,n,r),i=this.getQueryData(s.queryKey);return i?Promise.resolve(i):this.fetchQuery(s)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(t,n,r){const s=this.queryCache.find(t),i=s==null?void 0:s.state.data,o=ZV(n,i);if(typeof o>"u")return;const a=bm(t),c=this.defaultQueryOptions(a);return this.queryCache.build(this,c).setData(o,{...r,manual:!0})}setQueriesData(t,n,r){return Hn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=Xo(t,n),s=this.queryCache;Hn.batch(()=>{s.findAll(r).forEach(i=>{s.remove(i)})})}resetQueries(t,n,r){const[s,i]=Xo(t,n,r),o=this.queryCache,a={type:"active",...s};return Hn.batch(()=>(o.findAll(s).forEach(c=>{c.reset()}),this.refetchQueries(a,i)))}cancelQueries(t,n,r){const[s,i={}]=Xo(t,n,r);typeof i.revert>"u"&&(i.revert=!0);const o=Hn.batch(()=>this.queryCache.findAll(s).map(a=>a.cancel(i)));return Promise.all(o).then(js).catch(js)}invalidateQueries(t,n,r){const[s,i]=Xo(t,n,r);return Hn.batch(()=>{var o,a;if(this.queryCache.findAll(s).forEach(l=>{l.invalidate()}),s.refetchType==="none")return Promise.resolve();const c={...s,type:(o=(a=s.refetchType)!=null?a:s.type)!=null?o:"active"};return this.refetchQueries(c,i)})}refetchQueries(t,n,r){const[s,i]=Xo(t,n,r),o=Hn.batch(()=>this.queryCache.findAll(s).filter(c=>!c.isDisabled()).map(c=>{var l;return c.fetch(void 0,{...i,cancelRefetch:(l=i==null?void 0:i.cancelRefetch)!=null?l:!0,meta:{refetchPage:s.refetchPage}})}));let a=Promise.all(o).then(js);return i!=null&&i.throwOnError||(a=a.catch(js)),a}fetchQuery(t,n,r){const s=bm(t,n,r),i=this.defaultQueryOptions(s);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(js).catch(js)}fetchInfiniteQuery(t,n,r){const s=bm(t,n,r);return s.behavior=hH(),this.fetchQuery(s)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(js).catch(js)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(s=>mc(t)===mc(s.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>w0(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(s=>mc(t)===mc(s.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>w0(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=PC(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}const IN=P.createContext(void 0),gH=P.createContext(!1);function yH(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=IN),window.ReactQueryClientContext):IN)}const wH=({client:e,children:t,context:n,contextSharing:r=!1})=>{P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const s=yH(n,r);return P.createElement(gH.Provider,{value:!n&&r},P.createElement(s.Provider,{value:e},t))};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(this,arguments)}var ca;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ca||(ca={}));const _N="popstate";function vH(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return N1("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:b0(s)}return xH(t,n,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function w4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bH(){return Math.random().toString(36).substr(2,8)}function TN(e,t){return{usr:e.state,key:e.key,idx:t}}function N1(e,t,n,r){return n===void 0&&(n=null),hh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nd(t):t,{state:n,key:t&&t.key||r||bH()})}function b0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function xH(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ca.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(hh({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ca.Pop;let y=u(),w=y==null?null:y-l;l=y,c&&c({action:a,location:g.location,delta:w})}function f(y,w){a=ca.Push;let v=N1(g.location,y,w);l=u()+1;let b=TN(v,l),x=g.createHref(v);try{o.pushState(b,"",x)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(x)}i&&c&&c({action:a,location:g.location,delta:1})}function h(y,w){a=ca.Replace;let v=N1(g.location,y,w);l=u();let b=TN(v,l),x=g.createHref(v);o.replaceState(b,"",x),i&&c&&c({action:a,location:g.location,delta:0})}function m(y){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:b0(y);return v=v.replace(/ $/,"%20"),Ft(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(_N,d),c=y,()=>{s.removeEventListener(_N,d),c=null}},createHref(y){return t(s,y)},createURL:m,encodeLocation(y){let w=m(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:h,go(y){return o.go(y)}};return g}var PN;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(PN||(PN={}));function EH(e,t,n){return n===void 0&&(n="/"),CH(e,t,n)}function CH(e,t,n,r){let s=typeof t=="string"?nd(t):t,i=kC(s.pathname||"/",n);if(i==null)return null;let o=v4(e);SH(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=jH(i);a=kH(o[c],l)}return a}function v4(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ft(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=Ea([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),v4(i.children,t,u,l)),!(i.path==null&&!i.index)&&t.push({path:l,score:DH(l,i.index),routesMeta:u})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of b4(i.path))s(i,o,c)}),t}function b4(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=b4(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function SH(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:OH(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AH=/^:[\w-]+$/,NH=3,IH=2,_H=1,TH=10,PH=-2,DN=e=>e==="*";function DH(e,t){let n=e.split("/"),r=n.length;return n.some(DN)&&(r+=PH),t&&(r+=IH),n.filter(s=>!DN(s)).reduce((s,i)=>s+(AH.test(i)?NH:i===""?_H:TH),r)}function OH(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function kH(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=i==="/"?t:t.slice(i.length)||"/",d=$H({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ea([i,d.pathname]),pathnameBase:BH(Ea([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Ea([i,d.pathnameBase]))}return o}function $H(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=RH(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let g=a[d]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return h&&!m?l[f]=void 0:l[f]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:i,pathnameBase:o,pattern:e}}function RH(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),w4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function jH(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return w4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function MH(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?nd(e):e;return{pathname:n?n.startsWith("/")?n:LH(n,t):t,search:FH(r),hash:zH(s)}}function LH(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function x4(e,t){let n=UH(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function E4(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=nd(e):(s=hh({},e),Ft(!s.pathname||!s.pathname.includes("?"),Qw("?","pathname","search",s)),Ft(!s.pathname||!s.pathname.includes("#"),Qw("#","pathname","hash",s)),Ft(!s.search||!s.search.includes("#"),Qw("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let c=MH(s,a),l=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Ea=e=>e.join("/").replace(/\/\/+/g,"/"),BH=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),FH=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zH=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const C4=["post","put","patch","delete"];new Set(C4);const HH=["get",...C4];new Set(HH);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(this,arguments)}const $C=P.createContext(null),WH=P.createContext(null),Zc=P.createContext(null),Iy=P.createContext(null),Fa=P.createContext({outlet:null,matches:[],isDataRoute:!1}),S4=P.createContext(null);function qH(e,t){let{relative:n}=t===void 0?{}:t;yp()||Ft(!1);let{basename:r,navigator:s}=P.useContext(Zc),{hash:i,pathname:o,search:a}=N4(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Ea([r,o])),s.createHref({pathname:c,search:a,hash:i})}function yp(){return P.useContext(Iy)!=null}function _y(){return yp()||Ft(!1),P.useContext(Iy).location}function A4(e){P.useContext(Zc).static||P.useLayoutEffect(e)}function KH(){let{isDataRoute:e}=P.useContext(Fa);return e?aW():GH()}function GH(){yp()||Ft(!1);let e=P.useContext($C),{basename:t,future:n,navigator:r}=P.useContext(Zc),{matches:s}=P.useContext(Fa),{pathname:i}=_y(),o=JSON.stringify(x4(s,n.v7_relativeSplatPath)),a=P.useRef(!1);return A4(()=>{a.current=!0}),P.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=E4(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ea([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,o,i,e])}function YH(){let{matches:e}=P.useContext(Fa),t=e[e.length-1];return t?t.params:{}}function N4(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=P.useContext(Zc),{matches:s}=P.useContext(Fa),{pathname:i}=_y(),o=JSON.stringify(x4(s,r.v7_relativeSplatPath));return P.useMemo(()=>E4(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function QH(e,t){return XH(e,t)}function XH(e,t,n,r){yp()||Ft(!1);let{navigator:s}=P.useContext(Zc),{matches:i}=P.useContext(Fa),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let l=_y(),u;if(t){var d;let y=typeof t=="string"?nd(t):t;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||Ft(!1),u=y}else u=l;let f=u.pathname||"/",h=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=EH(e,{pathname:h}),g=nW(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Ea([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Ea([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&g?P.createElement(Iy.Provider,{value:{location:ph({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ca.Pop}},g):g}function ZH(){let e=oW(),t=VH(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:s},n):null,null)}const JH=P.createElement(ZH,null);class eW extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?P.createElement(Fa.Provider,{value:this.props.routeContext},P.createElement(S4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tW(e){let{routeContext:t,match:n,children:r}=e,s=P.useContext($C);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Fa.Provider,{value:t},r)}function nW(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Ft(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let h,m=!1,g=null,y=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||JH,c&&(l<0&&f===0?(cW("route-fallback"),m=!0,y=null):l===f&&(m=!0,y=d.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,f+1)),v=()=>{let b;return h?b=g:m?b=y:d.route.Component?b=P.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=u,P.createElement(tW,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?P.createElement(eW,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var I4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(I4||{}),_4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_4||{});function rW(e){let t=P.useContext($C);return t||Ft(!1),t}function sW(e){let t=P.useContext(WH);return t||Ft(!1),t}function iW(e){let t=P.useContext(Fa);return t||Ft(!1),t}function T4(e){let t=iW(),n=t.matches[t.matches.length-1];return n.route.id||Ft(!1),n.route.id}function oW(){var e;let t=P.useContext(S4),n=sW(),r=T4();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function aW(){let{router:e}=rW(I4.UseNavigateStable),t=T4(_4.UseNavigateStable),n=P.useRef(!1);return A4(()=>{n.current=!0}),P.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ph({fromRouteId:t},i)))},[e,t])}const ON={};function cW(e,t,n){ON[e]||(ON[e]=!0)}function lW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ko(e){Ft(!1)}function uW(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ca.Pop,navigator:i,static:o=!1,future:a}=e;yp()&&Ft(!1);let c=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:c,navigator:i,static:o,future:ph({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=nd(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=P.useMemo(()=>{let y=kC(u,c);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:m},navigationType:s}},[c,u,d,f,h,m,s]);return g==null?null:P.createElement(Zc.Provider,{value:l},P.createElement(Iy.Provider,{children:n,value:g}))}function dW(e){let{children:t,location:n}=e;return QH(I1(t),n)}new Promise(()=>{});function I1(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(r,s)=>{if(!P.isValidElement(r))return;let i=[...t,s];if(r.type===P.Fragment){n.push.apply(n,I1(r.props.children,i));return}r.type!==Ko&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=I1(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_1.apply(this,arguments)}function fW(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function hW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pW(e,t){return e.button===0&&(!t||t==="_self")&&!hW(e)}const mW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gW="6";try{window.__reactRouterVersion=gW}catch{}const yW="startTransition",kN=RD[yW];function wW(e){let{basename:t,children:n,future:r,window:s}=e,i=P.useRef();i.current==null&&(i.current=vH({window:s,v5Compat:!0}));let o=i.current,[a,c]=P.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=P.useCallback(d=>{l&&kN?kN(()=>c(d)):c(d)},[c,l]);return P.useLayoutEffect(()=>o.listen(u),[o,u]),P.useEffect(()=>lW(r),[r]),P.createElement(uW,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const vW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gi=P.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:d}=t,f=fW(t,mW),{basename:h}=P.useContext(Zc),m,g=!1;if(typeof l=="string"&&bW.test(l)&&(m=l,vW))try{let b=new URL(window.location.href),x=l.startsWith("//")?new URL(b.protocol+l):new URL(l),E=kC(x.pathname,h);x.origin===b.origin&&E!=null?l=E+x.search+x.hash:g=!0}catch{}let y=qH(l,{relative:s}),w=xW(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:s,viewTransition:d});function v(b){r&&r(b),b.defaultPrevented||w(b)}return P.createElement("a",_1({},f,{href:m||y,onClick:g||i?r:v,ref:n,target:c}))});var $N;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($N||($N={}));var RN;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(RN||(RN={}));function xW(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=KH(),l=_y(),u=N4(e,{relative:o});return P.useCallback(d=>{if(pW(d,n)){d.preventDefault();let f=r!==void 0?r:b0(l)===b0(u);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[l,c,u,r,s,n,e,i,o,a])}const ke=P.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Xn("rounded-lg border border-border bg-card text-card-foreground shadow-sm",e),...t}));ke.displayName="Card";const ot=P.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Xn("flex flex-col space-y-1.5 p-6",e),...t}));ot.displayName="CardHeader";const at=P.forwardRef(({className:e,...t},n)=>p.jsx("h3",{ref:n,className:Xn("text-2xl font-semibold leading-none tracking-tight",e),...t}));at.displayName="CardTitle";const It=P.forwardRef(({className:e,...t},n)=>p.jsx("p",{ref:n,className:Xn("text-sm text-muted-foreground",e),...t}));It.displayName="CardDescription";const $e=P.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Xn("p-6 pt-0",e),...t}));$e.displayName="CardContent";const EW=P.forwardRef(({className:e,...t},n)=>p.jsx("div",{ref:n,className:Xn("flex items-center p-6 pt-0",e),...t}));EW.displayName="CardFooter";const CW=gC("inline-flex items-center rounded-full border border-border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rd({className:e,variant:t,...n}){return p.jsx("div",{className:Xn(CW({variant:t}),e),...n})}const SW=gC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-border bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=P.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?a9:"button";return p.jsx(o,{className:Xn(SW({variant:t,size:n,className:e})),ref:i,...s})});Ee.displayName="Button";const jN=e=>{let t;const n=new Set,r=(l,u)=>{const d=typeof l=="function"?l(t):l;if(!Object.is(d,t)){const f=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(h=>h(t,f))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=t=e(r,s,a);return a},AW=e=>e?jN(e):jN,NW=e=>e;function IW(e,t=NW){const n=X.useSyncExternalStore(e.subscribe,X.useCallback(()=>t(e.getState()),[e,t]),X.useCallback(()=>t(e.getInitialState()),[e,t]));return X.useDebugValue(n),n}const MN=e=>{const t=AW(e),n=r=>IW(t,r);return Object.assign(n,t),n},_W=e=>e?MN(e):MN,wp=_W(e=>({isConnected:!1,userAddress:null,network:"testnet",setConnected:t=>e({isConnected:!0,userAddress:t}),setDisconnected:()=>e({isConnected:!1,userAddress:null}),setNetwork:t=>e({network:t})})),P4={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(P4);class TW extends Error{constructor(t){super();let n=t.message,r=`Error Code: ${t.code}`,s=this.stack;if(s)r+=`Stack Trace:
${s}`;else try{throw new Error}catch(i){s=i.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${r}`,this.message=n,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class RC extends TW{constructor(t){super({code:P4.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}}function PW(e,t){return MC(D4(e),t)}function D4(e){if(typeof e=="bigint")return e;if(typeof e=="string")return BigInt(e);if(typeof e=="number"){if(!Number.isInteger(e))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(e>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(e)}if(MW(e,Uint8Array))return BigInt(`0x${vp(e)}`);throw new TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function DW(e){return/^0x/i.test(e)?e.slice(2):e}function jC(e,t=8){return(typeof e=="bigint"?e:D4(e)).toString(16).padStart(t*2,"0")}function MC(e,t=16){const n=jC(e,t);return Fc(n)}function OW(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}const kW=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vp(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(const n of e)t+=kW[n];return t}function Fc(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);e=DW(e),e=e.length%2?`0${e}`:e;const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function Ty(e){return new TextEncoder().encode(e)}function $W(e){return new TextDecoder().decode(e)}function RW(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function jW(e){return!Number.isInteger(e)||e<0||e>255}function LN(e){if(e.some(jW))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}function LC(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function Co(e){return LC(...e.map(t=>typeof t=="number"?LN([t]):t instanceof Array?LN(t):t))}function MW(e,t){var n,r;return e instanceof t||((r=(n=e==null?void 0:e.constructor)==null?void 0:n.name)==null?void 0:r.toLowerCase())===t.name}function Py(e,t,n=0){return e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t,e}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function O4(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function LW(e,...t){if(!O4(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function k4(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function mh(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function UC(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function T1(e){if(!Array.isArray(e))throw new Error("array expected")}function x0(e,t){if(!k4(!0,t))throw new Error(`${e}: array of strings expected`)}function UW(e,t){if(!k4(!1,t))throw new Error(`${e}: array of numbers expected`)}function $4(...e){const t=i=>i,n=(i,o)=>a=>i(o(a)),r=e.map(i=>i.encode).reduceRight(n,t),s=e.map(i=>i.decode).reduce(n,t);return{encode:r,decode:s}}function R4(e){const t=typeof e=="string"?e.split(""):e,n=t.length;x0("alphabet",t);const r=new Map(t.map((s,i)=>[s,i]));return{encode:s=>(T1(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${e}`);return t[i]})),decode:s=>(T1(s),s.map(i=>{mh("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${e}`);return o}))}}function j4(e=""){return mh("join",e),{encode:t=>(x0("join.decode",t),t.join(e)),decode:t=>(mh("join.decode",t),t.split(e))}}function M4(e,t="="){return UC(e),mh("padding",t),{encode(n){for(x0("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){x0("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}const L4=(e,t)=>t===0?e:L4(t,e%t),E0=(e,t)=>e+(t-L4(e,t)),Xw=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function UN(e,t,n,r){if(T1(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(E0(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${E0(t,n)}`);let s=0,i=0;const o=Xw[t],a=Xw[n]-1,c=[];for(const l of e){if(UC(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(s=s<<t|l,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)c.push((s>>i-n&a)>>>0);const u=Xw[i];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<n-i&a,!r&&i>=t)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&c.push(s>>>0),c}function U4(e,t=!1){if(UC(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(E0(8,e)>32||E0(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!O4(n))throw new Error("radix2.encode input should be Uint8Array");return UN(Array.from(n),8,e,!t)},decode:n=>(UW("radix2.decode",n),Uint8Array.from(UN(n,e,8,t)))}}const BW=$4(U4(5),R4("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),M4(5),j4("")),FW=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",zW=(e,t)=>{mh("base64",e);const n=/^[A-Za-z0-9=+/]+$/,r="base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},B4=FW?{encode(e){return LW(e),e.toBase64()},decode(e){return zW(e)}}:$4(U4(6),R4("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),M4(6),j4("")),F4="STX_PROVIDER",VW=()=>typeof window>"u"?null:window.localStorage.getItem(F4),HW=e=>{typeof window<"u"&&window.localStorage.setItem(F4,e)},WW=()=>{if(typeof window>"u")return[];const e=window.webbtc_stx_providers||[],t=window.wbip_providers||[];return[...e,...t]},qW=(e=[])=>{if(typeof window>"u")return[];const t=WW(),n=e.filter(r=>t.find(i=>i.id===r.id)?!1:!!BC(r.id));return t.concat(n)},KW=()=>{const e=VW();return BC(e)},BC=e=>e==null?void 0:e.split(".").reduce((t,n)=>t==null?void 0:t[n],window),GW="modulepreload",YW=function(e){return"/"+e},BN={},gh=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=YW(c),c in BN)return;BN[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":GW,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},QW="connect-ui",C0={hydratedSelectorName:"hydrated",lazyLoad:!0,updatable:!0,watchCallback:!1};var XW=Object.defineProperty,ZW=(e,t)=>{for(var n in t)XW(e,n,{get:t[n],enumerable:!0})},JW="http://www.w3.org/2000/svg",eq="http://www.w3.org/1999/xhtml",Vs=e=>{if(e.__stencil__getHostRef)return e.__stencil__getHostRef()},Mbe=(e,t)=>{e.__stencil__getHostRef=()=>t,t.$lazyInstance$=e},tq=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(s=>n.$onReadyResolve$=s),e["s-p"]=[],e["s-rc"]=[];const r=n;return e.__stencil__getHostRef=()=>r,r},FN=(e,t)=>t in e,Mu=(e,t)=>(0,console.error)(e,t),Zw=new Map,nq=(e,t,n)=>{const r=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$;if(!s)return;const i=Zw.get(s);if(i)return i[r];{const o=a=>(Zw.set(s,a),a[r]);switch(s){case"connect-modal":return gh(()=>import("./connect-modal.entry-B7ghsquZ.js"),[]).then(o,Mu)}}return gh(()=>import(`./${s}.entry.js`),[]).then(o=>(Zw.set(s,o),o[r]),o=>{Mu(o,t.$hostElement$)})},S0=new Map,rq="{visibility:hidden}.hydrated{visibility:inherit}",z4="slot-fb{display:contents}slot-fb[hidden]{display:none}",bn=typeof window<"u"?window:{},wn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},sq=e=>Promise.resolve(e),FC=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),P1=FC?!!bn.document&&Object.getOwnPropertyDescriptor(bn.document.adoptedStyleSheets,"length").writable:!1,D1=!1,zN=[],V4=[],iq=(e,t)=>n=>{e.push(n),D1||(D1=!0,wn.$flags$&4?zC(O1):wn.raf(O1))},VN=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Mu(n)}e.length=0},O1=()=>{VN(zN),VN(V4),(D1=zN.length>0)&&wn.raf(O1)},zC=e=>sq().then(e),oq=iq(V4),VC=e=>(e=typeof e,e==="object"||e==="function");function H4(e){var t,n,r;return(r=(n=(t=e.head)==null?void 0:t.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var aq=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),cq={};ZW(cq,{err:()=>W4,map:()=>lq,ok:()=>k1,unwrap:()=>uq,unwrapErr:()=>dq});var k1=e=>({isOk:!0,isErr:!1,value:e}),W4=e=>({isOk:!1,isErr:!0,value:e});function lq(e,t){if(e.isOk){const n=t(e.value);return n instanceof Promise?n.then(r=>k1(r)):k1(n)}if(e.isErr){const n=e.value;return W4(n)}throw"should never get here"}var uq=e=>{if(e.isOk)return e.value;throw e.value},dq=e=>{if(e.isErr)return e.value;throw e.value};var Td;function fq(e){var t;const n=this.attachShadow({mode:"open"});Td===void 0&&(Td=(t=void 0)!=null?t:null),Td&&(P1?n.adoptedStyleSheets.push(Td):n.adoptedStyleSheets=[...n.adoptedStyleSheets,Td])}var yo=(e,t="")=>()=>{},hq=(e,t)=>()=>{},nu=new WeakMap,pq=(e,t,n)=>{let r=S0.get(e);FC&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,S0.set(e,r)},mq=(e,t,n)=>{var r;const s=q4(t),i=S0.get(s);if(!bn.document)return s;if(e=e.nodeType===11?e:bn.document,i)if(typeof i=="string"){e=e.head||e;let o=nu.get(e),a;if(o||nu.set(e,o=new Set),!o.has(s)){{a=bn.document.createElement("style"),a.innerHTML=i;const c=(r=wn.$nonce$)!=null?r:H4(bn.document);if(c!=null&&a.setAttribute("nonce",c),!(t.$flags$&1))if(e.nodeName==="HEAD"){const l=e.querySelectorAll("link[rel=preconnect]"),u=l.length>0?l[l.length-1].nextSibling:e.querySelector("style");e.insertBefore(a,(u==null?void 0:u.parentNode)===e?u:null)}else if("host"in e)if(FC){const l=new CSSStyleSheet;l.replaceSync(i),P1?e.adoptedStyleSheets.unshift(l):e.adoptedStyleSheets=[l,...e.adoptedStyleSheets]}else{const l=e.querySelector("style");l?l.innerHTML=i+l.innerHTML:e.prepend(a)}else e.append(a);t.$flags$&1&&e.insertBefore(a,null)}t.$flags$&4&&(a.innerHTML+=z4),o&&o.add(s)}}else e.adoptedStyleSheets.includes(i)||(P1?e.adoptedStyleSheets.push(i):e.adoptedStyleSheets=[...e.adoptedStyleSheets,i]);return s},gq=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,s=yo("attachStyles",t.$tagName$),i=mq(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);r&10&&(n["s-sc"]=i,n.classList.add(i+"-h")),s()},q4=(e,t)=>"sc-"+e.$tagName$,yq=(e,t,...n)=>{let r=null,s=null,i=!1,o=!1;const a=[],c=u=>{for(let d=0;d<u.length;d++)r=u[d],Array.isArray(r)?c(r):r!=null&&typeof r!="boolean"&&((i=typeof e!="function"&&!VC(r))&&(r=String(r)),i&&o?a[a.length-1].$text$+=r:a.push(i?$1(null,r):r),o=i)};if(c(n),t){t.key&&(s=t.key);{const u=t.className||t.class;u&&(t.class=typeof u!="object"?u:Object.keys(u).filter(d=>u[d]).join(" "))}}const l=$1(e,null);return l.$attrs$=t,a.length>0&&(l.$children$=a),l.$key$=s,l},$1=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},wq={},vq=e=>e&&e.$tag$===wq,HC=e=>{const t=aq(e);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${t}))(${t}\\b)`,"g")};HC("::slotted");HC(":host");HC(":host-context");var R1=(e,t,n)=>{if(typeof e=="string"&&(t&16||t&8)&&(e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")))try{return JSON.parse(e)}catch{}return e!=null&&!VC(e),e},Lbe=e=>{var t;return(t=Vs(e))==null?void 0:t.$hostElement$},bq=(e,t,n)=>{const r=wn.ce(t,n);return e.dispatchEvent(r),r},HN=(e,t,n,r,s,i,o)=>{if(n===r)return;let a=FN(e,t),c=t.toLowerCase();if(t==="class"){const l=e.classList,u=WN(n);let d=WN(r);l.remove(...u.filter(f=>f&&!d.includes(f))),l.add(...d.filter(f=>f&&!u.includes(f)))}else if(t!=="key")if(!a&&t[0]==="o"&&t[1]==="n"){if(t[2]==="-"?t=t.slice(3):FN(bn,c)?t=c.slice(2):t=c[2]+t.slice(3),n||r){const l=t.endsWith(K4);t=t.replace(Eq,""),n&&wn.rel(e,t,n,l),r&&wn.ael(e,t,r,l)}}else{const l=VC(r);if((a||l&&r!==null)&&!s)try{if(e.tagName.includes("-"))e[t]!==r&&(e[t]=r);else{const u=r??"";t==="list"?a=!1:(n==null||e[t]!=u)&&(typeof e.__lookupSetter__(t)=="function"?e[t]=u:e.setAttribute(t,u))}}catch{}r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!a||i&4||s)&&!l&&e.nodeType===1&&(r=r===!0?"":r,e.setAttribute(t,r))}},xq=/\s/,WN=e=>(typeof e=="object"&&e&&"baseVal"in e&&(e=e.baseVal),!e||typeof e!="string"?[]:e.split(xq)),K4="Capture",Eq=new RegExp(K4+"$"),G4=(e,t,n,r)=>{const s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||{},o=t.$attrs$||{};for(const a of qN(Object.keys(i)))a in o||HN(s,a,i[a],void 0,n,t.$flags$);for(const a of qN(Object.keys(o)))HN(s,a,i[a],o[a],n,t.$flags$)};function qN(e){return e.includes("ref")?[...e.filter(t=>t!=="ref"),"ref"]:e}var WC,Rr=!1,A0=(e,t,n)=>{const r=t.$children$[n];let s=0,i,o;if(r.$text$!==null)i=r.$elm$=bn.document.createTextNode(r.$text$);else{if(Rr||(Rr=r.$tag$==="svg"),!bn.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(i=r.$elm$=bn.document.createElementNS(Rr?JW:eq,r.$tag$),Rr&&r.$tag$==="foreignObject"&&(Rr=!1),G4(null,r,Rr),r.$children$)for(s=0;s<r.$children$.length;++s)o=A0(e,r,s),o&&i.appendChild(o);r.$tag$==="svg"?Rr=!1:i.tagName==="foreignObject"&&(Rr=!0)}return i["s-hn"]=WC,i},Y4=(e,t,n,r,s,i)=>{let o=e,a;for(o.shadowRoot&&o.tagName===WC&&(o=o.shadowRoot);s<=i;++s)r[s]&&(a=A0(null,n,s),a&&(r[s].$elm$=a,Cg(o,a,t)))},Q4=(e,t,n)=>{for(let r=t;r<=n;++r){const s=e[r];if(s){const i=s.$elm$;i&&i.remove()}}},Cq=(e,t,n,r,s=!1)=>{let i=0,o=0,a=0,c=0,l=t.length-1,u=t[0],d=t[l],f=r.length-1,h=r[0],m=r[f],g,y;for(;i<=l&&o<=f;)if(u==null)u=t[++i];else if(d==null)d=t[--l];else if(h==null)h=r[++o];else if(m==null)m=r[--f];else if(xm(u,h,s))Ul(u,h,s),u=t[++i],h=r[++o];else if(xm(d,m,s))Ul(d,m,s),d=t[--l],m=r[--f];else if(xm(u,m,s))Ul(u,m,s),Cg(e,u.$elm$,d.$elm$.nextSibling),u=t[++i],m=r[--f];else if(xm(d,h,s))Ul(d,h,s),Cg(e,d.$elm$,u.$elm$),d=t[--l],h=r[++o];else{for(a=-1,c=i;c<=l;++c)if(t[c]&&t[c].$key$!==null&&t[c].$key$===h.$key$){a=c;break}a>=0?(y=t[a],y.$tag$!==h.$tag$?g=A0(t&&t[o],n,a):(Ul(y,h,s),t[a]=void 0,g=y.$elm$),h=r[++o]):(g=A0(t&&t[o],n,o),h=r[++o]),g&&Cg(u.$elm$.parentNode,g,u.$elm$)}i>l?Y4(e,r[f+1]==null?null:r[f+1].$elm$,n,r,o,f):o>f&&Q4(t,i,l)},xm=(e,t,n=!1)=>e.$tag$===t.$tag$?n?(n&&!e.$key$&&t.$key$&&(e.$key$=t.$key$),!0):e.$key$===t.$key$:!1,Ul=(e,t,n=!1)=>{const r=t.$elm$=e.$elm$,s=e.$children$,i=t.$children$,o=t.$tag$,a=t.$text$;a===null?(Rr=o==="svg"?!0:o==="foreignObject"?!1:Rr,G4(e,t,Rr),s!==null&&i!==null?Cq(r,s,t,i,n):i!==null?(e.$text$!==null&&(r.textContent=""),Y4(r,null,t,i,0,i.length-1)):!n&&C0.updatable&&s!==null&&Q4(s,0,s.length-1),Rr&&o==="svg"&&(Rr=!1)):e.$text$!==a&&(r.data=a)},Cg=(e,t,n)=>e==null?void 0:e.insertBefore(t,n),Sq=(e,t,n=!1)=>{const r=e.$hostElement$,s=e.$vnode$||$1(null,null),o=vq(t)?t:yq(null,null,t);if(WC=r.tagName,n&&o.$attrs$)for(const a of Object.keys(o.$attrs$))r.hasAttribute(a)&&!["key","ref","style","class"].includes(a)&&(o.$attrs$[a]=r[a]);o.$tag$=null,o.$flags$|=4,e.$vnode$=o,o.$elm$=s.$elm$=r.shadowRoot||r,Ul(s,o,n)},X4=(e,t)=>{if(t&&!e.$onRenderResolve$&&t["s-p"]){const n=t["s-p"].push(new Promise(r=>e.$onRenderResolve$=()=>{t["s-p"].splice(n-1,1),r()}))}},qC=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}X4(e,e.$ancestorComponent$);const n=()=>Aq(e,t);if(t){queueMicrotask(()=>{n()});return}return oq(n)},Aq=(e,t)=>{const n=e.$hostElement$,r=yo("scheduleUpdate",e.$cmpMeta$.$tagName$),s=e.$lazyInstance$;if(!s)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let i;return t?i=Ca(s,"componentWillLoad",void 0,n):i=Ca(s,"componentWillUpdate",void 0,n),i=KN(i,()=>Ca(s,"componentWillRender",void 0,n)),r(),KN(i,()=>Iq(e,s,t))},KN=(e,t)=>Nq(e)?e.then(t).catch(n=>{console.error(n),t()}):t(),Nq=e=>e instanceof Promise||e&&e.then&&typeof e.then=="function",Iq=async(e,t,n)=>{var r;const s=e.$hostElement$,i=yo("update",e.$cmpMeta$.$tagName$),o=s["s-rc"];n&&gq(e);const a=yo("render",e.$cmpMeta$.$tagName$);_q(e,t,s,n),o&&(o.map(c=>c()),s["s-rc"]=void 0),a(),i();{const c=(r=s["s-p"])!=null?r:[],l=()=>Tq(e);c.length===0?l():(Promise.all(c).then(l),e.$flags$|=4,c.length=0)}},_q=(e,t,n,r)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,Sq(e,t,r)}catch(s){Mu(s,e.$hostElement$)}return null},Tq=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,r=yo("postUpdate",t),s=e.$lazyInstance$,i=e.$ancestorComponent$;Ca(s,"componentDidRender",void 0,n),e.$flags$&64?(Ca(s,"componentDidUpdate",void 0,n),r()):(e.$flags$|=64,Pq(n),Ca(s,"componentDidLoad",void 0,n),r(),e.$onReadyResolve$(n),i||Z4()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&zC(()=>qC(e,!1)),e.$flags$&=-517},Z4=e=>{zC(()=>bq(bn,"appload",{detail:{namespace:QW}}))},Ca=(e,t,n,r)=>{if(e&&e[t])try{return e[t](n)}catch(s){Mu(s,r)}},Pq=e=>{var t;return e.classList.add((t=C0.hydratedSelectorName)!=null?t:"hydrated")},Dq=(e,t)=>Vs(e).$instanceValues$.get(t),Jw=(e,t,n,r)=>{const s=Vs(e);if(!s)return;if(!s)throw new Error(`Couldn't find host element for "${r.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const i=s.$instanceValues$.get(t),o=s.$flags$,a=s.$lazyInstance$;n=R1(n,r.$members$[t][0]);const c=Number.isNaN(i)&&Number.isNaN(n),l=n!==i&&!c;if((!(o&8)||i===void 0)&&l&&(s.$instanceValues$.set(t,n),a&&(o&18)===2)){if(a.componentShouldUpdate&&a.componentShouldUpdate(n,i,t)===!1)return;qC(s,!1)}},J4=(e,t,n)=>{var r,s;const i=e.prototype;if(t.$members$||C0.watchCallback){const o=Object.entries((r=t.$members$)!=null?r:{});if(o.map(([a,[c]])=>{if(c&31||n&2&&c&32){const{get:l,set:u}=Object.getOwnPropertyDescriptor(i,a)||{};l&&(t.$members$[a][0]|=2048),u&&(t.$members$[a][0]|=4096),(n&1||!l)&&Object.defineProperty(i,a,{get(){{if(!(t.$members$[a][0]&2048))return Dq(this,a);const d=Vs(this),f=d?d.$lazyInstance$:i;return f?f[a]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(i,a,{set(d){const f=Vs(this);if(f){if(u){const h=c&32?this[a]:f.$hostElement$[a];typeof h>"u"&&f.$instanceValues$.get(a)?d=f.$instanceValues$.get(a):!f.$instanceValues$.get(a)&&h&&f.$instanceValues$.set(a,h),u.apply(this,[R1(d,c)]),d=c&32?this[a]:f.$hostElement$[a],Jw(this,a,d,t);return}{if(!(n&1)||!(t.$members$[a][0]&4096)){Jw(this,a,d,t),n&1&&!f.$lazyInstance$&&f.$onReadyPromise$.then(()=>{t.$members$[a][0]&4096&&f.$lazyInstance$[a]!==f.$instanceValues$.get(a)&&(f.$lazyInstance$[a]=d)});return}const h=()=>{const m=f.$lazyInstance$[a];!f.$instanceValues$.get(a)&&m&&f.$instanceValues$.set(a,m),f.$lazyInstance$[a]=R1(d,c),Jw(this,a,f.$lazyInstance$[a],t)};f.$lazyInstance$?h():f.$onReadyPromise$.then(()=>h())}}}})}}),n&1){const a=new Map;i.attributeChangedCallback=function(c,l,u){wn.jmp(()=>{var d;const f=a.get(c);if(this.hasOwnProperty(f)&&C0.lazyLoad)u=this[f],delete this[f];else{if(i.hasOwnProperty(f)&&typeof this[f]=="number"&&this[f]==u)return;if(f==null){const m=Vs(this),g=m==null?void 0:m.$flags$;if(m&&g&&!(g&8)&&g&128&&u!==l){const y=m.$lazyInstance$,w=(d=t.$watchers$)==null?void 0:d[c];w==null||w.forEach(v=>{y[v]!=null&&y[v].call(y,u,l,c)})}return}}const h=Object.getOwnPropertyDescriptor(i,f);u=u===null&&typeof this[f]=="boolean"?!1:u,u!==this[f]&&(!h.get||h.set)&&(this[f]=u)})},e.observedAttributes=Array.from(new Set([...Object.keys((s=t.$watchers$)!=null?s:{}),...o.filter(([c,l])=>l[0]&31).map(([c,l])=>{const u=l[1]||c;return a.set(u,c),u})]))}}return e},Oq=async(e,t,n,r)=>{let s;if(!(t.$flags$&32)){if(t.$flags$|=32,n.$lazyBundleId$){const c=nq(n,t);if(c&&"then"in c){const u=hq();s=await c,u()}else s=c;if(!s)throw new Error(`Constructor for "${n.$tagName$}#${t.$modeName$}" was not found`);s.isProxied||(J4(s,n,2),s.isProxied=!0);const l=yo("createInstance",n.$tagName$);t.$flags$|=8;try{new s(t)}catch(u){Mu(u,e)}t.$flags$&=-9,l(),j1(t.$lazyInstance$,e)}else{s=e.constructor;const c=e.localName;customElements.whenDefined(c).then(()=>t.$flags$|=128)}if(s&&s.style){let c;typeof s.style=="string"&&(c=s.style);const l=q4(n);if(!S0.has(l)){const u=yo("registerStyles",n.$tagName$);pq(l,c,!!(n.$flags$&1)),u()}}}const i=t.$ancestorComponent$,o=()=>qC(t,!0);i&&i["s-rc"]?i["s-rc"].push(o):o()},j1=(e,t)=>{Ca(e,"connectedCallback",void 0,t)},kq=e=>{if(!(wn.$flags$&1)){const t=Vs(e);if(!t)return;const n=t.$cmpMeta$,r=yo("connectedCallback",n.$tagName$);if(t.$flags$&1)t!=null&&t.$lazyInstance$?j1(t.$lazyInstance$,e):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>j1(t.$lazyInstance$,e));else{t.$flags$|=1;{let s=e;for(;s=s.parentNode||s.host;)if(s["s-p"]){X4(t,t.$ancestorComponent$=s);break}}n.$members$&&Object.entries(n.$members$).map(([s,[i]])=>{if(i&31&&e.hasOwnProperty(s)){const o=e[s];delete e[s],e[s]=o}}),Oq(e,t,n)}r()}},GN=(e,t)=>{Ca(e,"disconnectedCallback",void 0,t||e)},$q=async e=>{if(!(wn.$flags$&1)){const t=Vs(e);t!=null&&t.$lazyInstance$?GN(t.$lazyInstance$,e):t!=null&&t.$onReadyPromise$&&t.$onReadyPromise$.then(()=>GN(t.$lazyInstance$,e))}nu.has(e)&&nu.delete(e),e.shadowRoot&&nu.has(e.shadowRoot)&&nu.delete(e.shadowRoot)},Rq=(e,t={})=>{var n;if(!bn.document){console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");return}const r=yo(),s=[],i=t.exclude||[],o=bn.customElements,a=bn.document.head,c=a.querySelector("meta[charset]"),l=bn.document.createElement("style"),u=[];let d,f=!0;Object.assign(wn,t),wn.$resourcesUrl$=new URL(t.resourcesUrl||"./",bn.document.baseURI).href;let h=!1;if(e.map(m=>{m[1].map(g=>{const y={$flags$:g[0],$tagName$:g[1],$members$:g[2],$listeners$:g[3]};y.$flags$&4&&(h=!0),y.$members$=g[2];const w=y.$tagName$,v=class extends HTMLElement{constructor(b){if(super(b),this.hasRegisteredEventListeners=!1,b=this,tq(b,y),y.$flags$&1){if(!b.shadowRoot)fq.call(b,y);else if(b.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${y.$tagName$}! Mode is set to ${b.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}connectedCallback(){Vs(this)&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),d&&(clearTimeout(d),d=null),f?u.push(this):wn.jmp(()=>kq(this)))}disconnectedCallback(){wn.jmp(()=>$q(this)),wn.raf(()=>{var b;const x=Vs(this);if(!x)return;const E=u.findIndex(S=>S===this);E>-1&&u.splice(E,1),((b=x==null?void 0:x.$vnode$)==null?void 0:b.$elm$)instanceof Node&&!x.$vnode$.$elm$.isConnected&&delete x.$vnode$.$elm$})}componentOnReady(){var b;return(b=Vs(this))==null?void 0:b.$onReadyPromise$}};y.$lazyBundleId$=m[0],!i.includes(w)&&!o.get(w)&&(s.push(w),o.define(w,J4(v,y,1)))})}),s.length>0&&(h&&(l.textContent+=z4),l.textContent+=s.sort()+rq,l.innerHTML.length)){l.setAttribute("data-styles","");const m=(n=wn.$nonce$)!=null?n:H4(bn.document);m!=null&&l.setAttribute("nonce",m),a.insertBefore(l,c?c.nextSibling:a.firstChild)}f=!1,u.length?u.map(m=>m.connectedCallback()):wn.jmp(()=>d=setTimeout(Z4,30)),r()};const jq=()=>{},Mq=async(e,t)=>{if(!(typeof window>"u"))return await jq(),Rq([["connect-modal",[[257,"connect-modal",{defaultProviders:[16,"default-providers"],installedProviders:[16,"installed-providers"],callback:[16],cancelCallback:[16,"cancel-callback"]}]]]],t)};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();const Lq=128,Uq=128,e5=16;var YN;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(YN||(YN={}));var QN;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3"})(QN||(QN={}));var Os;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(Os||(Os={}));const ev=["onChainOnly","offChainOnly","any"];ev[0]+"",Os.OnChainOnly,ev[1]+"",Os.OffChainOnly,ev[2]+"",Os.Any,Os.OnChainOnly+"",Os.OnChainOnly,Os.OffChainOnly+"",Os.OffChainOnly,Os.Any+"",Os.Any;var XN;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(XN||(XN={}));var yi;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(yi||(yi={}));var ZN;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(ZN||(ZN={}));var JN;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2WPKH=2]="P2WPKH",e[e.P2WSH=3]="P2WSH",e[e.P2SHNonSequential=5]="P2SHNonSequential",e[e.P2WSHNonSequential=7]="P2WSHNonSequential"})(JN||(JN={}));var eI;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(eI||(eI={}));var tI;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(tI||(tI={}));var nI;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(nI||(nI={}));var Si;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(Si||(Si={}));var rI;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(rI||(rI={}));var sI;(function(e){e[e.BlockFound=0]="BlockFound",e[e.Extended=1]="Extended"})(sI||(sI={}));var iI;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(iI||(iI={}));var oI;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(oI||(oI={}));class Bq extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class t5 extends Bq{constructor(t){super(t)}}function M1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Fq(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function n5(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function zq(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");M1(e.outputLen),M1(e.blockLen)}function Vq(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Hq(e,t){n5(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const tv={number:M1,bool:Fq,bytes:n5,hash:zq,exists:Vq,output:Hq};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ni=(e,t)=>e<<32-t|e>>>t,Wq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Wq)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qq(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function r5(e){if(typeof e=="string"&&(e=qq(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}let Kq=class{clone(){return this._cloneInto()}};function Jc(e){const t=r=>e().update(r5(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Gq(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}class KC extends Kq{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=nv(this.buffer)}update(t){tv.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=r5(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=nv(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){tv.exists(this),tv.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Gq(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=nv(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const Yq=(e,t,n)=>e&t^~e&n,Qq=(e,t,n)=>e&t^e&n^t&n,Xq=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Po=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Do=new Uint32Array(64);class s5 extends KC{constructor(){super(64,32,8,!1),this.A=Po[0]|0,this.B=Po[1]|0,this.C=Po[2]|0,this.D=Po[3]|0,this.E=Po[4]|0,this.F=Po[5]|0,this.G=Po[6]|0,this.H=Po[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Do[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=Do[d-15],h=Do[d-2],m=ni(f,7)^ni(f,18)^f>>>3,g=ni(h,17)^ni(h,19)^h>>>10;Do[d]=g+Do[d-7]+m+Do[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=ni(a,6)^ni(a,11)^ni(a,25),h=u+f+Yq(a,c,l)+Xq[d]+Do[d]|0,g=(ni(r,2)^ni(r,13)^ni(r,22))+Qq(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+g|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Do.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Zq extends s5{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Jq=Jc(()=>new s5),eK=Jc(()=>new Zq),tK=Object.freeze(Object.defineProperty({__proto__:null,sha224:eK,sha256:Jq},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Xe=BigInt(0),Pt=BigInt(1),la=BigInt(2),Sg=BigInt(3),aI=BigInt(8),un=Object.freeze({a:Xe,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Pt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),cI=(e,t)=>(e+t/la)/t,Em={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=un,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Pt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=cI(i*e,t),c=cI(-r*e,t);let l=fe(e-a*n-c*s,t),u=fe(-a*r-c*i,t);const d=l>o,f=u>o;if(d&&(l=t-l),f&&(u=t-u),l>o||u>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:f,k2:u}}},ru=32,L1=32,lI=ru+1,uI=2*ru+1;function dI(e){const{a:t,b:n}=un,r=fe(e*e),s=fe(r*e);return fe(s+t*e+n)}const Cm=un.a===Xe;function fI(e){if(!(e instanceof Qe))throw new TypeError("JacobianPoint expected")}class Qe{constructor(t,n,r){this.x=t,this.y=n,this.z=r}static fromAffine(t){if(!(t instanceof sn))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(sn.ZERO)?Qe.ZERO:new Qe(t.x,t.y,Pt)}static toAffineBatch(t){const n=oK(t.map(r=>r.z));return t.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(t){return Qe.toAffineBatch(t).map(Qe.fromAffine)}equals(t){fI(t);const{x:n,y:r,z:s}=this,{x:i,y:o,z:a}=t,c=fe(s*s),l=fe(a*a),u=fe(n*l),d=fe(i*c),f=fe(fe(r*a)*l),h=fe(fe(o*s)*c);return u===d&&f===h}negate(){return new Qe(this.x,fe(-this.y),this.z)}double(){const{x:t,y:n,z:r}=this,s=fe(t*t),i=fe(n*n),o=fe(i*i),a=t+i,c=fe(la*(fe(a*a)-s-o)),l=fe(Sg*s),u=fe(l*l),d=fe(u-la*c),f=fe(l*(c-d)-aI*o),h=fe(la*n*r);return new Qe(d,f,h)}add(t){fI(t);const{x:n,y:r,z:s}=this,{x:i,y:o,z:a}=t;if(i===Xe||o===Xe)return this;if(n===Xe||r===Xe)return t;const c=fe(s*s),l=fe(a*a),u=fe(n*l),d=fe(i*c),f=fe(fe(r*a)*l),h=fe(fe(o*s)*c),m=fe(d-u),g=fe(h-f);if(m===Xe)return g===Xe?this.double():Qe.ZERO;const y=fe(m*m),w=fe(m*y),v=fe(u*y),b=fe(g*g-w-la*v),x=fe(g*(v-b)-f*w),E=fe(s*a*m);return new Qe(b,x,E)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const n=Qe.ZERO;if(typeof t=="bigint"&&t===Xe)return n;let r=gI(t);if(r===Pt)return this;if(!Cm){let d=n,f=this;for(;r>Xe;)r&Pt&&(d=d.add(f)),f=f.double(),r>>=Pt;return d}let{k1neg:s,k1:i,k2neg:o,k2:a}=Em.splitScalar(r),c=n,l=n,u=this;for(;i>Xe||a>Xe;)i&Pt&&(c=c.add(u)),a&Pt&&(l=l.add(u)),u=u.double(),i>>=Pt,a>>=Pt;return s&&(c=c.negate()),o&&(l=l.negate()),l=new Qe(fe(l.x*Em.beta),l.y,l.z),c.add(l)}precomputeWindow(t){const n=Cm?128/t+1:256/t+1,r=[];let s=this,i=s;for(let o=0;o<n;o++){i=s,r.push(i);for(let a=1;a<2**(t-1);a++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(t,n){!n&&this.equals(Qe.BASE)&&(n=sn.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&U1.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=Qe.normalizeZ(s),U1.set(n,s)));let i=Qe.ZERO,o=Qe.BASE;const a=1+(Cm?128/r:256/r),c=2**(r-1),l=BigInt(2**r-1),u=2**r,d=BigInt(r);for(let f=0;f<a;f++){const h=f*c;let m=Number(t&l);t>>=d,m>c&&(m-=u,t+=Pt);const g=h,y=h+Math.abs(m)-1,w=f%2!==0,v=m<0;m===0?o=o.add(Sm(w,s[g])):i=i.add(Sm(v,s[y]))}return{p:i,f:o}}multiply(t,n){let r=gI(t),s,i;if(Cm){const{k1neg:o,k1:a,k2neg:c,k2:l}=Em.splitScalar(r);let{p:u,f:d}=this.wNAF(a,n),{p:f,f:h}=this.wNAF(l,n);u=Sm(o,u),f=Sm(c,f),f=new Qe(fe(f.x*Em.beta),f.y,f.z),s=u.add(f),i=d.add(h)}else{const{p:o,f:a}=this.wNAF(r,n);s=o,i=a}return Qe.normalizeZ([s,i])[0]}toAffine(t){const{x:n,y:r,z:s}=this,i=this.equals(Qe.ZERO);t==null&&(t=i?aI:GC(s));const o=t,a=fe(o*o),c=fe(a*o),l=fe(n*a),u=fe(r*c),d=fe(s*o);if(i)return sn.ZERO;if(d!==Pt)throw new Error("invZ was invalid");return new sn(l,u)}}Qe.BASE=new Qe(un.Gx,un.Gy,Pt);Qe.ZERO=new Qe(Xe,Pt,Xe);function Sm(e,t){const n=t.negate();return e?n:t}const U1=new WeakMap;class sn{constructor(t,n){this.x=t,this.y=n}_setWindowSize(t){this._WINDOW_SIZE=t,U1.delete(this)}hasEvenY(){return this.y%la===Xe}static fromCompressedHex(t){const n=t.length===32,r=xu(n?t:t.subarray(1));if(!rv(r))throw new Error("Point is not on curve");const s=dI(r);let i=iK(s);const o=(i&Pt)===Pt;n?o&&(i=fe(-i)):(t[0]&1)===1!==o&&(i=fe(-i));const a=new sn(r,i);return a.assertValidity(),a}static fromUncompressedHex(t){const n=xu(t.subarray(1,ru+1)),r=xu(t.subarray(ru+1,ru*2+1)),s=new sn(n,r);return s.assertValidity(),s}static fromHex(t){const n=mI(t),r=n.length,s=n[0];if(r===ru)return this.fromCompressedHex(n);if(r===lI&&(s===2||s===3))return this.fromCompressedHex(n);if(r===uI&&s===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${lI} compressed bytes or ${uI} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return sn.BASE.multiply(lK(t))}static fromSignature(t,n,r){const{r:s,s:i}=uK(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=cK(mI(t)),{n:a}=un,c=r===2||r===3?s+a:s,l=GC(c,a),u=fe(-o*l,a),d=fe(i*l,a),f=r&1?"03":"02",h=sn.fromHex(f+Ef(c)),m=sn.BASE.multiplyAndAddUnsafe(h,u,d);if(!m)throw new Error("Cannot recover signature: point at infinify");return m.assertValidity(),m}toRawBytes(t=!1){return Cf(this.toHex(t))}toHex(t=!1){const n=Ef(this.x);return t?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Ef(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:n,y:r}=this;if(!rv(n)||!rv(r))throw new Error(t);const s=fe(r*r),i=dI(n);if(fe(s-i)!==Xe)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new sn(this.x,fe(-this.y))}double(){return Qe.fromAffine(this).double().toAffine()}add(t){return Qe.fromAffine(this).add(Qe.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Qe.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,n,r){const s=Qe.fromAffine(this),i=n===Xe||n===Pt||this!==sn.BASE?s.multiplyUnsafe(n):s.multiply(n),o=Qe.fromAffine(t).multiplyUnsafe(r),a=i.add(o);return a.equals(Qe.ZERO)?void 0:a.toAffine()}}sn.BASE=new sn(un.Gx,un.Gy);sn.ZERO=new sn(Xe,Xe);function hI(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function pI(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${yh(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:xu(n),left:e.subarray(t+2)}}function nK(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${yh(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=pI(e.subarray(2)),{data:r,left:s}=pI(n);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${yh(s)}`);return{r:t,s:r}}class _c{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromCompact(t){const n=t instanceof Uint8Array,r="Signature.fromCompact";if(typeof t!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=n?yh(t):t;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new _c(N0(s.slice(0,64)),N0(s.slice(64,128)))}static fromDER(t){const n=t instanceof Uint8Array;if(typeof t!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=nK(n?t:Cf(t));return new _c(r,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:n}=this;if(!I0(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!I0(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=un.n>>Pt;return this.s>t}normalizeS(){return this.hasHighS()?new _c(this.r,fe(-this.s,un.n)):this}toDERRawBytes(){return Cf(this.toDERHex())}toDERHex(){const t=hI(Pd(this.s)),n=hI(Pd(this.r)),r=t.length/2,s=n.length/2,i=Pd(r),o=Pd(s);return`30${Pd(s+r+4)}02${o}${n}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Cf(this.toCompactHex())}toCompactHex(){return Ef(this.r)+Ef(this.s)}}const rK=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yh(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=rK[e[n]];return t}const sK=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Ef(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(Xe<=e&&e<sK))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Pd(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function N0(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Cf(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function xu(e){return N0(yh(e))}function mI(e){return e instanceof Uint8Array?Uint8Array.from(e):Cf(e)}function gI(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&I0(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function fe(e,t=un.P){const n=e%t;return n>=Xe?n:t+n}function ts(e,t){const{P:n}=un;let r=e;for(;t-- >Xe;)r*=r,r%=n;return r}function iK(e){const{P:t}=un,n=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),a=BigInt(88),c=e*e*e%t,l=c*c*e%t,u=ts(l,Sg)*l%t,d=ts(u,Sg)*l%t,f=ts(d,la)*c%t,h=ts(f,r)*f%t,m=ts(h,s)*h%t,g=ts(m,o)*m%t,y=ts(g,a)*g%t,w=ts(y,o)*m%t,v=ts(w,Sg)*l%t,b=ts(v,i)*h%t,x=ts(b,n)*c%t,E=ts(x,la);if(E*E%t!==e)throw new Error("Cannot find square root");return E}function GC(e,t=un.P){if(e===Xe||t<=Xe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=fe(e,t),r=t,s=Xe,i=Pt;for(;n!==Xe;){const a=r/n,c=r%n,l=s-i*a;r=n,n=c,s=i,i=l}if(r!==Pt)throw new Error("invert: does not exist");return fe(s,t)}function oK(e,t=un.P){const n=new Array(e.length),r=e.reduce((i,o,a)=>o===Xe?i:(n[a]=i,fe(i*o,t)),Pt),s=GC(r,t);return e.reduceRight((i,o,a)=>o===Xe?i:(n[a]=fe(i*n[a],t),fe(i*o,t)),s),n}function aK(e){const t=e.length*8-L1*8,n=xu(e);return t>0?n>>BigInt(t):n}function cK(e,t=!1){const n=aK(e);if(t)return n;const{n:r}=un;return n>=r?n-r:n}function I0(e){return Xe<e&&e<un.n}function rv(e){return Xe<e&&e<un.P}function lK(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*L1)throw new Error("Expected 32 bytes of private key");t=N0(e)}else if(e instanceof Uint8Array){if(e.length!==L1)throw new Error("Expected 32 bytes of private key");t=xu(e)}else throw new TypeError("Expected valid private key");if(!I0(t))throw new Error("Expected private key: 0 < key < n");return t}function uK(e){if(e instanceof _c)return e.assertValidity(),e;try{return _c.fromDER(e)}catch{return _c.fromCompact(e)}}sn.BASE._setWindowSize(8);var i5={},YC={},bp={},Dy={};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.crypto=void 0;Dy.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=Dy,n=x=>new Uint8Array(x.buffer,x.byteOffset,x.byteLength);e.u8=n;const r=x=>new Uint32Array(x.buffer,x.byteOffset,Math.floor(x.byteLength/4));e.u32=r;const s=x=>new DataView(x.buffer,x.byteOffset,x.byteLength);e.createView=s;const i=(x,E)=>x<<32-E|x>>>E;if(e.rotr=i,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(x,E)=>E.toString(16).padStart(2,"0"));function a(x){if(!(x instanceof Uint8Array))throw new Error("Uint8Array expected");let E="";for(let S=0;S<x.length;S++)E+=o[x[S]];return E}e.bytesToHex=a;function c(x){if(typeof x!="string")throw new TypeError("hexToBytes: expected string, got "+typeof x);if(x.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const E=new Uint8Array(x.length/2);for(let S=0;S<E.length;S++){const A=S*2,C=x.slice(A,A+2),N=Number.parseInt(C,16);if(Number.isNaN(N)||N<0)throw new Error("Invalid byte sequence");E[S]=N}return E}e.hexToBytes=c;const l=async()=>{};e.nextTick=l;async function u(x,E,S){let A=Date.now();for(let C=0;C<x;C++){S(C);const N=Date.now()-A;N>=0&&N<E||(await(0,e.nextTick)(),A+=N)}}e.asyncLoop=u;function d(x){if(typeof x!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof x}`);return new TextEncoder().encode(x)}e.utf8ToBytes=d;function f(x){if(typeof x=="string"&&(x=d(x)),!(x instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof x})`);return x}e.toBytes=f;function h(...x){if(!x.every(A=>A instanceof Uint8Array))throw new Error("Uint8Array list expected");if(x.length===1)return x[0];const E=x.reduce((A,C)=>A+C.length,0),S=new Uint8Array(E);for(let A=0,C=0;A<x.length;A++){const N=x[A];S.set(N,C),C+=N.length}return S}e.concatBytes=h;class m{clone(){return this._cloneInto()}}e.Hash=m;const g=x=>Object.prototype.toString.call(x)==="[object Object]"&&x.constructor===Object;function y(x,E){if(E!==void 0&&(typeof E!="object"||!g(E)))throw new TypeError("Options should be object or undefined");return Object.assign(x,E)}e.checkOpts=y;function w(x){const E=A=>x().update(f(A)).digest(),S=x();return E.outputLen=S.outputLen,E.blockLen=S.blockLen,E.create=()=>x(),E}e.wrapConstructor=w;function v(x){const E=(A,C)=>x(C).update(f(A)).digest(),S=x({});return E.outputLen=S.outputLen,E.blockLen=S.blockLen,E.create=A=>x(A),E}e.wrapConstructorWithOpts=v;function b(x=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(x));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(x).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=b})(bp);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;const t=bp;e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function r(o,a){if(!o.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");o.length%2!==0&&(o=`0${o}`),o=o.toLowerCase();let c=[],l=0;for(let h=o.length-1;h>=0;h--)if(l<4){const m=n.indexOf(o[h])>>l;let g=0;h!==0&&(g=n.indexOf(o[h-1]));const y=1+l,w=g%(1<<y)<<5-y,v=e.c32[m+w];l=y,c.unshift(v)}else l=0;let u=0;for(let h=0;h<c.length&&c[h]==="0";h++)u++;c=c.slice(u);const d=new TextDecoder().decode((0,t.hexToBytes)(o)).match(/^\u0000*/),f=d?d[0].length:0;for(let h=0;h<f;h++)c.unshift(e.c32[0]);if(a){const h=a-c.length;for(let m=0;m<h;m++)c.unshift(e.c32[0])}return c.join("")}e.c32encode=r;function s(o){return o.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32normalize=s;function i(o,a){if(o=s(o),!o.match(`^[${e.c32}]*$`))throw new Error("Not a c32-encoded string");const c=o.match(`^${e.c32[0]}*`),l=c?c[0].length:0;let u=[],d=0,f=0;for(let g=o.length-1;g>=0;g--){f===4&&(u.unshift(n[d]),f=0,d=0);const w=(e.c32.indexOf(o[g])<<f)+d,v=n[w%16];if(f+=1,d=w>>4,d>1<<f)throw new Error("Panic error in decoding.");u.unshift(v)}u.unshift(n[d]),u.length%2===1&&u.unshift("0");let h=0;for(let g=0;g<u.length&&u[g]==="0";g++)h++;u=u.slice(h-h%2);let m=u.join("");for(let g=0;g<l;g++)m=`00${m}`;if(a){const g=a*2-m.length;for(let y=0;y<g;y+=2)m=`00${m}`}return m}e.c32decode=i})(YC);var zc={};const o5=gE(tK);Object.defineProperty(zc,"__esModule",{value:!0});zc.c32checkDecode=zc.c32checkEncode=void 0;const yI=o5,wI=bp,Sf=YC;function a5(e){const t=(0,yI.sha256)((0,yI.sha256)((0,wI.hexToBytes)(e)));return(0,wI.bytesToHex)(t.slice(0,4))}function dK(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let n=e.toString(16);n.length===1&&(n=`0${n}`);const r=a5(`${n}${t}`),s=(0,Sf.c32encode)(`${t}${r}`);return`${Sf.c32[e]}${s}`}zc.c32checkEncode=dK;function fK(e){e=(0,Sf.c32normalize)(e);const t=(0,Sf.c32decode)(e.slice(1)),n=e[0],r=Sf.c32.indexOf(n),s=t.slice(-8);let i=r.toString(16);if(i.length===1&&(i=`0${i}`),a5(`${i}${t.substring(0,t.length-8)}`)!==s)throw new Error("Invalid c32check string: checksum mismatch");return[r,t.substring(0,t.length-8)]}zc.c32checkDecode=fK;var c5={},Lu={};function hK(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function u(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var m=0,g=0,y=0,w=h.length;y!==w&&h[y]===0;)y++,m++;for(var v=(w-y)*l+1>>>0,b=new Uint8Array(v);y!==w;){for(var x=h[y],E=0,S=v-1;(x!==0||E<g)&&S!==-1;S--,E++)x+=256*b[S]>>>0,b[S]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");g=E,y++}for(var A=v-g;A!==v&&b[A]===0;)A++;for(var C=a.repeat(m);A<v;++A)C+=e.charAt(b[A]);return C}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var m=0,g=0,y=0;h[m]===a;)g++,m++;for(var w=(h.length-m)*c+1>>>0,v=new Uint8Array(w);h[m];){var b=h.charCodeAt(m);if(b>255)return;var x=t[b];if(x===255)return;for(var E=0,S=w-1;(x!==0||E<y)&&S!==-1;S--,E++)x+=o*v[S]>>>0,v[S]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");y=E,m++}for(var A=w-y;A!==w&&v[A]===0;)A++;for(var C=new Uint8Array(g+(w-A)),N=g;A!==w;)C[N++]=v[A++];return C}function f(h){var m=d(h);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:u,decodeUnsafe:d,decode:f}}var pK=hK;Object.defineProperty(Lu,"__esModule",{value:!0});Lu.decode=Lu.encode=void 0;const _0=o5,vI=bp,l5=pK,u5="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function mK(e,t="00"){const n=typeof e=="string"?(0,vI.hexToBytes)(e):e,r=typeof t=="string"?(0,vI.hexToBytes)(t):e;if(!(n instanceof Uint8Array)||!(r instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const s=(0,_0.sha256)((0,_0.sha256)(new Uint8Array([...r,...n])));return l5(u5).encode([...r,...n,...s.slice(0,4)])}Lu.encode=mK;function gK(e){const t=l5(u5).decode(e),n=t.slice(0,1),r=t.slice(1,-4),s=(0,_0.sha256)((0,_0.sha256)(new Uint8Array([...n,...r])));return t.slice(-4).forEach((i,o)=>{if(i!==s[o])throw new Error("Invalid checksum")}),{prefix:n,data:r}}Lu.decode=gK;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;const t=zc,n=Lu,r=bp;e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const s={};s[0]=e.versions.mainnet.p2pkh,s[5]=e.versions.mainnet.p2sh,s[111]=e.versions.testnet.p2pkh,s[196]=e.versions.testnet.p2sh;const i={};i[e.versions.mainnet.p2pkh]=0,i[e.versions.mainnet.p2sh]=5,i[e.versions.testnet.p2pkh]=111,i[e.versions.testnet.p2sh]=196;function o(u,d){if(!d.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,t.c32checkEncode)(u,d)}`}e.c32address=o;function a(u){if(u.length<=5)throw new Error("Invalid c32 address: invalid length");if(u[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,t.c32checkDecode)(u.slice(1))}e.c32addressDecode=a;function c(u,d=-1){const f=n.decode(u),h=(0,r.bytesToHex)(f.data),m=parseInt((0,r.bytesToHex)(f.prefix),16);let g;return d<0?(g=m,s[m]!==void 0&&(g=s[m])):g=d,o(g,h)}e.b58ToC32=c;function l(u,d=-1){const f=a(u),h=f[0],m=f[1];let g;d<0?(g=h,i[h]!==void 0&&(g=i[h])):g=d;let y=g.toString(16);return y.length===1&&(y=`0${y}`),n.encode(m,y)}e.c32ToB58=l})(c5);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.b58ToC32=e.c32ToB58=e.versions=e.c32normalize=e.c32addressDecode=e.c32address=e.c32checkDecode=e.c32checkEncode=e.c32decode=e.c32encode=void 0;const t=YC;Object.defineProperty(e,"c32encode",{enumerable:!0,get:function(){return t.c32encode}}),Object.defineProperty(e,"c32decode",{enumerable:!0,get:function(){return t.c32decode}}),Object.defineProperty(e,"c32normalize",{enumerable:!0,get:function(){return t.c32normalize}});const n=zc;Object.defineProperty(e,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(e,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const r=c5;Object.defineProperty(e,"c32address",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(e,"c32addressDecode",{enumerable:!0,get:function(){return r.c32addressDecode}}),Object.defineProperty(e,"c32ToB58",{enumerable:!0,get:function(){return r.c32ToB58}}),Object.defineProperty(e,"b58ToC32",{enumerable:!0,get:function(){return r.b58ToC32}}),Object.defineProperty(e,"versions",{enumerable:!0,get:function(){return r.versions}})})(i5);const yK=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),d5=Uint8Array.from({length:16},(e,t)=>t),wK=d5.map(e=>(9*e+5)%16);let QC=[d5],XC=[wK];for(let e=0;e<4;e++)for(let t of[QC,XC])t.push(t[e].map(n=>yK[n]));const f5=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),vK=QC.map((e,t)=>e.map(n=>f5[t][n])),bK=XC.map((e,t)=>e.map(n=>f5[t][n])),xK=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),EK=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Am=(e,t)=>e<<t|e>>>32-t;function bI(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const Nm=new Uint32Array(16);class CK extends KC{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:i}=this;return[t,n,r,s,i]}set(t,n,r,s,i){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(t,n){for(let h=0;h<16;h++,n+=4)Nm[h]=t.getUint32(n,!0);let r=this.h0|0,s=r,i=this.h1|0,o=i,a=this.h2|0,c=a,l=this.h3|0,u=l,d=this.h4|0,f=d;for(let h=0;h<5;h++){const m=4-h,g=xK[h],y=EK[h],w=QC[h],v=XC[h],b=vK[h],x=bK[h];for(let E=0;E<16;E++){const S=Am(r+bI(h,i,a,l)+Nm[w[E]]+g,b[E])+d|0;r=d,d=l,l=Am(a,10)|0,a=i,i=S}for(let E=0;E<16;E++){const S=Am(s+bI(m,o,c,u)+Nm[v[E]]+y,x[E])+f|0;s=f,f=u,u=Am(c,10)|0,c=o,o=S}}this.set(this.h1+a+u|0,this.h2+l+f|0,this.h3+d+s|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){Nm.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}Jc(()=>new CK);const Im=BigInt(2**32-1),B1=BigInt(32);function h5(e,t=!1){return t?{h:Number(e&Im),l:Number(e>>B1&Im)}:{h:Number(e>>B1&Im)|0,l:Number(e&Im)|0}}function SK(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=h5(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const AK=(e,t)=>BigInt(e>>>0)<<B1|BigInt(t>>>0),NK=(e,t,n)=>e>>>n,IK=(e,t,n)=>e<<32-n|t>>>n,_K=(e,t,n)=>e>>>n|t<<32-n,TK=(e,t,n)=>e<<32-n|t>>>n,PK=(e,t,n)=>e<<64-n|t>>>n-32,DK=(e,t,n)=>e>>>n-32|t<<64-n,OK=(e,t)=>t,kK=(e,t)=>e,$K=(e,t,n)=>e<<n|t>>>32-n,RK=(e,t,n)=>t<<n|e>>>32-n,jK=(e,t,n)=>t<<n-32|e>>>64-n,MK=(e,t,n)=>e<<n-32|t>>>64-n;function LK(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const UK=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),BK=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,FK=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),zK=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,VK=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),HK=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,_e={fromBig:h5,split:SK,toBig:AK,shrSH:NK,shrSL:IK,rotrSH:_K,rotrSL:TK,rotrBH:PK,rotrBL:DK,rotr32H:OK,rotr32L:kK,rotlSH:$K,rotlSL:RK,rotlBH:jK,rotlBL:MK,add:LK,add3L:UK,add3H:BK,add4L:FK,add4H:zK,add5H:HK,add5L:VK},[WK,qK]=_e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Oo=new Uint32Array(80),ko=new Uint32Array(80);class Oy extends KC{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:m,Hh:g,Hl:y}=this;return[t,n,r,s,i,o,a,c,l,u,d,f,h,m,g,y]}set(t,n,r,s,i,o,a,c,l,u,d,f,h,m,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let b=0;b<16;b++,n+=4)Oo[b]=t.getUint32(n),ko[b]=t.getUint32(n+=4);for(let b=16;b<80;b++){const x=Oo[b-15]|0,E=ko[b-15]|0,S=_e.rotrSH(x,E,1)^_e.rotrSH(x,E,8)^_e.shrSH(x,E,7),A=_e.rotrSL(x,E,1)^_e.rotrSL(x,E,8)^_e.shrSL(x,E,7),C=Oo[b-2]|0,N=ko[b-2]|0,j=_e.rotrSH(C,N,19)^_e.rotrBH(C,N,61)^_e.shrSH(C,N,6),M=_e.rotrSL(C,N,19)^_e.rotrBL(C,N,61)^_e.shrSL(C,N,6),L=_e.add4L(A,M,ko[b-7],ko[b-16]),B=_e.add4H(L,S,j,Oo[b-7],Oo[b-16]);Oo[b]=B|0,ko[b]=L|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const x=_e.rotrSH(d,f,14)^_e.rotrSH(d,f,18)^_e.rotrBH(d,f,41),E=_e.rotrSL(d,f,14)^_e.rotrSL(d,f,18)^_e.rotrBL(d,f,41),S=d&h^~d&g,A=f&m^~f&y,C=_e.add5L(v,E,A,qK[b],ko[b]),N=_e.add5H(C,w,x,S,WK[b],Oo[b]),j=C|0,M=_e.rotrSH(r,s,28)^_e.rotrBH(r,s,34)^_e.rotrBH(r,s,39),L=_e.rotrSL(r,s,28)^_e.rotrBL(r,s,34)^_e.rotrBL(r,s,39),B=r&i^r&a^i&a,U=s&o^s&c^o&c;w=g|0,v=y|0,g=h|0,y=m|0,h=d|0,m=f|0,{h:d,l:f}=_e.add(l|0,u|0,N|0,j|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=_e.add3L(j,L,U);r=_e.add3H(I,N,M,B),s=I|0}({h:r,l:s}=_e.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=_e.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=_e.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=_e.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=_e.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:m}=_e.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:y}=_e.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=_e.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,s,i,o,a,c,l,u,d,f,h,m,g,y,w,v)}roundClean(){Oo.fill(0),ko.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class KK extends Oy{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class GK extends Oy{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class YK extends Oy{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Jc(()=>new Oy);Jc(()=>new KK);Jc(()=>new GK);Jc(()=>new YK);var T0={exports:{}};T0.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",a="[object Boolean]",c="[object Date]",l="[object Error]",u="[object Function]",d="[object GeneratorFunction]",f="[object Map]",h="[object Number]",m="[object Object]",g="[object Promise]",y="[object RegExp]",w="[object Set]",v="[object String]",b="[object Symbol]",x="[object WeakMap]",E="[object ArrayBuffer]",S="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",N="[object Int8Array]",j="[object Int16Array]",M="[object Int32Array]",L="[object Uint8Array]",B="[object Uint8ClampedArray]",U="[object Uint16Array]",I="[object Uint32Array]",_=/[\\^$.*+?()[\]{}|]/g,k=/\w*$/,T=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,R={};R[i]=R[o]=R[E]=R[S]=R[a]=R[c]=R[A]=R[C]=R[N]=R[j]=R[M]=R[f]=R[h]=R[m]=R[y]=R[w]=R[v]=R[b]=R[L]=R[B]=R[U]=R[I]=!0,R[l]=R[u]=R[x]=!1;var z=typeof pr=="object"&&pr&&pr.Object===Object&&pr,W=typeof self=="object"&&self&&self.Object===Object&&self,V=z||W||Function("return this")(),H=t&&!t.nodeType&&t,Q=H&&!0&&e&&!e.nodeType&&e,oe=Q&&Q.exports===H;function ae(D,F){return D.set(F[0],F[1]),D}function le(D,F){return D.add(F),D}function we(D,F){for(var q=-1,pe=D?D.length:0;++q<pe&&F(D[q],q,D)!==!1;);return D}function Oe(D,F){for(var q=-1,pe=F.length,dn=D.length;++q<pe;)D[dn+q]=F[q];return D}function ze(D,F,q,pe){for(var dn=-1,er=D?D.length:0;++dn<er;)q=F(q,D[dn],dn,D);return q}function gt(D,F){for(var q=-1,pe=Array(D);++q<D;)pe[q]=F(q);return pe}function Jn(D,F){return D==null?void 0:D[F]}function In(D){var F=!1;if(D!=null&&typeof D.toString!="function")try{F=!!(D+"")}catch{}return F}function Qs(D){var F=-1,q=Array(D.size);return D.forEach(function(pe,dn){q[++F]=[dn,pe]}),q}function Xs(D,F){return function(q){return D(F(q))}}function Zr(D){var F=-1,q=Array(D.size);return D.forEach(function(pe){q[++F]=pe}),q}var So=Array.prototype,zt=Function.prototype,ji=Object.prototype,Mi=V["__core-js_shared__"],Vt=function(){var D=/[^.]+$/.exec(Mi&&Mi.keys&&Mi.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),Jr=zt.toString,Ir=ji.hasOwnProperty,Li=ji.toString,Ui=RegExp("^"+Jr.call(Ir).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ll=oe?V.Buffer:void 0,Ha=V.Symbol,Ao=V.Uint8Array,Zs=Xs(Object.getPrototypeOf,Object),Fp=Object.create,No=ji.propertyIsEnumerable,cw=So.splice,zp=Object.getOwnPropertySymbols,Vp=ll?ll.isBuffer:void 0,Hp=Xs(Object.keys,Object),yd=hl(V,"DataView"),Bi=hl(V,"Map"),es=hl(V,"Promise"),wd=hl(V,"Set"),vd=hl(V,"WeakMap"),Io=hl(Object,"create"),Wp=Ka(yd),Ae=Ka(Bi),kt=Ka(es),Zt=Ka(wd),Fn=Ka(vd),Wa=Ha?Ha.prototype:void 0,$t=Wa?Wa.valueOf:void 0;function Rt(D){var F=-1,q=D?D.length:0;for(this.clear();++F<q;){var pe=D[F];this.set(pe[0],pe[1])}}function ul(){this.__data__=Io?Io(null):{}}function _r(D){return this.has(D)&&delete this.__data__[D]}function Tr(D){var F=this.__data__;if(Io){var q=F[D];return q===r?void 0:q}return Ir.call(F,D)?F[D]:void 0}function qp(D){var F=this.__data__;return Io?F[D]!==void 0:Ir.call(F,D)}function Fi(D,F){var q=this.__data__;return q[D]=Io&&F===void 0?r:F,this}Rt.prototype.clear=ul,Rt.prototype.delete=_r,Rt.prototype.get=Tr,Rt.prototype.has=qp,Rt.prototype.set=Fi;function Js(D){var F=-1,q=D?D.length:0;for(this.clear();++F<q;){var pe=D[F];this.set(pe[0],pe[1])}}function z6(){this.__data__=[]}function V6(D){var F=this.__data__,q=Kp(F,D);if(q<0)return!1;var pe=F.length-1;return q==pe?F.pop():cw.call(F,q,1),!0}function H6(D){var F=this.__data__,q=Kp(F,D);return q<0?void 0:F[q][1]}function W6(D){return Kp(this.__data__,D)>-1}function q6(D,F){var q=this.__data__,pe=Kp(q,D);return pe<0?q.push([D,F]):q[pe][1]=F,this}Js.prototype.clear=z6,Js.prototype.delete=V6,Js.prototype.get=H6,Js.prototype.has=W6,Js.prototype.set=q6;function dl(D){var F=-1,q=D?D.length:0;for(this.clear();++F<q;){var pe=D[F];this.set(pe[0],pe[1])}}function K6(){this.__data__={hash:new Rt,map:new(Bi||Js),string:new Rt}}function G6(D){return Gp(this,D).delete(D)}function Y6(D){return Gp(this,D).get(D)}function Q6(D){return Gp(this,D).has(D)}function X6(D,F){return Gp(this,D).set(D,F),this}dl.prototype.clear=K6,dl.prototype.delete=G6,dl.prototype.get=Y6,dl.prototype.has=Q6,dl.prototype.set=X6;function fl(D){this.__data__=new Js(D)}function Z6(){this.__data__=new Js}function J6(D){return this.__data__.delete(D)}function eL(D){return this.__data__.get(D)}function tL(D){return this.__data__.has(D)}function nL(D,F){var q=this.__data__;if(q instanceof Js){var pe=q.__data__;if(!Bi||pe.length<n-1)return pe.push([D,F]),this;q=this.__data__=new dl(pe)}return q.set(D,F),this}fl.prototype.clear=Z6,fl.prototype.delete=J6,fl.prototype.get=eL,fl.prototype.has=tL,fl.prototype.set=nL;function rL(D,F){var q=dw(D)||IL(D)?gt(D.length,String):[],pe=q.length,dn=!!pe;for(var er in D)Ir.call(D,er)&&!(dn&&(er=="length"||CL(er,pe)))&&q.push(er);return q}function NS(D,F,q){var pe=D[F];(!(Ir.call(D,F)&&PS(pe,q))||q===void 0&&!(F in D))&&(D[F]=q)}function Kp(D,F){for(var q=D.length;q--;)if(PS(D[q][0],F))return q;return-1}function sL(D,F){return D&&IS(F,fw(F),D)}function lw(D,F,q,pe,dn,er,zi){var tr;if(pe&&(tr=er?pe(D,dn,er,zi):pe(D)),tr!==void 0)return tr;if(!Yp(D))return D;var kS=dw(D);if(kS){if(tr=bL(D),!F)return yL(D,tr)}else{var pl=qa(D),$S=pl==u||pl==d;if(TL(D))return uL(D,F);if(pl==m||pl==i||$S&&!er){if(In(D))return er?D:{};if(tr=xL($S?{}:D),!F)return wL(D,sL(tr,D))}else{if(!R[pl])return er?D:{};tr=EL(D,pl,lw,F)}}zi||(zi=new fl);var RS=zi.get(D);if(RS)return RS;if(zi.set(D,tr),!kS)var jS=q?vL(D):fw(D);return we(jS||D,function(hw,Qp){jS&&(Qp=hw,hw=D[Qp]),NS(tr,Qp,lw(hw,F,q,pe,Qp,D,zi))}),tr}function iL(D){return Yp(D)?Fp(D):{}}function oL(D,F,q){var pe=F(D);return dw(D)?pe:Oe(pe,q(D))}function aL(D){return Li.call(D)}function cL(D){if(!Yp(D)||AL(D))return!1;var F=OS(D)||In(D)?Ui:T;return F.test(Ka(D))}function lL(D){if(!TS(D))return Hp(D);var F=[];for(var q in Object(D))Ir.call(D,q)&&q!="constructor"&&F.push(q);return F}function uL(D,F){if(F)return D.slice();var q=new D.constructor(D.length);return D.copy(q),q}function uw(D){var F=new D.constructor(D.byteLength);return new Ao(F).set(new Ao(D)),F}function dL(D,F){var q=F?uw(D.buffer):D.buffer;return new D.constructor(q,D.byteOffset,D.byteLength)}function fL(D,F,q){var pe=F?q(Qs(D),!0):Qs(D);return ze(pe,ae,new D.constructor)}function hL(D){var F=new D.constructor(D.source,k.exec(D));return F.lastIndex=D.lastIndex,F}function pL(D,F,q){var pe=F?q(Zr(D),!0):Zr(D);return ze(pe,le,new D.constructor)}function mL(D){return $t?Object($t.call(D)):{}}function gL(D,F){var q=F?uw(D.buffer):D.buffer;return new D.constructor(q,D.byteOffset,D.length)}function yL(D,F){var q=-1,pe=D.length;for(F||(F=Array(pe));++q<pe;)F[q]=D[q];return F}function IS(D,F,q,pe){q||(q={});for(var dn=-1,er=F.length;++dn<er;){var zi=F[dn],tr=void 0;NS(q,zi,tr===void 0?D[zi]:tr)}return q}function wL(D,F){return IS(D,_S(D),F)}function vL(D){return oL(D,fw,_S)}function Gp(D,F){var q=D.__data__;return SL(F)?q[typeof F=="string"?"string":"hash"]:q.map}function hl(D,F){var q=Jn(D,F);return cL(q)?q:void 0}var _S=zp?Xs(zp,Object):OL,qa=aL;(yd&&qa(new yd(new ArrayBuffer(1)))!=S||Bi&&qa(new Bi)!=f||es&&qa(es.resolve())!=g||wd&&qa(new wd)!=w||vd&&qa(new vd)!=x)&&(qa=function(D){var F=Li.call(D),q=F==m?D.constructor:void 0,pe=q?Ka(q):void 0;if(pe)switch(pe){case Wp:return S;case Ae:return f;case kt:return g;case Zt:return w;case Fn:return x}return F});function bL(D){var F=D.length,q=D.constructor(F);return F&&typeof D[0]=="string"&&Ir.call(D,"index")&&(q.index=D.index,q.input=D.input),q}function xL(D){return typeof D.constructor=="function"&&!TS(D)?iL(Zs(D)):{}}function EL(D,F,q,pe){var dn=D.constructor;switch(F){case E:return uw(D);case a:case c:return new dn(+D);case S:return dL(D,pe);case A:case C:case N:case j:case M:case L:case B:case U:case I:return gL(D,pe);case f:return fL(D,pe,q);case h:case v:return new dn(D);case y:return hL(D);case w:return pL(D,pe,q);case b:return mL(D)}}function CL(D,F){return F=F??s,!!F&&(typeof D=="number"||$.test(D))&&D>-1&&D%1==0&&D<F}function SL(D){var F=typeof D;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?D!=="__proto__":D===null}function AL(D){return!!Vt&&Vt in D}function TS(D){var F=D&&D.constructor,q=typeof F=="function"&&F.prototype||ji;return D===q}function Ka(D){if(D!=null){try{return Jr.call(D)}catch{}try{return D+""}catch{}}return""}function NL(D){return lw(D,!0,!0)}function PS(D,F){return D===F||D!==D&&F!==F}function IL(D){return _L(D)&&Ir.call(D,"callee")&&(!No.call(D,"callee")||Li.call(D)==i)}var dw=Array.isArray;function DS(D){return D!=null&&PL(D.length)&&!OS(D)}function _L(D){return DL(D)&&DS(D)}var TL=Vp||kL;function OS(D){var F=Yp(D)?Li.call(D):"";return F==u||F==d}function PL(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=s}function Yp(D){var F=typeof D;return!!D&&(F=="object"||F=="function")}function DL(D){return!!D&&typeof D=="object"}function fw(D){return DS(D)?rL(D):lL(D)}function OL(){return[]}function kL(){return!1}e.exports=NL})(T0,T0.exports);T0.exports;var nn;(function(e){e.Int="int",e.UInt="uint",e.Buffer="buffer",e.BoolTrue="true",e.BoolFalse="false",e.PrincipalStandard="address",e.PrincipalContract="contract",e.ResponseOk="ok",e.ResponseErr="err",e.OptionalNone="none",e.OptionalSome="some",e.List="list",e.Tuple="tuple",e.StringASCII="ascii",e.StringUTF8="utf8"})(nn||(nn={}));var F1;(function(e){e[e.int=0]="int",e[e.uint=1]="uint",e[e.buffer=2]="buffer",e[e.true=3]="true",e[e.false=4]="false",e[e.address=5]="address",e[e.contract=6]="contract",e[e.ok=7]="ok",e[e.err=8]="err",e[e.none=9]="none",e[e.some=10]="some",e[e.list=11]="list",e[e.tuple=12]="tuple",e[e.ascii=13]="ascii",e[e.utf8=14]="utf8"})(F1||(F1={}));function ZC(e){return F1[e]}var Lr;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.Asset=4]="Asset",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(Lr||(Lr={}));function wh(e,t,n){const r=t||1,s=n||Lq;if(gG(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:Lr.LengthPrefixedString,content:e,lengthPrefixBytes:r,maxLengthBytes:s}}function QK(e,t,n){return{type:Lr.Asset,address:xp(e),contractName:wh(t),assetName:wh(n)}}function xp(e){const t=i5.c32addressDecode(e);return{type:Lr.Address,version:t[0],hash160:t[1]}}function XK(e,t){const n=xp(e),r=wh(t);return{type:Lr.Principal,prefix:Si.Contract,address:n,contractName:r}}function ZK(e){const t=xp(e);return{type:Lr.Principal,prefix:Si.Standard,address:t}}function ky(e){const t=[];return t.push(Fc(jC(e.version,1))),t.push(Fc(e.hash160)),Co(t)}function JK(e){const t=[];return t.push(e.prefix),(e.prefix===Si.Standard||e.prefix===Si.Contract)&&t.push(ky(e.address)),e.prefix===Si.Contract&&t.push(vh(e.contractName)),Co(t)}function vh(e){const t=[],n=Ty(e.content),r=n.byteLength;return t.push(Fc(jC(r,e.lengthPrefixBytes))),t.push(n),Co(t)}function eG(e){const t=[];return t.push(ky(e.address)),t.push(vh(e.contractName)),t.push(vh(e.assetName)),Co(t)}function tG(e){return vp(nG(e))}function nG(e){const t=[];if(t.push(e.conditionType),t.push(JK(e.principal)),(e.conditionType===yi.Fungible||e.conditionType===yi.NonFungible)&&t.push(eG(e.asset)),e.conditionType===yi.NonFungible&&t.push(sd(e.assetName)),t.push(e.conditionCode),e.conditionType===yi.STX||e.conditionType===yi.Fungible){if(e.amount>BigInt("0xffffffffffffffff"))throw new t5("The post-condition amount may not be larger than 8 bytes");t.push(PW(e.amount,8))}return Co(t)}function xI(e){const[t,n,r]=e.split(/\.|::/);return QK(t,n,r)}function sv(e){if(e.includes(".")){const[t,n]=e.split(".");return XK(t,n)}else return ZK(e)}function Ri(e,t){return Co([ZC(e),t])}function rG(e){return new Uint8Array([ZC(e.type)])}function sG(e){return e.type===nn.OptionalNone?new Uint8Array([ZC(e.type)]):Ri(e.type,sd(e.value))}function iG(e){const t=new Uint8Array(4);return Py(t,Math.ceil(e.value.length/2),0),Ri(e.type,LC(t,Fc(e.value)))}function oG(e){const t=MC(OW(BigInt(e.value),BigInt(Uq)),e5);return Ri(e.type,t)}function aG(e){const t=MC(BigInt(e.value),e5);return Ri(e.type,t)}function cG(e){return Ri(e.type,ky(xp(e.value)))}function lG(e){const[t,n]=yG(e.value);return Ri(e.type,LC(ky(xp(t)),vh(wh(n))))}function uG(e){return Ri(e.type,sd(e.value))}function dG(e){const t=[],n=new Uint8Array(4);Py(n,e.value.length,0),t.push(n);for(const r of e.value){const s=sd(r);t.push(s)}return Ri(e.type,Co(t))}function fG(e){const t=[],n=new Uint8Array(4);Py(n,Object.keys(e.value).length,0),t.push(n);const r=Object.keys(e.value).sort((s,i)=>s.localeCompare(i));for(const s of r){const i=wh(s);t.push(vh(i));const o=sd(e.value[s]);t.push(o)}return Ri(e.type,Co(t))}function p5(e,t){const n=[],r=t=="ascii"?RW(e.value):Ty(e.value),s=new Uint8Array(4);return Py(s,r.length,0),n.push(s),n.push(r),Ri(e.type,Co(n))}function hG(e){return p5(e,"ascii")}function pG(e){return p5(e,"utf8")}function mG(e){return vp(sd(e))}function sd(e){switch(e.type){case nn.BoolTrue:case nn.BoolFalse:return rG(e);case nn.OptionalNone:case nn.OptionalSome:return sG(e);case nn.Buffer:return iG(e);case nn.UInt:return aG(e);case nn.Int:return oG(e);case nn.PrincipalStandard:return cG(e);case nn.PrincipalContract:return lG(e);case nn.ResponseOk:case nn.ResponseErr:return uG(e);case nn.List:return dG(e);case nn.Tuple:return fG(e);case nn.StringASCII:return hG(e);case nn.StringUTF8:return pG(e);default:throw new t5("Unable to serialize. Invalid Clarity Value.")}}const gG=(e,t)=>e?Ty(e).length>t:!1;function yG(e){const[t,n]=e.split(".");if(!t||!n)throw new Error(`Invalid contract identifier: ${e}`);return[t,n]}var z1;(function(e){e[e.eq=1]="eq",e[e.gt=2]="gt",e[e.lt=4]="lt",e[e.gte=3]="gte",e[e.lte=5]="lte",e[e.sent=16]="sent",e[e["not-sent"]=17]="not-sent"})(z1||(z1={}));function wG(e){switch(e.type){case"stx-postcondition":return{type:Lr.PostCondition,conditionType:yi.STX,principal:e.address==="origin"?{type:Lr.Principal,prefix:Si.Origin}:sv(e.address),conditionCode:iv(e.condition),amount:BigInt(e.amount)};case"ft-postcondition":return{type:Lr.PostCondition,conditionType:yi.Fungible,principal:e.address==="origin"?{type:Lr.Principal,prefix:Si.Origin}:sv(e.address),conditionCode:iv(e.condition),amount:BigInt(e.amount),asset:xI(e.asset)};case"nft-postcondition":return{type:Lr.PostCondition,conditionType:yi.NonFungible,principal:e.address==="origin"?{type:Lr.Principal,prefix:Si.Origin}:sv(e.address),conditionCode:iv(e.condition),asset:xI(e.asset),assetName:e.assetId};default:throw new Error("Invalid post condition type")}}function iv(e){return z1[e]}function EI(e){const t=wG(e);return tG(t)}const CI=mG;var JC={exports:{}},Eu=typeof Reflect=="object"?Reflect:null,SI=Eu&&typeof Eu.apply=="function"?Eu.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Ag;Eu&&typeof Eu.ownKeys=="function"?Ag=Eu.ownKeys:Object.getOwnPropertySymbols?Ag=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ag=function(t){return Object.getOwnPropertyNames(t)};function vG(e){console&&console.warn&&console.warn(e)}var m5=Number.isNaN||function(t){return t!==t};function st(){st.init.call(this)}JC.exports=st;JC.exports.once=CG;st.EventEmitter=st;st.prototype._events=void 0;st.prototype._eventsCount=0;st.prototype._maxListeners=void 0;var AI=10;function $y(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(st,"defaultMaxListeners",{enumerable:!0,get:function(){return AI},set:function(e){if(typeof e!="number"||e<0||m5(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");AI=e}});st.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};st.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||m5(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function g5(e){return e._maxListeners===void 0?st.defaultMaxListeners:e._maxListeners}st.prototype.getMaxListeners=function(){return g5(this)};st.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var s=t==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(c===void 0)return!1;if(typeof c=="function")SI(c,this,n);else for(var l=c.length,u=x5(c,l),r=0;r<l;++r)SI(u[r],this,n);return!0};function y5(e,t,n,r){var s,i,o;if($y(n),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),o===void 0)o=i[t]=n,++e._eventsCount;else if(typeof o=="function"?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),s=g5(e),s>0&&o.length>s&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,vG(a)}return e}st.prototype.addListener=function(t,n){return y5(this,t,n,!1)};st.prototype.on=st.prototype.addListener;st.prototype.prependListener=function(t,n){return y5(this,t,n,!0)};function bG(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w5(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},s=bG.bind(r);return s.listener=n,r.wrapFn=s,s}st.prototype.once=function(t,n){return $y(n),this.on(t,w5(this,t,n)),this};st.prototype.prependOnceListener=function(t,n){return $y(n),this.prependListener(t,w5(this,t,n)),this};st.prototype.removeListener=function(t,n){var r,s,i,o,a;if($y(n),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():xG(r,i),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};st.prototype.off=st.prototype.removeListener;st.prototype.removeAllListeners=function(t){var n,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i=Object.keys(r),o;for(s=0;s<i.length;++s)o=i[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(t,n[s]);return this};function v5(e,t,n){var r=e._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?EG(s):x5(s,s.length)}st.prototype.listeners=function(t){return v5(this,t,!0)};st.prototype.rawListeners=function(t){return v5(this,t,!1)};st.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):b5.call(e,t)};st.prototype.listenerCount=b5;function b5(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}st.prototype.eventNames=function(){return this._eventsCount>0?Ag(this._events):[]};function x5(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function xG(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function EG(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function CG(e,t){return new Promise(function(n,r){function s(o){e.removeListener(t,i),r(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",s),n([].slice.call(arguments))}E5(e,t,i,{once:!0}),t!=="error"&&SG(e,s,{once:!0})})}function SG(e,t,n){typeof e.on=="function"&&E5(e,"error",t,n)}function E5(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(i){r.once&&e.removeEventListener(t,s),n(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Cs=JC.exports;const e2=cp(Cs);var te={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var V1=function(e,t){return V1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},V1(e,t)};function AG(e,t){V1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var H1=function(){return H1=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},H1.apply(this,arguments)};function NG(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function IG(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function _G(e,t){return function(n,r){t(n,r,e)}}function TG(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function PG(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function DG(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function OG(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function kG(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function W1(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function C5(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function $G(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(C5(arguments[t]));return e}function RG(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function bh(e){return this instanceof bh?(this.v=e,this):new bh(e)}function jG(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(h){return new Promise(function(m,g){i.push([f,h,m,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(m){d(i[0][3],m)}}function c(f){f.value instanceof bh?Promise.resolve(f.value.v).then(l,u):d(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function MG(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:bh(e[s](o)),done:s==="return"}:i?i(o):o}:i}}function LG(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof W1=="function"?W1(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function UG(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function BG(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function FG(e){return e&&e.__esModule?e:{default:e}}function zG(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function VG(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const HG=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return H1},__asyncDelegator:MG,__asyncGenerator:jG,__asyncValues:LG,__await:bh,__awaiter:PG,__classPrivateFieldGet:zG,__classPrivateFieldSet:VG,__createBinding:OG,__decorate:IG,__exportStar:kG,__extends:AG,__generator:DG,__importDefault:FG,__importStar:BG,__makeTemplateObject:UG,__metadata:TG,__param:_G,__read:C5,__rest:NG,__spread:$G,__spreadArrays:RG,__values:W1},Symbol.toStringTag,{value:"Module"})),Ry=gE(HG);var ov={},Dd={},NI;function WG(){if(NI)return Dd;NI=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return Dd.delay=e,Dd}var Ya={},av={},Qa={},II;function qG(){return II||(II=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.ONE_THOUSAND=Qa.ONE_HUNDRED=void 0,Qa.ONE_HUNDRED=100,Qa.ONE_THOUSAND=1e3),Qa}var cv={},_I;function KG(){return _I||(_I=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(cv)),cv}var TI;function S5(){return TI||(TI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ry;t.__exportStar(qG(),e),t.__exportStar(KG(),e)}(av)),av}var PI;function GG(){if(PI)return Ya;PI=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.fromMiliseconds=Ya.toMiliseconds=void 0;const e=S5();function t(r){return r*e.ONE_THOUSAND}Ya.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Ya.fromMiliseconds=n,Ya}var DI;function YG(){return DI||(DI=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ry;t.__exportStar(WG(),e),t.__exportStar(GG(),e)}(ov)),ov}var yl={},OI;function QG(){if(OI)return yl;OI=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const s=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:s})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return yl.Watch=e,yl.default=e,yl}var lv={},Od={},kI;function XG(){if(kI)return Od;kI=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.IWatch=void 0;class e{}return Od.IWatch=e,Od}var $I;function ZG(){return $I||($I=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Ry.__exportStar(XG(),e)}(lv)),lv}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Ry;t.__exportStar(YG(),e),t.__exportStar(QG(),e),t.__exportStar(ZG(),e),t.__exportStar(S5(),e)})(te);class el{}let JG=class extends el{constructor(t){super()}};const RI=te.FIVE_SECONDS,tl={pulse:"heartbeat_pulse"};let eY=class A5 extends JG{constructor(t){super(t),this.events=new Cs.EventEmitter,this.interval=RI,this.interval=(t==null?void 0:t.interval)||RI}static async init(t){const n=new A5(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),te.toMiliseconds(this.interval))}pulse(){this.events.emit(tl.pulse)}};const tY=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,nY=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,rY=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function sY(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){iY(e);return}return t}function iY(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function _m(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!rY.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(tY.test(e)||nY.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,sY)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function oY(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function tn(e,...t){try{return oY(e(...t))}catch(n){return Promise.reject(n)}}function aY(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function cY(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Ng(e){if(aY(e))return String(e);if(cY(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Ng(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const q1="base64:";function lY(e){return typeof e=="string"?e:q1+fY(e)}function uY(e){return typeof e!="string"||!e.startsWith(q1)?e:dY(e.slice(q1.length))}function dY(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function fY(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function lr(e){var t;return e&&((t=e.split("?")[0])==null?void 0:t.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function hY(...e){return lr(e.join(":"))}function Tm(e){return e=lr(e),e?e+":":""}function pY(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function mY(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const gY="memory",yY=()=>{const e=new Map;return{name:gY,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function wY(e={}){const t={mounts:{"":e.driver||yY()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of t.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:t.mounts[u]};return{base:"",relativeKey:l,driver:t.mounts[""]}},r=(l,u)=>t.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:t.mounts[d]})),s=(l,u)=>{if(t.watching){u=lr(u);for(const d of t.watchListeners)d(l,u)}},i=async()=>{if(!t.watching){t.watching=!0;for(const l in t.mounts)t.unwatch[l]=await jI(t.mounts[l],s,l)}},o=async()=>{if(t.watching){for(const l in t.unwatch)await t.unwatch[l]();t.unwatch={},t.watching=!1}},a=(l,u,d)=>{const f=new Map,h=m=>{let g=f.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},f.set(m.base,g)),g};for(const m of l){const g=typeof m=="string",y=lr(g?m:m.key),w=g?void 0:m.value,v=g||!m.options?u:{...u,...m.options},b=n(y);h(b).items.push({key:y,value:w,relativeKey:b.relativeKey,options:v})}return Promise.all([...f.values()].map(m=>d(m))).then(m=>m.flat())},c={hasItem(l,u={}){l=lr(l);const{relativeKey:d,driver:f}=n(l);return tn(f.hasItem,d,u)},getItem(l,u={}){l=lr(l);const{relativeKey:d,driver:f}=n(l);return tn(f.getItem,d,u).then(h=>_m(h))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?tn(d.driver.getItems,d.items.map(f=>({key:f.relativeKey,options:f.options})),u).then(f=>f.map(h=>({key:hY(d.base,h.key),value:_m(h.value)}))):Promise.all(d.items.map(f=>tn(d.driver.getItem,f.relativeKey,f.options).then(h=>({key:f.key,value:_m(h)})))))},getItemRaw(l,u={}){l=lr(l);const{relativeKey:d,driver:f}=n(l);return f.getItemRaw?tn(f.getItemRaw,d,u):tn(f.getItem,d,u).then(h=>uY(h))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=lr(l);const{relativeKey:f,driver:h}=n(l);h.setItem&&(await tn(h.setItem,f,Ng(u),d),h.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return tn(d.driver.setItems,d.items.map(f=>({key:f.relativeKey,value:Ng(f.value),options:f.options})),u);d.driver.setItem&&await Promise.all(d.items.map(f=>tn(d.driver.setItem,f.relativeKey,Ng(f.value),f.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=lr(l);const{relativeKey:f,driver:h}=n(l);if(h.setItemRaw)await tn(h.setItemRaw,f,u,d);else if(h.setItem)await tn(h.setItem,f,lY(u),d);else return;h.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=lr(l);const{relativeKey:d,driver:f}=n(l);f.removeItem&&(await tn(f.removeItem,d,u),(u.removeMeta||u.removeMata)&&await tn(f.removeItem,d+"$",u),f.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=lr(l);const{relativeKey:d,driver:f}=n(l),h=Object.create(null);if(f.getMeta&&Object.assign(h,await tn(f.getMeta,d,u)),!u.nativeOnly){const m=await tn(f.getItem,d+"$",u).then(g=>_m(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(h,m))}return h},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var y;l=Tm(l);const d=r(l,!0);let f=[];const h=[];let m=!0;for(const w of d){(y=w.driver.flags)!=null&&y.maxDepth||(m=!1);const v=await tn(w.driver.getKeys,w.relativeBase,u);for(const b of v){const x=w.mountpoint+lr(b);f.some(E=>x.startsWith(E))||h.push(x)}f=[w.mountpoint,...f.filter(b=>!b.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return h.filter(w=>(!g||pY(w,u.maxDepth))&&mY(w,l))},async clear(l,u={}){l=Tm(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return tn(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const f=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(f.map(h=>d.driver.removeItem(h,u)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(l=>MI(l)))},async watch(l){return await i(),t.watchListeners.push(l),async()=>{t.watchListeners=t.watchListeners.filter(u=>u!==l),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(l,u){if(l=Tm(l),l&&t.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(t.mountpoints.push(l),t.mountpoints.sort((d,f)=>f.length-d.length)),t.mounts[l]=u,t.watching&&Promise.resolve(jI(u,s,l)).then(d=>{t.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,f;l=Tm(l),!(!l||!t.mounts[l])&&(t.watching&&l in t.unwatch&&((f=(d=t.unwatch)[l])==null||f.call(d),delete t.unwatch[l]),u&&await MI(t.mounts[l]),t.mountpoints=t.mountpoints.filter(h=>h!==l),delete t.mounts[l])},getMount(l=""){l=lr(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=lr(l),r(l,u.parents).map(f=>({driver:f.driver,base:f.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function jI(e,t,n){return e.watch?e.watch((r,s)=>t(r,n+s)):()=>{}}async function MI(e){typeof e.dispose=="function"&&await tn(e.dispose)}function nl(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function N5(e,t){let n;const r=()=>{if(n)return n;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),n=nl(s),n.then(i=>{i.onclose=()=>n=void 0},()=>{}),n};return(s,i)=>r().then(o=>i(o.transaction(t,s).objectStore(t)))}let uv;function Ep(){return uv||(uv=N5("keyval-store","keyval")),uv}function LI(e,t=Ep()){return t("readonly",n=>nl(n.get(e)))}function vY(e,t,n=Ep()){return n("readwrite",r=>(r.put(t,e),nl(r.transaction)))}function bY(e,t=Ep()){return t("readwrite",n=>(n.delete(e),nl(n.transaction)))}function xY(e=Ep()){return e("readwrite",t=>(t.clear(),nl(t.transaction)))}function EY(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},nl(e.transaction)}function CY(e=Ep()){return e("readonly",t=>{if(t.getAllKeys)return nl(t.getAllKeys());const n=[];return EY(t,r=>n.push(r.key)).then(()=>n)})}const SY=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),AY=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function Vc(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return AY(e)}catch{return e}}function wo(e){return typeof e=="string"?e:SY(e)||""}const NY="idb-keyval";var IY=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=s=>t+s;let r;return e.dbName&&e.storeName&&(r=N5(e.dbName,e.storeName)),{name:NY,options:e,async hasItem(s){return!(typeof await LI(n(s),r)>"u")},async getItem(s){return await LI(n(s),r)??null},setItem(s,i){return vY(n(s),i,r)},removeItem(s){return bY(n(s),r)},getKeys(){return CY(r)},clear(){return xY(r)}}};const _Y="WALLET_CONNECT_V2_INDEXED_DB",TY="keyvaluestorage";let PY=class{constructor(){this.indexedDb=wY({driver:IY({dbName:_Y,storeName:TY})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,wo(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ig={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof dv<"u"&&dv.localStorage?Ig.exports=dv.localStorage:typeof window<"u"&&window.localStorage?Ig.exports=window.localStorage:Ig.exports=new t})();function DY(e){var t;return[e[0],Vc((t=e[1])!=null?t:"")]}let OY=class{constructor(){this.localStorage=Ig.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(DY)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return Vc(n)}async setItem(t,n){this.localStorage.setItem(t,wo(n))}async removeItem(t){this.localStorage.removeItem(t)}};const kY="wc_storage_version",UI=1,$Y=async(e,t,n)=>{const r=kY,s=await t.getItem(r);if(s&&s>=UI){n(t);return}const i=await e.getKeys();if(!i.length){n(t);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await e.getItem(a);await t.setItem(a,l),o.push(a)}}await t.setItem(r,UI),n(t),RY(e,o)},RY=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let jY=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new OY;this.storage=t;try{const n=new PY;$Y(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};function MY(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var LY=UY;function UY(e,t,n){var r=n&&n.stringify||MY,s=1;if(typeof e=="object"&&e!==null){var i=t.length+s;if(i===1)return e;var o=new Array(i);o[0]=r(e);for(var a=1;a<i;a++)o[a]=r(t[a]);return o.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var l="",u=1-s,d=-1,f=e&&e.length||0,h=0;h<f;){if(e.charCodeAt(h)===37&&h+1<f){switch(d=d>-1?d:0,e.charCodeAt(h+1)){case 100:case 102:if(u>=c||t[u]==null)break;d<h&&(l+=e.slice(d,h)),l+=Number(t[u]),d=h+2,h++;break;case 105:if(u>=c||t[u]==null)break;d<h&&(l+=e.slice(d,h)),l+=Math.floor(Number(t[u])),d=h+2,h++;break;case 79:case 111:case 106:if(u>=c||t[u]===void 0)break;d<h&&(l+=e.slice(d,h));var m=typeof t[u];if(m==="string"){l+="'"+t[u]+"'",d=h+2,h++;break}if(m==="function"){l+=t[u].name||"<anonymous>",d=h+2,h++;break}l+=r(t[u]),d=h+2,h++;break;case 115:if(u>=c)break;d<h&&(l+=e.slice(d,h)),l+=String(t[u]),d=h+2,h++;break;case 37:d<h&&(l+=e.slice(d,h)),l+="%",d=h+2,h++,u--;break}++u}++h}return d===-1?e:(d<f&&(l+=e.slice(d)),l)}const BI=LY;var Bl=Ai;const xh=YY().console||{},BY={mapHttpRequest:Pm,mapHttpResponse:Pm,wrapRequestSerializer:fv,wrapResponseSerializer:fv,wrapErrorSerializer:fv,req:Pm,res:Pm,err:WY};function FY(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Ai(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||xh;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=FY(e.browser.serialize,r);let i=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(i=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),e.enabled===!1&&(e.level="silent");const a=e.level||"info",c=Object.create(n);c.log||(c.log=Eh),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:f});const l={transmit:t,serialize:s,asObject:e.browser.asObject,levels:o,timestamp:qY(e)};c.levels=Ai.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Eh,c.serializers=r,c._serialize=s,c._stdErrSerialize=i,c.child=h,t&&(c._logEvent=K1());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function f(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,wl(l,c,"error","log"),wl(l,c,"fatal","error"),wl(l,c,"warn","error"),wl(l,c,"info","log"),wl(l,c,"debug","log"),wl(l,c,"trace","log")}function h(m,g){if(!m)throw new Error("missing bindings for child Pino");g=g||{},s&&m.serializers&&(g.serializers=m.serializers);const y=g.serializers;if(s&&y){var w=Object.assign({},r,y),v=e.browser.serialize===!0?Object.keys(w):s;delete m.serializers,jy([m],v,w,this._stdErrSerialize)}function b(x){this._childLevel=(x._childLevel|0)+1,this.error=vl(x,m,"error"),this.fatal=vl(x,m,"fatal"),this.warn=vl(x,m,"warn"),this.info=vl(x,m,"info"),this.debug=vl(x,m,"debug"),this.trace=vl(x,m,"trace"),w&&(this.serializers=w,this._serialize=v),t&&(this._logEvent=K1([].concat(x._logEvent.bindings,m)))}return b.prototype=this,new b(this)}return c}Ai.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Ai.stdSerializers=BY;Ai.stdTimeFunctions=Object.assign({},{nullTime:I5,epochTime:_5,unixTime:KY,isoTime:GY});function wl(e,t,n,r){const s=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?Eh:s[n]?s[n]:xh[n]||xh[r]||Eh,zY(e,t,n)}function zY(e,t,n){!e.transmit&&t[n]===Eh||(t[n]=function(r){return function(){const i=e.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===xh?xh:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(e.serialize&&!e.asObject&&jy(o,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?r.call(a,VY(this,n,o,i)):r.apply(a,o),e.transmit){const l=e.transmit.level||t.level,u=Ai.levels.values[l],d=Ai.levels.values[n];if(d<u)return;HY(this,{ts:i,methodLevel:n,methodValue:d,transmitValue:Ai.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},o)}}}(t[n]))}function VY(e,t,n,r){e._serialize&&jy(n,e._serialize,e.serializers,e._stdErrSerialize);const s=n.slice();let i=s[0];const o={};r&&(o.time=r),o.level=Ai.levels.values[t];let a=(e._childLevel|0)+1;if(a<1&&(a=1),i!==null&&typeof i=="object"){for(;a--&&typeof s[0]=="object";)Object.assign(o,s.shift());i=s.length?BI(s.shift(),s):void 0}else typeof i=="string"&&(i=BI(s.shift(),s));return i!==void 0&&(o.msg=i),o}function jy(e,t,n,r){for(const s in e)if(r&&e[s]instanceof Error)e[s]=Ai.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s]))for(const i in e[s])t&&t.indexOf(i)>-1&&i in n&&(e[s][i]=n[i](e[s][i]))}function vl(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var s=1;s<r.length;s++)r[s]=arguments[s-1];return e[n].apply(this,r)}}function HY(e,t,n){const r=t.send,s=t.ts,i=t.methodLevel,o=t.methodValue,a=t.val,c=e._logEvent.bindings;jy(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),e._logEvent.level.label=i,e._logEvent.level.value=o,r(i,e._logEvent,a),e._logEvent=K1(c)}function K1(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function WY(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function qY(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?I5:_5}function Pm(){return{}}function fv(e){return e}function Eh(){}function I5(){return!1}function _5(){return Date.now()}function KY(){return Math.round(Date.now()/1e3)}function GY(){return new Date(Date.now()).toISOString()}function YY(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const Cp=cp(Bl),QY={level:"info"},Sp="custom_context",t2=1e3*1024;let XY=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},FI=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new XY(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}},T5=class{constructor(t,n=t2){this.level=t??"error",this.levelValue=Bl.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new FI(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===Bl.levels.values.error?console.error(t):n===Bl.levels.values.warn?console.warn(t):n===Bl.levels.values.debug?console.debug(t):n===Bl.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(wo({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new FI(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(wo({extraMetadata:t})),new Blob(n,{type:"application/json"})}},ZY=class{constructor(t,n=t2){this.baseChunkLogger=new T5(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},JY=class{constructor(t,n=t2){this.baseChunkLogger=new T5(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var eQ=Object.defineProperty,tQ=Object.defineProperties,nQ=Object.getOwnPropertyDescriptors,zI=Object.getOwnPropertySymbols,rQ=Object.prototype.hasOwnProperty,sQ=Object.prototype.propertyIsEnumerable,VI=(e,t,n)=>t in e?eQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,P0=(e,t)=>{for(var n in t||(t={}))rQ.call(t,n)&&VI(e,n,t[n]);if(zI)for(var n of zI(t))sQ.call(t,n)&&VI(e,n,t[n]);return e},D0=(e,t)=>tQ(e,nQ(t));function Ap(e){return D0(P0({},e),{level:(e==null?void 0:e.level)||QY.level})}function iQ(e,t=Sp){return e[t]||""}function oQ(e,t,n=Sp){return e[n]=t,e}function Ar(e,t=Sp){let n="";return typeof e.bindings>"u"?n=iQ(e,t):n=e.bindings().context||"",n}function aQ(e,t,n=Sp){const r=Ar(e,n);return r.trim()?`${r}/${t}`:t}function Zn(e,t,n=Sp){const r=aQ(e,t,n),s=e.child({context:r});return oQ(s,r,n)}function cQ(e){var t,n;const r=new ZY((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Cp(D0(P0({},e.opts),{level:"trace",browser:D0(P0({},(n=e.opts)==null?void 0:n.browser),{write:s=>r.write(s)})})),chunkLoggerController:r}}function lQ(e){var t;const n=new JY((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Cp(D0(P0({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function P5(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?cQ(e):lQ(e)}var uQ=Object.defineProperty,dQ=(e,t,n)=>t in e?uQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HI=(e,t,n)=>dQ(e,typeof t!="symbol"?t+"":t,n);let fQ=class extends el{constructor(t){super(),this.opts=t,HI(this,"protocol","wc"),HI(this,"version",2)}};var hQ=Object.defineProperty,pQ=(e,t,n)=>t in e?hQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mQ=(e,t,n)=>pQ(e,t+"",n);let gQ=class extends el{constructor(t,n){super(),this.core=t,this.logger=n,mQ(this,"records",new Map)}},yQ=class{constructor(t,n){this.logger=t,this.core=n}},wQ=class extends el{constructor(t,n){super(),this.relayer=t,this.logger=n}},vQ=class extends el{constructor(t){super()}},bQ=class{constructor(t,n,r,s){this.core=t,this.logger=n,this.name=r}},xQ=class extends el{constructor(t,n){super(),this.relayer=t,this.logger=n}},EQ=class extends el{constructor(t,n){super(),this.core=t,this.logger=n}},CQ=class{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}},SQ=class{constructor(t,n){this.projectId=t,this.logger=n}},AQ=class{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}};var NQ=Object.defineProperty,IQ=(e,t,n)=>t in e?NQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WI=(e,t,n)=>IQ(e,typeof t!="symbol"?t+"":t,n);let _Q=class{constructor(t){this.opts=t,WI(this,"protocol","wc"),WI(this,"version",2)}},TQ=class{constructor(t){this.client=t}};function PQ(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function D5(e,...t){if(!PQ(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function qI(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function DQ(e,t){D5(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const bl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hv=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function OQ(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function O5(e){return typeof e=="string"&&(e=OQ(e)),D5(e),e}let kQ=class{clone(){return this._cloneInto()}};function $Q(e){const t=r=>e().update(O5(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function k5(e=32){if(bl&&typeof bl.getRandomValues=="function")return bl.getRandomValues(new Uint8Array(e));if(bl&&typeof bl.randomBytes=="function")return bl.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function RQ(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}let jQ=class extends kQ{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=hv(this.buffer)}update(t){qI(this);const{view:n,buffer:r,blockLen:s}=this;t=O5(t);const i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=hv(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){qI(this),DQ(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;RQ(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=hv(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.length=s,t.pos=a,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}};const Dm=BigInt(2**32-1),G1=BigInt(32);function $5(e,t=!1){return t?{h:Number(e&Dm),l:Number(e>>G1&Dm)}:{h:Number(e>>G1&Dm)|0,l:Number(e&Dm)|0}}function MQ(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=$5(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const LQ=(e,t)=>BigInt(e>>>0)<<G1|BigInt(t>>>0),UQ=(e,t,n)=>e>>>n,BQ=(e,t,n)=>e<<32-n|t>>>n,FQ=(e,t,n)=>e>>>n|t<<32-n,zQ=(e,t,n)=>e<<32-n|t>>>n,VQ=(e,t,n)=>e<<64-n|t>>>n-32,HQ=(e,t,n)=>e>>>n-32|t<<64-n,WQ=(e,t)=>t,qQ=(e,t)=>e,KQ=(e,t,n)=>e<<n|t>>>32-n,GQ=(e,t,n)=>t<<n|e>>>32-n,YQ=(e,t,n)=>t<<n-32|e>>>64-n,QQ=(e,t,n)=>e<<n-32|t>>>64-n;function XQ(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const ZQ=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),JQ=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,eX=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),tX=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,nX=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),rX=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Te={fromBig:$5,split:MQ,toBig:LQ,shrSH:UQ,shrSL:BQ,rotrSH:FQ,rotrSL:zQ,rotrBH:VQ,rotrBL:HQ,rotr32H:WQ,rotr32L:qQ,rotlSH:KQ,rotlSL:GQ,rotlBH:YQ,rotlBL:QQ,add:XQ,add3L:ZQ,add3H:JQ,add4L:eX,add4H:tX,add5H:rX,add5L:nX},[sX,iX]=Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),$o=new Uint32Array(80),Ro=new Uint32Array(80);let oX=class extends jQ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:m,Hh:g,Hl:y}=this;return[t,n,r,s,i,o,a,c,l,u,d,f,h,m,g,y]}set(t,n,r,s,i,o,a,c,l,u,d,f,h,m,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let b=0;b<16;b++,n+=4)$o[b]=t.getUint32(n),Ro[b]=t.getUint32(n+=4);for(let b=16;b<80;b++){const x=$o[b-15]|0,E=Ro[b-15]|0,S=Te.rotrSH(x,E,1)^Te.rotrSH(x,E,8)^Te.shrSH(x,E,7),A=Te.rotrSL(x,E,1)^Te.rotrSL(x,E,8)^Te.shrSL(x,E,7),C=$o[b-2]|0,N=Ro[b-2]|0,j=Te.rotrSH(C,N,19)^Te.rotrBH(C,N,61)^Te.shrSH(C,N,6),M=Te.rotrSL(C,N,19)^Te.rotrBL(C,N,61)^Te.shrSL(C,N,6),L=Te.add4L(A,M,Ro[b-7],Ro[b-16]),B=Te.add4H(L,S,j,$o[b-7],$o[b-16]);$o[b]=B|0,Ro[b]=L|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const x=Te.rotrSH(d,f,14)^Te.rotrSH(d,f,18)^Te.rotrBH(d,f,41),E=Te.rotrSL(d,f,14)^Te.rotrSL(d,f,18)^Te.rotrBL(d,f,41),S=d&h^~d&g,A=f&m^~f&y,C=Te.add5L(v,E,A,iX[b],Ro[b]),N=Te.add5H(C,w,x,S,sX[b],$o[b]),j=C|0,M=Te.rotrSH(r,s,28)^Te.rotrBH(r,s,34)^Te.rotrBH(r,s,39),L=Te.rotrSL(r,s,28)^Te.rotrBL(r,s,34)^Te.rotrBL(r,s,39),B=r&i^r&a^i&a,U=s&o^s&c^o&c;w=g|0,v=y|0,g=h|0,y=m|0,h=d|0,m=f|0,{h:d,l:f}=Te.add(l|0,u|0,N|0,j|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=Te.add3L(j,L,U);r=Te.add3H(I,N,M,B),s=I|0}({h:r,l:s}=Te.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Te.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Te.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Te.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=Te.add(this.Eh|0,this.El|0,d|0,f|0),{h,l:m}=Te.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:y}=Te.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=Te.add(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,s,i,o,a,c,l,u,d,f,h,m,g,y,w,v)}roundClean(){$o.fill(0),Ro.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const aX=$Q(()=>new oX);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n2=BigInt(0),R5=BigInt(1),cX=BigInt(2);function r2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function s2(e){if(!r2(e))throw new Error("Uint8Array expected")}function pv(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const lX=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function i2(e){s2(e);let t="";for(let n=0;n<e.length;n++)t+=lX[e[n]];return t}function j5(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?n2:BigInt("0x"+e)}const Hi={_0:48,_9:57,A:65,F:70,a:97,f:102};function KI(e){if(e>=Hi._0&&e<=Hi._9)return e-Hi._0;if(e>=Hi.A&&e<=Hi.F)return e-(Hi.A-10);if(e>=Hi.a&&e<=Hi.f)return e-(Hi.a-10)}function M5(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=KI(e.charCodeAt(i)),a=KI(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function uX(e){return j5(i2(e))}function _g(e){return s2(e),j5(i2(Uint8Array.from(e).reverse()))}function L5(e,t){return M5(e.toString(16).padStart(t*2,"0"))}function Y1(e,t){return L5(e,t).reverse()}function Wi(e,t,n){let r;if(typeof t=="string")try{r=M5(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(r2(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function GI(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];s2(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const mv=e=>typeof e=="bigint"&&n2<=e;function dX(e,t,n){return mv(e)&&mv(t)&&mv(n)&&t<=e&&e<n}function kd(e,t,n,r){if(!dX(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function fX(e){let t;for(t=0;e>n2;e>>=R5,t+=1);return t}const hX=e=>(cX<<BigInt(e-1))-R5,pX={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||r2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function o2(e,t,n={}){const r=(s,i,o)=>{const a=pX[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function YI(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const cn=BigInt(0),Ot=BigInt(1),lc=BigInt(2),mX=BigInt(3),Q1=BigInt(4),QI=BigInt(5),XI=BigInt(8);function Yt(e,t){const n=e%t;return n>=cn?n:t+n}function gX(e,t,n){if(t<cn)throw new Error("invalid exponent, negatives unsupported");if(n<=cn)throw new Error("invalid modulus");if(n===Ot)return cn;let r=Ot;for(;t>cn;)t&Ot&&(r=r*e%n),e=e*e%n,t>>=Ot;return r}function ri(e,t,n){let r=e;for(;t-- >cn;)r*=r,r%=n;return r}function ZI(e,t){if(e===cn)throw new Error("invert: expected non-zero number");if(t<=cn)throw new Error("invert: expected positive modulus, got "+t);let n=Yt(e,t),r=t,s=cn,i=Ot;for(;n!==cn;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Ot)throw new Error("invert: does not exist");return Yt(s,t)}function yX(e){const t=(e-Ot)/lc;let n,r,s;for(n=e-Ot,r=0;n%lc===cn;n/=lc,r++);for(s=lc;s<e&&gX(s,t,e)!==e-Ot;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+Ot)/Q1;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(n+Ot)/lc;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,s),n),u=o.pow(a,i),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let f=1;for(let m=o.sqr(d);f<c&&!o.eql(m,o.ONE);f++)m=o.sqr(m);const h=o.pow(l,Ot<<BigInt(c-f-1));l=o.sqr(h),u=o.mul(u,h),d=o.mul(d,l),c=f}return u}}function wX(e){if(e%Q1===mX){const t=(e+Ot)/Q1;return function(n,r){const s=n.pow(r,t);if(!n.eql(n.sqr(s),r))throw new Error("Cannot find square root");return s}}if(e%XI===QI){const t=(e-QI)/XI;return function(n,r){const s=n.mul(r,lc),i=n.pow(s,t),o=n.mul(r,i),a=n.mul(n.mul(o,lc),i),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return yX(e)}const vX=(e,t)=>(Yt(e,t)&Ot)===Ot,bX=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xX(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=bX.reduce((r,s)=>(r[s]="function",r),t);return o2(e,n)}function EX(e,t,n){if(n<cn)throw new Error("invalid exponent, negatives unsupported");if(n===cn)return e.ONE;if(n===Ot)return t;let r=e.ONE,s=t;for(;n>cn;)n&Ot&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Ot;return r}function CX(e,t){const n=new Array(t.length),r=t.reduce((i,o,a)=>e.is0(o)?i:(n[a]=i,e.mul(i,o)),e.ONE),s=e.inv(r);return t.reduceRight((i,o,a)=>e.is0(o)?i:(n[a]=e.mul(i,n[a]),e.mul(i,o)),s),n}function U5(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function B5(e,t,n=!1,r={}){if(e<=cn)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=U5(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:hX(s),ZERO:cn,ONE:Ot,create:c=>Yt(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return cn<=c&&c<e},is0:c=>c===cn,isOdd:c=>(c&Ot)===Ot,neg:c=>Yt(-c,e),eql:(c,l)=>c===l,sqr:c=>Yt(c*c,e),add:(c,l)=>Yt(c+l,e),sub:(c,l)=>Yt(c-l,e),mul:(c,l)=>Yt(c*l,e),pow:(c,l)=>EX(a,c,l),div:(c,l)=>Yt(c*ZI(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>ZI(c,e),sqrt:r.sqrt||(c=>(o||(o=wX(e)),o(a,c))),invertBatch:c=>CX(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Y1(c,i):L5(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?_g(c):uX(c)}});return Object.freeze(a)}const JI=BigInt(0),Om=BigInt(1);function gv(e,t){const n=t.negate();return e?n:t}function F5(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function yv(e,t){F5(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function SX(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function AX(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const wv=new WeakMap,z5=new WeakMap;function vv(e){return z5.get(e)||1}function NX(e,t){return{constTimeNegate:gv,hasPrecomputes(n){return vv(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>JI;)r&Om&&(s=s.add(i)),i=i.double(),r>>=Om;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=yv(r,t),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){const{windows:i,windowSize:o}=yv(n,t);let a=e.ZERO,c=e.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let f=0;f<i;f++){const h=f*o;let m=Number(s&l);s>>=d,m>o&&(m-=u,s+=Om);const g=h,y=h+Math.abs(m)-1,w=f%2!==0,v=m<0;m===0?c=c.add(gv(w,r[g])):a=a.add(gv(v,r[y]))}return{p:a,f:c}},wNAFUnsafe(n,r,s,i=e.ZERO){const{windows:o,windowSize:a}=yv(n,t),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const f=d*a;if(s===JI)break;let h=Number(s&c);if(s>>=u,h>a&&(h-=l,s+=Om),h===0)continue;let m=r[f+Math.abs(h)-1];h<0&&(m=m.negate()),i=i.add(m)}return i},getPrecomputes(n,r,s){let i=wv.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&wv.set(r,s(i))),i},wNAFCached(n,r,s){const i=vv(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=vv(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){F5(r,t),z5.set(n,r),wv.delete(n)}}}function IX(e,t,n,r){if(SX(n,e),AX(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,i=fX(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((t.BITS-1)/o)*o;let u=s;for(let d=l;d>=0;d-=o){c.fill(s);for(let h=0;h<r.length;h++){const m=r[h],g=Number(m>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[h])}let f=s;for(let h=c.length-1,m=s;h>0;h--)m=m.add(c[h]),f=f.add(m);if(u=u.add(f),d!==0)for(let h=0;h<o;h++)u=u.double()}return u}function _X(e){return xX(e.Fp),o2(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...U5(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Is=BigInt(0),nr=BigInt(1),km=BigInt(2),TX=BigInt(8),PX={zip215:!0};function DX(e){const t=_X(e);return o2(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function OX(e){const t=DX(e),{Fp:n,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=t,l=km<<BigInt(a*8)-nr,u=n.create,d=B5(t.n,t.nBitLength),f=t.uvRatio||((I,_)=>{try{return{isValid:!0,value:n.sqrt(I*n.inv(_))}}catch{return{isValid:!1,value:Is}}}),h=t.adjustScalarBytes||(I=>I),m=t.domain||((I,_,k)=>{if(pv("phflag",k),_.length||k)throw new Error("Contexts/pre-hash are not supported");return I});function g(I,_){kd("coordinate "+I,_,Is,l)}function y(I){if(!(I instanceof b))throw new Error("ExtendedPoint expected")}const w=YI((I,_)=>{const{ex:k,ey:T,ez:$}=I,R=I.is0();_==null&&(_=R?TX:n.inv($));const z=u(k*_),W=u(T*_),V=u($*_);if(R)return{x:Is,y:nr};if(V!==nr)throw new Error("invZ was invalid");return{x:z,y:W}}),v=YI(I=>{const{a:_,d:k}=t;if(I.is0())throw new Error("bad point: ZERO");const{ex:T,ey:$,ez:R,et:z}=I,W=u(T*T),V=u($*$),H=u(R*R),Q=u(H*H),oe=u(W*_),ae=u(H*u(oe+V)),le=u(Q+u(k*u(W*V)));if(ae!==le)throw new Error("bad point: equation left != right (1)");const we=u(T*$),Oe=u(R*z);if(we!==Oe)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(_,k,T,$){this.ex=_,this.ey=k,this.ez=T,this.et=$,g("x",_),g("y",k),g("z",T),g("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof b)throw new Error("extended point not allowed");const{x:k,y:T}=_||{};return g("x",k),g("y",T),new b(k,T,nr,u(k*T))}static normalizeZ(_){const k=n.invertBatch(_.map(T=>T.ez));return _.map((T,$)=>T.toAffine(k[$])).map(b.fromAffine)}static msm(_,k){return IX(b,d,_,k)}_setWindowSize(_){S.setWindowSize(this,_)}assertValidity(){v(this)}equals(_){y(_);const{ex:k,ey:T,ez:$}=this,{ex:R,ey:z,ez:W}=_,V=u(k*W),H=u(R*$),Q=u(T*W),oe=u(z*$);return V===H&&Q===oe}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:_}=t,{ex:k,ey:T,ez:$}=this,R=u(k*k),z=u(T*T),W=u(km*u($*$)),V=u(_*R),H=k+T,Q=u(u(H*H)-R-z),oe=V+z,ae=oe-W,le=V-z,we=u(Q*ae),Oe=u(oe*le),ze=u(Q*le),gt=u(ae*oe);return new b(we,Oe,gt,ze)}add(_){y(_);const{a:k,d:T}=t,{ex:$,ey:R,ez:z,et:W}=this,{ex:V,ey:H,ez:Q,et:oe}=_;if(k===BigInt(-1)){const zt=u((R-$)*(H+V)),ji=u((R+$)*(H-V)),Mi=u(ji-zt);if(Mi===Is)return this.double();const Vt=u(z*km*oe),Jr=u(W*km*Q),Ir=Jr+Vt,Li=ji+zt,Ui=Jr-Vt,ll=u(Ir*Mi),Ha=u(Li*Ui),Ao=u(Ir*Ui),Zs=u(Mi*Li);return new b(ll,Ha,Zs,Ao)}const ae=u($*V),le=u(R*H),we=u(W*T*oe),Oe=u(z*Q),ze=u(($+R)*(V+H)-ae-le),gt=Oe-we,Jn=Oe+we,In=u(le-k*ae),Qs=u(ze*gt),Xs=u(Jn*In),Zr=u(ze*In),So=u(gt*Jn);return new b(Qs,Xs,So,Zr)}subtract(_){return this.add(_.negate())}wNAF(_){return S.wNAFCached(this,_,b.normalizeZ)}multiply(_){const k=_;kd("scalar",k,nr,r);const{p:T,f:$}=this.wNAF(k);return b.normalizeZ([T,$])[0]}multiplyUnsafe(_,k=b.ZERO){const T=_;return kd("scalar",T,Is,r),T===Is?E:this.is0()||T===nr?this:S.wNAFCachedUnsafe(this,T,b.normalizeZ,k)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return S.unsafeLadder(this,r).is0()}toAffine(_){return w(this,_)}clearCofactor(){const{h:_}=t;return _===nr?this:this.multiplyUnsafe(_)}static fromHex(_,k=!1){const{d:T,a:$}=t,R=n.BYTES;_=Wi("pointHex",_,R),pv("zip215",k);const z=_.slice(),W=_[R-1];z[R-1]=W&-129;const V=_g(z),H=k?l:n.ORDER;kd("pointHex.y",V,Is,H);const Q=u(V*V),oe=u(Q-nr),ae=u(T*Q-$);let{isValid:le,value:we}=f(oe,ae);if(!le)throw new Error("Point.fromHex: invalid y coordinate");const Oe=(we&nr)===nr,ze=(W&128)!==0;if(!k&&we===Is&&ze)throw new Error("Point.fromHex: x=0 and x_0=1");return ze!==Oe&&(we=u(-we)),b.fromAffine({x:we,y:V})}static fromPrivateKey(_){return N(_).point}toRawBytes(){const{x:_,y:k}=this.toAffine(),T=Y1(k,n.BYTES);return T[T.length-1]|=_&nr?128:0,T}toHex(){return i2(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,nr,u(t.Gx*t.Gy)),b.ZERO=new b(Is,nr,nr,Is);const{BASE:x,ZERO:E}=b,S=NX(b,a*8);function A(I){return Yt(I,r)}function C(I){return A(_g(I))}function N(I){const _=n.BYTES;I=Wi("private key",I,_);const k=Wi("hashed private key",i(I),2*_),T=h(k.slice(0,_)),$=k.slice(_,2*_),R=C(T),z=x.multiply(R),W=z.toRawBytes();return{head:T,prefix:$,scalar:R,point:z,pointBytes:W}}function j(I){return N(I).pointBytes}function M(I=new Uint8Array,..._){const k=GI(..._);return C(i(m(k,Wi("context",I),!!s)))}function L(I,_,k={}){I=Wi("message",I),s&&(I=s(I));const{prefix:T,scalar:$,pointBytes:R}=N(_),z=M(k.context,T,I),W=x.multiply(z).toRawBytes(),V=M(k.context,W,R,I),H=A(z+V*$);kd("signature.s",H,Is,r);const Q=GI(W,Y1(H,n.BYTES));return Wi("result",Q,n.BYTES*2)}const B=PX;function U(I,_,k,T=B){const{context:$,zip215:R}=T,z=n.BYTES;I=Wi("signature",I,2*z),_=Wi("message",_),k=Wi("publicKey",k,z),R!==void 0&&pv("zip215",R),s&&(_=s(_));const W=_g(I.slice(z,2*z));let V,H,Q;try{V=b.fromHex(k,R),H=b.fromHex(I.slice(0,z),R),Q=x.multiplyUnsafe(W)}catch{return!1}if(!R&&V.isSmallOrder())return!1;const oe=M($,H.toRawBytes(),V.toRawBytes(),_);return H.add(V.multiplyUnsafe(oe)).subtract(Q).clearCofactor().equals(b.ZERO)}return x._setWindowSize(8),{CURVE:t,getPublicKey:j,sign:L,verify:U,ExtendedPoint:b,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>o(n.BYTES),precompute(I=8,_=b.BASE){return _._setWindowSize(I),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const a2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),e_=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const kX=BigInt(1),t_=BigInt(2);BigInt(3);const $X=BigInt(5),RX=BigInt(8);function jX(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=a2,o=e*e%i*e%i,a=ri(o,t_,i)*o%i,c=ri(a,kX,i)*e%i,l=ri(c,$X,i)*c%i,u=ri(l,t,i)*l%i,d=ri(u,n,i)*u%i,f=ri(d,r,i)*d%i,h=ri(f,s,i)*f%i,m=ri(h,s,i)*f%i,g=ri(m,t,i)*l%i;return{pow_p_5_8:ri(g,t_,i)*e%i,b2:o}}function MX(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function LX(e,t){const n=a2,r=Yt(t*t*t,n),s=Yt(r*r*t,n),i=jX(e*s).pow_p_5_8;let o=Yt(e*r*i,n);const a=Yt(t*o*o,n),c=o,l=Yt(o*e_,n),u=a===e,d=a===Yt(-e,n),f=a===Yt(-e*e_,n);return u&&(o=c),(d||f)&&(o=l),vX(o,n)&&(o=Yt(-o,n)),{isValid:u||d,value:o}}const UX=B5(a2,void 0,!0),BX={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:UX,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:RX,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:aX,randomBytes:k5,adjustScalarBytes:MX,uvRatio:LX},V5=OX(BX),FX="EdDSA",zX="JWT",O0=".",My="base64url",H5="utf8",W5="utf8",VX=":",HX="did",WX="key",n_="base58btc",qX="z",KX="K36",GX=32;function c2(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function q5(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?c2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function K5(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const n=q5(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return c2(n)}function YX(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,x=new Uint8Array(b);w!==v;){for(var E=m[w],S=0,A=b-1;(E!==0||S<y)&&A!==-1;A--,S++)E+=256*x[A]>>>0,x[A]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=S,w++}for(var C=b-y;C!==b&&x[C]===0;)C++;for(var N=c.repeat(g);C<b;++C)N+=e.charAt(x[C]);return N}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===c;)y++,g++;for(var v=(m.length-g)*l+1>>>0,b=new Uint8Array(v);m[g];){var x=n[m.charCodeAt(g)];if(x===255)return;for(var E=0,S=v-1;(x!==0||E<w)&&S!==-1;S--,E++)x+=a*b[S]>>>0,b[S]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var A=v-w;A!==v&&b[A]===0;)A++;for(var C=new Uint8Array(y+(v-A)),N=y;A!==v;)C[N++]=b[A++];return C}}}function h(m){var g=f(m);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var QX=YX,XX=QX;const G5=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},ZX=e=>new TextEncoder().encode(e),JX=e=>new TextDecoder().decode(e);let eZ=class{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},tZ=class{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Y5(this,t)}},nZ=class{constructor(t){this.decoders=t}or(t){return Y5(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Y5=(e,t)=>new nZ({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});let rZ=class{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new eZ(t,n,r),this.decoder=new tZ(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};const Ly=({name:e,prefix:t,encode:n,decode:r})=>new rZ(e,t,n,r),Np=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=XX(n,t);return Ly({prefix:e,name:t,encode:r,decode:i=>G5(s(i))})},sZ=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[e[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},iZ=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Sn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Ly({prefix:t,name:e,encode(s){return iZ(s,r,n)},decode(s){return sZ(s,r,n,e)}}),oZ=Ly({prefix:"\0",name:"identity",encode:e=>JX(e),decode:e=>ZX(e)});var aZ=Object.freeze({__proto__:null,identity:oZ});const cZ=Sn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var lZ=Object.freeze({__proto__:null,base2:cZ});const uZ=Sn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var dZ=Object.freeze({__proto__:null,base8:uZ});const fZ=Np({prefix:"9",name:"base10",alphabet:"0123456789"});var hZ=Object.freeze({__proto__:null,base10:fZ});const pZ=Sn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mZ=Sn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var gZ=Object.freeze({__proto__:null,base16:pZ,base16upper:mZ});const yZ=Sn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wZ=Sn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vZ=Sn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bZ=Sn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),xZ=Sn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),EZ=Sn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),CZ=Sn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),SZ=Sn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),AZ=Sn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var NZ=Object.freeze({__proto__:null,base32:yZ,base32upper:wZ,base32pad:vZ,base32padupper:bZ,base32hex:xZ,base32hexupper:EZ,base32hexpad:CZ,base32hexpadupper:SZ,base32z:AZ});const IZ=Np({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_Z=Np({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var TZ=Object.freeze({__proto__:null,base36:IZ,base36upper:_Z});const PZ=Np({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),DZ=Np({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var OZ=Object.freeze({__proto__:null,base58btc:PZ,base58flickr:DZ});const kZ=Sn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),$Z=Sn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),RZ=Sn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jZ=Sn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var MZ=Object.freeze({__proto__:null,base64:kZ,base64pad:$Z,base64url:RZ,base64urlpad:jZ});const Q5=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),LZ=Q5.reduce((e,t,n)=>(e[n]=t,e),[]),UZ=Q5.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function BZ(e){return e.reduce((t,n)=>(t+=LZ[n],t),"")}function FZ(e){const t=[];for(const n of e){const r=UZ[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const zZ=Ly({prefix:"🚀",name:"base256emoji",encode:BZ,decode:FZ});var VZ=Object.freeze({__proto__:null,base256emoji:zZ}),HZ=X5,r_=128,WZ=-128,qZ=Math.pow(2,31);function X5(e,t,n){t=t||[],n=n||0;for(var r=n;e>=qZ;)t[n++]=e&255|r_,e/=128;for(;e&WZ;)t[n++]=e&255|r_,e>>>=7;return t[n]=e|0,X5.bytes=n-r+1,t}var KZ=X1,GZ=128,s_=127;function X1(e,r){var n=0,r=r||0,s=0,i=r,o,a=e.length;do{if(i>=a)throw X1.bytes=0,new RangeError("Could not decode varint");o=e[i++],n+=s<28?(o&s_)<<s:(o&s_)*Math.pow(2,s),s+=7}while(o>=GZ);return X1.bytes=i-r,n}var YZ=Math.pow(2,7),QZ=Math.pow(2,14),XZ=Math.pow(2,21),ZZ=Math.pow(2,28),JZ=Math.pow(2,35),eJ=Math.pow(2,42),tJ=Math.pow(2,49),nJ=Math.pow(2,56),rJ=Math.pow(2,63),sJ=function(e){return e<YZ?1:e<QZ?2:e<XZ?3:e<ZZ?4:e<JZ?5:e<eJ?6:e<tJ?7:e<nJ?8:e<rJ?9:10},iJ={encode:HZ,decode:KZ,encodingLength:sJ},Z5=iJ;const i_=(e,t,n=0)=>(Z5.encode(e,t,n),t),o_=e=>Z5.encodingLength(e),Z1=(e,t)=>{const n=t.byteLength,r=o_(e),s=r+o_(n),i=new Uint8Array(s+n);return i_(e,i,0),i_(n,i,r),i.set(t,s),new oJ(e,n,t,i)};let oJ=class{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}};const J5=({name:e,code:t,encode:n})=>new aJ(e,t,n);let aJ=class{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Z1(this.code,n):n.then(r=>Z1(this.code,r))}else throw Error("Unknown type, must be binary type")}};const eR=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),cJ=J5({name:"sha2-256",code:18,encode:eR("SHA-256")}),lJ=J5({name:"sha2-512",code:19,encode:eR("SHA-512")});var uJ=Object.freeze({__proto__:null,sha256:cJ,sha512:lJ});const tR=0,dJ="identity",nR=G5,fJ=e=>Z1(tR,nR(e)),hJ={code:tR,name:dJ,encode:nR,digest:fJ};var pJ=Object.freeze({__proto__:null,identity:hJ});new TextEncoder,new TextDecoder;const a_={...aZ,...lZ,...dZ,...hZ,...gZ,...NZ,...TZ,...OZ,...MZ,...VZ};({...uJ,...pJ});function rR(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const c_=rR("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),bv=rR("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=q5(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),sR={utf8:c_,"utf-8":c_,hex:a_.base16,latin1:bv,ascii:bv,binary:bv,...a_};function Uy(e,t="utf8"){const n=sR[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function id(e,t="utf8"){const n=sR[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?c2(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function l_(e){return Vc(Uy(id(e,My),H5))}function k0(e){return Uy(id(wo(e),H5),My)}function iR(e){const t=id(KX,n_),n=qX+Uy(K5([t,e]),n_);return[HX,WX,n].join(VX)}function mJ(e){return Uy(e,My)}function gJ(e){return id(e,My)}function yJ(e){return id([k0(e.header),k0(e.payload)].join(O0),W5)}function wJ(e){return[k0(e.header),k0(e.payload),mJ(e.signature)].join(O0)}function J1(e){const t=e.split(O0),n=l_(t[0]),r=l_(t[1]),s=gJ(t[2]),i=id(t.slice(0,2).join(O0),W5);return{header:n,payload:r,signature:s,data:i}}function u_(e=k5(GX)){const t=V5.getPublicKey(e);return{secretKey:K5([e,t]),publicKey:t}}async function vJ(e,t,n,r,s=te.fromMiliseconds(Date.now())){const i={alg:FX,typ:zX},o=iR(r.publicKey),a=s+n,c={iss:o,sub:e,aud:t,iat:s,exp:a},l=yJ({header:i,payload:c}),u=V5.sign(l,r.secretKey.slice(0,32));return wJ({header:i,payload:c,signature:u})}var d_=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},bJ=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),xJ=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),EJ=function(){function e(t,n,r,s){this.name=t,this.version=n,this.os=r,this.bot=s,this.type="bot-device"}return e}(),CJ=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),SJ=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),AJ=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,NJ=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f_=3,IJ=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",AJ]],h_=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function _J(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new SJ:typeof navigator<"u"?PJ(navigator.userAgent):OJ()}function TJ(e){return e!==""&&IJ.reduce(function(t,n){var r=n[0],s=n[1];if(t)return t;var i=s.exec(e);return!!i&&[r,i]},!1)}function PJ(e){var t=TJ(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new CJ;var s=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);s?s.length<f_&&(s=d_(d_([],s,!0),kJ(f_-s.length),!0)):s=[];var i=s.join("."),o=DJ(e),a=NJ.exec(e);return a&&a[1]?new EJ(n,i,o,a[1]):new bJ(n,i,o)}function DJ(e){for(var t=0,n=h_.length;t<n;t++){var r=h_[t],s=r[0],i=r[1],o=i.exec(e);if(o)return s}return null}function OJ(){var e=typeof process<"u"&&process.version;return e?new xJ(process.version.slice(1)):null}function kJ(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.getLocalStorage=lt.getLocalStorageOrThrow=lt.getCrypto=lt.getCryptoOrThrow=oR=lt.getLocation=lt.getLocationOrThrow=l2=lt.getNavigator=lt.getNavigatorOrThrow=Hc=lt.getDocument=lt.getDocumentOrThrow=lt.getFromWindowOrThrow=lt.getFromWindow=void 0;function rl(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}lt.getFromWindow=rl;function od(e){const t=rl(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}lt.getFromWindowOrThrow=od;function $J(){return od("document")}lt.getDocumentOrThrow=$J;function RJ(){return rl("document")}var Hc=lt.getDocument=RJ;function jJ(){return od("navigator")}lt.getNavigatorOrThrow=jJ;function MJ(){return rl("navigator")}var l2=lt.getNavigator=MJ;function LJ(){return od("location")}lt.getLocationOrThrow=LJ;function UJ(){return rl("location")}var oR=lt.getLocation=UJ;function BJ(){return od("crypto")}lt.getCryptoOrThrow=BJ;function FJ(){return rl("crypto")}lt.getCrypto=FJ;function zJ(){return od("localStorage")}lt.getLocalStorageOrThrow=zJ;function VJ(){return rl("localStorage")}lt.getLocalStorage=VJ;var u2={};Object.defineProperty(u2,"__esModule",{value:!0});var aR=u2.getWindowMetadata=void 0;const p_=lt;function HJ(){let e,t;try{e=p_.getDocumentOrThrow(),t=p_.getLocationOrThrow()}catch{return null}function n(){const d=e.getElementsByTagName("link"),f=[];for(let h=0;h<d.length;h++){const m=d[h],g=m.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const y=m.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let w=t.protocol+"//"+t.host;if(y.indexOf("/")===0)w+=y;else{const v=t.pathname.split("/");v.pop();const b=v.join("/");w+=b+"/"+y}f.push(w)}else if(y.indexOf("//")===0){const w=t.protocol+y;f.push(w)}else f.push(y)}}return f}function r(...d){const f=e.getElementsByTagName("meta");for(let h=0;h<f.length;h++){const m=f[h],g=["itemprop","property","name"].map(y=>m.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(g.length&&g){const y=m.getAttribute("content");if(y)return y}}return""}function s(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=e.title),d}function i(){return r("description","og:description","twitter:description","keywords")}const o=s(),a=i(),c=t.origin,l=n();return{description:a,url:c,icons:l,name:o}}aR=u2.getWindowMetadata=HJ;function Ch(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ex(e){return Ch(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const cR="2.31.0";let $d={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${cR}`},By=class tx extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof tx?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof tx&&n.cause.docsPath||n.docsPath,i=(a=$d.getDocsUrl)==null?void 0:a.call($d,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...$d.version?[`Version: ${$d.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=cR}walk(t){return lR(this,t)}};function lR(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?lR(e.cause,t):t?null:e}let uR=class extends By{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function ad(e,{dir:t,size:n=32}={}){return typeof e=="string"?WJ(e,{dir:t,size:n}):qJ(e,{dir:t,size:n})}function WJ(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new uR({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function qJ(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new uR({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let KJ=class extends By{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},GJ=class extends By{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function cd(e,{size:t}){if(ex(e)>t)throw new GJ({givenSize:ex(e),maxSize:t})}function nx(e,t={}){const{signed:n}=t;t.size&&cd(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function YJ(e,t={}){return Number(nx(e,t))}const QJ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function rx(e,t={}){return typeof e=="number"||typeof e=="bigint"?fR(e,t):typeof e=="string"?JJ(e,t):typeof e=="boolean"?XJ(e,t):dR(e,t)}function XJ(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(cd(n,{size:t.size}),ad(n,{size:t.size})):n}function dR(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=QJ[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(cd(r,{size:t.size}),ad(r,{dir:"right",size:t.size})):r}function fR(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new KJ({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ad(a,{size:r}):a}const ZJ=new TextEncoder;function JJ(e,t={}){const n=ZJ.encode(e);return dR(n,t)}const eee=new TextEncoder;function tee(e,t={}){return typeof e=="number"||typeof e=="bigint"?ree(e,t):typeof e=="boolean"?nee(e,t):Ch(e)?hR(e,t):pR(e,t)}function nee(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(cd(n,{size:t.size}),ad(n,{size:t.size})):n}const qi={zero:48,nine:57,A:65,F:70,a:97,f:102};function m_(e){if(e>=qi.zero&&e<=qi.nine)return e-qi.zero;if(e>=qi.A&&e<=qi.F)return e-(qi.A-10);if(e>=qi.a&&e<=qi.f)return e-(qi.a-10)}function hR(e,t={}){let n=e;t.size&&(cd(n,{size:t.size}),n=ad(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=m_(r.charCodeAt(a++)),l=m_(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new By(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+l}return i}function ree(e,t){const n=fR(e,t);return hR(n)}function pR(e,t={}){const n=eee.encode(e);return typeof t.size=="number"?(cd(n,{size:t.size}),ad(n,{dir:"right",size:t.size})):n}const $m=BigInt(2**32-1),g_=BigInt(32);function see(e,t=!1){return t?{h:Number(e&$m),l:Number(e>>g_&$m)}:{h:Number(e>>g_&$m)|0,l:Number(e&$m)|0}}function iee(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=see(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const oee=(e,t,n)=>e<<n|t>>>32-n,aee=(e,t,n)=>t<<n|e>>>32-n,cee=(e,t,n)=>t<<n-32|e>>>64-n,lee=(e,t,n)=>e<<n-32|t>>>64-n,xl=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uee(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function $0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Sh(e,...t){if(!uee(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function b1e(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");$0(e.outputLen),$0(e.blockLen)}function y_(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dee(e,t){Sh(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function fee(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function mR(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function x1e(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function E1e(e,t){return e<<32-t|e>>>t}const hee=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pee(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function mee(e){for(let t=0;t<e.length;t++)e[t]=pee(e[t]);return e}const w_=hee?e=>e:mee;function gee(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function gR(e){return typeof e=="string"&&(e=gee(e)),Sh(e),e}function C1e(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Sh(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class yee{}function wee(e){const t=r=>e().update(gR(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function S1e(e=32){if(xl&&typeof xl.getRandomValues=="function")return xl.getRandomValues(new Uint8Array(e));if(xl&&typeof xl.randomBytes=="function")return Uint8Array.from(xl.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const vee=BigInt(0),Rd=BigInt(1),bee=BigInt(2),xee=BigInt(7),Eee=BigInt(256),Cee=BigInt(113),yR=[],wR=[],vR=[];for(let e=0,t=Rd,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],yR.push(2*(5*r+n)),wR.push((e+1)*(e+2)/2%64);let s=vee;for(let i=0;i<7;i++)t=(t<<Rd^(t>>xee)*Cee)%Eee,t&bee&&(s^=Rd<<(Rd<<BigInt(i))-Rd);vR.push(s)}const bR=iee(vR,!0),See=bR[0],Aee=bR[1],v_=(e,t,n)=>n>32?cee(e,t,n):oee(e,t,n),b_=(e,t,n)=>n>32?lee(e,t,n):aee(e,t,n);function Nee(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=v_(l,u,1)^n[a],f=b_(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=f}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=wR[o],c=v_(s,i,a),l=b_(s,i,a),u=yR[o];s=e[u],i=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=See[r],e[1]^=Aee[r]}mR(n)}class d2 extends yee{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,$0(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=fee(this.state)}clone(){return this._cloneInto()}keccak(){w_(this.state32),Nee(this.state32,this.rounds),w_(this.state32),this.posOut=0,this.pos=0}update(t){y_(this),t=gR(t),Sh(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){y_(this,!1),Sh(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return $0(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(dee(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,mR(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new d2(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Iee=(e,t,n)=>wee(()=>new d2(t,e,n)),_ee=Iee(1,136,256/8);function xR(e,t){const n=t||"hex",r=_ee(Ch(e,{strict:!1})?tee(e):e);return n==="bytes"?r:rx(r)}let Tee=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const xv=new Tee(8192);function Pee(e,t){if(xv.has(`${e}.${t}`))return xv.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=xR(pR(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return xv.set(`${e}.${t}`,i),i}function Dee(e){const t=xR(`0x${e.substring(4)}`).substring(26);return Pee(`0x${t}`)}async function Oee({hash:e,signature:t}){const n=Ch(e)?e:rx(e),{secp256k1:r}=await gh(async()=>{const{secp256k1:o}=await import("./secp256k1-C6u2RrUm.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:l,s:u,v:d,yParity:f}=t,h=Number(f??d),m=x_(h);return new r.Signature(nx(l),nx(u)).addRecoveryBit(m)}const o=Ch(t)?t:rx(t);if(ex(o)!==65)throw new Error("invalid signature length");const a=YJ(`0x${o.slice(130)}`),c=x_(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function x_(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function kee({hash:e,signature:t}){return Dee(await Oee({hash:e,signature:t}))}function $ee(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let l=0;l<t.length;l++)t[l]=255;for(let l=0;l<e.length;l++){const u=e.charAt(l),d=u.charCodeAt(0);if(t[d]!==255)throw new TypeError(u+" is ambiguous");t[d]=l}const n=e.length,r=e.charAt(0),s=Math.log(n)/Math.log(256),i=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,f=0;const h=l.length;for(;f!==h&&l[f]===0;)f++,u++;const m=(h-f)*i+1>>>0,g=new Uint8Array(m);for(;f!==h;){let v=l[f],b=0;for(let x=m-1;(v!==0||b<d)&&x!==-1;x--,b++)v+=256*g[x]>>>0,g[x]=v%n>>>0,v=v/n>>>0;if(v!==0)throw new Error("Non-zero carry");d=b,f++}let y=m-d;for(;y!==m&&g[y]===0;)y++;let w=r.repeat(u);for(;y<m;++y)w+=e.charAt(g[y]);return w}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,f=0;for(;l[u]===r;)d++,u++;const h=(l.length-u)*s+1>>>0,m=new Uint8Array(h);for(;u<l.length;){const v=l.charCodeAt(u);if(v>255)return;let b=t[v];if(b===255)return;let x=0;for(let E=h-1;(b!==0||x<f)&&E!==-1;E--,x++)b+=n*m[E]>>>0,m[E]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");f=x,u++}let g=h-f;for(;g!==h&&m[g]===0;)g++;const y=new Uint8Array(d+(h-g));let w=d;for(;g!==h;)y[w++]=m[g++];return y}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Ree="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const ld=$ee(Ree);function jee(e){const t=e.length;let n=0,r=0;for(;r<t;){let s=e.charCodeAt(r++);if(s&4294967168)if(!(s&4294965248))n+=2;else{if(s>=55296&&s<=56319&&r<t){const i=e.charCodeAt(r);(i&64512)===56320&&(++r,s=((s&1023)<<10)+(i&1023)+65536)}s&4294901760?n+=4:n+=3}else{n++;continue}}return n}function Mee(e,t,n){const r=e.length;let s=n,i=0;for(;i<r;){let o=e.charCodeAt(i++);if(o&4294967168)if(!(o&4294965248))t[s++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&i<r){const a=e.charCodeAt(i);(a&64512)===56320&&(++i,o=((o&1023)<<10)+(a&1023)+65536)}o&4294901760?(t[s++]=o>>18&7|240,t[s++]=o>>12&63|128,t[s++]=o>>6&63|128):(t[s++]=o>>12&15|224,t[s++]=o>>6&63|128)}else{t[s++]=o;continue}t[s++]=o&63|128}}const Lee=new TextEncoder,Uee=50;function Bee(e,t,n){Lee.encodeInto(e,t.subarray(n))}function Fee(e,t,n){e.length>Uee?Bee(e,t,n):Mee(e,t,n)}const zee=4096;function ER(e,t,n){let r=t;const s=r+n,i=[];let o="";for(;r<s;){const a=e[r++];if(!(a&128))i.push(a);else if((a&224)===192){const c=e[r++]&63;i.push((a&31)<<6|c)}else if((a&240)===224){const c=e[r++]&63,l=e[r++]&63;i.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=e[r++]&63,l=e[r++]&63,u=e[r++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d)}else i.push(a);i.length>=zee&&(o+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(o+=String.fromCharCode(...i)),o}const Vee=new TextDecoder,Hee=200;function Wee(e,t,n){const r=e.subarray(t,t+n);return Vee.decode(r)}function qee(e,t,n){return n>Hee?Wee(e,t,n):ER(e,t,n)}class Rm{constructor(t,n){this.type=t,this.data=n}}class jr extends Error{constructor(t){super(t);const n=Object.create(jr.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:jr.name})}}const jd=4294967295;function Kee(e,t,n){const r=n/4294967296,s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function CR(e,t,n){const r=Math.floor(n/4294967296),s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function SR(e,t){const n=e.getInt32(t),r=e.getUint32(t+4);return n*4294967296+r}function Gee(e,t){const n=e.getUint32(t),r=e.getUint32(t+4);return n*4294967296+r}const Yee=-1,Qee=4294967296-1,Xee=17179869184-1;function Zee({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=Xee)if(t===0&&e<=Qee){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e),n}else{const n=e/4294967296,r=e&4294967295,s=new Uint8Array(8),i=new DataView(s.buffer);return i.setUint32(0,t<<2|n&3),i.setUint32(4,r),s}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,t),CR(r,4,e),n}}function Jee(e){const t=e.getTime(),n=Math.floor(t/1e3),r=(t-n*1e3)*1e6,s=Math.floor(r/1e9);return{sec:n+s,nsec:r-s*1e9}}function ete(e){if(e instanceof Date){const t=Jee(e);return Zee(t)}else return null}function tte(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const n=t.getUint32(0),r=t.getUint32(4),s=(n&3)*4294967296+r,i=n>>>2;return{sec:s,nsec:i}}case 12:{const n=SR(t,4),r=t.getUint32(0);return{sec:n,nsec:r}}default:throw new jr(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function nte(e){const t=tte(e);return new Date(t.sec*1e3+t.nsec/1e6)}const rte={type:Yee,encode:ete,decode:nte};class R0{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(rte)}register({type:t,encode:n,decode:r}){if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const s=-1-t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}}tryToEncode(t,n){for(let r=0;r<this.builtInEncoders.length;r++){const s=this.builtInEncoders[r];if(s!=null){const i=s(t,n);if(i!=null){const o=-1-r;return new Rm(o,i)}}}for(let r=0;r<this.encoders.length;r++){const s=this.encoders[r];if(s!=null){const i=s(t,n);if(i!=null){const o=r;return new Rm(o,i)}}}return t instanceof Rm?t:null}decode(t,n,r){const s=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return s?s(t,n,r):new Rm(n,t)}}R0.defaultCodec=new R0;function ste(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function sx(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):ste(e)?new Uint8Array(e):Uint8Array.from(e)}const ite=100,ote=2048;let ate=class AR{constructor(t){this.entered=!1,this.extensionCodec=(t==null?void 0:t.extensionCodec)??R0.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(t==null?void 0:t.useBigInt64)??!1,this.maxDepth=(t==null?void 0:t.maxDepth)??ite,this.initialBufferSize=(t==null?void 0:t.initialBufferSize)??ote,this.sortKeys=(t==null?void 0:t.sortKeys)??!1,this.forceFloat32=(t==null?void 0:t.forceFloat32)??!1,this.ignoreUndefined=(t==null?void 0:t.ignoreUndefined)??!1,this.forceIntegerToFloat=(t==null?void 0:t.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new AR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,n)}ensureBufferSizeToWrite(t){const n=this.pos+t;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(t){const n=new ArrayBuffer(t),r=new Uint8Array(n),s=new DataView(n);r.set(this.bytes),this.view=s,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){const r=jee(t);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Fee(t,this.bytes,this.pos),this.pos+=r}encodeObject(t,n){const r=this.extensionCodec.tryToEncode(t,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(t))this.encodeArray(t,n);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){const n=t.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=sx(t);this.writeU8a(r)}encodeArray(t,n){const r=t.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const s of t)this.doEncode(s,n+1)}countWithoutUndefined(t,n){let r=0;for(const s of n)t[s]!==void 0&&r++;return r}encodeMap(t,n){const r=Object.keys(t);this.sortKeys&&r.sort();const s=this.ignoreUndefined?this.countWithoutUndefined(t,r):r.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(const i of r){const o=t[i];this.ignoreUndefined&&o===void 0||(this.encodeString(i),this.doEncode(o,n+1))}}encodeExtension(t){if(typeof t.data=="function"){const r=t.data(this.pos+6),s=r.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(t.type),this.writeU8a(r);return}const n=t.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){const n=t.length;this.ensureBufferSizeToWrite(n),this.bytes.set(t,this.pos),this.pos+=n}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),Kee(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),CR(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}};function cte(e,t){return new ate(t).encodeSharedRef(e)}function Ev(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}const lte=16,ute=16;class dte{constructor(t=lte,n=ute){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,n,r){const s=this.caches[r-1];e:for(const i of s){const o=i.bytes;for(let a=0;a<r;a++)if(o[a]!==t[n+a])continue e;return i.str}return null}store(t,n){const r=this.caches[t.length-1],s={bytes:t,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=s:r.push(s)}decode(t,n,r){const s=this.find(t,n,r);if(s!=null)return this.hit++,s;this.miss++;const i=ER(t,n,r),o=Uint8Array.prototype.slice.call(t,n,n+r);return this.store(o,i),i}}const ix="array",Af="map_key",NR="map_value",fte=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new jr("The type of key must be string or number but "+typeof e)};class hte{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){const n=this.getUninitializedStateFromPool();n.type=ix,n.position=0,n.size=t,n.array=new Array(t)}pushMapState(t){const n=this.getUninitializedStateFromPool();n.type=Af,n.readCount=0,n.size=t,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===ix){const r=t;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(t.type===Af||t.type===NR){const r=t;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Md=-1,f2=new DataView(new ArrayBuffer(0)),pte=new Uint8Array(f2.buffer);try{f2.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const E_=new RangeError("Insufficient data"),mte=new dte;let gte=class IR{constructor(t){this.totalPos=0,this.pos=0,this.view=f2,this.bytes=pte,this.headByte=Md,this.stack=new hte,this.entered=!1,this.extensionCodec=(t==null?void 0:t.extensionCodec)??R0.defaultCodec,this.context=t==null?void 0:t.context,this.useBigInt64=(t==null?void 0:t.useBigInt64)??!1,this.rawStrings=(t==null?void 0:t.rawStrings)??!1,this.maxStrLength=(t==null?void 0:t.maxStrLength)??jd,this.maxBinLength=(t==null?void 0:t.maxBinLength)??jd,this.maxArrayLength=(t==null?void 0:t.maxArrayLength)??jd,this.maxMapLength=(t==null?void 0:t.maxMapLength)??jd,this.maxExtLength=(t==null?void 0:t.maxExtLength)??jd,this.keyDecoder=(t==null?void 0:t.keyDecoder)!==void 0?t.keyDecoder:mte,this.mapKeyConverter=(t==null?void 0:t.mapKeyConverter)??fte}clone(){return new IR({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Md,this.stack.reset()}setBuffer(t){const n=sx(t);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===Md&&!this.hasRemaining(1))this.setBuffer(t);else{const n=this.bytes.subarray(this.pos),r=sx(t),s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),this.setBuffer(s)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let n=!1,r;for await(const a of t){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{r=this.doDecodeSync(),n=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:s,pos:i,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${Ev(s)} at ${o} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,n){if(this.entered){yield*this.clone().decodeMultiAsync(t,n);return}try{this.entered=!0;let r=n,s=-1;for await(const i of t){if(n&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(s=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const t=this.readHeadByte();let n;if(t>=224)n=t-256;else if(t<192)if(t<128)n=t;else if(t<144){const s=t-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t<160){const s=t-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{const s=t-160;n=this.decodeString(s,0)}else if(t===192)n=null;else if(t===194)n=!1;else if(t===195)n=!0;else if(t===202)n=this.readF32();else if(t===203)n=this.readF64();else if(t===204)n=this.readU8();else if(t===205)n=this.readU16();else if(t===206)n=this.readU32();else if(t===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(t===208)n=this.readI8();else if(t===209)n=this.readI16();else if(t===210)n=this.readI32();else if(t===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(t===217){const s=this.lookU8();n=this.decodeString(s,1)}else if(t===218){const s=this.lookU16();n=this.decodeString(s,2)}else if(t===219){const s=this.lookU32();n=this.decodeString(s,4)}else if(t===220){const s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===221){const s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(t===222){const s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===223){const s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(t===196){const s=this.lookU8();n=this.decodeBinary(s,1)}else if(t===197){const s=this.lookU16();n=this.decodeBinary(s,2)}else if(t===198){const s=this.lookU32();n=this.decodeBinary(s,4)}else if(t===212)n=this.decodeExtension(1,0);else if(t===213)n=this.decodeExtension(2,0);else if(t===214)n=this.decodeExtension(4,0);else if(t===215)n=this.decodeExtension(8,0);else if(t===216)n=this.decodeExtension(16,0);else if(t===199){const s=this.lookU8();n=this.decodeExtension(s,1)}else if(t===200){const s=this.lookU16();n=this.decodeExtension(s,2)}else if(t===201){const s=this.lookU32();n=this.decodeExtension(s,4)}else throw new jr(`Unrecognized type byte: ${Ev(t)}`);this.complete();const r=this.stack;for(;r.length>0;){const s=r.top();if(s.type===ix)if(s.array[s.position]=n,s.position++,s.position===s.size)n=s.array,r.release(s);else continue e;else if(s.type===Af){if(n==="__proto__")throw new jr("The key __proto__ is not allowed");s.key=this.mapKeyConverter(n),s.type=NR;continue e}else if(s.map[s.key]=n,s.readCount++,s.readCount===s.size)n=s.map,r.release(s);else{s.key=null,s.type=Af;continue e}}return n}}readHeadByte(){return this.headByte===Md&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Md}readArraySize(){const t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new jr(`Unrecognized array type byte: ${Ev(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new jr(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new jr(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,n):this.decodeBinary(t,n)}decodeUtf8String(t,n){var i;if(t>this.maxStrLength)throw new jr(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+t)throw E_;const r=this.pos+n;let s;return this.stateIsMapKey()&&((i=this.keyDecoder)!=null&&i.canBeCached(t))?s=this.keyDecoder.decode(this.bytes,r,t):s=qee(this.bytes,r,t),this.pos+=n+t,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Af:!1}decodeBinary(t,n){if(t>this.maxBinLength)throw new jr(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+n))throw E_;const r=this.pos+n,s=this.bytes.subarray(r,r+t);return this.pos+=n+t,s}decodeExtension(t,n){if(t>this.maxExtLength)throw new jr(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),s=this.decodeBinary(t,n+1);return this.extensionCodec.decode(s,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){const t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){const t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){const t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){const t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){const t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){const t=Gee(this.view,this.pos);return this.pos+=8,t}readI64(){const t=SR(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){const t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){const t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){const t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){const t=this.view.getFloat64(this.pos);return this.pos+=8,t}};function yte(e,t){return new gte(t).decode(e)}function h2(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function _R(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?h2(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Nf(e,t){t||(t=e.reduce((s,i)=>s+i.length,0));const n=_R(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return h2(n)}function wte(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,x=new Uint8Array(b);w!==v;){for(var E=m[w],S=0,A=b-1;(E!==0||S<y)&&A!==-1;A--,S++)E+=256*x[A]>>>0,x[A]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=S,w++}for(var C=b-y;C!==b&&x[C]===0;)C++;for(var N=c.repeat(g);C<b;++C)N+=e.charAt(x[C]);return N}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===c;)y++,g++;for(var v=(m.length-g)*l+1>>>0,b=new Uint8Array(v);m[g];){var x=n[m.charCodeAt(g)];if(x===255)return;for(var E=0,S=v-1;(x!==0||E<w)&&S!==-1;S--,E++)x+=a*b[S]>>>0,b[S]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var A=v-w;A!==v&&b[A]===0;)A++;for(var C=new Uint8Array(y+(v-A)),N=y;A!==v;)C[N++]=b[A++];return C}}}function h(m){var g=f(m);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var vte=wte,bte=vte;const xte=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Ete=e=>new TextEncoder().encode(e),Cte=e=>new TextDecoder().decode(e);class Ste{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Ate{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return TR(this,t)}}class Nte{constructor(t){this.decoders=t}or(t){return TR(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const TR=(e,t)=>new Nte({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Ite{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new Ste(t,n,r),this.decoder=new Ate(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Fy=({name:e,prefix:t,encode:n,decode:r})=>new Ite(e,t,n,r),Ip=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=bte(n,t);return Fy({prefix:e,name:t,encode:r,decode:i=>xte(s(i))})},_te=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[e[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Tte=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},An=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Fy({prefix:t,name:e,encode(s){return Tte(s,r,n)},decode(s){return _te(s,r,n,e)}}),Pte=Fy({prefix:"\0",name:"identity",encode:e=>Cte(e),decode:e=>Ete(e)}),Dte=Object.freeze(Object.defineProperty({__proto__:null,identity:Pte},Symbol.toStringTag,{value:"Module"})),Ote=An({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),kte=Object.freeze(Object.defineProperty({__proto__:null,base2:Ote},Symbol.toStringTag,{value:"Module"})),$te=An({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Rte=Object.freeze(Object.defineProperty({__proto__:null,base8:$te},Symbol.toStringTag,{value:"Module"})),jte=Ip({prefix:"9",name:"base10",alphabet:"0123456789"}),Mte=Object.freeze(Object.defineProperty({__proto__:null,base10:jte},Symbol.toStringTag,{value:"Module"})),Lte=An({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ute=An({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Bte=Object.freeze(Object.defineProperty({__proto__:null,base16:Lte,base16upper:Ute},Symbol.toStringTag,{value:"Module"})),Fte=An({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),zte=An({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vte=An({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Hte=An({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Wte=An({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),qte=An({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Kte=An({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Gte=An({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Yte=An({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Qte=Object.freeze(Object.defineProperty({__proto__:null,base32:Fte,base32hex:Wte,base32hexpad:Kte,base32hexpadupper:Gte,base32hexupper:qte,base32pad:Vte,base32padupper:Hte,base32upper:zte,base32z:Yte},Symbol.toStringTag,{value:"Module"})),Xte=Ip({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Zte=Ip({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Jte=Object.freeze(Object.defineProperty({__proto__:null,base36:Xte,base36upper:Zte},Symbol.toStringTag,{value:"Module"})),ene=Ip({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),tne=Ip({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),nne=Object.freeze(Object.defineProperty({__proto__:null,base58btc:ene,base58flickr:tne},Symbol.toStringTag,{value:"Module"})),rne=An({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),sne=An({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ine=An({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),one=An({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ane=Object.freeze(Object.defineProperty({__proto__:null,base64:rne,base64pad:sne,base64url:ine,base64urlpad:one},Symbol.toStringTag,{value:"Module"})),PR=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),cne=PR.reduce((e,t,n)=>(e[n]=t,e),[]),lne=PR.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function une(e){return e.reduce((t,n)=>(t+=cne[n],t),"")}function dne(e){const t=[];for(const n of e){const r=lne[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const fne=Fy({prefix:"🚀",name:"base256emoji",encode:une,decode:dne}),hne=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:fne},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const C_={...Dte,...kte,...Rte,...Mte,...Bte,...Qte,...Jte,...nne,...ane,...hne};function DR(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const S_=DR("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Cv=DR("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=_R(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),OR={utf8:S_,"utf-8":S_,hex:C_.base16,latin1:Cv,ascii:Cv,binary:Cv,...C_};function ms(e,t="utf8"){const n=OR[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?h2(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function Cr(e,t="utf8"){const n=OR[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}const pne={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},mne="Input must be an string, Buffer or Uint8Array";function gne(e){let t;if(e instanceof Uint8Array)t=e;else if(typeof e=="string")t=new TextEncoder().encode(e);else throw new Error(mne);return t}function yne(e){return Array.prototype.map.call(e,function(t){return(t<16?"0":"")+t.toString(16)}).join("")}function jm(e){return(4294967296+e).toString(16).substring(1)}function wne(e,t,n){let r=`
`+e+" = ";for(let s=0;s<t.length;s+=2){if(n===32)r+=jm(t[s]).toUpperCase(),r+=" ",r+=jm(t[s+1]).toUpperCase();else if(n===64)r+=jm(t[s+1]).toUpperCase(),r+=jm(t[s]).toUpperCase();else throw new Error("Invalid size "+n);s%6===4?r+=`
`+new Array(e.length+4).join(" "):s<t.length-2&&(r+=" ")}console.log(r)}function vne(e,t,n){let r=new Date().getTime();const s=new Uint8Array(t);for(let o=0;o<t;o++)s[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-r)+"ms"),r=i;for(let o=0;o<n;o++){const a=e(s),c=new Date().getTime(),l=c-r;r=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}var kR={normalizeInput:gne,toHex:yne,debugPrint:wne,testSpeed:vne};const Tg=kR;function Mm(e,t,n){const r=e[t]+e[n];let s=e[t+1]+e[n+1];r>=4294967296&&s++,e[t]=r,e[t+1]=s}function A_(e,t,n,r){let s=e[t]+n;n<0&&(s+=4294967296);let i=e[t+1]+r;s>=4294967296&&i++,e[t]=s,e[t+1]=i}function $R(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function jo(e,t,n,r,s,i){const o=rf[s],a=rf[s+1],c=rf[i],l=rf[i+1];Mm(Ie,e,t),A_(Ie,e,o,a);let u=Ie[r]^Ie[e],d=Ie[r+1]^Ie[e+1];Ie[r]=d,Ie[r+1]=u,Mm(Ie,n,r),u=Ie[t]^Ie[n],d=Ie[t+1]^Ie[n+1],Ie[t]=u>>>24^d<<8,Ie[t+1]=d>>>24^u<<8,Mm(Ie,e,t),A_(Ie,e,c,l),u=Ie[r]^Ie[e],d=Ie[r+1]^Ie[e+1],Ie[r]=u>>>16^d<<16,Ie[r+1]=d>>>16^u<<16,Mm(Ie,n,r),u=Ie[t]^Ie[n],d=Ie[t+1]^Ie[n+1],Ie[t]=d>>>31^u<<1,Ie[t+1]=u>>>31^d<<1}const RR=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),bne=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Pn=new Uint8Array(bne.map(function(e){return e*2})),Ie=new Uint32Array(32),rf=new Uint32Array(32);function jR(e,t){let n=0;for(n=0;n<16;n++)Ie[n]=e.h[n],Ie[n+16]=RR[n];for(Ie[24]=Ie[24]^e.t,Ie[25]=Ie[25]^e.t/4294967296,t&&(Ie[28]=~Ie[28],Ie[29]=~Ie[29]),n=0;n<32;n++)rf[n]=$R(e.b,4*n);for(n=0;n<12;n++)jo(0,8,16,24,Pn[n*16+0],Pn[n*16+1]),jo(2,10,18,26,Pn[n*16+2],Pn[n*16+3]),jo(4,12,20,28,Pn[n*16+4],Pn[n*16+5]),jo(6,14,22,30,Pn[n*16+6],Pn[n*16+7]),jo(0,10,20,30,Pn[n*16+8],Pn[n*16+9]),jo(2,12,22,24,Pn[n*16+10],Pn[n*16+11]),jo(4,14,16,26,Pn[n*16+12],Pn[n*16+13]),jo(6,8,18,28,Pn[n*16+14],Pn[n*16+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^Ie[n]^Ie[n+16]}const Mo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function MR(e,t,n,r){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&r.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};Mo.fill(0),Mo[0]=e,t&&(Mo[1]=t.length),Mo[2]=1,Mo[3]=1,n&&Mo.set(n,32),r&&Mo.set(r,48);for(let i=0;i<16;i++)s.h[i]=RR[i]^$R(Mo,i*4);return t&&(p2(s,t),s.c=128),s}function p2(e,t){for(let n=0;n<t.length;n++)e.c===128&&(e.t+=e.c,jR(e,!1),e.c=0),e.b[e.c++]=t[n]}function LR(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;jR(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3);return t}function UR(e,t,n,r,s){n=n||64,e=Tg.normalizeInput(e),r&&(r=Tg.normalizeInput(r)),s&&(s=Tg.normalizeInput(s));const i=MR(n,t,r,s);return p2(i,e),LR(i)}function xne(e,t,n,r,s){const i=UR(e,t,n,r,s);return Tg.toHex(i)}var Ene={blake2b:UR,blake2bHex:xne,blake2bInit:MR,blake2bUpdate:p2,blake2bFinal:LR};const BR=kR;function Cne(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Lo(e,t,n,r,s,i){qe[e]=qe[e]+qe[t]+s,qe[r]=Lm(qe[r]^qe[e],16),qe[n]=qe[n]+qe[r],qe[t]=Lm(qe[t]^qe[n],12),qe[e]=qe[e]+qe[t]+i,qe[r]=Lm(qe[r]^qe[e],8),qe[n]=qe[n]+qe[r],qe[t]=Lm(qe[t]^qe[n],7)}function Lm(e,t){return e>>>t^e<<32-t}const FR=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Dn=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),qe=new Uint32Array(16),fn=new Uint32Array(16);function zR(e,t){let n=0;for(n=0;n<8;n++)qe[n]=e.h[n],qe[n+8]=FR[n];for(qe[12]^=e.t,qe[13]^=e.t/4294967296,t&&(qe[14]=~qe[14]),n=0;n<16;n++)fn[n]=Cne(e.b,4*n);for(n=0;n<10;n++)Lo(0,4,8,12,fn[Dn[n*16+0]],fn[Dn[n*16+1]]),Lo(1,5,9,13,fn[Dn[n*16+2]],fn[Dn[n*16+3]]),Lo(2,6,10,14,fn[Dn[n*16+4]],fn[Dn[n*16+5]]),Lo(3,7,11,15,fn[Dn[n*16+6]],fn[Dn[n*16+7]]),Lo(0,5,10,15,fn[Dn[n*16+8]],fn[Dn[n*16+9]]),Lo(1,6,11,12,fn[Dn[n*16+10]],fn[Dn[n*16+11]]),Lo(2,7,8,13,fn[Dn[n*16+12]],fn[Dn[n*16+13]]),Lo(3,4,9,14,fn[Dn[n*16+14]],fn[Dn[n*16+15]]);for(n=0;n<8;n++)e.h[n]^=qe[n]^qe[n+8]}function VR(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(FR),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(m2(r,t),r.c=64),r}function m2(e,t){for(let n=0;n<t.length;n++)e.c===64&&(e.t+=e.c,zR(e,!1),e.c=0),e.b[e.c++]=t[n]}function HR(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;zR(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3)&255;return t}function WR(e,t,n){n=n||32,e=BR.normalizeInput(e);const r=VR(n,t);return m2(r,e),HR(r)}function Sne(e,t,n){const r=WR(e,t,n);return BR.toHex(r)}var Ane={blake2s:WR,blake2sHex:Sne,blake2sInit:VR,blake2sUpdate:m2,blake2sFinal:HR};const Ld=Ene,Ud=Ane;var Nne={blake2b:Ld.blake2b,blake2bHex:Ld.blake2bHex,blake2bInit:Ld.blake2bInit,blake2bUpdate:Ld.blake2bUpdate,blake2bFinal:Ld.blake2bFinal,blake2s:Ud.blake2s,blake2sHex:Ud.blake2sHex,blake2sInit:Ud.blake2sInit,blake2sUpdate:Ud.blake2sUpdate,blake2sFinal:Ud.blake2sFinal},Ine={};const _ne=":";function Cu(e){const[t,n]=e.split(_ne);return{namespace:t,reference:n}}function qR(e,t){return e.includes(":")?[e]:t.chains||[]}var Tne=Object.defineProperty,Pne=Object.defineProperties,Dne=Object.getOwnPropertyDescriptors,N_=Object.getOwnPropertySymbols,One=Object.prototype.hasOwnProperty,kne=Object.prototype.propertyIsEnumerable,ox=(e,t,n)=>t in e?Tne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I_=(e,t)=>{for(var n in t||(t={}))One.call(t,n)&&ox(e,n,t[n]);if(N_)for(var n of N_(t))kne.call(t,n)&&ox(e,n,t[n]);return e},$ne=(e,t)=>Pne(e,Dne(t)),__=(e,t,n)=>ox(e,typeof t!="symbol"?t+"":t,n);const Rne="ReactNative",zr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},jne="js";function j0(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function za(){return!Hc()&&!!l2()&&navigator.product===Rne}function Mne(){return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Lne(){return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function ud(){return!j0()&&!!l2()&&!!Hc()}function _p(){return za()?zr.reactNative:j0()?zr.node:ud()?zr.browser:zr.unknown}function T_(){var e;try{return za()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function Une(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const s=t[r];s!==void 0&&n.set(r,s)}return n.toString()}function Bne(e){var t,n;const r=KR();try{return e!=null&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),(t=e==null?void 0:e.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(s=>s!=="")),$ne(I_(I_({},r),e),{url:(e==null?void 0:e.url)||r.url,name:(e==null?void 0:e.name)||r.name,description:(e==null?void 0:e.description)||r.description,icons:(n=e==null?void 0:e.icons)!=null&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(s){return console.warn("Error populating app metadata",s),e||r}}function KR(){return aR()||{name:"",description:"",url:"",icons:[""]}}function Fne(){if(_p()===zr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const e=_J();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function zne(){var e;const t=_p();return t===zr.browser?[t,((e=oR())==null?void 0:e.host)||"unknown"].join(":"):t}function GR(e,t,n){const r=Fne(),s=zne();return[[e,t].join("-"),[jne,n].join("-"),r,s].join("/")}function Vne({protocol:e,version:t,relayUrl:n,sdkVersion:r,auth:s,projectId:i,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=GR(e,t,r),d={auth:s,ua:u,projectId:i,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},f=Une(l[1]||"",d);return l[0]+"?"+f}function gc(e,t){return e.filter(n=>t.includes(n)).length===e.length}function ax(e){return Object.fromEntries(e.entries())}function cx(e){return new Map(Object.entries(e))}function ic(e=te.FIVE_MINUTES,t){const n=te.toMiliseconds(e||te.FIVE_MINUTES);let r,s,i,o;return{resolve:a=>{i&&r&&(clearTimeout(i),r(a),o=Promise.resolve(a))},reject:a=>{i&&s&&(clearTimeout(i),s(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);i=setTimeout(()=>{const l=new Error(t);o=Promise.reject(l),c(l)},n),r=a,s=c})}}function ua(e,t,n){return new Promise(async(r,s)=>{const i=setTimeout(()=>s(new Error(n)),t);try{const o=await e;r(o)}catch(o){s(o)}clearTimeout(i)})}function YR(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Hne(e){return YR("topic",e)}function Wne(e){return YR("id",e)}function QR(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if(t==="topic"&&typeof n=="string")r.topic=n;else if(t==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);return r}function Kt(e,t){return te.fromMiliseconds(Date.now()+te.toMiliseconds(e))}function Zo(e){return Date.now()>=te.toMiliseconds(e)}function Ye(e,t){return`${e}${t?`:${t}`:""}`}function Ni(e=[],t=[]){return[...new Set([...e,...t])]}async function qne({id:e,topic:t,wcDeepLink:n}){var r;try{if(!n)return;const s=typeof n=="string"?JSON.parse(n):n,i=s==null?void 0:s.href;if(typeof i!="string")return;const o=Kne(i,e,t),a=_p();if(a===zr.browser){if(!((r=Hc())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Gne(o)}else a===zr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(s){console.error(s)}}function Kne(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){const i=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${i}${Zne(r,!0)}`}else s=`${s}/wc?${r}`;return s}function Gne(e){let t="_self";Xne()?t="_top":(Qne()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function Yne(e,t){let n="";try{if(ud()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(r){console.error(r)}return n}function P_(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function D_(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function g2(){return typeof process<"u"&&Ine.IS_VITEST==="true"}function Qne(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Xne(){try{return window.self!==window.top}catch{return!1}}function Zne(e,t=!1){const n=Buffer.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}function XR(e){return Buffer.from(e,"base64").toString("utf-8")}function Jne(e){return new Promise(t=>setTimeout(t,e))}let ere=class{constructor({limit:t}){__(this,"limit"),__(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}};const Um=BigInt(2**32-1),O_=BigInt(32);function ZR(e,t=!1){return t?{h:Number(e&Um),l:Number(e>>O_&Um)}:{h:Number(e>>O_&Um)|0,l:Number(e&Um)|0}}function JR(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=ZR(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const k_=(e,t,n)=>e>>>n,$_=(e,t,n)=>e<<32-n|t>>>n,Jo=(e,t,n)=>e>>>n|t<<32-n,ea=(e,t,n)=>e<<32-n|t>>>n,sf=(e,t,n)=>e<<64-n|t>>>n-32,of=(e,t,n)=>e>>>n-32|t<<64-n,tre=(e,t)=>t,nre=(e,t)=>e,rre=(e,t,n)=>e<<n|t>>>32-n,sre=(e,t,n)=>t<<n|e>>>32-n,ire=(e,t,n)=>t<<n-32|e>>>64-n,ore=(e,t,n)=>e<<n-32|t>>>64-n;function ks(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const y2=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),w2=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,are=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),cre=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,lre=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),ure=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,El=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function v2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function vo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function xs(e,...t){if(!v2(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function b2(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");vo(e.outputLen),vo(e.blockLen)}function $a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function x2(e,t){xs(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ah(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Es(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Sv(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function si(e,t){return e<<32-t|e>>>t}const ej=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function tj(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Zi=ej?e=>e:e=>tj(e);function dre(e){for(let t=0;t<e.length;t++)e[t]=tj(e[t]);return e}const ta=ej?e=>e:dre,nj=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",fre=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Nh(e){if(xs(e),nj)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=fre[e[n]];return t}const Ki={_0:48,_9:57,A:65,F:70,a:97,f:102};function R_(e){if(e>=Ki._0&&e<=Ki._9)return e-Ki._0;if(e>=Ki.A&&e<=Ki.F)return e-(Ki.A-10);if(e>=Ki.a&&e<=Ki.f)return e-(Ki.a-10)}function E2(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(nj)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=R_(e.charCodeAt(i)),a=R_(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function hre(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Hs(e){return typeof e=="string"&&(e=hre(e)),xs(e),e}function yc(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];xs(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}let zy=class{};function Tp(e){const t=r=>e().update(Hs(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function pre(e){const t=(r,s)=>e(s).update(Hs(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function dd(e=32){if(El&&typeof El.getRandomValues=="function")return El.getRandomValues(new Uint8Array(e));if(El&&typeof El.randomBytes=="function")return Uint8Array.from(El.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const mre=BigInt(0),Bd=BigInt(1),gre=BigInt(2),yre=BigInt(7),wre=BigInt(256),vre=BigInt(113),rj=[],sj=[],ij=[];for(let e=0,t=Bd,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],rj.push(2*(5*r+n)),sj.push((e+1)*(e+2)/2%64);let s=mre;for(let i=0;i<7;i++)t=(t<<Bd^(t>>yre)*vre)%wre,t&gre&&(s^=Bd<<(Bd<<BigInt(i))-Bd);ij.push(s)}const oj=JR(ij,!0),bre=oj[0],xre=oj[1],j_=(e,t,n)=>n>32?ire(e,t,n):rre(e,t,n),M_=(e,t,n)=>n>32?ore(e,t,n):sre(e,t,n);function Ere(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=j_(l,u,1)^n[a],f=M_(l,u,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=f}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=sj[o],c=j_(s,i,a),l=M_(s,i,a),u=rj[o];s=e[u],i=e[u+1],e[u]=c,e[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=bre[r],e[1]^=xre[r]}Es(n)}let Cre=class aj extends zy{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,vo(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ah(this.state)}clone(){return this._cloneInto()}keccak(){ta(this.state32),Ere(this.state32,this.rounds),ta(this.state32),this.posOut=0,this.pos=0}update(t){$a(this),t=Hs(t),xs(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){$a(this,!1),xs(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return vo(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(x2(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Es(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new aj(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}};const Sre=(e,t,n)=>Tp(()=>new Cre(t,e,n)),Are=Sre(1,136,256/8);function Nre(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+l,a,r)}function Ire(e,t,n){return e&t^~e&n}function _re(e,t,n){return e&t^e&n^t&n}let cj=class extends zy{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Sv(this.buffer)}update(t){$a(this),t=Hs(t),xs(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Sv(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){$a(this),x2(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Es(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Nre(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Sv(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}};const Uo=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),On=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),kn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Tre=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bo=new Uint32Array(64);let Pre=class extends cj{constructor(t=32){super(64,t,8,!1),this.A=Uo[0]|0,this.B=Uo[1]|0,this.C=Uo[2]|0,this.D=Uo[3]|0,this.E=Uo[4]|0,this.F=Uo[5]|0,this.G=Uo[6]|0,this.H=Uo[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)Bo[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const f=Bo[d-15],h=Bo[d-2],m=si(f,7)^si(f,18)^f>>>3,g=si(h,17)^si(h,19)^h>>>10;Bo[d]=g+Bo[d-7]+m+Bo[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const f=si(a,6)^si(a,11)^si(a,25),h=u+f+Ire(a,c,l)+Tre[d]+Bo[d]|0,m=(si(r,2)^si(r,13)^si(r,22))+_re(r,s,i)|0;u=l,l=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,c,l,u)}roundClean(){Es(Bo)}destroy(){this.set(0,0,0,0,0,0,0,0),Es(this.buffer)}};const lj=JR(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Dre=lj[0],Ore=lj[1],Fo=new Uint32Array(80),zo=new Uint32Array(80);let C2=class extends cj{constructor(t=64){super(128,t,16,!1),this.Ah=kn[0]|0,this.Al=kn[1]|0,this.Bh=kn[2]|0,this.Bl=kn[3]|0,this.Ch=kn[4]|0,this.Cl=kn[5]|0,this.Dh=kn[6]|0,this.Dl=kn[7]|0,this.Eh=kn[8]|0,this.El=kn[9]|0,this.Fh=kn[10]|0,this.Fl=kn[11]|0,this.Gh=kn[12]|0,this.Gl=kn[13]|0,this.Hh=kn[14]|0,this.Hl=kn[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:f,Gh:h,Gl:m,Hh:g,Hl:y}=this;return[t,n,r,s,i,o,a,c,l,u,d,f,h,m,g,y]}set(t,n,r,s,i,o,a,c,l,u,d,f,h,m,g,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=h|0,this.Gl=m|0,this.Hh=g|0,this.Hl=y|0}process(t,n){for(let b=0;b<16;b++,n+=4)Fo[b]=t.getUint32(n),zo[b]=t.getUint32(n+=4);for(let b=16;b<80;b++){const x=Fo[b-15]|0,E=zo[b-15]|0,S=Jo(x,E,1)^Jo(x,E,8)^k_(x,E,7),A=ea(x,E,1)^ea(x,E,8)^$_(x,E,7),C=Fo[b-2]|0,N=zo[b-2]|0,j=Jo(C,N,19)^sf(C,N,61)^k_(C,N,6),M=ea(C,N,19)^of(C,N,61)^$_(C,N,6),L=are(A,M,zo[b-7],zo[b-16]),B=cre(L,S,j,Fo[b-7],Fo[b-16]);Fo[b]=B|0,zo[b]=L|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:f,Fh:h,Fl:m,Gh:g,Gl:y,Hh:w,Hl:v}=this;for(let b=0;b<80;b++){const x=Jo(d,f,14)^Jo(d,f,18)^sf(d,f,41),E=ea(d,f,14)^ea(d,f,18)^of(d,f,41),S=d&h^~d&g,A=f&m^~f&y,C=lre(v,E,A,Ore[b],zo[b]),N=ure(C,w,x,S,Dre[b],Fo[b]),j=C|0,M=Jo(r,s,28)^sf(r,s,34)^sf(r,s,39),L=ea(r,s,28)^of(r,s,34)^of(r,s,39),B=r&i^r&a^i&a,U=s&o^s&c^o&c;w=g|0,v=y|0,g=h|0,y=m|0,h=d|0,m=f|0,{h:d,l:f}=ks(l|0,u|0,N|0,j|0),l=a|0,u=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const I=y2(j,L,U);r=w2(I,N,M,B),s=I|0}({h:r,l:s}=ks(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=ks(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=ks(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ks(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:f}=ks(this.Eh|0,this.El|0,d|0,f|0),{h,l:m}=ks(this.Fh|0,this.Fl|0,h|0,m|0),{h:g,l:y}=ks(this.Gh|0,this.Gl|0,g|0,y|0),{h:w,l:v}=ks(this.Hh|0,this.Hl|0,w|0,v|0),this.set(r,s,i,o,a,c,l,u,d,f,h,m,g,y,w,v)}roundClean(){Es(Fo,zo)}destroy(){Es(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},kre=class extends C2{constructor(){super(48),this.Ah=On[0]|0,this.Al=On[1]|0,this.Bh=On[2]|0,this.Bl=On[3]|0,this.Ch=On[4]|0,this.Cl=On[5]|0,this.Dh=On[6]|0,this.Dl=On[7]|0,this.Eh=On[8]|0,this.El=On[9]|0,this.Fh=On[10]|0,this.Fl=On[11]|0,this.Gh=On[12]|0,this.Gl=On[13]|0,this.Hh=On[14]|0,this.Hl=On[15]|0}};const $n=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class $re extends C2{constructor(){super(32),this.Ah=$n[0]|0,this.Al=$n[1]|0,this.Bh=$n[2]|0,this.Bl=$n[3]|0,this.Ch=$n[4]|0,this.Cl=$n[5]|0,this.Dh=$n[6]|0,this.Dl=$n[7]|0,this.Eh=$n[8]|0,this.El=$n[9]|0,this.Fh=$n[10]|0,this.Fl=$n[11]|0,this.Gh=$n[12]|0,this.Gl=$n[13]|0,this.Hh=$n[14]|0,this.Hl=$n[15]|0}}const Vy=Tp(()=>new Pre),Rre=Tp(()=>new C2),jre=Tp(()=>new kre),Mre=Tp(()=>new $re),Lre=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Wt=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ie=new Uint32Array(32);function Vo(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=ie[2*e],l=ie[2*e+1],u=ie[2*t],d=ie[2*t+1],f=ie[2*n],h=ie[2*n+1],m=ie[2*r],g=ie[2*r+1],y=y2(c,u,o);l=w2(y,l,d,a),c=y|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:tre(g,m),Dl:nre(g)},{h,l:f}=ks(h,f,g,m),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:Jo(d,u,24),Bl:ea(d,u,24)},ie[2*e]=c,ie[2*e+1]=l,ie[2*t]=u,ie[2*t+1]=d,ie[2*n]=f,ie[2*n+1]=h,ie[2*r]=m,ie[2*r+1]=g}function Ho(e,t,n,r,s,i){const o=s[i],a=s[i+1];let c=ie[2*e],l=ie[2*e+1],u=ie[2*t],d=ie[2*t+1],f=ie[2*n],h=ie[2*n+1],m=ie[2*r],g=ie[2*r+1],y=y2(c,u,o);l=w2(y,l,d,a),c=y|0,{Dh:g,Dl:m}={Dh:g^l,Dl:m^c},{Dh:g,Dl:m}={Dh:Jo(g,m,16),Dl:ea(g,m,16)},{h,l:f}=ks(h,f,g,m),{Bh:d,Bl:u}={Bh:d^h,Bl:u^f},{Bh:d,Bl:u}={Bh:sf(d,u,63),Bl:of(d,u,63)},ie[2*e]=c,ie[2*e+1]=l,ie[2*t]=u,ie[2*t+1]=d,ie[2*n]=f,ie[2*n+1]=h,ie[2*r]=m,ie[2*r+1]=g}function Ure(e,t={},n,r,s){if(vo(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:i,salt:o,personalization:a}=t;if(i!==void 0&&(i.length<1||i.length>n))throw new Error("key length must be undefined or 1.."+n);if(o!==void 0&&o.length!==r)throw new Error("salt must be undefined or "+r);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}class Bre extends zy{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,vo(t),vo(n),this.blockLen=t,this.outputLen=n,this.buffer=new Uint8Array(t),this.buffer32=Ah(this.buffer)}update(t){$a(this),t=Hs(t),xs(t);const{blockLen:n,buffer:r,buffer32:s}=this,i=t.length,o=t.byteOffset,a=t.buffer;for(let c=0;c<i;){this.pos===n&&(ta(s),this.compress(s,0,!1),ta(s),this.pos=0);const l=Math.min(n-this.pos,i-c),u=o+c;if(l===n&&!(u%4)&&c+l<i){const d=new Uint32Array(a,u,Math.floor((i-c)/4));ta(d);for(let f=0;c+n<i;f+=s.length,c+=n)this.length+=n,this.compress(d,f,!1);ta(d);continue}r.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){$a(this),x2(t,this);const{pos:n,buffer32:r}=this;this.finished=!0,Es(this.buffer.subarray(n)),ta(r),this.compress(r,0,!0),ta(r);const s=Ah(t);this.get().forEach((i,o)=>s[o]=Zi(i))}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){const{buffer:n,length:r,finished:s,destroyed:i,outputLen:o,pos:a}=this;return t||(t=new this.constructor({dkLen:o})),t.set(...this.get()),t.buffer.set(n),t.destroyed=i,t.finished=s,t.length=r,t.pos=a,t.outputLen=o,t}clone(){return this._cloneInto()}}class Fre extends Bre{constructor(t={}){const n=t.dkLen===void 0?64:t.dkLen;super(128,n),this.v0l=Wt[0]|0,this.v0h=Wt[1]|0,this.v1l=Wt[2]|0,this.v1h=Wt[3]|0,this.v2l=Wt[4]|0,this.v2h=Wt[5]|0,this.v3l=Wt[6]|0,this.v3h=Wt[7]|0,this.v4l=Wt[8]|0,this.v4h=Wt[9]|0,this.v5l=Wt[10]|0,this.v5h=Wt[11]|0,this.v6l=Wt[12]|0,this.v6h=Wt[13]|0,this.v7l=Wt[14]|0,this.v7h=Wt[15]|0,Ure(n,t,64,16,16);let{key:r,personalization:s,salt:i}=t,o=0;if(r!==void 0&&(r=Hs(r),o=r.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,i!==void 0){i=Hs(i);const a=Ah(i);this.v4l^=Zi(a[0]),this.v4h^=Zi(a[1]),this.v5l^=Zi(a[2]),this.v5h^=Zi(a[3])}if(s!==void 0){s=Hs(s);const a=Ah(s);this.v6l^=Zi(a[0]),this.v6h^=Zi(a[1]),this.v7l^=Zi(a[2]),this.v7h^=Zi(a[3])}if(r!==void 0){const a=new Uint8Array(this.blockLen);a.set(r),this.update(a)}}get(){let{v0l:t,v0h:n,v1l:r,v1h:s,v2l:i,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:f,v6l:h,v6h:m,v7l:g,v7h:y}=this;return[t,n,r,s,i,o,a,c,l,u,d,f,h,m,g,y]}set(t,n,r,s,i,o,a,c,l,u,d,f,h,m,g,y){this.v0l=t|0,this.v0h=n|0,this.v1l=r|0,this.v1h=s|0,this.v2l=i|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=f|0,this.v6l=h|0,this.v6h=m|0,this.v7l=g|0,this.v7h=y|0}compress(t,n,r){this.get().forEach((c,l)=>ie[l]=c),ie.set(Wt,16);let{h:s,l:i}=ZR(BigInt(this.length));ie[24]=Wt[8]^i,ie[25]=Wt[9]^s,r&&(ie[28]=~ie[28],ie[29]=~ie[29]);let o=0;const a=Lre;for(let c=0;c<12;c++)Vo(0,4,8,12,t,n+2*a[o++]),Ho(0,4,8,12,t,n+2*a[o++]),Vo(1,5,9,13,t,n+2*a[o++]),Ho(1,5,9,13,t,n+2*a[o++]),Vo(2,6,10,14,t,n+2*a[o++]),Ho(2,6,10,14,t,n+2*a[o++]),Vo(3,7,11,15,t,n+2*a[o++]),Ho(3,7,11,15,t,n+2*a[o++]),Vo(0,5,10,15,t,n+2*a[o++]),Ho(0,5,10,15,t,n+2*a[o++]),Vo(1,6,11,12,t,n+2*a[o++]),Ho(1,6,11,12,t,n+2*a[o++]),Vo(2,7,8,13,t,n+2*a[o++]),Ho(2,7,8,13,t,n+2*a[o++]),Vo(3,4,9,14,t,n+2*a[o++]),Ho(3,4,9,14,t,n+2*a[o++]);this.v0l^=ie[0]^ie[16],this.v0h^=ie[1]^ie[17],this.v1l^=ie[2]^ie[18],this.v1h^=ie[3]^ie[19],this.v2l^=ie[4]^ie[20],this.v2h^=ie[5]^ie[21],this.v3l^=ie[6]^ie[22],this.v3h^=ie[7]^ie[23],this.v4l^=ie[8]^ie[24],this.v4h^=ie[9]^ie[25],this.v5l^=ie[10]^ie[26],this.v5h^=ie[11]^ie[27],this.v6l^=ie[12]^ie[28],this.v6h^=ie[13]^ie[29],this.v7l^=ie[14]^ie[30],this.v7h^=ie[15]^ie[31],Es(ie)}destroy(){this.destroyed=!0,Es(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zre=pre(e=>new Fre(e)),Vre="https://rpc.walletconnect.org/v1";function uj(e){const t=`Ethereum Signed Message:
${e.length}`,n=new TextEncoder().encode(t+e);return"0x"+Buffer.from(Are(n)).toString("hex")}async function Hre(e,t,n,r,s,i){switch(n.t){case"eip191":return await Wre(e,t,n.s);case"eip1271":return await qre(e,t,n.s,r,s,i);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Wre(e,t,n){return(await kee({hash:uj(t),signature:n})).toLowerCase()===e.toLowerCase()}async function qre(e,t,n,r,s,i){const o=Cu(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(t.startsWith("0x")?t:uj(t)).substring(2),f=a+d+c+u+l,h=await fetch(`${i||Vre}/?chainId=${r}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Kre(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:f},"latest"]})}),{result:m}=await h.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Kre(){return Date.now()+Math.floor(Math.random()*1e3)}function Gre(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const s=1+r*64;if(n.length<s)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const i=Buffer.from(e,"base64").slice(1,65);return ld.encode(i)}function Yre(e){const t=new Uint8Array(Buffer.from(e,"base64")),n=Array.from("TransactionData::").map(i=>i.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const s=zre(r,{dkLen:32});return ld.encode(s)}function L_(e){const t=new Uint8Array(Vy(Qre(e)));return ld.encode(t)}function Qre(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function U_(e){const t=Buffer.from(e,"base64"),n=yte(t).txn;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const r=cte(n),s=Buffer.from("TX"),i=Buffer.concat([s,Buffer.from(r)]),o=Mre(i);return BW.encode(o).replace(/=+$/,"")}function Av(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Buffer.from(t)}function Xre(e){const t=Buffer.from(e.signed.bodyBytes,"base64"),n=Buffer.from(e.signed.authInfoBytes,"base64"),r=Buffer.from(e.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(Av(t.length)),s.push(t),s.push(Buffer.from([18])),s.push(Av(n.length)),s.push(n),s.push(Buffer.from([26])),s.push(Av(r.length)),s.push(r);const i=Buffer.concat(s),o=Vy(i);return Buffer.from(o).toString("hex").toUpperCase()}var Zre=Object.defineProperty,Jre=Object.defineProperties,ese=Object.getOwnPropertyDescriptors,B_=Object.getOwnPropertySymbols,tse=Object.prototype.hasOwnProperty,nse=Object.prototype.propertyIsEnumerable,F_=(e,t,n)=>t in e?Zre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rse=(e,t)=>{for(var n in t||(t={}))tse.call(t,n)&&F_(e,n,t[n]);if(B_)for(var n of B_(t))nse.call(t,n)&&F_(e,n,t[n]);return e},sse=(e,t)=>Jre(e,ese(t));const ise="did:pkh:",S2=e=>e==null?void 0:e.split(":"),ose=e=>{const t=e&&S2(e);if(t)return e.includes(ise)?t[3]:t[1]},lx=e=>{const t=e&&S2(e);if(t)return t[2]+":"+t[3]},M0=e=>{const t=e&&S2(e);if(t)return t.pop()};async function z_(e){const{cacao:t,projectId:n}=e,{s:r,p:s}=t,i=dj(s,s.iss),o=M0(s.iss);return await Hre(o,i,r,lx(s.iss),n)}const dj=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=M0(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let s=e.statement||void 0;const i=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${ose(t)}`,c=`Nonce: ${e.nonce}`,l=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,d=e.nbf?`Not Before: ${e.nbf}`:void 0,f=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=Pg(e.resources);if(m){const g=Ih(m);s=mse(s,g)}return[n,r,"",s,"",i,o,a,c,l,u,d,f,h].filter(g=>g!=null).join(`
`)};function ase(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function cse(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function Wc(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(n=>{const r=e.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(s=>{const i=r[s];if(!Array.isArray(i))throw new Error(`Ability limits ${s} must be an array of objects, found: ${i}`);if(!i.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);i.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${o}`)})})})}function lse(e,t,n,r={}){return n==null||n.sort((s,i)=>s.localeCompare(i)),{att:{[e]:use(t,n,r)}}}function use(e,t,n={}){t=t==null?void 0:t.sort((s,i)=>s.localeCompare(i));const r=t.map(s=>({[`${e}/${s}`]:[n]}));return Object.assign({},...r)}function fj(e){return Wc(e),`urn:recap:${ase(e).replace(/=/g,"")}`}function Ih(e){const t=cse(e.replace("urn:recap:",""));return Wc(t),t}function dse(e,t,n){const r=lse(e,t,n);return fj(r)}function fse(e){return e&&e.includes("urn:recap:")}function hse(e,t){const n=Ih(e),r=Ih(t),s=pse(n,r);return fj(s)}function pse(e,t){Wc(e),Wc(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,i)=>s.localeCompare(i)),r={att:{}};return n.forEach(s=>{var i,o;Object.keys(((i=e.att)==null?void 0:i[s])||{}).concat(Object.keys(((o=t.att)==null?void 0:o[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[s]=sse(rse({},r.att[s]),{[a]:((c=e.att[s])==null?void 0:c[a])||((l=t.att[s])==null?void 0:l[a])})})}),r}function mse(e="",t){Wc(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let s=0;Object.keys(t.att).forEach(a=>{const c=Object.keys(t.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,f)=>d.action.localeCompare(f.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const i=r.join(" "),o=`${n}${i}`;return`${e?e+" ":""}${o}`}function V_(e){var t;const n=Ih(e);Wc(n);const r=(t=n.att)==null?void 0:t.eip155;return r?Object.keys(r).map(s=>s.split("/")[1]):[]}function H_(e){const t=Ih(e);Wc(t);const n=[];return Object.values(t.att).forEach(r=>{Object.values(r).forEach(s=>{var i;(i=s==null?void 0:s[0])!=null&&i.chains&&n.push(s[0].chains)})}),[...new Set(n.flat())]}function Pg(e){if(!e)return;const t=e==null?void 0:e[e.length-1];return fse(t)?t:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function hj(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ux(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function Nv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function hr(e,...t){if(!hj(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function W_(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function gse(e,t){hr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Sa(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Uu(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function yse(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}const wse=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function vse(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function dx(e){if(typeof e=="string")e=vse(e);else if(hj(e))e=fx(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function bse(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function xse(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const Ese=(e,t)=>{function n(r,...s){if(hr(r),!wse)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){const l=s[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?hr(l):hr(l,e.nonceLength)}const i=e.tagLength;i&&s[1]!==void 0&&hr(s[1]);const o=t(r,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");hr(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,hr(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(hr(l),i&&l.length<i)throw new Error("invalid ciphertext length: smaller than tagLength="+i);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,e),n};function q_(e,t,n=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!Sse(t))throw new Error("invalid output, must be aligned");return t}function K_(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i);e.setUint32(t+4,o,r),e.setUint32(t+0,a,r)}function Cse(e,t,n){ux(n);const r=new Uint8Array(16),s=yse(r);return K_(s,0,BigInt(t),n),K_(s,8,BigInt(e),n),r}function Sse(e){return e.byteOffset%4===0}function fx(e){return Uint8Array.from(e)}const pj=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),Ase=pj("expand 16-byte k"),Nse=pj("expand 32-byte k"),Ise=Sa(Ase),_se=Sa(Nse);function Ve(e,t){return e<<t|e>>>32-t}function hx(e){return e.byteOffset%4===0}const Bm=64,Tse=16,mj=2**32-1,G_=new Uint32Array;function Pse(e,t,n,r,s,i,o,a){const c=s.length,l=new Uint8Array(Bm),u=Sa(l),d=hx(s)&&hx(i),f=d?Sa(s):G_,h=d?Sa(i):G_;for(let m=0;m<c;o++){if(e(t,n,r,u,o,a),o>=mj)throw new Error("arx: counter overflow");const g=Math.min(Bm,c-m);if(d&&g===Bm){const y=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let w=0,v;w<Tse;w++)v=y+w,h[v]=f[v]^u[w];m+=Bm;continue}for(let y=0,w;y<g;y++)w=m+y,i[w]=s[w]^l[y];m+=g}}function Dse(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:o}=bse({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Nv(s),Nv(o),ux(i),ux(n),(a,c,l,u,d=0)=>{hr(a),hr(c),hr(l);const f=l.length;if(u===void 0&&(u=new Uint8Array(f)),hr(u),Nv(d),d<0||d>=mj)throw new Error("arx: counter overflow");if(u.length<f)throw new Error(`arx: output (${u.length}) is shorter than data (${f})`);const h=[];let m=a.length,g,y;if(m===32)h.push(g=fx(a)),y=_se;else if(m===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),y=Ise,h.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);hx(c)||h.push(c=fx(c));const w=Sa(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(y,w,Sa(c.subarray(0,16)),w),c=c.subarray(16)}const v=16-s;if(v!==c.length)throw new Error(`arx: nonce must be ${v} or 16 bytes`);if(v!==12){const x=new Uint8Array(12);x.set(c,i?0:12-c.length),c=x,h.push(c)}const b=Sa(c);return Pse(e,y,w,b,l,u,d,o),Uu(...h),u}}const hn=(e,t)=>e[t++]&255|(e[t++]&255)<<8;class Ose{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=dx(t),hr(t,32);const n=hn(t,0),r=hn(t,2),s=hn(t,4),i=hn(t,6),o=hn(t,8),a=hn(t,10),c=hn(t,12),l=hn(t,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|s<<6)&7939,this.r[3]=(s>>>7|i<<9)&8191,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=hn(t,16+2*u)}process(t,n,r=!1){const s=r?0:2048,{h:i,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],f=o[5],h=o[6],m=o[7],g=o[8],y=o[9],w=hn(t,n+0),v=hn(t,n+2),b=hn(t,n+4),x=hn(t,n+6),E=hn(t,n+8),S=hn(t,n+10),A=hn(t,n+12),C=hn(t,n+14);let N=i[0]+(w&8191),j=i[1]+((w>>>13|v<<3)&8191),M=i[2]+((v>>>10|b<<6)&8191),L=i[3]+((b>>>7|x<<9)&8191),B=i[4]+((x>>>4|E<<12)&8191),U=i[5]+(E>>>1&8191),I=i[6]+((E>>>14|S<<2)&8191),_=i[7]+((S>>>11|A<<5)&8191),k=i[8]+((A>>>8|C<<8)&8191),T=i[9]+(C>>>5|s),$=0,R=$+N*a+j*(5*y)+M*(5*g)+L*(5*m)+B*(5*h);$=R>>>13,R&=8191,R+=U*(5*f)+I*(5*d)+_*(5*u)+k*(5*l)+T*(5*c),$+=R>>>13,R&=8191;let z=$+N*c+j*a+M*(5*y)+L*(5*g)+B*(5*m);$=z>>>13,z&=8191,z+=U*(5*h)+I*(5*f)+_*(5*d)+k*(5*u)+T*(5*l),$+=z>>>13,z&=8191;let W=$+N*l+j*c+M*a+L*(5*y)+B*(5*g);$=W>>>13,W&=8191,W+=U*(5*m)+I*(5*h)+_*(5*f)+k*(5*d)+T*(5*u),$+=W>>>13,W&=8191;let V=$+N*u+j*l+M*c+L*a+B*(5*y);$=V>>>13,V&=8191,V+=U*(5*g)+I*(5*m)+_*(5*h)+k*(5*f)+T*(5*d),$+=V>>>13,V&=8191;let H=$+N*d+j*u+M*l+L*c+B*a;$=H>>>13,H&=8191,H+=U*(5*y)+I*(5*g)+_*(5*m)+k*(5*h)+T*(5*f),$+=H>>>13,H&=8191;let Q=$+N*f+j*d+M*u+L*l+B*c;$=Q>>>13,Q&=8191,Q+=U*a+I*(5*y)+_*(5*g)+k*(5*m)+T*(5*h),$+=Q>>>13,Q&=8191;let oe=$+N*h+j*f+M*d+L*u+B*l;$=oe>>>13,oe&=8191,oe+=U*c+I*a+_*(5*y)+k*(5*g)+T*(5*m),$+=oe>>>13,oe&=8191;let ae=$+N*m+j*h+M*f+L*d+B*u;$=ae>>>13,ae&=8191,ae+=U*l+I*c+_*a+k*(5*y)+T*(5*g),$+=ae>>>13,ae&=8191;let le=$+N*g+j*m+M*h+L*f+B*d;$=le>>>13,le&=8191,le+=U*u+I*l+_*c+k*a+T*(5*y),$+=le>>>13,le&=8191;let we=$+N*y+j*g+M*m+L*h+B*f;$=we>>>13,we&=8191,we+=U*d+I*u+_*l+k*c+T*a,$+=we>>>13,we&=8191,$=($<<2)+$|0,$=$+R|0,R=$&8191,$=$>>>13,z+=$,i[0]=R,i[1]=z,i[2]=W,i[3]=V,i[4]=H,i[5]=Q,i[6]=oe,i[7]=ae,i[8]=le,i[9]=we}finalize(){const{h:t,pad:n}=this,r=new Uint16Array(10);let s=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=s,s=t[a]>>>13,t[a]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,r[0]=t[0]+5,s=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=t[a]+s,s=r[a]>>>13,r[a]&=8191;r[9]-=8192;let i=(s^1)-1;for(let a=0;a<10;a++)r[a]&=i;i=~i;for(let a=0;a<10;a++)t[a]=t[a]&i|r[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let o=t[0]+n[0];t[0]=o&65535;for(let a=1;a<8;a++)o=(t[a]+n[a]|0)+(o>>>16)|0,t[a]=o&65535;Uu(r)}update(t){W_(this),t=dx(t),hr(t);const{buffer:n,blockLen:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);if(o===r){for(;r<=s-i;i+=r)this.process(t,i);continue}n.set(t.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Uu(this.h,this.r,this.buffer,this.pad)}digestInto(t){W_(this),gse(t,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:s}=this;if(s){for(n[s++]=1;s<16;s++)n[s]=0;this.process(n,0,!0)}this.finalize();let i=0;for(let o=0;o<8;o++)t[i++]=r[o]>>>0,t[i++]=r[o]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}}function kse(e){const t=(r,s)=>e(s).update(dx(r)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const $se=kse(e=>new Ose(e));function Rse(e,t,n,r,s,i=20){let o=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],f=t[2],h=t[3],m=t[4],g=t[5],y=t[6],w=t[7],v=s,b=n[0],x=n[1],E=n[2],S=o,A=a,C=c,N=l,j=u,M=d,L=f,B=h,U=m,I=g,_=y,k=w,T=v,$=b,R=x,z=E;for(let V=0;V<i;V+=2)S=S+j|0,T=Ve(T^S,16),U=U+T|0,j=Ve(j^U,12),S=S+j|0,T=Ve(T^S,8),U=U+T|0,j=Ve(j^U,7),A=A+M|0,$=Ve($^A,16),I=I+$|0,M=Ve(M^I,12),A=A+M|0,$=Ve($^A,8),I=I+$|0,M=Ve(M^I,7),C=C+L|0,R=Ve(R^C,16),_=_+R|0,L=Ve(L^_,12),C=C+L|0,R=Ve(R^C,8),_=_+R|0,L=Ve(L^_,7),N=N+B|0,z=Ve(z^N,16),k=k+z|0,B=Ve(B^k,12),N=N+B|0,z=Ve(z^N,8),k=k+z|0,B=Ve(B^k,7),S=S+M|0,z=Ve(z^S,16),_=_+z|0,M=Ve(M^_,12),S=S+M|0,z=Ve(z^S,8),_=_+z|0,M=Ve(M^_,7),A=A+L|0,T=Ve(T^A,16),k=k+T|0,L=Ve(L^k,12),A=A+L|0,T=Ve(T^A,8),k=k+T|0,L=Ve(L^k,7),C=C+B|0,$=Ve($^C,16),U=U+$|0,B=Ve(B^U,12),C=C+B|0,$=Ve($^C,8),U=U+$|0,B=Ve(B^U,7),N=N+j|0,R=Ve(R^N,16),I=I+R|0,j=Ve(j^I,12),N=N+j|0,R=Ve(R^N,8),I=I+R|0,j=Ve(j^I,7);let W=0;r[W++]=o+S|0,r[W++]=a+A|0,r[W++]=c+C|0,r[W++]=l+N|0,r[W++]=u+j|0,r[W++]=d+M|0,r[W++]=f+L|0,r[W++]=h+B|0,r[W++]=m+U|0,r[W++]=g+I|0,r[W++]=y+_|0,r[W++]=w+k|0,r[W++]=v+T|0,r[W++]=b+$|0,r[W++]=x+R|0,r[W++]=E+z|0}const jse=Dse(Rse,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Mse=new Uint8Array(16),Y_=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(Mse.subarray(n))},Lse=new Uint8Array(32);function Q_(e,t,n,r,s){const i=e(t,n,Lse),o=$se.create(i);s&&Y_(o,s),Y_(o,r);const a=Cse(r.length,s?s.length:0,!0);o.update(a);const c=o.digest();return Uu(i,a),c}const Use=e=>(t,n,r)=>({encrypt(s,i){const o=s.length;i=q_(o+16,i,!1),i.set(s);const a=i.subarray(0,-16);e(t,n,a,a,1);const c=Q_(e,t,n,a,r);return i.set(c,o),Uu(c),i},decrypt(s,i){i=q_(s.length-16,i,!1);const o=s.subarray(0,-16),a=s.subarray(-16),c=Q_(e,t,n,o,r);if(!xse(a,c))throw new Error("invalid tag");return i.set(s.subarray(0,-16)),e(t,n,i,i,1),Uu(c),i}}),gj=Ese({blockSize:64,nonceLength:12,tagLength:16},Use(jse));let yj=class extends zy{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,b2(t);const r=Hs(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Es(i)}update(t){return $a(this),this.iHash.update(t),this}digestInto(t){$a(this),xs(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Hy=(e,t,n)=>new yj(e,t).update(n).digest();Hy.create=(e,t)=>new yj(e,t);function Bse(e,t,n){return b2(e),n===void 0&&(n=new Uint8Array(e.outputLen)),Hy(e,Hs(n),Hs(t))}const Iv=Uint8Array.from([0]),X_=Uint8Array.of();function Fse(e,t,n,r=32){b2(e),vo(r);const s=e.outputLen;if(r>255*s)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/s);n===void 0&&(n=X_);const o=new Uint8Array(i*s),a=Hy.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<i;u++)Iv[0]=u+1,c.update(u===0?X_:l).update(n).update(Iv).digestInto(l),o.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Es(l,Iv),o.slice(0,r)}const zse=(e,t,n,r,s)=>Fse(e,Bse(e,t,n),r,s),Wy=Vy,A2=BigInt(0),px=BigInt(1);function L0(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Fm(e){const t=e.toString(16);return t.length&1?"0"+t:t}function wj(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?A2:BigInt("0x"+e)}function qy(e){return wj(Nh(e))}function U0(e){return xs(e),wj(Nh(Uint8Array.from(e).reverse()))}function N2(e,t){return E2(e.toString(16).padStart(t*2,"0"))}function I2(e,t){return N2(e,t).reverse()}function fr(e,t,n){let r;if(typeof t=="string")try{r=E2(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(v2(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}const _v=e=>typeof e=="bigint"&&A2<=e;function Vse(e,t,n){return _v(e)&&_v(t)&&_v(n)&&t<=e&&e<n}function mx(e,t,n,r){if(!Vse(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Hse(e){let t;for(t=0;e>A2;e>>=px,t+=1);return t}const Ky=e=>(px<<BigInt(e))-px;function Wse(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=f=>new Uint8Array(f),s=f=>Uint8Array.of(f);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},l=(...f)=>n(o,i,...f),u=(f=r(0))=>{o=l(s(0),f),i=l(),f.length!==0&&(o=l(s(1),f),i=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const h=[];for(;f<t;){i=l();const m=i.slice();h.push(m),f+=i.length}return yc(...h)};return(f,h)=>{c(),u(f);let m;for(;!(m=h(d()));)u();return c(),m}}function Gy(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function Z_(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const wr=BigInt(0),Kn=BigInt(1),wc=BigInt(2),qse=BigInt(3),vj=BigInt(4),bj=BigInt(5),xj=BigInt(8);function ds(e,t){const n=e%t;return n>=wr?n:t+n}function Ds(e,t,n){let r=e;for(;t-- >wr;)r*=r,r%=n;return r}function J_(e,t){if(e===wr)throw new Error("invert: expected non-zero number");if(t<=wr)throw new Error("invert: expected positive modulus, got "+t);let n=ds(e,t),r=t,s=wr,i=Kn;for(;n!==wr;){const o=r/n,a=r%n,c=s-i*o;r=n,n=a,s=i,i=c}if(r!==Kn)throw new Error("invert: does not exist");return ds(s,t)}function Ej(e,t){const n=(e.ORDER+Kn)/vj,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Kse(e,t){const n=(e.ORDER-bj)/xj,r=e.mul(t,wc),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,wc),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Gse(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Kn,n=0;for(;t%wc===wr;)t/=wc,n++;let r=wc;const s=fd(e);for(;eT(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Ej;let i=s.pow(r,t);const o=(t+Kn)/wc;return function(a,c){if(a.is0(c))return c;if(eT(a,c)!==1)throw new Error("Cannot find square root");let l=n,u=a.mul(a.ONE,i),d=a.pow(c,t),f=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let h=1,m=a.sqr(d);for(;!a.eql(m,a.ONE);)if(h++,m=a.sqr(m),h===l)throw new Error("Cannot find square root");const g=Kn<<BigInt(l-h-1),y=a.pow(u,g);l=h,u=a.sqr(y),d=a.mul(d,u),f=a.mul(f,y)}return f}}function Yse(e){return e%vj===qse?Ej:e%xj===bj?Kse:Gse(e)}const Qse=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Xse(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Qse.reduce((r,s)=>(r[s]="function",r),t);return Gy(e,n),e}function Zse(e,t,n){if(n<wr)throw new Error("invalid exponent, negatives unsupported");if(n===wr)return e.ONE;if(n===Kn)return t;let r=e.ONE,s=t;for(;n>wr;)n&Kn&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Kn;return r}function Cj(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function eT(e,t){const n=(e.ORDER-Kn)/wc,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Jse(e,t){t!==void 0&&vo(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function fd(e,t,n=!1,r={}){if(e<=wr)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const u=t;u.BITS&&(s=u.BITS),u.sqrt&&(i=u.sqrt),typeof u.isLE=="boolean"&&(n=u.isLE)}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:o,nByteLength:a}=Jse(e,s);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:a,MASK:Ky(o),ZERO:wr,ONE:Kn,create:u=>ds(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return wr<=u&&u<e},is0:u=>u===wr,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Kn)===Kn,neg:u=>ds(-u,e),eql:(u,d)=>u===d,sqr:u=>ds(u*u,e),add:(u,d)=>ds(u+d,e),sub:(u,d)=>ds(u-d,e),mul:(u,d)=>ds(u*d,e),pow:(u,d)=>Zse(l,u,d),div:(u,d)=>ds(u*J_(d,e),e),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>J_(u,e),sqrt:i||(u=>(c||(c=Yse(e)),c(l,u))),toBytes:u=>n?I2(u,a):N2(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return n?U0(u):qy(u)},invertBatch:u=>Cj(l,u),cmov:(u,d,f)=>f?d:u});return Object.freeze(l)}function Sj(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Aj(e){const t=Sj(e);return t+Math.ceil(t/2)}function eie(e,t,n=!1){const r=e.length,s=Sj(t),i=Aj(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?U0(e):qy(e),a=ds(o,t-Kn)+Kn;return n?I2(a,s):N2(a,s)}const Bu=BigInt(0),vc=BigInt(1);function If(e,t){const n=t.negate();return e?n:t}function tie(e,t,n){const r=i=>i.pz,s=Cj(e.Fp,n.map(r));return n.map((i,o)=>i.toAffine(s[o])).map(e.fromAffine)}function Nj(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Tv(e,t){Nj(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Ky(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function tT(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=vc);const l=t*r,u=l+Math.abs(a)-1,d=a===0,f=a<0,h=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:l}}function nie(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function rie(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Pv=new WeakMap,Ij=new WeakMap;function Dv(e){return Ij.get(e)||1}function nT(e){if(e!==Bu)throw new Error("invalid wNAF")}function sie(e,t){return{constTimeNegate:If,hasPrecomputes(n){return Dv(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>Bu;)r&vc&&(s=s.add(i)),i=i.double(),r>>=vc;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Tv(r,t),o=[];let a=n,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=Tv(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:f,isNegF:h,offsetF:m}=tT(s,c,a);s=l,d?o=o.add(If(h,r[m])):i=i.add(If(f,r[u]))}return nT(s),{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=Tv(n,t);for(let a=0;a<o.windows&&s!==Bu;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=tT(s,a,o);if(s=c,!u){const f=r[l];i=i.add(d?f.negate():f)}}return nT(s),i},getPrecomputes(n,r,s){let i=Pv.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&(typeof s=="function"&&(i=s(i)),Pv.set(r,i))),i},wNAFCached(n,r,s){const i=Dv(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=Dv(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){Nj(r,t),Ij.set(n,r),Pv.delete(n)}}}function iie(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>Bu||r>Bu;)n&vc&&(i=i.add(s)),r&vc&&(o=o.add(s)),s=s.double(),n>>=vc,r>>=vc;return{p1:i,p2:o}}function oie(e,t,n,r){nie(n,e),rie(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Hse(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Ky(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){u.fill(o);for(let g=0;g<i;g++){const y=r[g],w=Number(y>>BigInt(h)&l);u[w]=u[w].add(n[g])}let m=o;for(let g=u.length-1,y=o;g>0;g--)y=y.add(u[g]),m=m.add(y);if(f=f.add(m),h!==0)for(let g=0;g<c;g++)f=f.double()}return f}function rT(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Xse(t),t}else return fd(e)}function aie(e,t,n={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const o of["p","n","h"]){const a=t[o];if(!(typeof a=="bigint"&&a>Bu))throw new Error(`CURVE.${o} must be positive bigint`)}const r=rT(t.p,n.Fp),s=rT(t.n,n.Fn),i=["Gx","Gy","a","b"];for(const o of i)if(!r.isValid(t[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:s}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Fd=BigInt(0),Cl=BigInt(1),zm=BigInt(2);function cie(e){return Gy(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function lie(e){const t=cie(e),{P:n,type:r,adjustScalarBytes:s,powPminus2:i,randomBytes:o}=t,a=r==="x25519";if(!a&&r!=="x448")throw new Error("invalid type");const c=o||dd,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),f=BigInt(a?121665:39081),h=a?zm**BigInt(254):zm**BigInt(447),m=a?BigInt(8)*zm**BigInt(251)-Cl:BigInt(4)*zm**BigInt(445)-Cl,g=h+m+Cl,y=N=>ds(N,n),w=v(d);function v(N){return I2(y(N),u)}function b(N){const j=fr("u coordinate",N,u);return a&&(j[31]&=127),y(U0(j))}function x(N){return U0(s(fr("scalar",N,u)))}function E(N,j){const M=C(b(j),x(N));if(M===Fd)throw new Error("invalid private or public key received");return v(M)}function S(N){return E(N,w)}function A(N,j,M){const L=y(N*(j-M));return j=y(j-L),M=y(M+L),{x_2:j,x_3:M}}function C(N,j){mx("u",N,Fd,n),mx("scalar",j,h,g);const M=j,L=N;let B=Cl,U=Fd,I=N,_=Cl,k=Fd;for(let $=BigInt(l-1);$>=Fd;$--){const R=M>>$&Cl;k^=R,{x_2:B,x_3:I}=A(k,B,I),{x_2:U,x_3:_}=A(k,U,_),k=R;const z=B+U,W=y(z*z),V=B-U,H=y(V*V),Q=W-H,oe=I+_,ae=I-_,le=y(ae*z),we=y(oe*V),Oe=le+we,ze=le-we;I=y(Oe*Oe),_=y(L*y(ze*ze)),B=y(W*H),U=y(Q*(W+y(f*Q)))}({x_2:B,x_3:I}=A(k,B,I)),{x_2:U,x_3:_}=A(k,U,_);const T=i(U);return y(B*T)}return{scalarMult:E,scalarMultBase:S,getSharedSecret:(N,j)=>E(N,j),getPublicKey:N=>S(N),utils:{randomPrivateKey:()=>c(u)},GuBytes:w.slice()}}BigInt(0);const uie=BigInt(1),sT=BigInt(2),die=BigInt(3),fie=BigInt(5);BigInt(8);const _j={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function hie(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=_j.p,o=e*e%i*e%i,a=Ds(o,sT,i)*o%i,c=Ds(a,uie,i)*e%i,l=Ds(c,fie,i)*c%i,u=Ds(l,t,i)*l%i,d=Ds(u,n,i)*u%i,f=Ds(d,r,i)*d%i,h=Ds(f,s,i)*f%i,m=Ds(h,s,i)*f%i,g=Ds(m,t,i)*l%i;return{pow_p_5_8:Ds(g,sT,i)*e%i,b2:o}}function pie(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const gx=(()=>{const e=_j.p;return lie({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=hie(t);return ds(Ds(n,die,e)*r,e)},adjustScalarBytes:pie})})();function iT(e){e.lowS!==void 0&&L0("lowS",e.lowS),e.prehash!==void 0&&L0("prehash",e.prehash)}class mie extends Error{constructor(t=""){super(t)}}const no={Err:mie,_tlv:{encode:(e,t)=>{const{Err:n}=no;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Fm(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Fm(s.length/2|128):"";return Fm(e)+i+s+t},decode(e,t){const{Err:n}=no;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=no;if(e<_f)throw new t("integer: negative integers are not allowed");let n=Fm(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=no;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return qy(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=no,s=fr("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=no,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},_f=BigInt(0),Tf=BigInt(1),gie=BigInt(2),Vm=BigInt(3),yie=BigInt(4);function wie(e,t,n){function r(s){const i=e.sqr(s),o=e.mul(i,s);return e.add(e.add(o,e.mul(s,t)),n)}return r}function Tj(e,t,n){const{BYTES:r}=e;function s(i){let o;if(typeof i=="bigint")o=i;else{let a=fr("private key",i);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(r);c.set(a,c.length-a.length),a=c}try{o=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(o=e.create(o)),!e.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return s}function vie(e,t={}){const{Fp:n,Fn:r}=aie("weierstrass",e,t),{h:s,n:i}=e;Gy(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=t;if(o&&(!n.is0(e.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(C,N,j){const{x:M,y:L}=N.toAffine(),B=n.toBytes(M);if(L0("isCompressed",j),j){a();const U=!n.isOdd(L);return yc(Pj(U),B)}else return yc(Uint8Array.of(4),B,n.toBytes(L))}function l(C){xs(C);const N=n.BYTES,j=N+1,M=2*N+1,L=C.length,B=C[0],U=C.subarray(1);if(L===j&&(B===2||B===3)){const I=n.fromBytes(U);if(!n.isValid(I))throw new Error("bad point: is not on curve, wrong x");const _=f(I);let k;try{k=n.sqrt(_)}catch($){const R=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+R)}a();const T=n.isOdd(k);return(B&1)===1!==T&&(k=n.neg(k)),{x:I,y:k}}else if(L===M&&B===4){const I=n.fromBytes(U.subarray(N*0,N*1)),_=n.fromBytes(U.subarray(N*1,N*2));if(!h(I,_))throw new Error("bad point: is not on curve");return{x:I,y:_}}else throw new Error(`bad point: got length ${L}, expected compressed=${j} or uncompressed=${M}`)}const u=t.toBytes||c,d=t.fromBytes||l,f=wie(n,e.a,e.b);function h(C,N){const j=n.sqr(N),M=f(C);return n.eql(j,M)}if(!h(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const m=n.mul(n.pow(e.a,Vm),yie),g=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(m,g)))throw new Error("bad curve params: a or b");function y(C,N,j=!1){if(!n.isValid(N)||j&&n.is0(N))throw new Error(`bad point coordinate ${C}`);return N}function w(C){if(!(C instanceof E))throw new Error("ProjectivePoint expected")}const v=Z_((C,N)=>{const{px:j,py:M,pz:L}=C;if(n.eql(L,n.ONE))return{x:j,y:M};const B=C.is0();N==null&&(N=B?n.ONE:n.inv(L));const U=n.mul(j,N),I=n.mul(M,N),_=n.mul(L,N);if(B)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:U,y:I}}),b=Z_(C=>{if(C.is0()){if(t.allowInfinityPoint&&!n.is0(C.py))return;throw new Error("bad point: ZERO")}const{x:N,y:j}=C.toAffine();if(!n.isValid(N)||!n.isValid(j))throw new Error("bad point: x or y not field elements");if(!h(N,j))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function x(C,N,j,M,L){return j=new E(n.mul(j.px,C),j.py,j.pz),N=If(M,N),j=If(L,j),N.add(j)}class E{constructor(N,j,M){this.px=y("x",N),this.py=y("y",j,!0),this.pz=y("z",M),Object.freeze(this)}static fromAffine(N){const{x:j,y:M}=N||{};if(!N||!n.isValid(j)||!n.isValid(M))throw new Error("invalid affine point");if(N instanceof E)throw new Error("projective point not allowed");return n.is0(j)&&n.is0(M)?E.ZERO:new E(j,M,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){return tie(E,"pz",N)}static fromBytes(N){return xs(N),E.fromHex(N)}static fromHex(N){const j=E.fromAffine(d(fr("pointHex",N)));return j.assertValidity(),j}static fromPrivateKey(N){const j=Tj(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return E.BASE.multiply(j(N))}static msm(N,j){return oie(E,r,N,j)}precompute(N=8,j=!0){return A.setWindowSize(this,N),j||this.multiply(Vm),this}_setWindowSize(N){this.precompute(N)}assertValidity(){b(this)}hasEvenY(){const{y:N}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(N)}equals(N){w(N);const{px:j,py:M,pz:L}=this,{px:B,py:U,pz:I}=N,_=n.eql(n.mul(j,I),n.mul(B,L)),k=n.eql(n.mul(M,I),n.mul(U,L));return _&&k}negate(){return new E(this.px,n.neg(this.py),this.pz)}double(){const{a:N,b:j}=e,M=n.mul(j,Vm),{px:L,py:B,pz:U}=this;let I=n.ZERO,_=n.ZERO,k=n.ZERO,T=n.mul(L,L),$=n.mul(B,B),R=n.mul(U,U),z=n.mul(L,B);return z=n.add(z,z),k=n.mul(L,U),k=n.add(k,k),I=n.mul(N,k),_=n.mul(M,R),_=n.add(I,_),I=n.sub($,_),_=n.add($,_),_=n.mul(I,_),I=n.mul(z,I),k=n.mul(M,k),R=n.mul(N,R),z=n.sub(T,R),z=n.mul(N,z),z=n.add(z,k),k=n.add(T,T),T=n.add(k,T),T=n.add(T,R),T=n.mul(T,z),_=n.add(_,T),R=n.mul(B,U),R=n.add(R,R),T=n.mul(R,z),I=n.sub(I,T),k=n.mul(R,$),k=n.add(k,k),k=n.add(k,k),new E(I,_,k)}add(N){w(N);const{px:j,py:M,pz:L}=this,{px:B,py:U,pz:I}=N;let _=n.ZERO,k=n.ZERO,T=n.ZERO;const $=e.a,R=n.mul(e.b,Vm);let z=n.mul(j,B),W=n.mul(M,U),V=n.mul(L,I),H=n.add(j,M),Q=n.add(B,U);H=n.mul(H,Q),Q=n.add(z,W),H=n.sub(H,Q),Q=n.add(j,L);let oe=n.add(B,I);return Q=n.mul(Q,oe),oe=n.add(z,V),Q=n.sub(Q,oe),oe=n.add(M,L),_=n.add(U,I),oe=n.mul(oe,_),_=n.add(W,V),oe=n.sub(oe,_),T=n.mul($,Q),_=n.mul(R,V),T=n.add(_,T),_=n.sub(W,T),T=n.add(W,T),k=n.mul(_,T),W=n.add(z,z),W=n.add(W,z),V=n.mul($,V),Q=n.mul(R,Q),W=n.add(W,V),V=n.sub(z,V),V=n.mul($,V),Q=n.add(Q,V),z=n.mul(W,Q),k=n.add(k,z),z=n.mul(oe,Q),_=n.mul(H,_),_=n.sub(_,z),z=n.mul(H,W),T=n.mul(oe,T),T=n.add(T,z),new E(_,k,T)}subtract(N){return this.add(N.negate())}is0(){return this.equals(E.ZERO)}multiply(N){const{endo:j}=t;if(!r.isValidNot0(N))throw new Error("invalid scalar: out of range");let M,L;const B=U=>A.wNAFCached(this,U,E.normalizeZ);if(j){const{k1neg:U,k1:I,k2neg:_,k2:k}=j.splitScalar(N),{p:T,f:$}=B(I),{p:R,f:z}=B(k);L=$.add(z),M=x(j.beta,T,R,U,_)}else{const{p:U,f:I}=B(N);M=U,L=I}return E.normalizeZ([M,L])[0]}multiplyUnsafe(N){const{endo:j}=t,M=this;if(!r.isValid(N))throw new Error("invalid scalar: out of range");if(N===_f||M.is0())return E.ZERO;if(N===Tf)return M;if(A.hasPrecomputes(this))return this.multiply(N);if(j){const{k1neg:L,k1:B,k2neg:U,k2:I}=j.splitScalar(N),{p1:_,p2:k}=iie(E,M,B,I);return x(j.beta,_,k,L,U)}else return A.wNAFCachedUnsafe(M,N)}multiplyAndAddUnsafe(N,j,M){const L=this.multiplyUnsafe(j).add(N.multiplyUnsafe(M));return L.is0()?void 0:L}toAffine(N){return v(this,N)}isTorsionFree(){const{isTorsionFree:N}=t;return s===Tf?!0:N?N(E,this):A.wNAFCachedUnsafe(this,i).is0()}clearCofactor(){const{clearCofactor:N}=t;return s===Tf?this:N?N(E,this):this.multiplyUnsafe(s)}toBytes(N=!0){return L0("isCompressed",N),this.assertValidity(),u(E,this,N)}toRawBytes(N=!0){return this.toBytes(N)}toHex(N=!0){return Nh(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}E.BASE=new E(e.Gx,e.Gy,n.ONE),E.ZERO=new E(n.ZERO,n.ONE,n.ZERO),E.Fp=n,E.Fn=r;const S=r.BITS,A=sie(E,t.endo?Math.ceil(S/2):S);return E}function Pj(e){return Uint8Array.of(e?2:3)}function bie(e,t,n={}){Gy(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||dd,s=t.hmac||((M,...L)=>Hy(t.hash,M,yc(...L))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o;function l(M){const L=a>>Tf;return M>L}function u(M){return l(M)?o.neg(M):M}function d(M,L){if(!o.isValidNot0(L))throw new Error(`invalid signature ${M}: out of range 1..CURVE.n`)}class f{constructor(L,B,U){d("r",L),d("s",B),this.r=L,this.s=B,U!=null&&(this.recovery=U),Object.freeze(this)}static fromCompact(L){const B=o.BYTES,U=fr("compactSignature",L,B*2);return new f(o.fromBytes(U.subarray(0,B)),o.fromBytes(U.subarray(B,B*2)))}static fromDER(L){const{r:B,s:U}=no.toSig(fr("DER",L));return new f(B,U)}assertValidity(){}addRecoveryBit(L){return new f(this.r,this.s,L)}recoverPublicKey(L){const B=i.ORDER,{r:U,s:I,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(a*gie<B&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const k=_===2||_===3?U+a:U;if(!i.isValid(k))throw new Error("recovery id 2 or 3 invalid");const T=i.toBytes(k),$=e.fromHex(yc(Pj((_&1)===0),T)),R=o.inv(k),z=b(fr("msgHash",L)),W=o.create(-z*R),V=o.create(I*R),H=e.BASE.multiplyUnsafe(W).add($.multiplyUnsafe(V));if(H.is0())throw new Error("point at infinify");return H.assertValidity(),H}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new f(this.r,o.neg(this.s),this.recovery):this}toBytes(L){if(L==="compact")return yc(o.toBytes(this.r),o.toBytes(this.s));if(L==="der")return E2(no.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Nh(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Nh(this.toBytes("compact"))}}const h=Tj(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),m={isValidPrivateKey(M){try{return h(M),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const M=a;return eie(r(Aj(M)),M)},precompute(M=8,L=e.BASE){return L.precompute(M,!1)}};function g(M,L=!0){return e.fromPrivateKey(M).toBytes(L)}function y(M){if(typeof M=="bigint")return!1;if(M instanceof e)return!0;const L=fr("key",M).length,B=i.BYTES,U=B+1,I=2*B+1;if(!(n.allowedPrivateKeyLengths||o.BYTES===U))return L===U||L===I}function w(M,L,B=!0){if(y(M)===!0)throw new Error("first arg must be private key");if(y(L)===!1)throw new Error("second arg must be public key");return e.fromHex(L).multiply(h(M)).toBytes(B)}const v=t.bits2int||function(M){if(M.length>8192)throw new Error("input is too large");const L=qy(M),B=M.length*8-c;return B>0?L>>BigInt(B):L},b=t.bits2int_modN||function(M){return o.create(v(M))},x=Ky(c);function E(M){return mx("num < 2^"+c,M,_f,x),o.toBytes(M)}function S(M,L,B=A){if(["recovered","canonical"].some(H=>H in B))throw new Error("sign() legacy options not supported");const{hash:U}=t;let{lowS:I,prehash:_,extraEntropy:k}=B;I==null&&(I=!0),M=fr("msgHash",M),iT(B),_&&(M=fr("prehashed msgHash",U(M)));const T=b(M),$=h(L),R=[E($),E(T)];if(k!=null&&k!==!1){const H=k===!0?r(i.BYTES):k;R.push(fr("extraEntropy",H))}const z=yc(...R),W=T;function V(H){const Q=v(H);if(!o.isValidNot0(Q))return;const oe=o.inv(Q),ae=e.BASE.multiply(Q).toAffine(),le=o.create(ae.x);if(le===_f)return;const we=o.create(oe*o.create(W+le*$));if(we===_f)return;let Oe=(ae.x===le?0:2)|Number(ae.y&Tf),ze=we;return I&&l(we)&&(ze=u(we),Oe^=1),new f(le,ze,Oe)}return{seed:z,k2sig:V}}const A={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};function N(M,L,B=A){const{seed:U,k2sig:I}=S(M,L,B);return Wse(t.hash.outputLen,o.BYTES,s)(U,I)}e.BASE.precompute(8);function j(M,L,B,U=C){const I=M;L=fr("msgHash",L),B=fr("publicKey",B),iT(U);const{lowS:_,prehash:k,format:T}=U;if("strict"in U)throw new Error("options.strict was renamed to lowS");if(T!==void 0&&!["compact","der","js"].includes(T))throw new Error('format must be "compact", "der" or "js"');const $=typeof I=="string"||v2(I),R=!$&&!T&&typeof I=="object"&&I!==null&&typeof I.r=="bigint"&&typeof I.s=="bigint";if(!$&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let z,W;try{if(R)if(T===void 0||T==="js")z=new f(I.r,I.s);else throw new Error("invalid format");if($){try{T!=="compact"&&(z=f.fromDER(I))}catch(Oe){if(!(Oe instanceof no.Err))throw Oe}!z&&T!=="der"&&(z=f.fromCompact(I))}W=e.fromHex(B)}catch{return!1}if(!z||_&&z.hasHighS())return!1;k&&(L=t.hash(L));const{r:V,s:H}=z,Q=b(L),oe=o.inv(H),ae=o.create(Q*oe),le=o.create(V*oe),we=e.BASE.multiplyUnsafe(ae).add(W.multiplyUnsafe(le));return we.is0()?!1:o.create(we.x)===V}return Object.freeze({getPublicKey:g,getSharedSecret:w,sign:N,verify:j,utils:m,Point:e,Signature:f})}function xie(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=fd(t.n,e.nBitLength),s={Fp:n,Fn:r,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:s}}function Eie(e){const{CURVE:t,curveOpts:n}=xie(e),r={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,ecdsaOpts:r}}function Cie(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function Sie(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=Eie(e),s=vie(t,n),i=bie(s,r,n);return Cie(e,i)}function yx(e,t){const n=r=>Sie({...e,hash:r});return{...n(t),create:n}}const Dj={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Oj={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},kj={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Aie=fd(Dj.p),Nie=fd(Oj.p),Iie=fd(kj.p),_ie=yx({...Dj,Fp:Aie,lowS:!1},Vy);yx({...Oj,Fp:Nie,lowS:!1},jre),yx({...kj,Fp:Iie,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Rre);const Tie=_ie,$j="base10",Gn="base16",Bs="base64pad",sa="base64url",Pp="utf8",Rj=0,ao=1,Dp=2,Pie=0,oT=1,Pf=12,_2=32;function Die(){const e=gx.utils.randomPrivateKey(),t=gx.getPublicKey(e);return{privateKey:Cr(e,Gn),publicKey:Cr(t,Gn)}}function wx(){const e=dd(_2);return Cr(e,Gn)}function Oie(e,t){const n=gx.getSharedSecret(ms(e,Gn),ms(t,Gn)),r=zse(Wy,n,void 0,void 0,_2);return Cr(r,Gn)}function Dg(e){const t=Wy(ms(e,Gn));return Cr(t,Gn)}function fi(e){const t=Wy(ms(e,Pp));return Cr(t,Gn)}function jj(e){return ms(`${e}`,$j)}function qc(e){return Number(Cr(e,$j))}function Mj(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Lj(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function kie(e){const t=jj(typeof e.type<"u"?e.type:Rj);if(qc(t)===ao&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?ms(e.senderPublicKey,Gn):void 0,r=typeof e.iv<"u"?ms(e.iv,Gn):dd(Pf),s=ms(e.symKey,Gn),i=gj(s,r).encrypt(ms(e.message,Pp)),o=Uj({type:t,sealed:i,iv:r,senderPublicKey:n});return e.encoding===sa?Mj(o):o}function $ie(e){const t=ms(e.symKey,Gn),{sealed:n,iv:r}=_h({encoded:e.encoded,encoding:e.encoding}),s=gj(t,r).decrypt(n);if(s===null)throw new Error("Failed to decrypt");return Cr(s,Pp)}function Rie(e,t){const n=jj(Dp),r=dd(Pf),s=ms(e,Pp),i=Uj({type:n,sealed:s,iv:r});return t===sa?Mj(i):i}function jie(e,t){const{sealed:n}=_h({encoded:e,encoding:t});return Cr(n,Pp)}function Uj(e){if(qc(e.type)===Dp)return Cr(Nf([e.type,e.sealed]),Bs);if(qc(e.type)===ao){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Cr(Nf([e.type,e.senderPublicKey,e.iv,e.sealed]),Bs)}return Cr(Nf([e.type,e.iv,e.sealed]),Bs)}function _h(e){const t=(e.encoding||Bs)===sa?Lj(e.encoded):e.encoded,n=ms(t,Bs),r=n.slice(Pie,oT),s=oT;if(qc(r)===ao){const c=s+_2,l=c+Pf,u=n.slice(s,c),d=n.slice(c,l),f=n.slice(l);return{type:r,sealed:f,iv:d,senderPublicKey:u}}if(qc(r)===Dp){const c=n.slice(s),l=dd(Pf);return{type:r,sealed:c,iv:l}}const i=s+Pf,o=n.slice(s,i),a=n.slice(i);return{type:r,sealed:a,iv:o}}function Mie(e,t){const n=_h({encoded:e,encoding:t==null?void 0:t.encoding});return Bj({type:qc(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?Cr(n.senderPublicKey,Gn):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function Bj(e){const t=(e==null?void 0:e.type)||Rj;if(t===ao){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function aT(e){return e.type===ao&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function cT(e){return e.type===Dp}function Lie(e){const t=Buffer.from(e.x,"base64"),n=Buffer.from(e.y,"base64");return Nf([new Uint8Array([4]),t,n])}function Uie(e,t){const[n,r,s]=e.split("."),i=Buffer.from(Lj(s),"base64");if(i.length!==64)throw new Error("Invalid signature length");const o=i.slice(0,32),a=i.slice(32,64),c=`${n}.${r}`,l=Wy(c),u=Lie(t);if(!Tie.verify(Nf([o,a]),l,u))throw new Error("Invalid signature");return J1(e).payload}const Bie="irn";function B0(e){return(e==null?void 0:e.relay)||{protocol:Bie}}function af(e){const t=pne[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function Fie(e,t="-"){const n={},r="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(r)){const i=s.replace(r,""),o=e[s];n[i]=o}}),n}function lT(e){if(!e.includes("wc:")){const l=XR(e);l!=null&&l.includes("wc:")&&(e=l)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),n=e.indexOf("?")!==-1?e.indexOf("?"):void 0,r=e.substring(0,t),s=e.substring(t+1,n).split("@"),i=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(i),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:zie(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:Fie(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function zie(e){return e.startsWith("//")?e.substring(2):e}function Vie(e,t="-"){const n="relay",r={};return Object.keys(e).forEach(s=>{const i=s,o=n+t+i;e[i]&&(r[o]=e[i])}),r}function uT(e){const t=new URLSearchParams,n=Vie(e.relay);Object.keys(n).sort().forEach(s=>{t.set(s,n[s])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function Hm(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var Hie=Object.defineProperty,Wie=Object.defineProperties,qie=Object.getOwnPropertyDescriptors,dT=Object.getOwnPropertySymbols,Kie=Object.prototype.hasOwnProperty,Gie=Object.prototype.propertyIsEnumerable,fT=(e,t,n)=>t in e?Hie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yie=(e,t)=>{for(var n in t||(t={}))Kie.call(t,n)&&fT(e,n,t[n]);if(dT)for(var n of dT(t))Gie.call(t,n)&&fT(e,n,t[n]);return e},Qie=(e,t)=>Wie(e,qie(t));function hd(e){const t=[];return e.forEach(n=>{const[r,s]=n.split(":");t.push(`${r}:${s}`)}),t}function Xie(e){const t=[];return Object.values(e).forEach(n=>{t.push(...hd(n.accounts))}),t}function Zie(e,t){const n=[];return Object.values(e).forEach(r=>{hd(r.accounts).includes(t)&&n.push(...r.methods)}),n}function Jie(e,t){const n=[];return Object.values(e).forEach(r=>{hd(r.accounts).includes(t)&&n.push(...r.events)}),n}function Yy(e){return e.includes(":")}function su(e){return Yy(e)?e.split(":")[0]:e}function hT(e){var t,n,r;const s={};if(!Ii(e))return s;for(const[i,o]of Object.entries(e)){const a=Yy(i)?[i]:o.chains,c=o.methods||[],l=o.events||[],u=su(i);s[u]=Qie(Yie({},s[u]),{chains:Ni(a,(t=s[u])==null?void 0:t.chains),methods:Ni(c,(n=s[u])==null?void 0:n.methods),events:Ni(l,(r=s[u])==null?void 0:r.events)})}return s}function eoe(e){const t={};return e==null||e.forEach(n=>{var r;const[s,i]=n.split(":");t[s]||(t[s]={accounts:[],chains:[],events:[],methods:[]}),t[s].accounts.push(n),(r=t[s].chains)==null||r.push(`${s}:${i}`)}),t}function pT(e,t){t=t.map(r=>r.replace("did:pkh:",""));const n=eoe(t);for(const[r,s]of Object.entries(n))s.methods?s.methods=Ni(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return n}function toe(e,t){var n,r,s,i,o,a;const c=hT(e),l=hT(t),u={},d=Object.keys(c).concat(Object.keys(l));for(const f of d)u[f]={chains:Ni((n=c[f])==null?void 0:n.chains,(r=l[f])==null?void 0:r.chains),methods:Ni((s=c[f])==null?void 0:s.methods,(i=l[f])==null?void 0:i.methods),events:Ni((o=c[f])==null?void 0:o.events,(a=l[f])==null?void 0:a.events)};return u}const noe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},roe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ee(e,t){const{message:n,code:r}=roe[e];return{message:t?`${n} ${t}`:n,code:r}}function wt(e,t){const{message:n,code:r}=noe[e];return{message:t?`${n} ${t}`:n,code:r}}function co(e,t){return!!Array.isArray(e)}function Ii(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function vn(e){return typeof e>"u"}function Ut(e,t){return t&&vn(e)?!0:typeof e=="string"&&!!e.trim().length}function T2(e,t){return t&&vn(e)?!0:typeof e=="number"&&!isNaN(e)}function soe(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),s=Object.keys(n);let i=!0;return gc(s,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=e.namespaces[o],u=hd(a),d=n[o];(!gc(qR(o,d),u)||!gc(d.methods,c)||!gc(d.events,l))&&(i=!1)}),i):!1}function F0(e){return Ut(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function ioe(e){if(Ut(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const n=t[0]+":"+t[1];return!!t[2]&&F0(n)}}return!1}function ooe(e){function t(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Ut(e,!1)){if(t(e))return!0;const n=XR(e);return t(n)}}catch{}return!1}function aoe(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function coe(e){return e==null?void 0:e.topic}function loe(e,t){let n=null;return Ut(e==null?void 0:e.publicKey,!1)||(n=ee("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}function mT(e){let t=!0;return co(e)?e.length&&(t=e.every(n=>Ut(n,!1))):t=!1,t}function uoe(e,t,n){let r=null;return co(t)&&t.length?t.forEach(s=>{r||F0(s)||(r=wt("UNSUPPORTED_CHAINS",`${n}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):F0(e)||(r=wt("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function doe(e,t,n){let r=null;return Object.entries(e).forEach(([s,i])=>{if(r)return;const o=uoe(s,qR(s,i),`${t} ${n}`);o&&(r=o)}),r}function foe(e,t){let n=null;return co(e)?e.forEach(r=>{n||ioe(r)||(n=wt("UNSUPPORTED_ACCOUNTS",`${t}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=wt("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function hoe(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=foe(r==null?void 0:r.accounts,`${t} namespace`);s&&(n=s)}),n}function poe(e,t){let n=null;return mT(e==null?void 0:e.methods)?mT(e==null?void 0:e.events)||(n=wt("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=wt("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}function Fj(e,t){let n=null;return Object.values(e).forEach(r=>{if(n)return;const s=poe(r,`${t}, namespace`);s&&(n=s)}),n}function moe(e,t,n){let r=null;if(e&&Ii(e)){const s=Fj(e,t);s&&(r=s);const i=doe(e,t,n);i&&(r=i)}else r=ee("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}function Ov(e,t){let n=null;if(e&&Ii(e)){const r=Fj(e,t);r&&(n=r);const s=hoe(e,t);s&&(n=s)}else n=ee("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function zj(e){return Ut(e.protocol,!0)}function goe(e,t){let n=!1;return e?e&&co(e)&&e.length&&e.forEach(r=>{n=zj(r)}):n=!0,n}function yoe(e){return typeof e=="number"}function ur(e){return typeof e<"u"&&typeof e!==null}function woe(e){return!(!e||typeof e!="object"||!e.code||!T2(e.code,!1)||!e.message||!Ut(e.message,!1))}function voe(e){return!(vn(e)||!Ut(e.method,!1))}function boe(e){return!(vn(e)||vn(e.result)&&vn(e.error)||!T2(e.id,!1)||!Ut(e.jsonrpc,!1))}function xoe(e){return!(vn(e)||!Ut(e.name,!1))}function gT(e,t){return!(!F0(t)||!Xie(e).includes(t))}function Eoe(e,t,n){return Ut(n,!1)?Zie(e,t).includes(n):!1}function Coe(e,t,n){return Ut(n,!1)?Jie(e,t).includes(n):!1}function yT(e,t,n){let r=null;const s=Soe(e),i=Aoe(t),o=Object.keys(s),a=Object.keys(i),c=wT(Object.keys(e)),l=wT(Object.keys(t)),u=c.filter(d=>!l.includes(d));return u.length&&(r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),gc(o,a)||(r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(d=>{if(!d.includes(":")||r)return;const f=hd(t[d].accounts);f.includes(d)||(r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${f.toString()}`))}),o.forEach(d=>{r||(gc(s[d].methods,i[d].methods)?gc(s[d].events,i[d].events)||(r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=ee("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Soe(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:(r=e[n].chains)==null||r.forEach(s=>{t[s]={methods:e[n].methods,events:e[n].events}})}),t}function wT(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function Aoe(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=hd(e[n].accounts);r==null||r.forEach(s=>{t[s]={accounts:e[n].accounts.filter(i=>i.includes(`${s}:`)),methods:e[n].methods,events:e[n].events}})}}),t}function Noe(e,t){return T2(e,!1)&&e<=t.max&&e>=t.min}function vT(){const e=_p();return new Promise(t=>{switch(e){case zr.browser:t(Ioe());break;case zr.reactNative:t(_oe());break;case zr.node:t(Toe());break;default:t(!0)}})}function Ioe(){return ud()&&(navigator==null?void 0:navigator.onLine)}async function _oe(){if(za()&&typeof global<"u"&&global!=null&&global.NetInfo){const e=await(global==null?void 0:global.NetInfo.fetch());return e==null?void 0:e.isConnected}return!0}function Toe(){return!0}function Poe(e){switch(_p()){case zr.browser:Doe(e);break;case zr.reactNative:Ooe(e);break}}function Doe(e){!za()&&ud()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function Ooe(e){za()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(t=>e(t==null?void 0:t.isConnected)))}function koe(){var e;return ud()&&Hc()?((e=Hc())==null?void 0:e.visibilityState)==="visible":!0}const kv={};class zd{static get(t){return kv[t]}static set(t,n){kv[t]=n}static delete(t){delete kv[t]}}function $oe(e){const t=ld.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function Roe({publicKey:e,signature:t,payload:n}){var r;const s=vx(n.method),i=128|parseInt(((r=n.version)==null?void 0:r.toString())||"4"),o=Loe(n.address),a=n.era==="00"?new Uint8Array([0]):vx(n.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(n.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${Moe(n.tip)}`),d=Boe(u),f=new Uint8Array([0,...e,o,...t,...a,...l,...d,...s]),h=Uoe(f.length+1);return new Uint8Array([...h,i,...f])}function joe(e){const t=vx(e),n=Nne.blake2b(t,void 0,32);return"0x"+Buffer.from(n).toString("hex")}function vx(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function Moe(e){return e.startsWith("0x")?e.slice(2):e}function Loe(e){const t=ld.decode(e)[0];return t===42?0:t===60?2:1}function Uoe(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){const t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function Boe(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function Foe(e){const t=Uint8Array.from(Buffer.from(e.signature,"hex")),n=$oe(e.transaction.address),r=Roe({publicKey:n,signature:t,payload:e.transaction}),s=Buffer.from(r).toString("hex");return joe(s)}const zoe="PARSE_ERROR",Voe="INVALID_REQUEST",Hoe="METHOD_NOT_FOUND",Woe="INVALID_PARAMS",Vj="INTERNAL_ERROR",P2="SERVER_ERROR",qoe=[-32700,-32600,-32601,-32602,-32603],Df={[zoe]:{code:-32700,message:"Parse error"},[Voe]:{code:-32600,message:"Invalid Request"},[Hoe]:{code:-32601,message:"Method not found"},[Woe]:{code:-32602,message:"Invalid params"},[Vj]:{code:-32603,message:"Internal error"},[P2]:{code:-32e3,message:"Server error"}},Hj=P2;function Koe(e){return qoe.includes(e)}function bT(e){return Object.keys(Df).includes(e)?Df[e]:Df[Hj]}function Goe(e){const t=Object.values(Df).find(n=>n.code===e);return t||Df[Hj]}function Wj(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var qj={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bx=function(e,t){return bx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},bx(e,t)};function Yoe(e,t){bx(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var xx=function(){return xx=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xx.apply(this,arguments)};function Qoe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Xoe(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function Zoe(e,t){return function(n,r){t(n,r,e)}}function Joe(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function eae(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function tae(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,s=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){n.label=l[1];break}if(l[0]===6&&n.label<i[1]){n.label=i[1],i=l;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(l);break}i[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],s=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function nae(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function rae(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ex(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kj(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function sae(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Kj(arguments[t]));return e}function iae(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function Th(e){return this instanceof Th?(this.v=e,this):new Th(e)}function oae(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(h){return new Promise(function(m,g){i.push([f,h,m,g])>1||a(f,h)})})}function a(f,h){try{c(r[f](h))}catch(m){d(i[0][3],m)}}function c(f){f.value instanceof Th?Promise.resolve(f.value.v).then(l,u):d(i[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function aae(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:Th(e[s](o)),done:s==="return"}:i?i(o):o}:i}}function cae(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ex=="function"?Ex(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(a,c){o=e[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function lae(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function uae(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function dae(e){return e&&e.__esModule?e:{default:e}}function fae(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function hae(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const pae=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return xx},__asyncDelegator:aae,__asyncGenerator:oae,__asyncValues:cae,__await:Th,__awaiter:eae,__classPrivateFieldGet:fae,__classPrivateFieldSet:hae,__createBinding:nae,__decorate:Xoe,__exportStar:rae,__extends:Yoe,__generator:tae,__importDefault:dae,__importStar:uae,__makeTemplateObject:lae,__metadata:Joe,__param:Zoe,__read:Kj,__rest:Qoe,__spread:sae,__spreadArrays:iae,__values:Ex},Symbol.toStringTag,{value:"Module"})),mae=gE(pae);var Gi={},xT;function gae(){if(xT)return Gi;xT=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.isBrowserCryptoAvailable=Gi.getSubtleCrypto=Gi.getBrowerCrypto=void 0;function e(){return(pr==null?void 0:pr.crypto)||(pr==null?void 0:pr.msCrypto)||{}}Gi.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}Gi.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return Gi.isBrowserCryptoAvailable=n,Gi}var Yi={},ET;function yae(){if(ET)return Yi;ET=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.isBrowser=Yi.isNode=Yi.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Yi.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Yi.isNode=t;function n(){return!e()&&!t()}return Yi.isBrowser=n,Yi}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=mae;t.__exportStar(gae(),e),t.__exportStar(yae(),e)})(qj);function ui(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function bc(e=6){return BigInt(ui(e))}function da(e,t,n){return{id:n||ui(),jsonrpc:"2.0",method:e,params:t}}function Qy(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Xy(e,t,n){return{id:e,jsonrpc:"2.0",error:wae(t)}}function wae(e,t){return typeof e>"u"?bT(Vj):(typeof e=="string"&&(e=Object.assign(Object.assign({},bT(P2)),{message:e})),Koe(e.code)&&(e=Goe(e.code)),e)}let vae=class{},bae=class extends vae{constructor(){super()}},xae=class extends bae{constructor(t){super()}};const Eae="^https?:",Cae="^wss?:";function Sae(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function Gj(e,t){const n=Sae(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function CT(e){return Gj(e,Eae)}function ST(e){return Gj(e,Cae)}function Aae(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Yj(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function D2(e){return Yj(e)&&"method"in e}function Zy(e){return Yj(e)&&(di(e)||us(e))}function di(e){return"result"in e}function us(e){return"error"in e}let Ss=class extends xae{constructor(t){super(t),this.events=new Cs.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(da(t.method,t.params||[],t.id||bc().toString()),n)}async requestStrict(t,n){return new Promise(async(r,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${t.id}`,i=>{us(i)?s(i.error):r(i.result)});try{await this.connection.send(t,n)}catch(i){s(i)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),Zy(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Nae=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Iae=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",AT=e=>e.split("?")[0],NT=10,_ae=Nae();let Tae=class{constructor(t){if(this.url=t,this.events=new Cs.EventEmitter,this.registering=!1,!ST(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(wo(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!ST(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const s=qj.isReactNative()?void 0:{rejectUnauthorized:!Aae(t)},i=new _ae(t,[],s);Iae()?i.onerror=o=>{const a=o;r(this.emitError(a.error))}:i.on("error",o=>{r(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),n(i)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?Vc(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),i=Xy(t,s);this.events.emit("payload",i)}parseError(t,n=this.url){return Wj(t,AT(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>NT&&this.events.setMaxListeners(NT)}emitError(t){const n=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for host: ${AT(this.url)}`));return this.events.emit("register_error",n),n}};var Pae={};const Qj="wc",Xj=2,Cx="core",Oi=`${Qj}@2:${Cx}:`,Dae={logger:"error"},Oae={database:":memory:"},kae="crypto",IT="client_ed25519_seed",$ae=te.ONE_DAY,Rae="keychain",jae="0.3",Mae="messages",Lae="0.3",_T=te.SIX_HOURS,Uae="publisher",Zj="irn",Bae="error",Jj="wss://relay.walletconnect.org",Fae="relayer",on={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},zae="_subscription",ns={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Vae=.1,Sx="2.21.5",pt={link_mode:"link_mode",relay:"relay"},Og={inbound:"inbound",outbound:"outbound"},Hae="0.3",Wae="WALLETCONNECT_CLIENT_ID",TT="WALLETCONNECT_LINK_MODE_APPS",Or={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},qae="subscription",Kae="0.3",Gae="pairing",Yae="0.3",Vd={wc_pairingDelete:{req:{ttl:te.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:te.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:te.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:te.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:te.ONE_DAY,prompt:!1,tag:0},res:{ttl:te.ONE_DAY,prompt:!1,tag:0}}},uc={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},_s={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Qae="history",Xae="0.3",Zae="expirer",cs={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Jae="0.3",ece="verify-api",tce="https://verify.walletconnect.com",eM="https://verify.walletconnect.org",Of=eM,nce=`${Of}/v3`,rce=[tce,eM],sce="echo",ice="https://echo.walletconnect.com",ci={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ji={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Ts={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Xa={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Za={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Hd={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},oce=.1,ace="event-client",cce=86400,lce="https://pulse.walletconnect.org/batch";function uce(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<e.length;s++){var i=e.charAt(s),o=i.charCodeAt(0);if(n[o]!==255)throw new TypeError(i+" is ambiguous");n[o]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,y=0,w=0,v=m.length;w!==v&&m[w]===0;)w++,g++;for(var b=(v-w)*u+1>>>0,x=new Uint8Array(b);w!==v;){for(var E=m[w],S=0,A=b-1;(E!==0||S<y)&&A!==-1;A--,S++)E+=256*x[A]>>>0,x[A]=E%a>>>0,E=E/a>>>0;if(E!==0)throw new Error("Non-zero carry");y=S,w++}for(var C=b-y;C!==b&&x[C]===0;)C++;for(var N=c.repeat(g);C<b;++C)N+=e.charAt(x[C]);return N}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var y=0,w=0;m[g]===c;)y++,g++;for(var v=(m.length-g)*l+1>>>0,b=new Uint8Array(v);m[g];){var x=n[m.charCodeAt(g)];if(x===255)return;for(var E=0,S=v-1;(x!==0||E<w)&&S!==-1;S--,E++)x+=a*b[S]>>>0,b[S]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");w=E,g++}if(m[g]!==" "){for(var A=v-w;A!==v&&b[A]===0;)A++;for(var C=new Uint8Array(y+(v-A)),N=y;A!==v;)C[N++]=b[A++];return C}}}function h(m){var g=f(m);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:f,decode:h}}var dce=uce,fce=dce;const tM=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},hce=e=>new TextEncoder().encode(e),pce=e=>new TextDecoder().decode(e);class mce{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class gce{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return nM(this,t)}}class yce{constructor(t){this.decoders=t}or(t){return nM(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const nM=(e,t)=>new yce({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class wce{constructor(t,n,r,s){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=s,this.encoder=new mce(t,n,r),this.decoder=new gce(t,n,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Jy=({name:e,prefix:t,encode:n,decode:r})=>new wce(e,t,n,r),Op=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:s}=fce(n,t);return Jy({prefix:e,name:t,encode:r,decode:i=>tM(s(i))})},vce=(e,t,n,r)=>{const s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let i=e.length;for(;e[i-1]==="=";)--i;const o=new Uint8Array(i*n/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const d=s[e[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},bce=(e,t,n)=>{const r=t[t.length-1]==="=",s=(1<<n)-1;let i="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,i+=t[s&a>>o];if(o&&(i+=t[s&a<<n-o]),r)for(;i.length*n&7;)i+="=";return i},Nn=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Jy({prefix:t,name:e,encode(s){return bce(s,r,n)},decode(s){return vce(s,r,n,e)}}),xce=Jy({prefix:"\0",name:"identity",encode:e=>pce(e),decode:e=>hce(e)});var Ece=Object.freeze({__proto__:null,identity:xce});const Cce=Nn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Sce=Object.freeze({__proto__:null,base2:Cce});const Ace=Nn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Nce=Object.freeze({__proto__:null,base8:Ace});const Ice=Op({prefix:"9",name:"base10",alphabet:"0123456789"});var _ce=Object.freeze({__proto__:null,base10:Ice});const Tce=Nn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pce=Nn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Dce=Object.freeze({__proto__:null,base16:Tce,base16upper:Pce});const Oce=Nn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),kce=Nn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$ce=Nn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Rce=Nn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),jce=Nn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Mce=Nn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Lce=Nn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Uce=Nn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Bce=Nn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Fce=Object.freeze({__proto__:null,base32:Oce,base32upper:kce,base32pad:$ce,base32padupper:Rce,base32hex:jce,base32hexupper:Mce,base32hexpad:Lce,base32hexpadupper:Uce,base32z:Bce});const zce=Op({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Vce=Op({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Hce=Object.freeze({__proto__:null,base36:zce,base36upper:Vce});const Wce=Op({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qce=Op({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Kce=Object.freeze({__proto__:null,base58btc:Wce,base58flickr:qce});const Gce=Nn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Yce=Nn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Qce=Nn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Xce=Nn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Zce=Object.freeze({__proto__:null,base64:Gce,base64pad:Yce,base64url:Qce,base64urlpad:Xce});const rM=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),Jce=rM.reduce((e,t,n)=>(e[n]=t,e),[]),ele=rM.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function tle(e){return e.reduce((t,n)=>(t+=Jce[n],t),"")}function nle(e){const t=[];for(const n of e){const r=ele[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const rle=Jy({prefix:"🚀",name:"base256emoji",encode:tle,decode:nle});var sle=Object.freeze({__proto__:null,base256emoji:rle}),ile=sM,PT=128,ole=-128,ale=Math.pow(2,31);function sM(e,t,n){t=t||[],n=n||0;for(var r=n;e>=ale;)t[n++]=e&255|PT,e/=128;for(;e&ole;)t[n++]=e&255|PT,e>>>=7;return t[n]=e|0,sM.bytes=n-r+1,t}var cle=Ax,lle=128,DT=127;function Ax(e,r){var n=0,r=r||0,s=0,i=r,o,a=e.length;do{if(i>=a)throw Ax.bytes=0,new RangeError("Could not decode varint");o=e[i++],n+=s<28?(o&DT)<<s:(o&DT)*Math.pow(2,s),s+=7}while(o>=lle);return Ax.bytes=i-r,n}var ule=Math.pow(2,7),dle=Math.pow(2,14),fle=Math.pow(2,21),hle=Math.pow(2,28),ple=Math.pow(2,35),mle=Math.pow(2,42),gle=Math.pow(2,49),yle=Math.pow(2,56),wle=Math.pow(2,63),vle=function(e){return e<ule?1:e<dle?2:e<fle?3:e<hle?4:e<ple?5:e<mle?6:e<gle?7:e<yle?8:e<wle?9:10},ble={encode:ile,decode:cle,encodingLength:vle},iM=ble;const OT=(e,t,n=0)=>(iM.encode(e,t,n),t),kT=e=>iM.encodingLength(e),Nx=(e,t)=>{const n=t.byteLength,r=kT(e),s=r+kT(n),i=new Uint8Array(s+n);return OT(e,i,0),OT(n,i,r),i.set(t,s),new xle(e,n,t,i)};class xle{constructor(t,n,r,s){this.code=t,this.size=n,this.digest=r,this.bytes=s}}const oM=({name:e,code:t,encode:n})=>new Ele(e,t,n);class Ele{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Nx(this.code,n):n.then(r=>Nx(this.code,r))}else throw Error("Unknown type, must be binary type")}}const aM=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Cle=oM({name:"sha2-256",code:18,encode:aM("SHA-256")}),Sle=oM({name:"sha2-512",code:19,encode:aM("SHA-512")});var Ale=Object.freeze({__proto__:null,sha256:Cle,sha512:Sle});const cM=0,Nle="identity",lM=tM,Ile=e=>Nx(cM,lM(e)),_le={code:cM,name:Nle,encode:lM,digest:Ile};var Tle=Object.freeze({__proto__:null,identity:_le});new TextEncoder,new TextDecoder;const $T={...Ece,...Sce,...Nce,..._ce,...Dce,...Fce,...Hce,...Kce,...Zce,...sle};({...Ale,...Tle});function uM(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Ple(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?uM(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function dM(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const RT=dM("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),$v=dM("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Ple(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Dle={utf8:RT,"utf-8":RT,hex:$T.base16,latin1:$v,ascii:$v,binary:$v,...$T};function Ole(e,t="utf8"){const n=Dle[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?uM(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var kle=Object.defineProperty,$le=(e,t,n)=>t in e?kle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ii=(e,t,n)=>$le(e,typeof t!="symbol"?t+"":t,n);let Rle=class{constructor(t,n){this.core=t,this.logger=n,ii(this,"keychain",new Map),ii(this,"name",Rae),ii(this,"version",jae),ii(this,"initialized",!1),ii(this,"storagePrefix",Oi),ii(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),ii(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),ii(this,"set",async(r,s)=>{this.isInitialized(),this.keychain.set(r,s),await this.persist()}),ii(this,"get",r=>{this.isInitialized();const s=this.keychain.get(r);if(typeof s>"u"){const{message:i}=ee("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(i)}return s}),ii(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=t,this.logger=Zn(n,this.name)}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,ax(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?cx(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}};var jle=Object.defineProperty,Mle=(e,t,n)=>t in e?jle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pn=(e,t,n)=>Mle(e,typeof t!="symbol"?t+"":t,n);class Lle{constructor(t,n,r){this.core=t,this.logger=n,pn(this,"name",kae),pn(this,"keychain"),pn(this,"randomSessionIdentifier",wx()),pn(this,"initialized",!1),pn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),pn(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),pn(this,"getClientId",async()=>{this.isInitialized();const s=await this.getClientSeed(),i=u_(s);return iR(i.publicKey)}),pn(this,"generateKeyPair",()=>{this.isInitialized();const s=Die();return this.setPrivateKey(s.publicKey,s.privateKey)}),pn(this,"signJWT",async s=>{this.isInitialized();const i=await this.getClientSeed(),o=u_(i),a=this.randomSessionIdentifier;return await vJ(a,s,$ae,o)}),pn(this,"generateSharedKey",(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=Oie(a,i);return this.setSymKey(c,o)}),pn(this,"setSymKey",async(s,i)=>{this.isInitialized();const o=i||Dg(s);return await this.keychain.set(o,s),o}),pn(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),pn(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),pn(this,"encode",async(s,i,o)=>{this.isInitialized();const a=Bj(o),c=wo(i);if(cT(a))return Rie(c,o==null?void 0:o.encoding);if(aT(a)){const f=a.senderPublicKey,h=a.receiverPublicKey;s=await this.generateSharedKey(f,h)}const l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return kie({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),pn(this,"decode",async(s,i,o)=>{this.isInitialized();const a=Mie(i,o);if(cT(a)){const c=jie(i,o==null?void 0:o.encoding);return Vc(c)}if(aT(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=$ie({symKey:c,encoded:i,encoding:o==null?void 0:o.encoding});return Vc(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),pn(this,"getPayloadType",(s,i=Bs)=>{const o=_h({encoded:s,encoding:i});return qc(o.type)}),pn(this,"getPayloadSenderPublicKey",(s,i=Bs)=>{const o=_h({encoded:s,encoding:i});return o.senderPublicKey?Cr(o.senderPublicKey,Gn):void 0}),this.core=t,this.logger=Zn(n,this.name),this.keychain=r||new Rle(this.core,this.logger)}get context(){return Ar(this.logger)}async setPrivateKey(t,n){return await this.keychain.set(t,n),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(IT)}catch{t=wx(),await this.keychain.set(IT,t)}return Ole(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Ule=Object.defineProperty,Ble=Object.defineProperties,Fle=Object.getOwnPropertyDescriptors,jT=Object.getOwnPropertySymbols,zle=Object.prototype.hasOwnProperty,Vle=Object.prototype.propertyIsEnumerable,Ix=(e,t,n)=>t in e?Ule(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hle=(e,t)=>{for(var n in t||(t={}))zle.call(t,n)&&Ix(e,n,t[n]);if(jT)for(var n of jT(t))Vle.call(t,n)&&Ix(e,n,t[n]);return e},Wle=(e,t)=>Ble(e,Fle(t)),Pr=(e,t,n)=>Ix(e,typeof t!="symbol"?t+"":t,n);class qle extends yQ{constructor(t,n){super(t,n),this.logger=t,this.core=n,Pr(this,"messages",new Map),Pr(this,"messagesWithoutClientAck",new Map),Pr(this,"name",Mae),Pr(this,"version",Lae),Pr(this,"initialized",!1),Pr(this,"storagePrefix",Oi),Pr(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Pr(this,"set",async(r,s,i)=>{this.isInitialized();const o=fi(s);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=s,this.messages.set(r,a),i===Og.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,Wle(Hle({},c),{[o]:s}))}return await this.persist(),o}),Pr(this,"get",r=>{this.isInitialized();let s=this.messages.get(r);return typeof s>"u"&&(s={}),s}),Pr(this,"getWithoutAck",r=>{this.isInitialized();const s={};for(const i of r){const o=this.messagesWithoutClientAck.get(i)||{};s[i]=Object.values(o)}return s}),Pr(this,"has",(r,s)=>{this.isInitialized();const i=this.get(r),o=fi(s);return typeof i[o]<"u"}),Pr(this,"ack",async(r,s)=>{this.isInitialized();const i=this.messagesWithoutClientAck.get(r);if(typeof i>"u")return;const o=fi(s);delete i[o],Object.keys(i).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,i),await this.persist()}),Pr(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Zn(t,this.name),this.core=n}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,ax(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,ax(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?cx(t):void 0}async getRelayerMessagesWithoutClientAck(){const t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?cx(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Kle=Object.defineProperty,Gle=Object.defineProperties,Yle=Object.getOwnPropertyDescriptors,MT=Object.getOwnPropertySymbols,Qle=Object.prototype.hasOwnProperty,Xle=Object.prototype.propertyIsEnumerable,_x=(e,t,n)=>t in e?Kle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wm=(e,t)=>{for(var n in t||(t={}))Qle.call(t,n)&&_x(e,n,t[n]);if(MT)for(var n of MT(t))Xle.call(t,n)&&_x(e,n,t[n]);return e},Rv=(e,t)=>Gle(e,Yle(t)),Ps=(e,t,n)=>_x(e,typeof t!="symbol"?t+"":t,n);class Zle extends wQ{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,Ps(this,"events",new Cs.EventEmitter),Ps(this,"name",Uae),Ps(this,"queue",new Map),Ps(this,"publishTimeout",te.toMiliseconds(te.ONE_MINUTE)),Ps(this,"initialPublishTimeout",te.toMiliseconds(te.ONE_SECOND*15)),Ps(this,"needsTransportRestart",!1),Ps(this,"publish",async(r,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:s,opts:i}});const a=(i==null?void 0:i.ttl)||_T,c=B0(i),l=(i==null?void 0:i.prompt)||!1,u=(i==null?void 0:i.tag)||0,d=(i==null?void 0:i.id)||bc().toString(),f={topic:r,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}},h=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const m=new Promise(async g=>{const y=({id:v})=>{f.opts.id===v&&(this.removeRequestFromQueue(v),this.relayer.events.removeListener(on.publish,y),g(f))};this.relayer.events.on(on.publish,y);const w=ua(new Promise((v,b)=>{this.rpcPublish({topic:r,message:s,ttl:a,prompt:l,tag:u,id:d,attestation:i==null?void 0:i.attestation,tvf:i==null?void 0:i.tvf}).then(v).catch(x=>{this.logger.warn(x,x==null?void 0:x.message),b(x)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await w,this.events.removeListener(on.publish,y)}catch(v){this.queue.set(d,Rv(Wm({},f),{attempt:1})),this.logger.warn(v,v==null?void 0:v.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:s,opts:i}}),await ua(m,this.publishTimeout,h)}catch(m){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(m),(o=i==null?void 0:i.internal)!=null&&o.throwOnFailedPublish)throw m}finally{this.queue.delete(d)}}),Ps(this,"on",(r,s)=>{this.events.on(r,s)}),Ps(this,"once",(r,s)=>{this.events.once(r,s)}),Ps(this,"off",(r,s)=>{this.events.off(r,s)}),Ps(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.relayer=t,this.logger=Zn(n,this.name),this.registerEventListeners()}get context(){return Ar(this.logger)}async rpcPublish(t){var n,r,s,i;const{topic:o,message:a,ttl:c=_T,prompt:l,tag:u,id:d,attestation:f,tvf:h}=t,m={method:af(B0().protocol).publish,params:Wm({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:f},h),id:d};vn((n=m.params)==null?void 0:n.prompt)&&((r=m.params)==null||delete r.prompt),vn((s=m.params)==null?void 0:s.tag)&&((i=m.params)==null||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m});const g=await this.relayer.request(m);return this.relayer.events.emit(on.publish,t),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,n)=>{const r=t.attempt+1;this.queue.set(n,Rv(Wm({},t),{attempt:r}));const{topic:s,message:i,opts:o,attestation:a}=t;this.logger.warn({},`Publisher: queue->publishing: ${t.opts.id}, tag: ${t.opts.tag}, attempt: ${r}`),await this.rpcPublish(Rv(Wm({},t),{topic:s,message:i,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${t.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(tl.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(on.connection_stalled);return}this.checkQueue()}),this.relayer.on(on.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}var Jle=Object.defineProperty,eue=(e,t,n)=>t in e?Jle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sl=(e,t,n)=>eue(e,typeof t!="symbol"?t+"":t,n);class tue{constructor(){Sl(this,"map",new Map),Sl(this,"set",(t,n)=>{const r=this.get(t);this.exists(t,n)||this.map.set(t,[...r,n])}),Sl(this,"get",t=>this.map.get(t)||[]),Sl(this,"exists",(t,n)=>this.get(t).includes(n)),Sl(this,"delete",(t,n)=>{if(typeof n>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,n))return;const s=r.filter(i=>i!==n);if(!s.length){this.map.delete(t);return}this.map.set(t,s)}),Sl(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var nue=Object.defineProperty,rue=Object.defineProperties,sue=Object.getOwnPropertyDescriptors,LT=Object.getOwnPropertySymbols,iue=Object.prototype.hasOwnProperty,oue=Object.prototype.propertyIsEnumerable,Tx=(e,t,n)=>t in e?nue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wd=(e,t)=>{for(var n in t||(t={}))iue.call(t,n)&&Tx(e,n,t[n]);if(LT)for(var n of LT(t))oue.call(t,n)&&Tx(e,n,t[n]);return e},jv=(e,t)=>rue(e,sue(t)),it=(e,t,n)=>Tx(e,typeof t!="symbol"?t+"":t,n);class aue extends xQ{constructor(t,n){super(t,n),this.relayer=t,this.logger=n,it(this,"subscriptions",new Map),it(this,"topicMap",new tue),it(this,"events",new Cs.EventEmitter),it(this,"name",qae),it(this,"version",Kae),it(this,"pending",new Map),it(this,"cached",[]),it(this,"initialized",!1),it(this,"storagePrefix",Oi),it(this,"subscribeTimeout",te.toMiliseconds(te.ONE_MINUTE)),it(this,"initialSubscribeTimeout",te.toMiliseconds(te.ONE_SECOND*15)),it(this,"clientId"),it(this,"batchSubscribeTopicsLimit",500),it(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),it(this,"subscribe",async(r,s)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}});try{const i=B0(s),o={topic:r,relay:i,transportType:s==null?void 0:s.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,i,s);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:s}})),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),it(this,"unsubscribe",async(r,s)=>{this.isInitialized(),typeof(s==null?void 0:s.id)<"u"?await this.unsubscribeById(r,s.id,s):await this.unsubscribeByTopic(r,s)}),it(this,"isSubscribed",r=>new Promise(s=>{s(this.topicMap.topics.includes(r))})),it(this,"isKnownTopic",r=>new Promise(s=>{s(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(i=>i.topic===r))})),it(this,"on",(r,s)=>{this.events.on(r,s)}),it(this,"once",(r,s)=>{this.events.once(r,s)}),it(this,"off",(r,s)=>{this.events.off(r,s)}),it(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),it(this,"start",async()=>{await this.onConnect()}),it(this,"stop",async()=>{await this.onDisconnect()}),it(this,"restart",async()=>{await this.restore(),await this.onRestart()}),it(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(s=>{r.push(s)}),await this.batchSubscribe(r)}),it(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(tl.pulse,async()=>{await this.checkPending()}),this.events.on(Or.created,async r=>{const s=Or.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()}),this.events.on(Or.deleted,async r=>{const s=Or.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:r}),await this.persist()})}),this.relayer=t,this.logger=Zn(n,this.name),this.clientId=""}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,n){let r=!1;try{r=this.getSubscription(t).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,n){const r=this.topicMap.get(t);await Promise.all(r.map(async s=>await this.unsubscribeById(t,s,n)))}async unsubscribeById(t,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}});try{const s=B0(r);await this.restartToComplete({topic:t,id:n,relay:s}),await this.rpcUnsubscribe(t,n,s);const i=wt("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,n,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:n,opts:r}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,n,r){var s;(!r||(r==null?void 0:r.transportType)===pt.relay)&&await this.restartToComplete({topic:t,id:t,relay:n});const i={method:af(n.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const o=(s=r==null?void 0:r.internal)==null?void 0:s.throwOnFailedPublish;try{const a=await this.getSubscriptionId(t);if((r==null?void 0:r.transportType)===pt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(u=>this.logger.warn(u))},te.toMiliseconds(te.ONE_SECOND)),a;const c=new Promise(async u=>{const d=f=>{f.topic===t&&(this.events.removeListener(Or.created,d),u(f.id))};this.events.on(Or.created,d);try{const f=await ua(new Promise((h,m)=>{this.relayer.request(i).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),m(g)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(Or.created,d),u(f)}catch{}}),l=await ua(c,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${t} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(on.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(t){if(!t.length)return;const n=t[0].relay,r={method:af(n.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await ua(new Promise(s=>{this.relayer.request(r).catch(i=>this.logger.warn(i)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(on.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const n=t[0].relay,r={method:af(n.protocol).batchFetchMessages,params:{topics:t.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let s;try{s=await await ua(new Promise((i,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(i)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(on.connection_stalled)}return s}rpcUnsubscribe(t,n,r){const s={method:af(r.protocol).unsubscribe,params:{topic:t,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,n){this.setSubscription(t,jv(Wd({},n),{id:t})),this.pending.delete(n.topic)}onBatchSubscribe(t){t.length&&t.forEach(n=>{this.setSubscription(n.id,Wd({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(t,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,t)&&this.deleteSubscription(n,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:n}),this.addSubscription(t,n)}addSubscription(t,n){this.subscriptions.set(t,Wd({},n)),this.topicMap.set(n.topic,t),this.events.emit(Or.created,n)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const n=this.subscriptions.get(t);if(!n){const{message:r}=ee("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}deleteSubscription(t,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:n});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Or.deleted,jv(Wd({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Or.sync)}async onRestart(){if(this.cached.length){const t=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const s=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(Or.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:n}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async n=>jv(Wd({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const n=await this.rpcBatchFetchMessages(t);n&&n.messages&&(await Jne(te.toMiliseconds(te.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return fi(t+await this.getClientId())}}var cue=Object.defineProperty,UT=Object.getOwnPropertySymbols,lue=Object.prototype.hasOwnProperty,uue=Object.prototype.propertyIsEnumerable,Px=(e,t,n)=>t in e?cue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BT=(e,t)=>{for(var n in t||(t={}))lue.call(t,n)&&Px(e,n,t[n]);if(UT)for(var n of UT(t))uue.call(t,n)&&Px(e,n,t[n]);return e},He=(e,t,n)=>Px(e,typeof t!="symbol"?t+"":t,n);class due extends vQ{constructor(t){super(t),He(this,"protocol","wc"),He(this,"version",2),He(this,"core"),He(this,"logger"),He(this,"events",new Cs.EventEmitter),He(this,"provider"),He(this,"messages"),He(this,"subscriber"),He(this,"publisher"),He(this,"name",Fae),He(this,"transportExplicitlyClosed",!1),He(this,"initialized",!1),He(this,"connectionAttemptInProgress",!1),He(this,"relayUrl"),He(this,"projectId"),He(this,"packageName"),He(this,"bundleId"),He(this,"hasExperiencedNetworkDisruption",!1),He(this,"pingTimeout"),He(this,"heartBeatTimeout",te.toMiliseconds(te.THIRTY_SECONDS+te.FIVE_SECONDS)),He(this,"reconnectTimeout"),He(this,"connectPromise"),He(this,"reconnectInProgress",!1),He(this,"requestsInFlight",[]),He(this,"connectTimeout",te.toMiliseconds(te.ONE_SECOND*15)),He(this,"request",async n=>{var r,s;this.logger.debug("Publishing Request Payload");const i=n.id||bc().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${i}:${((s=n.params)==null?void 0:s.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${i}`),o}}),He(this,"resetPingTimeout",()=>{j0()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,s,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(s=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:s.terminate)==null||i.call(s)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),He(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),He(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(on.connect)}),He(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),He(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(on.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),He(this,"registerProviderListeners",()=>{this.provider.on(ns.payload,this.onPayloadHandler),this.provider.on(ns.connect,this.onConnectHandler),this.provider.on(ns.disconnect,this.onDisconnectHandler),this.provider.on(ns.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Zn(t.logger,this.name):Cp(Ap({level:t.logger||Bae})),this.messages=new qle(this.logger,t.core),this.subscriber=new aue(this,this.logger),this.publisher=new Zle(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||Jj,this.projectId=t.projectId,Mne()?this.packageName=T_():Lne()&&(this.bundleId=T_()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t==null?void 0:t.message))}get context(){return Ar(this.logger)}get connected(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var t,n,r;return((r=(n=(t=this.provider)==null?void 0:t.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,n,r){this.isInitialized(),await this.publisher.publish(t,n,r),await this.recordMessageEvent({topic:t,message:n,publishedAt:Date.now(),transportType:pt.relay},Og.outbound)}async subscribe(t,n){var r,s,i;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;let a=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",c;const l=u=>{u.topic===t&&(this.subscriber.off(Or.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Or.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(t,BT({internal:{throwOnFailedPublish:o}},n)).catch(f=>{o&&d(f)})||a,u()})]),a}async unsubscribe(t,n){this.isInitialized(),await this.subscriber.unsubscribe(t,n)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await ua(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(t).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await vT())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if((t==null?void 0:t.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=t.sort((r,s)=>r.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+(s==null?void 0:s.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(t,n){const{topic:r}=t;if(!n.sessionExists){const s=Kt(te.FIVE_MINUTES),i={topic:r,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,i)}this.events.emit(on.message,t),await this.recordMessageEvent(t,Og.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,s)=>{const i=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(ns.disconnect,i),await ua(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{s(o)}).finally(()=>{this.provider.off(ns.disconnect,i),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ns.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ns.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const s=r;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,te.toMiliseconds(n*1))),n++}}startPingTimeout(){var t,n,r,s,i;if(j0())try{(n=(t=this.provider)==null?void 0:t.connection)!=null&&n.socket&&((i=(s=(r=this.provider)==null?void 0:r.connection)==null?void 0:s.socket)==null||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ss(new Tae(Vne({sdkVersion:Sx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,n){const{topic:r,message:s}=t;await this.messages.set(r,s,n)}async shouldIgnoreMessageEvent(t){const{topic:n,message:r}=t;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const s=this.messages.has(n,r);return s&&this.logger.warn(`Ignoring duplicate message: ${r}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),D2(t)){if(!t.method.endsWith(zae))return;const n=t.params,{topic:r,message:s,publishedAt:i,attestation:o}=n.data,a={topic:r,message:s,publishedAt:i,transportType:pt.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(BT({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else Zy(t)&&this.events.emit(on.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,Og.inbound),this.events.emit(on.message,t))}async acknowledgePayload(t){const n=Qy(t.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ns.payload,this.onPayloadHandler),this.provider.off(ns.connect,this.onConnectHandler),this.provider.off(ns.disconnect,this.onDisconnectHandler),this.provider.off(ns.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await vT();Poe(async n=>{t!==n&&(t=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(tl.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&koe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(on.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t==null?void 0:t.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},te.toMiliseconds(Vae)))))}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function fue(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function FT(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function zT(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const hue="[object RegExp]",pue="[object String]",mue="[object Number]",gue="[object Boolean]",VT="[object Arguments]",yue="[object Symbol]",wue="[object Date]",vue="[object Map]",bue="[object Set]",xue="[object Array]",Eue="[object Function]",Cue="[object ArrayBuffer]",Mv="[object Object]",Sue="[object Error]",Aue="[object DataView]",Nue="[object Uint8Array]",Iue="[object Uint8ClampedArray]",_ue="[object Uint16Array]",Tue="[object Uint32Array]",Pue="[object BigUint64Array]",Due="[object Int8Array]",Oue="[object Int16Array]",kue="[object Int32Array]",$ue="[object BigInt64Array]",Rue="[object Float32Array]",jue="[object Float64Array]";function Mue(){}function HT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function Lue(e,t,n){return cf(e,t,void 0,void 0,void 0,void 0,n)}function cf(e,t,n,r,s,i,o){const a=o(e,t,n,r,s,i);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return kf(e,t,i,o)}return kf(e,t,i,o)}function kf(e,t,n,r){if(Object.is(e,t))return!0;let s=zT(e),i=zT(t);if(s===VT&&(s=Mv),i===VT&&(i=Mv),s!==i)return!1;switch(s){case pue:return e.toString()===t.toString();case mue:{const c=e.valueOf(),l=t.valueOf();return fue(c,l)}case gue:case wue:case yue:return Object.is(e.valueOf(),t.valueOf());case hue:return e.source===t.source&&e.flags===t.flags;case Eue:return e===t}n=n??new Map;const o=n.get(e),a=n.get(t);if(o!=null&&a!=null)return o===t;n.set(e,t),n.set(t,e);try{switch(s){case vue:{if(e.size!==t.size)return!1;for(const[c,l]of e.entries())if(!t.has(c)||!cf(l,t.get(c),c,e,t,n,r))return!1;return!0}case bue:{if(e.size!==t.size)return!1;const c=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<c.length;u++){const d=c[u],f=l.findIndex(h=>cf(d,h,void 0,e,t,n,r));if(f===-1)return!1;l.splice(f,1)}return!0}case xue:case Nue:case Iue:case _ue:case Tue:case Pue:case Due:case Oue:case kue:case $ue:case Rue:case jue:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!cf(e[c],t[c],c,e,t,n,r))return!1;return!0}case Cue:return e.byteLength!==t.byteLength?!1:kf(new Uint8Array(e),new Uint8Array(t),n,r);case Aue:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:kf(new Uint8Array(e),new Uint8Array(t),n,r);case Sue:return e.name===t.name&&e.message===t.message;case Mv:{if(!(kf(e.constructor,t.constructor,n,r)||HT(e)&&HT(t)))return!1;const c=[...Object.keys(e),...FT(e)],l=[...Object.keys(t),...FT(t)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],f=e[d];if(!Object.hasOwn(t,d))return!1;const h=t[d];if(!cf(f,h,d,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function Uue(e,t){return Lue(e,t,Mue)}var Bue=Object.defineProperty,WT=Object.getOwnPropertySymbols,Fue=Object.prototype.hasOwnProperty,zue=Object.prototype.propertyIsEnumerable,Dx=(e,t,n)=>t in e?Bue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qT=(e,t)=>{for(var n in t||(t={}))Fue.call(t,n)&&Dx(e,n,t[n]);if(WT)for(var n of WT(t))zue.call(t,n)&&Dx(e,n,t[n]);return e},rr=(e,t,n)=>Dx(e,typeof t!="symbol"?t+"":t,n);class sl extends bQ{constructor(t,n,r,s=Oi,i=void 0){super(t,n,r,s),this.core=t,this.logger=n,this.name=r,rr(this,"map",new Map),rr(this,"version",Hae),rr(this,"cached",[]),rr(this,"initialized",!1),rr(this,"getKey"),rr(this,"storagePrefix",Oi),rr(this,"recentlyDeleted",[]),rr(this,"recentlyDeletedLimit",200),rr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!vn(o)?this.map.set(this.getKey(o),o):aoe(o)?this.map.set(o.id,o):coe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),rr(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),rr(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),rr(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>Uue(a[c],o[c]))):this.values)),rr(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=qT(qT({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),rr(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=Zn(n,this.name),this.storagePrefix=s,this.getKey=i}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const n=this.map.get(t);if(!n){if(this.recentlyDeleted.includes(t)){const{message:s}=ee("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}const{message:r}=ee("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:n}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Vue=Object.defineProperty,Hue=(e,t,n)=>t in e?Vue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Re=(e,t,n)=>Hue(e,typeof t!="symbol"?t+"":t,n);class Wue{constructor(t,n){this.core=t,this.logger=n,Re(this,"name",Gae),Re(this,"version",Yae),Re(this,"events",new e2),Re(this,"pairings"),Re(this,"initialized",!1),Re(this,"storagePrefix",Oi),Re(this,"ignoredPayloadTypes",[ao]),Re(this,"registeredMethods",[]),Re(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Re(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Re(this,"create",async r=>{this.isInitialized();const s=wx(),i=await this.core.crypto.setSymKey(s),o=Kt(te.FIVE_MINUTES),a={protocol:Zj},c={topic:i,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=uT({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:s,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(uc.create,c),this.core.expirer.set(i,o),await this.pairings.set(i,c),await this.core.relayer.subscribe(i,{transportType:r==null?void 0:r.transportType}),{topic:i,uri:l}}),Re(this,"pair",async r=>{this.isInitialized();const s=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[ci.pairing_started]}});this.isValidPair(r,s);const{topic:i,symKey:o,relay:a,expiryTimestamp:c,methods:l}=lT(r.uri);s.props.properties.topic=i,s.addTrace(ci.pairing_uri_validation_success),s.addTrace(ci.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(i)){if(u=this.pairings.get(i),s.addTrace(ci.existing_pairing),u.active)throw s.setError(Ji.active_pairing_already_exists),new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);s.addTrace(ci.pairing_not_expired)}const d=c||Kt(te.FIVE_MINUTES),f={topic:i,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(i,d),await this.pairings.set(i,f),s.addTrace(ci.store_new_pairing),r.activatePairing&&await this.activate({topic:i}),this.events.emit(uc.create,f),s.addTrace(ci.emit_inactive_pairing),this.core.crypto.keychain.has(i)||await this.core.crypto.setSymKey(o,i),s.addTrace(ci.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(Ji.no_internet_connection)}try{await this.core.relayer.subscribe(i,{relay:a})}catch(h){throw s.setError(Ji.subscribe_pairing_topic_failure),h}return s.addTrace(ci.subscribe_pairing_topic_success),f}),Re(this,"activate",async({topic:r})=>{this.isInitialized();const s=Kt(te.FIVE_MINUTES);this.core.expirer.set(r,s),await this.pairings.update(r,{active:!0,expiry:s})}),Re(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:s}=r;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=ic();this.events.once(Ye("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}}),Re(this,"updateExpiry",async({topic:r,expiry:s})=>{this.isInitialized(),await this.pairings.update(r,{expiry:s})}),Re(this,"updateMetadata",async({topic:r,metadata:s})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:s})}),Re(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Re(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:s}=r;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",wt("USER_DISCONNECTED")),await this.deletePairing(s))}),Re(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:s,relay:i,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(s);return uT({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:i,expiryTimestamp:o,methods:a})}),Re(this,"sendRequest",async(r,s,i)=>{const o=da(s,i),a=await this.core.crypto.encode(r,o),c=Vd[s].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Re(this,"sendResult",async(r,s,i)=>{const o=Qy(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Vd[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Re(this,"sendError",async(r,s,i)=>{const o=Xy(r,i),a=await this.core.crypto.encode(s,o),c=(await this.core.history.get(s,r)).request.method,l=Vd[c]?Vd[c].res:Vd.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)}),Re(this,"deletePairing",async(r,s)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,wt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),s?Promise.resolve():this.core.expirer.del(r)])}),Re(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(s=>Zo(s.expiry));await Promise.all(r.map(s=>this.deletePairing(s.topic)))}),Re(this,"onRelayEventRequest",async r=>{const{topic:s,payload:i}=r;switch(i.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,i);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,i);default:return await this.onUnknownRpcMethodRequest(s,i)}}),Re(this,"onRelayEventResponse",async r=>{const{topic:s,payload:i}=r,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}}),Re(this,"onPairingPingRequest",async(r,s)=>{const{id:i}=s;try{this.isValidPing({topic:r}),await this.sendResult(i,r,!0),this.events.emit(uc.ping,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Re(this,"onPairingPingResponse",(r,s)=>{const{id:i}=s;setTimeout(()=>{di(s)?this.events.emit(Ye("pairing_ping",i),{}):us(s)&&this.events.emit(Ye("pairing_ping",i),{error:s.error})},500)}),Re(this,"onPairingDeleteRequest",async(r,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(uc.delete,{id:i,topic:r})}catch(o){await this.sendError(i,r,o),this.logger.error(o)}}),Re(this,"onUnknownRpcMethodRequest",async(r,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=wt("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,r,a),this.logger.error(a)}catch(a){await this.sendError(i,r,a),this.logger.error(a)}}),Re(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(wt("WC_METHOD_UNSUPPORTED",r))}),Re(this,"isValidPair",(r,s)=>{var i;if(!ur(r)){const{message:a}=ee("MISSING_OR_INVALID",`pair() params: ${r}`);throw s.setError(Ji.malformed_pairing_uri),new Error(a)}if(!ooe(r.uri)){const{message:a}=ee("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw s.setError(Ji.malformed_pairing_uri),new Error(a)}const o=lT(r==null?void 0:r.uri);if(!((i=o==null?void 0:o.relay)!=null&&i.protocol)){const{message:a}=ee("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(Ji.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ee("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(Ji.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&te.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){s.setError(Ji.pairing_expired);const{message:a}=ee("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Re(this,"isValidPing",async r=>{if(!ur(r)){const{message:i}=ee("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Re(this,"isValidDisconnect",async r=>{if(!ur(r)){const{message:i}=ee("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:s}=r;await this.isValidPairingTopic(s)}),Re(this,"isValidPairingTopic",async r=>{if(!Ut(r,!1)){const{message:s}=ee("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(s)}if(!this.pairings.keys.includes(r)){const{message:s}=ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(s)}if(Zo(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:s}=ee("EXPIRED",`pairing topic: ${r}`);throw new Error(s)}}),this.core=t,this.logger=Zn(n,this.name),this.pairings=new sl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Ar(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(on.message,async t=>{const{topic:n,message:r,transportType:s}=t;if(this.pairings.keys.includes(n)&&s!==pt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const i=await this.core.crypto.decode(n,r);D2(i)?(this.core.history.set(n,i),await this.onRelayEventRequest({topic:n,payload:i})):Zy(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id)),await this.core.relayer.messages.ack(n,r)}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(cs.expired,async t=>{const{topic:n}=QR(t.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(uc.expire,{topic:n}))})}}var que=Object.defineProperty,Kue=(e,t,n)=>t in e?que(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mn=(e,t,n)=>Kue(e,typeof t!="symbol"?t+"":t,n);class Gue extends gQ{constructor(t,n){super(t,n),this.core=t,this.logger=n,mn(this,"records",new Map),mn(this,"events",new Cs.EventEmitter),mn(this,"name",Qae),mn(this,"version",Xae),mn(this,"cached",[]),mn(this,"initialized",!1),mn(this,"storagePrefix",Oi),mn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),mn(this,"set",(r,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:r,request:{method:s.method,params:s.params||null},chainId:i,expiry:Kt(te.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(_s.created,o)}),mn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const s=await this.getRecord(r.id);typeof s.response>"u"&&(s.response=us(r)?{error:r.error}:{result:r.result},this.records.set(s.id,s),this.persist(),this.events.emit(_s.updated,s))}),mn(this,"get",async(r,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:s}),await this.getRecord(s))),mn(this,"delete",(r,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===r){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(_s.deleted,i)}}),this.persist()}),mn(this,"exists",async(r,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===r:!1)),mn(this,"on",(r,s)=>{this.events.on(r,s)}),mn(this,"once",(r,s)=>{this.events.once(r,s)}),mn(this,"off",(r,s)=>{this.events.off(r,s)}),mn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Zn(n,this.name)}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:da(n.request.method,n.request.params,n.id),chainId:n.chainId};return t.push(r)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const n=this.records.get(t);if(!n){const{message:r}=ee("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(_s.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:n}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(_s.created,t=>{const n=_s.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(_s.updated,t=>{const n=_s.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.events.on(_s.deleted,t=>{const n=_s.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:t})}),this.core.heartbeat.on(tl.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(n=>{te.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(_s.deleted,n,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Yue=Object.defineProperty,Que=(e,t,n)=>t in e?Yue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rn=(e,t,n)=>Que(e,typeof t!="symbol"?t+"":t,n);class Xue extends EQ{constructor(t,n){super(t,n),this.core=t,this.logger=n,Rn(this,"expirations",new Map),Rn(this,"events",new Cs.EventEmitter),Rn(this,"name",Zae),Rn(this,"version",Jae),Rn(this,"cached",[]),Rn(this,"initialized",!1),Rn(this,"storagePrefix",Oi),Rn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Rn(this,"has",r=>{try{const s=this.formatTarget(r);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Rn(this,"set",(r,s)=>{this.isInitialized();const i=this.formatTarget(r),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(cs.created,{target:i,expiration:o})}),Rn(this,"get",r=>{this.isInitialized();const s=this.formatTarget(r);return this.getExpiration(s)}),Rn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const s=this.formatTarget(r),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(cs.deleted,{target:s,expiration:i})}}),Rn(this,"on",(r,s)=>{this.events.on(r,s)}),Rn(this,"once",(r,s)=>{this.events.once(r,s)}),Rn(this,"off",(r,s)=>{this.events.off(r,s)}),Rn(this,"removeListener",(r,s)=>{this.events.removeListener(r,s)}),this.logger=Zn(n,this.name)}get context(){return Ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return Hne(t);if(typeof t=="number")return Wne(t);const{message:n}=ee("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(n)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(cs.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:n}=ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const n=this.expirations.get(t);if(!n){const{message:r}=ee("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(t,n){const{expiry:r}=n;te.toMiliseconds(r)-Date.now()<=0&&this.expire(t,n)}expire(t,n){this.expirations.delete(t),this.events.emit(cs.expired,{target:t,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,n)=>this.checkExpiry(n,t))}registerEventListeners(){this.core.heartbeat.on(tl.pulse,()=>this.checkExpirations()),this.events.on(cs.created,t=>{const n=cs.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(cs.expired,t=>{const n=cs.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()}),this.events.on(cs.deleted,t=>{const n=cs.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}}var Zue=Object.defineProperty,Jue=(e,t,n)=>t in e?Zue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jt=(e,t,n)=>Jue(e,typeof t!="symbol"?t+"":t,n);class ede extends CQ{constructor(t,n,r){super(t,n,r),this.core=t,this.logger=n,this.store=r,jt(this,"name",ece),jt(this,"abortController"),jt(this,"isDevEnv"),jt(this,"verifyUrlV3",nce),jt(this,"storagePrefix",Oi),jt(this,"version",Xj),jt(this,"publicKey"),jt(this,"fetchPromise"),jt(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&te.toMiliseconds((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),jt(this,"register",async s=>{if(!ud()||this.isDevEnv)return;const i=window.location.origin,{id:o,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${i}&id=${o}&decryptedId=${a}`;try{const l=Hc(),u=this.startAbortTimer(te.ONE_SECOND*5),d=await new Promise((f,h)=>{const m=()=>{window.removeEventListener("message",y),l.body.removeChild(g),h("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const y=w=>{if(w.data&&typeof w.data=="string")try{const v=JSON.parse(w.data);if(v.type==="verify_attestation"){if(J1(v.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",y),f(v.attestation===null?"":v.attestation)}}catch(v){this.logger.warn(v)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),jt(this,"resolve",async s=>{if(this.isDevEnv)return"";const{attestationId:i,hash:o,encryptedId:a}=s;if(i===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(i){if(J1(i).payload.id!==a)return;const l=await this.isValidJwtAttestation(i);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(s==null?void 0:s.verifyUrl);return this.fetchAttestation(o,c)}),jt(this,"fetchAttestation",async(s,i)=>{this.logger.debug(`resolving attestation: ${s} from url: ${i}`);const o=this.startAbortTimer(te.ONE_SECOND*5),a=await fetch(`${i}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),jt(this,"getVerifyUrl",s=>{let i=s||Of;return rce.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${Of}`),i=Of),i}),jt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const s=this.startAbortTimer(te.FIVE_SECONDS),i=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await i.json()}catch(s){this.logger.warn(s)}}),jt(this,"persistPublicKey",async s=>{this.logger.debug("persisting public key to local storage",s),await this.store.setItem(this.storeKey,s),this.publicKey=s}),jt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),jt(this,"isValidJwtAttestation",async s=>{const i=await this.getPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),jt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),jt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async i=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),i(o))});const s=await this.fetchPromise;return this.fetchPromise=void 0,s}),jt(this,"validateAttestation",(s,i)=>{const o=Uie(s,i.publicKey),a={hasExpired:te.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=Zn(n,this.name),this.abortController=new AbortController,this.isDevEnv=g2(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Ar(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),te.toMiliseconds(t))}}var tde=Object.defineProperty,nde=(e,t,n)=>t in e?tde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KT=(e,t,n)=>nde(e,typeof t!="symbol"?t+"":t,n);class rde extends SQ{constructor(t,n){super(t,n),this.projectId=t,this.logger=n,KT(this,"context",sce),KT(this,"registerDeviceToken",async r=>{const{clientId:s,token:i,notificationType:o,enableEncrypted:a=!1}=r,c=`${ice}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:o,token:i,always_raw:a})})}),this.logger=Zn(n,this.context)}}var sde=Object.defineProperty,GT=Object.getOwnPropertySymbols,ide=Object.prototype.hasOwnProperty,ode=Object.prototype.propertyIsEnumerable,Ox=(e,t,n)=>t in e?sde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qd=(e,t)=>{for(var n in t||(t={}))ide.call(t,n)&&Ox(e,n,t[n]);if(GT)for(var n of GT(t))ode.call(t,n)&&Ox(e,n,t[n]);return e},Jt=(e,t,n)=>Ox(e,typeof t!="symbol"?t+"":t,n);class ade extends AQ{constructor(t,n,r=!0){super(t,n,r),this.core=t,this.logger=n,Jt(this,"context",ace),Jt(this,"storagePrefix",Oi),Jt(this,"storageVersion",oce),Jt(this,"events",new Map),Jt(this,"shouldPersist",!1),Jt(this,"init",async()=>{if(!g2())try{const s={eventId:D_(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:GR(this.core.relayer.protocol,this.core.relayer.version,Sx)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Jt(this,"createEvent",s=>{const{event:i="ERROR",type:o="",properties:{topic:a,trace:c}}=s,l=D_(),u=this.core.projectId||"",d=Date.now(),f=qd({eventId:l,timestamp:d,props:{event:i,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,f),this.shouldPersist=!0),f}),Jt(this,"getEvent",s=>{const{eventId:i,topic:o}=s;if(i)return this.events.get(i);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return qd(qd({},a),this.setMethods(a.eventId))}),Jt(this,"deleteEvent",s=>{const{eventId:i}=s;this.events.delete(i),this.shouldPersist=!0}),Jt(this,"setEventListeners",()=>{this.core.heartbeat.on(tl.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{te.fromMiliseconds(Date.now())-te.fromMiliseconds(s.timestamp)>cce&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Jt(this,"setMethods",s=>({addTrace:i=>this.addTrace(s,i),setError:i=>this.setError(s,i)})),Jt(this,"addTrace",(s,i)=>{const o=this.events.get(s);o&&(o.props.properties.trace.push(i),this.events.set(s,o),this.shouldPersist=!0)}),Jt(this,"setError",(s,i)=>{const o=this.events.get(s);o&&(o.props.type=i,o.timestamp=Date.now(),this.events.set(s,o),this.shouldPersist=!0)}),Jt(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Jt(this,"restore",async()=>{try{const s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(i=>{this.events.set(i.eventId,qd(qd({},i),this.setMethods(i.eventId)))})}catch(s){this.logger.warn(s)}}),Jt(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const s=[];for(const[i,o]of this.events)o.props.type&&s.push(o);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(const i of s)this.events.delete(i.eventId),this.shouldPersist=!0}catch(i){this.logger.warn(i)}}),Jt(this,"sendEvent",async s=>{const i=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${lce}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Sx}${i}`,{method:"POST",body:JSON.stringify(s)})}),Jt(this,"getAppDomain",()=>KR().url),this.logger=Zn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var cde=Object.defineProperty,YT=Object.getOwnPropertySymbols,lde=Object.prototype.hasOwnProperty,ude=Object.prototype.propertyIsEnumerable,kx=(e,t,n)=>t in e?cde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QT=(e,t)=>{for(var n in t||(t={}))lde.call(t,n)&&kx(e,n,t[n]);if(YT)for(var n of YT(t))ude.call(t,n)&&kx(e,n,t[n]);return e},ct=(e,t,n)=>kx(e,typeof t!="symbol"?t+"":t,n);let dde=class fM extends fQ{constructor(t){var n;super(t),ct(this,"protocol",Qj),ct(this,"version",Xj),ct(this,"name",Cx),ct(this,"relayUrl"),ct(this,"projectId"),ct(this,"customStoragePrefix"),ct(this,"events",new Cs.EventEmitter),ct(this,"logger"),ct(this,"heartbeat"),ct(this,"relayer"),ct(this,"crypto"),ct(this,"storage"),ct(this,"history"),ct(this,"expirer"),ct(this,"pairing"),ct(this,"verify"),ct(this,"echoClient"),ct(this,"linkModeSupportedApps"),ct(this,"eventClient"),ct(this,"initialized",!1),ct(this,"logChunkController"),ct(this,"on",(a,c)=>this.events.on(a,c)),ct(this,"once",(a,c)=>this.events.once(a,c)),ct(this,"off",(a,c)=>this.events.off(a,c)),ct(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),ct(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:pt.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(t==null?void 0:t.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||Jj,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const s=Ap({level:typeof(t==null?void 0:t.logger)=="string"&&t.logger?t.logger:Dae.logger,name:Cx}),{logger:i,chunkLoggerController:o}=P5({opts:s,maxSizeInBytes:t==null?void 0:t.maxLogBlobSizeInBytes,loggerOverride:t==null?void 0:t.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Zn(i,this.name),this.heartbeat=new eY,this.crypto=new Lle(this,this.logger,t==null?void 0:t.keychain),this.history=new Gue(this,this.logger),this.expirer=new Xue(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new jY(QT(QT({},Oae),t==null?void 0:t.storageOptions)),this.relayer=new due({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Wue(this,this.logger),this.verify=new ede(this,this.logger,this.storage),this.echoClient=new rde(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ade(this,this.logger,t==null?void 0:t.telemetryEnabled),this.setGlobalCore(this)}static async init(t){const n=new fM(t);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(Wae,r),n}get context(){return Ar(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(TT,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(TT)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${t}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(t){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=t.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=t}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Pae.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const fde=dde,hM="wc",pM=2,mM="client",O2=`${hM}@${pM}:${mM}:`,Lv={name:mM,logger:"error"},XT="WALLETCONNECT_DEEPLINK_CHOICE",hde="proposal",ZT="Proposal expired",pde="session",Al=te.SEVEN_DAYS,mde="engine",en={wc_sessionPropose:{req:{ttl:te.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:te.ONE_DAY,prompt:!1,tag:1104},res:{ttl:te.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:te.ONE_DAY,prompt:!1,tag:1106},res:{ttl:te.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:te.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:te.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:te.ONE_DAY,prompt:!1,tag:1112},res:{ttl:te.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:te.ONE_DAY,prompt:!1,tag:1114},res:{ttl:te.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:te.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:te.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:te.FIVE_MINUTES,prompt:!1,tag:1119}}},Uv={min:te.FIVE_MINUTES,max:te.SEVEN_DAYS},oi={idle:"IDLE",active:"ACTIVE"},gde={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},yde="request",wde=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],vde="wc",bde="auth",xde="authKeys",Ede="pairingTopics",Cde="requests",ew=`${vde}@${1.5}:${bde}:`,kg=`${ew}:PUB_KEY`;var Sde=Object.defineProperty,Ade=Object.defineProperties,Nde=Object.getOwnPropertyDescriptors,JT=Object.getOwnPropertySymbols,Ide=Object.prototype.hasOwnProperty,_de=Object.prototype.propertyIsEnumerable,$x=(e,t,n)=>t in e?Sde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ft=(e,t)=>{for(var n in t||(t={}))Ide.call(t,n)&&$x(e,n,t[n]);if(JT)for(var n of JT(t))_de.call(t,n)&&$x(e,n,t[n]);return e},sr=(e,t)=>Ade(e,Nde(t)),Y=(e,t,n)=>$x(e,typeof t!="symbol"?t+"":t,n);class Tde extends TQ{constructor(t){super(t),Y(this,"name",mde),Y(this,"events",new e2),Y(this,"initialized",!1),Y(this,"requestQueue",{state:oi.idle,queue:[]}),Y(this,"sessionRequestQueue",{state:oi.idle,queue:[]}),Y(this,"emittedSessionRequests",new ere({limit:500})),Y(this,"requestQueueDelay",te.ONE_SECOND),Y(this,"expectedPairingMethodMap",new Map),Y(this,"recentlyDeletedMap",new Map),Y(this,"recentlyDeletedLimit",200),Y(this,"relayMessageCache",[]),Y(this,"pendingSessions",new Map),Y(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(en)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},te.toMiliseconds(this.requestQueueDelay)))}),Y(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=sr(ft({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=toe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=s,d,f=!1;try{if(u){const S=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),f=S.active}}catch(S){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),S}if(!u||!f){const{topic:S,uri:A}=await this.client.core.pairing.create();u=S,d=A}if(!u){const{message:S}=ee("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(S)}const h=await this.client.core.crypto.generateKeyPair(),m=en.wc_sessionPropose.req.ttl||te.FIVE_MINUTES,g=Kt(m),y=sr(ft(ft({requiredNamespaces:i,optionalNamespaces:o,relays:l??[{protocol:Zj}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ui()}),w=Ye("session_connect",y.id),{reject:v,resolve:b,done:x}=ic(m,ZT),E=({id:S})=>{S===y.id&&(this.client.events.off("proposal_expire",E),this.pendingSessions.delete(y.id),this.events.emit(w,{error:{message:ZT,code:0}}))};return this.client.events.on("proposal_expire",E),this.events.once(w,({error:S,session:A})=>{this.client.events.off("proposal_expire",E),S?v(S):A&&b(A)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:y,throwOnFailedPublish:!0,clientRpcId:y.id}),await this.setProposal(y.id,y),{uri:d,approval:x}}),Y(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Y(this,"approve",async n=>{var r,s,i;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Ts.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(Xa.no_internet_connection),N}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Xa.proposal_not_found),N}try{await this.isValidApprove(n)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Xa.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=n,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:y,optionalNamespaces:w}=h;let v=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:m});v||(v=(i=this.client.core.eventClient)==null?void 0:i.createEvent({type:Ts.session_approve_started,properties:{topic:m,trace:[Ts.session_approve_started,Ts.session_namespaces_validation_success]}}));const b=await this.client.core.crypto.generateKeyPair(),x=g.publicKey,E=await this.client.core.crypto.generateSharedKey(b,x),S=ft(ft(ft({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:b,metadata:this.client.metadata},expiry:Kt(Al)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),A=pt.relay;v.addTrace(Ts.subscribing_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:A})}catch(N){throw v.setError(Xa.subscribe_session_topic_failure),N}v.addTrace(Ts.subscribe_session_topic_success);const C=sr(ft({},S),{topic:E,requiredNamespaces:y,optionalNamespaces:w,pairingTopic:m,acknowledged:!1,self:S.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:b,transportType:pt.relay});await this.client.session.set(E,C),v.addTrace(Ts.store_session);try{v.addTrace(Ts.publishing_session_settle),await this.sendRequest({topic:E,method:"wc_sessionSettle",params:S,throwOnFailedPublish:!0}).catch(N=>{throw v==null||v.setError(Xa.session_settle_publish_failure),N}),v.addTrace(Ts.session_settle_publish_success),v.addTrace(Ts.publishing_session_approve),await this.sendResult({id:a,topic:m,result:{relay:{protocol:c??"irn"},responderPublicKey:b},throwOnFailedPublish:!0}).catch(N=>{throw v==null||v.setError(Xa.session_approve_publish_failure),N}),v.addTrace(Ts.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(E,wt("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(E),N}return this.client.core.eventClient.deleteEvent({eventId:v.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(E,Kt(Al)),{topic:E,acknowledged:()=>Promise.resolve(this.client.session.get(E))}}),Y(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:s}=n;let i;try{i=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}i&&await this.sendError({id:r,topic:i,error:s,rpcOpts:en.wc_sessionPropose.reject}),await this.deleteProposal(r)}),Y(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:s}=n,{done:i,resolve:o,reject:a}=ic(),c=ui(),l=bc().toString(),u=this.client.session.get(r).namespaces;return this.events.once(Ye("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:s}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:i}}),Y(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,s=ui(),{done:i,resolve:o,reject:a}=ic();return this.events.once(Ye("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Kt(Al)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:i}}),Y(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:s,topic:i,expiry:o=en.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(i);(a==null?void 0:a.transportType)===pt.relay&&await this.confirmOnlineStateOrThrow();const c=ui(),l=bc().toString(),{done:u,resolve:d,reject:f}=ic(o,"Request expired. Please try again.");this.events.once(Ye("session_request",c),({error:y,result:w})=>{y?f(y):d(w)});const h="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:{request:sr(ft({},s),{expiryTimestamp:Kt(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(y=>f(y)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),await u();const g={request:sr(ft({},s),{expiryTimestamp:Kt(o)}),chainId:r};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:i,method:h,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(w=>f(w)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:r,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const v=await Yne(this.client.core.storage,XT);await qne({id:c,topic:i,wcDeepLink:v})}y()}),u()]).then(y=>y[2])}),Y(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:s}=n,{id:i}=s,o=this.client.session.get(r);o.transportType===pt.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);di(s)?await this.sendResult({id:i,topic:r,result:s.result,throwOnFailedPublish:!0,appLink:a}):us(s)&&await this.sendError({id:i,topic:r,error:s.error,appLink:a}),this.cleanupAfterResponse(n)}),Y(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}const{topic:r}=n;if(this.client.session.keys.includes(r)){const s=ui(),i=bc().toString(),{done:o,resolve:a,reject:c}=ic();this.events.once(Ye("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:i}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Y(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:s,chainId:i}=n,o=bc().toString(),a=ui();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:s,chainId:i},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Y(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:wt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:s}=ee("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(s)}}),Y(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>soe(r,n)))),Y(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Y(this,"authenticate",async(n,r)=>{var s;this.isInitialized(),this.isValidAuthenticate(n);const i=r&&this.client.core.linkModeSupportedApps.includes(r)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),o=i?pt.link_mode:pt.relay;o===pt.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:f,exp:h,nbf:m,methods:g=[],expiry:y}=n,w=[...n.resources||[]],{topic:v,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:v,uri:b}});const x=await this.client.core.crypto.generateKeyPair(),E=Dg(x);if(await Promise.all([this.client.auth.authKeys.set(kg,{responseTopic:E,publicKey:x}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:v})]),await this.client.core.relayer.subscribe(E,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${v}`),g.length>0){const{namespace:$}=Cu(a[0]);let R=dse($,"request",g);Pg(w)&&(R=hse(R,w.pop())),w.push(R)}const S=y&&y>en.wc_sessionAuthenticate.req.ttl?y:en.wc_sessionAuthenticate.req.ttl,A={authPayload:{type:f??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:h,nbf:m,resources:w},requester:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Kt(S)},C={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},N={requiredNamespaces:{},optionalNamespaces:C,relays:[{protocol:"irn"}],pairingTopic:v,proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:Kt(en.wc_sessionPropose.req.ttl),id:ui()},{done:j,resolve:M,reject:L}=ic(S,"Request expired"),B=ui(),U=Ye("session_connect",N.id),I=Ye("session_request",B),_=async({error:$,session:R})=>{this.events.off(I,k),$?L($):R&&M({session:R})},k=async $=>{var R,z,W;if(await this.deletePendingAuthRequest(B,{message:"fulfilled",code:0}),$.error){const we=wt("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return $.error.code===we.code?void 0:(this.events.off(U,_),L($.error.message))}await this.deleteProposal(N.id),this.events.off(U,_);const{cacaos:V,responder:H}=$.result,Q=[],oe=[];for(const we of V){await z_({cacao:we,projectId:this.client.core.projectId})||(this.client.logger.error(we,"Signature verification failed"),L(wt("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Oe}=we,ze=Pg(Oe.resources),gt=[lx(Oe.iss)],Jn=M0(Oe.iss);if(ze){const In=V_(ze),Qs=H_(ze);Q.push(...In),gt.push(...Qs)}for(const In of gt)oe.push(`${In}:${Jn}`)}const ae=await this.client.core.crypto.generateSharedKey(x,H.publicKey);let le;Q.length>0&&(le={topic:ae,acknowledged:!0,self:{publicKey:x,metadata:this.client.metadata},peer:H,controller:H.publicKey,expiry:Kt(Al),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:v,namespaces:pT([...new Set(Q)],[...new Set(oe)]),transportType:o},await this.client.core.relayer.subscribe(ae,{transportType:o}),await this.client.session.set(ae,le),v&&await this.client.core.pairing.updateMetadata({topic:v,metadata:H.metadata}),le=this.client.session.get(ae)),(R=this.client.metadata.redirect)!=null&&R.linkMode&&(z=H.metadata.redirect)!=null&&z.linkMode&&(W=H.metadata.redirect)!=null&&W.universal&&r&&(this.client.core.addLinkModeSupportedApp(H.metadata.redirect.universal),this.client.session.update(ae,{transportType:pt.link_mode})),M({auths:V,session:le})};this.events.once(U,_),this.events.once(I,k);let T;try{if(i){const $=da("wc_sessionAuthenticate",A,B);this.client.core.history.set(v,$);const R=await this.client.core.crypto.encode("",$,{type:Dp,encoding:sa});T=Hm(r,v,R)}else await Promise.all([this.sendRequest({topic:v,method:"wc_sessionAuthenticate",params:A,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:B}),this.sendRequest({topic:v,method:"wc_sessionPropose",params:N,expiry:en.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch($){throw this.events.off(U,_),this.events.off(I,k),$}return await this.setProposal(N.id,N),await this.setAuthRequest(B,{request:sr(ft({},A),{verifyContext:{}}),pairingTopic:v,transportType:o}),{uri:T??b,response:j}}),Y(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:s}=n,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Za.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw i.setError(Hd.no_internet_connection),y}const o=this.getPendingAuthRequest(r);if(!o)throw i.setError(Hd.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||pt.relay;a===pt.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Dg(c),d={type:ao,receiverPublicKey:c,senderPublicKey:l},f=[],h=[];for(const y of s){if(!await z_({cacao:y,projectId:this.client.core.projectId})){i.setError(Hd.invalid_cacao);const E=wt("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:E,encodeOpts:d}),new Error(E.message)}i.addTrace(Za.cacaos_verified);const{p:w}=y,v=Pg(w.resources),b=[lx(w.iss)],x=M0(w.iss);if(v){const E=V_(v),S=H_(v);f.push(...E),b.push(...S)}for(const E of b)h.push(`${E}:${x}`)}const m=await this.client.core.crypto.generateSharedKey(l,c);i.addTrace(Za.create_authenticated_session_topic);let g;if((f==null?void 0:f.length)>0){g={topic:m,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Kt(Al),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:pT([...new Set(f)],[...new Set(h)]),transportType:a},i.addTrace(Za.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(y){throw i.setError(Hd.subscribe_authenticated_session_topic_failure),y}i.addTrace(Za.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),i.addTrace(Za.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}i.addTrace(Za.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(y){throw i.setError(Hd.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:g}}),Y(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:s}=n,i=this.getPendingAuthRequest(r);if(!i)throw new Error(`Could not find pending auth request with id ${r}`);i.transportType===pt.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Dg(o),l={type:ao,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:s,encodeOpts:l,rpcOpts:en.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(i.requester.metadata,i.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.deleteProposal(r)}),Y(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:s}=n;return dj(r,s)}),Y(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Y(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&i.topic&&i.topic!==r.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Y(this,"deleteSession",async n=>{var r;const{topic:s,expirerHasDeleted:i=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,wt("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),i||this.client.core.expirer.del(s),this.client.core.storage.removeItem(XT).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===s&&this.deletePendingSessionRequest(l.id,wt("USER_DISCONNECTED"))}),s===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=oi.idle),o&&this.client.events.emit("session_delete",{id:a,topic:s})}),Y(this,"deleteProposal",async(n,r)=>{if(r)try{const s=this.client.proposal.get(n),i=this.client.core.eventClient.getEvent({topic:s.pairingTopic});i==null||i.setError(Xa.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,wt("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Y(this,"deletePendingSessionRequest",async(n,r,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==n),s&&(this.sessionRequestQueue.state=oi.idle,this.client.events.emit("session_request_expire",{id:n}))}),Y(this,"deletePendingAuthRequest",async(n,r,s=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),s?Promise.resolve():this.client.core.expirer.del(n)])}),Y(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Y(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Kt(en.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Y(this,"setAuthRequest",async(n,r)=>{const{request:s,pairingTopic:i,transportType:o=pt.relay}=r;this.client.core.expirer.set(n,s.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:n,pairingTopic:i,verifyContext:s.verifyContext,transportType:o})}),Y(this,"setPendingSessionRequest",async n=>{const{id:r,topic:s,params:i,verifyContext:o}=n,a=i.request.expiryTimestamp||Kt(en.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:s,params:i,verifyContext:o})}),Y(this,"sendRequest",async n=>{const{topic:r,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,f=da(s,i,c);let h;const m=!!u;try{const w=m?sa:Bs;h=await this.client.core.crypto.encode(r,f,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),w}let g;if(wde.includes(s)){const w=fi(JSON.stringify(f)),v=fi(h);g=await this.client.core.verify.register({id:v,decryptedId:w})}const y=en[s].req;if(y.attestation=g,o&&(y.ttl=o),a&&(y.id=a),this.client.core.history.set(r,f),m){const w=Hm(u,r,h);await global.Linking.openURL(w,this.client.name)}else{const w=en[s].req;o&&(w.ttl=o),a&&(w.id=a),w.tvf=sr(ft({},d),{correlationId:f.id}),l?(w.internal=sr(ft({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,h,w)):this.client.core.relayer.publish(r,h,w).catch(v=>this.client.logger.error(v))}return f.id}),Y(this,"sendResult",async n=>{const{id:r,topic:s,result:i,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=Qy(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=d?sa:Bs;u=await this.client.core.crypto.encode(s,l,sr(ft({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),m}let f,h;try{f=await this.client.core.history.get(s,r);const m=f.request;try{h=this.getTVFParams(r,m.params,i)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g==null?void 0:g.message}`)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${r}) failed`),m}if(d){const m=Hm(c,s,u);await global.Linking.openURL(m,this.client.name)}else{const m=f.request.method,g=en[m].res;g.tvf=sr(ft({},h),{correlationId:r}),o?(g.internal=sr(ft({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),Y(this,"sendError",async n=>{const{id:r,topic:s,error:i,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Xy(r,i);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const h=d?sa:Bs;u=await this.client.core.crypto.encode(s,l,sr(ft({},o||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),h}let f;try{f=await this.client.core.history.get(s,r)}catch(h){throw this.client.logger.error(`sendError() -> history.get(${s}, ${r}) failed`),h}if(d){const h=Hm(c,s,u);await global.Linking.openURL(h,this.client.name)}else{const h=f.request.method,m=a||en[h].res;this.client.core.relayer.publish(s,u,m)}await this.client.core.history.resolve(l)}),Y(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(s=>{let i=!1;Zo(s.expiry)&&(i=!0),this.client.core.crypto.keychain.has(s.topic)||(i=!0),i&&n.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Zo(s.expiryTimestamp)&&r.push(s.id)}),await Promise.all([...n.map(s=>this.deleteSession({topic:s})),...r.map(s=>this.deleteProposal(s))])}),Y(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Y(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Y(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===oi.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=oi.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=oi.idle}),Y(this,"processRequest",async n=>{const{topic:r,payload:s,attestation:i,transportType:o,encryptedId:a}=n,c=s.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:s,attestation:i,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,s);case"wc_sessionPing":return await this.onSessionPingRequest(r,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:s,attestation:i,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Y(this,"onRelayEventResponse",async n=>{const{topic:r,payload:s,transportType:i}=n,o=(await this.client.core.history.get(r,s.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,s,i);case"wc_sessionSettle":return this.onSessionSettleResponse(r,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,s);case"wc_sessionExtend":return this.onSessionExtendResponse(r,s);case"wc_sessionPing":return this.onSessionPingResponse(r,s);case"wc_sessionRequest":return this.onSessionRequestResponse(r,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,s);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Y(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:s}=ee("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),Y(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:s}=n,i=this.expectedPairingMethodMap.get(r);return!i||i.includes(s)?!1:!!(i.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Y(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:s,attestation:i,encryptedId:o}=n,{params:a,id:c}=s;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Ji.proposal_listener_not_found)),this.isValidConnect(ft({},s.params));const u=a.expiryTimestamp||Kt(en.wc_sessionPropose.req.ttl),d=ft({id:c,pairingTopic:r,expiryTimestamp:u,attestation:i,encryptedId:o},a);await this.setProposal(c,d);const f=await this.getVerifyContext({attestationId:i,hash:fi(JSON.stringify(s)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(ci.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:f})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:en.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Y(this,"onSessionProposeResponse",async(n,r,s)=>{const{id:i}=r;if(di(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(i);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(i,{sessionTopic:u,pairingTopic:n,proposalId:i,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(us(r)){await this.deleteProposal(i);const o=Ye("session_connect",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),Y(this,"onSessionSettleRequest",async(n,r)=>{const{id:s,params:i}=r;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:f}=r.params,h=[...this.pendingSessions.values()].find(y=>y.sessionTopic===n);if(!h)return this.client.logger.error(`Pending session not found for topic ${n}`);const m=this.client.proposal.get(h.proposalId),g=sr(ft(ft(ft({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),f&&{sessionConfig:f}),{transportType:pt.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Ye("session_connect",h.proposalId),{session:g}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Y(this,"onSessionSettleResponse",async(n,r)=>{const{id:s}=r;di(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Ye("session_approve",s),{})):us(r)&&(await this.client.session.delete(n,wt("USER_DISCONNECTED")),this.events.emit(Ye("session_approve",s),{error:r.error}))}),Y(this,"onSessionUpdateRequest",async(n,r)=>{const{params:s,id:i}=r;try{const o=`${n}_session_update`,a=zd.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.warn(`Discarding out of sync request - ${i}`),this.sendError({id:i,topic:n,error:wt("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(ft({topic:n},s));try{zd.set(o,i),await this.client.session.update(n,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:n,result:!0})}catch(c){throw zd.delete(o),c}this.client.events.emit("session_update",{id:i,topic:n,params:s})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Y(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Y(this,"onSessionUpdateResponse",(n,r)=>{const{id:s}=r,i=Ye("session_update",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);di(r)?this.events.emit(Ye("session_update",s),{}):us(r)&&this.events.emit(Ye("session_update",s),{error:r.error})}),Y(this,"onSessionExtendRequest",async(n,r)=>{const{id:s}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Kt(Al)),await this.sendResult({id:s,topic:n,result:!0}),this.client.events.emit("session_extend",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),Y(this,"onSessionExtendResponse",(n,r)=>{const{id:s}=r,i=Ye("session_extend",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);di(r)?this.events.emit(Ye("session_extend",s),{}):us(r)&&this.events.emit(Ye("session_extend",s),{error:r.error})}),Y(this,"onSessionPingRequest",async(n,r)=>{const{id:s}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:n})}catch(i){await this.sendError({id:s,topic:n,error:i}),this.client.logger.error(i)}}),Y(this,"onSessionPingResponse",(n,r)=>{const{id:s}=r,i=Ye("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners 2176`);di(r)?this.events.emit(Ye("session_ping",s),{}):us(r)&&this.events.emit(Ye("session_ping",s),{error:r.error})},500)}),Y(this,"onSessionDeleteRequest",async(n,r)=>{const{id:s}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(i=>{this.client.core.relayer.once(on.publish,async()=>{i(await this.deleteSession({topic:n,id:s}))})}),this.sendResult({id:s,topic:n,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:wt("USER_DISCONNECTED")})]).catch(i=>this.client.logger.error(i))}catch(i){this.client.logger.error(i)}}),Y(this,"onSessionRequest",async n=>{var r,s,i;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:f}=a;try{await this.isValidRequest(ft({topic:o},f));const h=this.client.session.get(o),m=await this.getVerifyContext({attestationId:c,hash:fi(JSON.stringify(da("wc_sessionRequest",f,d))),encryptedId:l,metadata:h.peer.metadata,transportType:u}),g={id:d,topic:o,params:f,verifyContext:m};await this.setPendingSessionRequest(g),u===pt.link_mode&&(r=h.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((s=h.peer.metadata.redirect)==null?void 0:s.universal),(i=this.client.signConfig)!=null&&i.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(h){await this.sendError({id:d,topic:o,error:h}),this.client.logger.error(h)}}),Y(this,"onSessionRequestResponse",(n,r)=>{const{id:s}=r,i=Ye("session_request",s);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners`);di(r)?this.events.emit(Ye("session_request",s),{result:r.result}):us(r)&&this.events.emit(Ye("session_request",s),{error:r.error})}),Y(this,"onSessionEventRequest",async(n,r)=>{const{id:s,params:i}=r;try{const o=`${n}_session_event_${i.event.name}`,a=zd.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(ft({topic:n},i)),this.client.events.emit("session_event",{id:s,topic:n,params:i}),zd.set(o,s)}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Y(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:s}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),di(r)?this.events.emit(Ye("session_request",s),{result:r.result}):us(r)&&this.events.emit(Ye("session_request",s),{error:r.error})}),Y(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:s,payload:i,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=i.params,f=await this.getVerifyContext({attestationId:o,hash:fi(JSON.stringify(i)),encryptedId:a,metadata:l.metadata,transportType:c}),h={requester:l,pairingTopic:s,id:i.id,authPayload:u,verifyContext:f,expiryTimestamp:d};await this.setAuthRequest(i.id,{request:h,pairingTopic:s,transportType:c}),c===pt.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:i.params,id:i.id,verifyContext:f})}catch(l){this.client.logger.error(l);const u=i.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),f=this.getAppLinkIfEnabled(i.params.requester.metadata,c),h={type:ao,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:i.id,topic:s,error:l,encodeOpts:h,rpcOpts:en.wc_sessionAuthenticate.autoReject,appLink:f})}}),Y(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Y(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=oi.idle,this.processSessionRequestQueue()},te.toMiliseconds(this.requestQueueDelay))}),Y(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const s=this.client.core.history.pending;s.length>0&&s.filter(i=>i.topic===n&&i.request.method==="wc_sessionRequest").forEach(i=>{const o=i.request.id,a=Ye("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ye("session_request",i.request.id),{error:r})})}),Y(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===oi.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Y(this,"emitSessionRequest",n=>{if(this.emittedSessionRequests.has(n.id)){this.client.logger.warn({id:n.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${n.id}`);return}this.sessionRequestQueue.state=oi.active,this.emittedSessionRequests.add(n.id),this.client.events.emit("session_request",n)}),Y(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(s=>s.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:da("wc_sessionPropose",sr(ft({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id),attestation:r.attestation,encryptedId:r.encryptedId})}),Y(this,"isValidConnect",async n=>{if(!ur(n)){const{message:l}=ee("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,scopedProperties:a,relays:c}=n;if(vn(r)||await this.isValidPairingTopic(r),!goe(c)){const{message:l}=ee("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!vn(s)&&Ii(s)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(!vn(i)&&Ii(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),vn(o)||this.validateSessionProps(o,"sessionProperties"),!vn(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(s||{}).concat(Object.keys(i||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Y(this,"validateNamespaces",(n,r)=>{const s=moe(n,"connect()",r);if(s)throw new Error(s.message)}),Y(this,"isValidApprove",async n=>{if(!ur(n))throw new Error(ee("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:s,relayProtocol:i,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=Ov(s,"approve()");if(l)throw new Error(l.message);const u=yT(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!Ut(i,!0)){const{message:d}=ee("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(d)}if(vn(o)||this.validateSessionProps(o,"sessionProperties"),!vn(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(s));if(!Object.keys(a).every(f=>d.has(f.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),Y(this,"isValidReject",async n=>{if(!ur(n)){const{message:i}=ee("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(i)}const{id:r,reason:s}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!woe(s)){const{message:i}=ee("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}}),Y(this,"isValidSessionSettleRequest",n=>{if(!ur(n)){const{message:l}=ee("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:s,namespaces:i,expiry:o}=n;if(!zj(r)){const{message:l}=ee("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=loe(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Ov(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Zo(o)){const{message:l}=ee("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Y(this,"isValidUpdate",async n=>{if(!ur(n)){const{message:c}=ee("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:s}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const i=this.client.session.get(r),o=Ov(s,"update()");if(o)throw new Error(o.message);const a=yT(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),Y(this,"isValidExtend",async n=>{if(!ur(n)){const{message:s}=ee("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(s)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Y(this,"isValidRequest",async n=>{if(!ur(n)){const{message:c}=ee("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:s,chainId:i,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!gT(a,i)){const{message:c}=ee("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!voe(s)){const{message:c}=ee("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!Eoe(a,i,s.method)){const{message:c}=ee("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!Noe(o,Uv)){const{message:c}=ee("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Uv.min} and ${Uv.max}`);throw new Error(c)}}),Y(this,"isValidRespond",async n=>{var r;if(!ur(n)){const{message:o}=ee("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:s,response:i}=n;try{await this.isValidSessionTopic(s)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!boe(i)){const{message:o}=ee("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(i)}`);throw new Error(o)}}),Y(this,"isValidPing",async n=>{if(!ur(n)){const{message:s}=ee("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Y(this,"isValidEmit",async n=>{if(!ur(n)){const{message:a}=ee("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:s,chainId:i}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!gT(o,i)){const{message:a}=ee("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!xoe(s)){const{message:a}=ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!Coe(o,i,s.name)){const{message:a}=ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),Y(this,"isValidDisconnect",async n=>{if(!ur(n)){const{message:s}=ee("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Y(this,"isValidAuthenticate",n=>{const{chains:r,uri:s,domain:i,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Ut(s,!1))throw new Error("uri is required parameter");if(!Ut(i,!1))throw new Error("domain is required parameter");if(!Ut(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Cu(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Cu(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Y(this,"getVerifyContext",async n=>{const{attestationId:r,hash:s,encryptedId:i,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Of,validation:"UNKNOWN",origin:o.url||""}};try{if(a===pt.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:s,encryptedId:i,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Y(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((s,i)=>{if(s==null){const{message:o}=ee("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${s} for key ${Object.keys(n)[i]}`);throw new Error(o)}})}),Y(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Y(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0;const i=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(s++>=i)break;this.recentlyDeletedMap.delete(o)}}}),Y(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:s}=ee("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(s)}}),Y(this,"isLinkModeEnabled",(n,r)=>{var s,i,o,a,c,l,u,d,f;return!n||r!==pt.link_mode?!1:((i=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:i.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((f=n==null?void 0:n.redirect)==null?void 0:f.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Y(this,"getAppLinkIfEnabled",(n,r)=>{var s;return this.isLinkModeEnabled(n,r)?(s=n==null?void 0:n.redirect)==null?void 0:s.universal:void 0}),Y(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=P_(n,"topic")||"",s=decodeURIComponent(P_(n,"wc_ev")||""),i=this.client.session.keys.includes(r);i&&this.client.session.update(r,{transportType:pt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:s,sessionExists:i})}),Y(this,"registerLinkModeListeners",async()=>{var n;if(g2()||za()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const s=await r.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),Y(this,"getTVFParams",(n,r,s)=>{var i,o,a;if(!((i=r.request)!=null&&i.method))return{};const c={correlationId:n,rpcMethods:[r.request.method],chainId:r.chainId};try{const l=this.extractTxHashesFromResult(r.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(r.request.params)?[(a=(o=r.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),Y(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const s=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!s.startsWith("0x"))return!1;const i=s.slice(2);return/^[0-9a-fA-F]*$/.test(i)?i.length%2===0:!1}catch{}return!1}),Y(this,"extractTxHashesFromResult",(n,r)=>{var s;try{if(!r)return[];const i=n.method,o=gde[i];if(i==="sui_signTransaction")return[Yre(r.transactionBytes)];if(i==="near_signTransaction")return[L_(r)];if(i==="near_signTransactions")return r.map(c=>L_(c));if(i==="xrpl_signTransactionFor"||i==="xrpl_signTransaction")return[(s=r.tx_json)==null?void 0:s.hash];if(i==="polkadot_signTransaction")return[Foe({transaction:n.params.transactionPayload,signature:r.signature})];if(i==="algo_signTxn")return co(r)?r.map(c=>U_(c)):[U_(r)];if(i==="cosmos_signDirect")return[Xre(r)];if(typeof r=="string")return[r];const a=r[o.key];if(co(a))return i==="solana_signAllTransactions"?a.map(c=>Gre(c)):a;if(typeof a=="string")return[a]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const t=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(t);for(const[r,s]of Object.entries(n))for(const i of s)try{await this.onProviderMessageEvent({topic:r,message:i,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${i}`)}}catch(t){this.client.logger.warn("processPendingMessageEvents failed",t)}}isInitialized(){if(!this.initialized){const{message:t}=ee("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(on.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){const{topic:n,message:r,attestation:s,transportType:i}=t,{publicKey:o}=this.client.auth.authKeys.keys.includes(kg)?this.client.auth.authKeys.get(kg):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:i===pt.link_mode?sa:Bs});D2(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:s,transportType:i,encryptedId:fi(r)})):Zy(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:i}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:i}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(cs.expired,async t=>{const{topic:n,id:r}=QR(t.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ee("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ee("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(uc.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(uc.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Ut(t,!1)){const{message:n}=ee("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:n}=ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(n)}if(Zo(this.client.core.pairing.pairings.get(t).expiry)){const{message:n}=ee("EXPIRED",`pairing topic: ${t}`);throw new Error(n)}}async isValidSessionTopic(t){if(!Ut(t,!1)){const{message:n}=ee("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(n)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:n}=ee("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(n)}if(Zo(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:n}=ee("EXPIRED",`session topic: ${t}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(t)){const{message:n}=ee("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(n)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Ut(t,!1)){const{message:n}=ee("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(n)}else{const{message:n}=ee("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(n)}}async isValidProposalId(t){if(!yoe(t)){const{message:n}=ee("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(n)}if(!this.client.proposal.keys.includes(t)){const{message:n}=ee("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(n)}if(Zo(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:n}=ee("EXPIRED",`proposal id: ${t}`);throw new Error(n)}}}class Pde extends sl{constructor(t,n){super(t,n,hde,O2),this.core=t,this.logger=n}}let Dde=class extends sl{constructor(t,n){super(t,n,pde,O2),this.core=t,this.logger=n}};class Ode extends sl{constructor(t,n){super(t,n,yde,O2,r=>r.id),this.core=t,this.logger=n}}class kde extends sl{constructor(t,n){super(t,n,xde,ew,()=>kg),this.core=t,this.logger=n}}let $de=class extends sl{constructor(t,n){super(t,n,Ede,ew),this.core=t,this.logger=n}};class Rde extends sl{constructor(t,n){super(t,n,Cde,ew,r=>r.id),this.core=t,this.logger=n}}var jde=Object.defineProperty,Mde=(e,t,n)=>t in e?jde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bv=(e,t,n)=>Mde(e,typeof t!="symbol"?t+"":t,n);class Lde{constructor(t,n){this.core=t,this.logger=n,Bv(this,"authKeys"),Bv(this,"pairingTopics"),Bv(this,"requests"),this.authKeys=new kde(this.core,this.logger),this.pairingTopics=new $de(this.core,this.logger),this.requests=new Rde(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var Ude=Object.defineProperty,Bde=(e,t,n)=>t in e?Ude(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,je=(e,t,n)=>Bde(e,typeof t!="symbol"?t+"":t,n);let Fde=class gM extends _Q{constructor(t){super(t),je(this,"protocol",hM),je(this,"version",pM),je(this,"name",Lv.name),je(this,"metadata"),je(this,"core"),je(this,"logger"),je(this,"events",new Cs.EventEmitter),je(this,"engine"),je(this,"session"),je(this,"proposal"),je(this,"pendingRequest"),je(this,"auth"),je(this,"signConfig"),je(this,"on",(r,s)=>this.events.on(r,s)),je(this,"once",(r,s)=>this.events.once(r,s)),je(this,"off",(r,s)=>this.events.off(r,s)),je(this,"removeListener",(r,s)=>this.events.removeListener(r,s)),je(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),je(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"update",async r=>{try{return await this.engine.update(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"request",async r=>{try{return await this.engine.request(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"find",r=>{try{return this.engine.find(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),je(this,"authenticate",async(r,s)=>{try{return await this.engine.authenticate(r,s)}catch(i){throw this.logger.error(i.message),i}}),je(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),je(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(s){throw this.logger.error(s.message),s}}),this.name=(t==null?void 0:t.name)||Lv.name,this.metadata=Bne(t==null?void 0:t.metadata),this.signConfig=t==null?void 0:t.signConfig;const n=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Cp(Ap({level:(t==null?void 0:t.logger)||Lv.logger}));this.core=(t==null?void 0:t.core)||new fde(t),this.logger=Zn(n,this.name),this.session=new Dde(this.core,this.logger),this.proposal=new Pde(this.core,this.logger),this.pendingRequest=new Ode(this.core,this.logger),this.engine=new Tde(this),this.auth=new Lde(this.core,this.logger)}static async init(t){const n=new gM(t);return await n.initialize(),n}get context(){return Ar(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var Rx={exports:{}};(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof pr<"u"&&pr,r=function(){function i(){this.fetch=!1,this.DOMException=n.DOMException}return i.prototype=n,new i}();(function(i){(function(o){var a=typeof i<"u"&&i||typeof self<"u"&&self||typeof pr<"u"&&pr||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(I){return I&&DataView.prototype.isPrototypeOf(I)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(I){return I&&u.indexOf(Object.prototype.toString.call(I))>-1};function f(I){if(typeof I!="string"&&(I=String(I)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(I)||I==="")throw new TypeError('Invalid character in header field name: "'+I+'"');return I.toLowerCase()}function h(I){return typeof I!="string"&&(I=String(I)),I}function m(I){var _={next:function(){var k=I.shift();return{done:k===void 0,value:k}}};return c.iterable&&(_[Symbol.iterator]=function(){return _}),_}function g(I){this.map={},I instanceof g?I.forEach(function(_,k){this.append(k,_)},this):Array.isArray(I)?I.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):I&&Object.getOwnPropertyNames(I).forEach(function(_){this.append(_,I[_])},this)}g.prototype.append=function(I,_){I=f(I),_=h(_);var k=this.map[I];this.map[I]=k?k+", "+_:_},g.prototype.delete=function(I){delete this.map[f(I)]},g.prototype.get=function(I){return I=f(I),this.has(I)?this.map[I]:null},g.prototype.has=function(I){return this.map.hasOwnProperty(f(I))},g.prototype.set=function(I,_){this.map[f(I)]=h(_)},g.prototype.forEach=function(I,_){for(var k in this.map)this.map.hasOwnProperty(k)&&I.call(_,this.map[k],k,this)},g.prototype.keys=function(){var I=[];return this.forEach(function(_,k){I.push(k)}),m(I)},g.prototype.values=function(){var I=[];return this.forEach(function(_){I.push(_)}),m(I)},g.prototype.entries=function(){var I=[];return this.forEach(function(_,k){I.push([k,_])}),m(I)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(I){if(!I._noBody){if(I.bodyUsed)return Promise.reject(new TypeError("Already read"));I.bodyUsed=!0}}function w(I){return new Promise(function(_,k){I.onload=function(){_(I.result)},I.onerror=function(){k(I.error)}})}function v(I){var _=new FileReader,k=w(_);return _.readAsArrayBuffer(I),k}function b(I){var _=new FileReader,k=w(_),T=/charset=([A-Za-z0-9_-]+)/.exec(I.type),$=T?T[1]:"utf-8";return _.readAsText(I,$),k}function x(I){for(var _=new Uint8Array(I),k=new Array(_.length),T=0;T<_.length;T++)k[T]=String.fromCharCode(_[T]);return k.join("")}function E(I){if(I.slice)return I.slice(0);var _=new Uint8Array(I.byteLength);return _.set(new Uint8Array(I)),_.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(I){this.bodyUsed=this.bodyUsed,this._bodyInit=I,I?typeof I=="string"?this._bodyText=I:c.blob&&Blob.prototype.isPrototypeOf(I)?this._bodyBlob=I:c.formData&&FormData.prototype.isPrototypeOf(I)?this._bodyFormData=I:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)?this._bodyText=I.toString():c.arrayBuffer&&c.blob&&l(I)?(this._bodyArrayBuffer=E(I.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(I)||d(I))?this._bodyArrayBuffer=E(I):this._bodyText=I=Object.prototype.toString.call(I):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof I=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(I)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var I=y(this);return I||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(v);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var I=y(this);if(I)return I;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(j)}),this.json=function(){return this.text().then(JSON.parse)},this}var A=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function C(I){var _=I.toUpperCase();return A.indexOf(_)>-1?_:I}function N(I,_){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var k=_.body;if(I instanceof N){if(I.bodyUsed)throw new TypeError("Already read");this.url=I.url,this.credentials=I.credentials,_.headers||(this.headers=new g(I.headers)),this.method=I.method,this.mode=I.mode,this.signal=I.signal,!k&&I._bodyInit!=null&&(k=I._bodyInit,I.bodyUsed=!0)}else this.url=String(I);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new g(_.headers)),this.method=C(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in a){var R=new AbortController;return R.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(k),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var T=/([?&])_=[^&]*/;if(T.test(this.url))this.url=this.url.replace(T,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function j(I){var _=new FormData;return I.trim().split("&").forEach(function(k){if(k){var T=k.split("="),$=T.shift().replace(/\+/g," "),R=T.join("=").replace(/\+/g," ");_.append(decodeURIComponent($),decodeURIComponent(R))}}),_}function M(I){var _=new g,k=I.replace(/\r?\n[\t ]+/g," ");return k.split("\r").map(function(T){return T.indexOf(`
`)===0?T.substr(1,T.length):T}).forEach(function(T){var $=T.split(":"),R=$.shift().trim();if(R){var z=$.join(":").trim();try{_.append(R,z)}catch(W){console.warn("Response "+W.message)}}}),_}S.call(N.prototype);function L(I,_){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new g(_.headers),this.url=_.url||"",this._initBody(I)}S.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},L.error=function(){var I=new L(null,{status:200,statusText:""});return I.ok=!1,I.status=0,I.type="error",I};var B=[301,302,303,307,308];L.redirect=function(I,_){if(B.indexOf(_)===-1)throw new RangeError("Invalid status code");return new L(null,{status:_,headers:{location:I}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,k){this.message=_,this.name=k;var T=Error(_);this.stack=T.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function U(I,_){return new Promise(function(k,T){var $=new N(I,_);if($.signal&&$.signal.aborted)return T(new o.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function z(){R.abort()}R.onload=function(){var H={statusText:R.statusText,headers:M(R.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(R.status<200||R.status>599)?H.status=200:H.status=R.status,H.url="responseURL"in R?R.responseURL:H.headers.get("X-Request-URL");var Q="response"in R?R.response:R.responseText;setTimeout(function(){k(new L(Q,H))},0)},R.onerror=function(){setTimeout(function(){T(new TypeError("Network request failed"))},0)},R.ontimeout=function(){setTimeout(function(){T(new TypeError("Network request timed out"))},0)},R.onabort=function(){setTimeout(function(){T(new o.DOMException("Aborted","AbortError"))},0)};function W(H){try{return H===""&&a.location.href?a.location.href:H}catch{return H}}if(R.open($.method,W($.url),!0),$.credentials==="include"?R.withCredentials=!0:$.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&(c.blob?R.responseType="blob":c.arrayBuffer&&(R.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof g||a.Headers&&_.headers instanceof a.Headers)){var V=[];Object.getOwnPropertyNames(_.headers).forEach(function(H){V.push(f(H)),R.setRequestHeader(H,h(_.headers[H]))}),$.headers.forEach(function(H,Q){V.indexOf(Q)===-1&&R.setRequestHeader(Q,H)})}else $.headers.forEach(function(H,Q){R.setRequestHeader(Q,H)});$.signal&&($.signal.addEventListener("abort",z),R.onreadystatechange=function(){R.readyState===4&&$.signal.removeEventListener("abort",z)}),R.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return U.polyfill=!0,a.fetch||(a.fetch=U,a.Headers=g,a.Request=N,a.Response=L),o.Headers=g,o.Request=N,o.Response=L,o.fetch=U,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=n.fetch?n:r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t})(Rx,Rx.exports);var zde=Rx.exports;const e3=cp(zde);var Vde=Object.defineProperty,Hde=Object.defineProperties,Wde=Object.getOwnPropertyDescriptors,t3=Object.getOwnPropertySymbols,qde=Object.prototype.hasOwnProperty,Kde=Object.prototype.propertyIsEnumerable,n3=(e,t,n)=>t in e?Vde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r3=(e,t)=>{for(var n in t||(t={}))qde.call(t,n)&&n3(e,n,t[n]);if(t3)for(var n of t3(t))Kde.call(t,n)&&n3(e,n,t[n]);return e},s3=(e,t)=>Hde(e,Wde(t));const Gde={Accept:"application/json","Content-Type":"application/json"},Yde="POST",i3={headers:Gde,method:Yde},o3=10;let Ys=class{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new Cs.EventEmitter,this.isAvailable=!1,this.registering=!1,!CT(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=wo(t),r=await(await e3(this.url,s3(r3({},i3),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!CT(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=wo({id:1,jsonrpc:"2.0",method:"test",params:[]});await e3(t,s3(r3({},i3),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?Vc(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),s=r.message||r.toString(),i=Xy(t,s);this.events.emit("payload",i)}parseError(t,n=this.url){return Wj(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>o3&&this.events.setMaxListeners(o3)}};const a3="error",Qde="wss://relay.walletconnect.org",Xde="wc",Zde="universal_provider",qm=`${Xde}@2:${Zde}:`,yM="https://rpc.walletconnect.org/v1/",Fl="generic",Jde=`${yM}bundler`,As={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function k2(e){return e==null||typeof e!="object"&&typeof e!="function"}function wM(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function vM(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const efe="[object RegExp]",bM="[object String]",xM="[object Number]",EM="[object Boolean]",CM="[object Arguments]",tfe="[object Symbol]",nfe="[object Date]",rfe="[object Map]",sfe="[object Set]",ife="[object Array]",ofe="[object ArrayBuffer]",afe="[object Object]",cfe="[object DataView]",lfe="[object Uint8Array]",ufe="[object Uint8ClampedArray]",dfe="[object Uint16Array]",ffe="[object Uint32Array]",hfe="[object Int8Array]",pfe="[object Int16Array]",mfe="[object Int32Array]",gfe="[object Float32Array]",yfe="[object Float64Array]";function $2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wfe(e,t){return iu(e,void 0,e,new Map,t)}function iu(e,t,n,r=new Map,s=void 0){const i=s==null?void 0:s(e,t,n,r);if(i!=null)return i;if(k2(e))return e;if(r.has(e))return r.get(e);if(Array.isArray(e)){const o=new Array(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=iu(e[a],a,n,r,s);return Object.hasOwn(e,"index")&&(o.index=e.index),Object.hasOwn(e,"input")&&(o.input=e.input),o}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const o=new RegExp(e.source,e.flags);return o.lastIndex=e.lastIndex,o}if(e instanceof Map){const o=new Map;r.set(e,o);for(const[a,c]of e)o.set(a,iu(c,a,n,r,s));return o}if(e instanceof Set){const o=new Set;r.set(e,o);for(const a of e)o.add(iu(a,void 0,n,r,s));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if($2(e)){const o=new(Object.getPrototypeOf(e)).constructor(e.length);r.set(e,o);for(let a=0;a<e.length;a++)o[a]=iu(e[a],a,n,r,s);return o}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const o=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return r.set(e,o),dc(o,e,n,r,s),o}if(typeof File<"u"&&e instanceof File){const o=new File([e],e.name,{type:e.type});return r.set(e,o),dc(o,e,n,r,s),o}if(e instanceof Blob){const o=new Blob([e],{type:e.type});return r.set(e,o),dc(o,e,n,r,s),o}if(e instanceof Error){const o=new e.constructor;return r.set(e,o),o.message=e.message,o.name=e.name,o.stack=e.stack,o.cause=e.cause,dc(o,e,n,r,s),o}if(typeof e=="object"&&vfe(e)){const o=Object.create(Object.getPrototypeOf(e));return r.set(e,o),dc(o,e,n,r,s),o}return e}function dc(e,t,n=e,r,s){const i=[...Object.keys(t),...wM(t)];for(let o=0;o<i.length;o++){const a=i[o],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=iu(t[a],a,n,r,s))}}function vfe(e){switch(vM(e)){case CM:case ife:case ofe:case cfe:case EM:case nfe:case gfe:case yfe:case hfe:case pfe:case mfe:case rfe:case xM:case afe:case efe:case sfe:case bM:case tfe:case lfe:case ufe:case dfe:case ffe:return!0;default:return!1}}function bfe(e,t){return wfe(e,(n,r,s,i)=>{if(typeof e=="object")switch(Object.prototype.toString.call(e)){case xM:case bM:case EM:{const o=new e.constructor(e==null?void 0:e.valueOf());return dc(o,e),o}case CM:{const o={};return dc(o,e),o.length=e.length,o[Symbol.iterator]=e[Symbol.iterator],o}default:return}})}function c3(e){return bfe(e)}function l3(e){return e!==null&&typeof e=="object"&&vM(e)==="[object Arguments]"}function u3(e){return typeof e=="object"&&e!==null}function xfe(){}function Efe(e){return $2(e)}function Cfe(e){var n;if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){const r=e[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))!=null&&n.writable)?!1:e.toString()===`[object ${r}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Sfe(e){if(k2(e))return e;if(Array.isArray(e)||$2(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);const t=Object.getPrototypeOf(e),n=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new n(e);if(e instanceof RegExp){const r=new n(e);return r.lastIndex=e.lastIndex,r}if(e instanceof DataView)return new n(e.buffer.slice(0));if(e instanceof Error){const r=new n(e.message);return r.stack=e.stack,r.name=e.name,r.cause=e.cause,r}if(typeof File<"u"&&e instanceof File)return new n([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){const r=Object.create(t);return Object.assign(r,e)}return e}function Afe(e,...t){const n=t.slice(0,-1),r=t[t.length-1];let s=e;for(let i=0;i<n.length;i++){const o=n[i];s=jx(s,o,r,new Map)}return s}function jx(e,t,n,r){if(k2(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(r.has(t))return Sfe(r.get(t));if(r.set(t,e),Array.isArray(t)){t=t.slice();for(let i=0;i<t.length;i++)t[i]=t[i]??void 0}const s=[...Object.keys(t),...wM(t)];for(let i=0;i<s.length;i++){const o=s[i];let a=t[o],c=e[o];if(l3(a)&&(a={...a}),l3(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=c3(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let f=0;f<d.length;f++){const h=d[f];u[h]=c[h]}c=u}else c=[];const l=n(c,a,o,e,t,r);l!=null?e[o]=l:Array.isArray(a)||u3(c)&&u3(a)?e[o]=jx(c,a,n,r):c==null&&Cfe(a)?e[o]=jx({},a,n,r):c==null&&Efe(a)?e[o]=c3(a):(c===void 0||a!==void 0)&&(e[o]=a)}return e}function Nfe(e,...t){return Afe(e,...t,xfe)}var Ife=Object.defineProperty,_fe=Object.defineProperties,Tfe=Object.getOwnPropertyDescriptors,d3=Object.getOwnPropertySymbols,Pfe=Object.prototype.hasOwnProperty,Dfe=Object.prototype.propertyIsEnumerable,f3=(e,t,n)=>t in e?Ife(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Km=(e,t)=>{for(var n in t||(t={}))Pfe.call(t,n)&&f3(e,n,t[n]);if(d3)for(var n of d3(t))Dfe.call(t,n)&&f3(e,n,t[n]);return e},Ofe=(e,t)=>_fe(e,Tfe(t));function qr(e,t,n){var r;const s=Cu(e);return((r=t.rpcMap)==null?void 0:r[s.reference])||`${yM}?chainId=${s.namespace}:${s.reference}&projectId=${n}`}function il(e){return e.includes(":")?e.split(":")[1]:e}function SM(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function kfe(e,t){const n=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!n.length)return[];const r=[];return n.forEach(s=>{const i=t.namespaces[s].accounts;r.push(...i)}),r}function h3(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>{var r,s;return((r=n==null?void 0:n.chains)==null?void 0:r.length)&&((s=n==null?void 0:n.chains)==null?void 0:s.length)>0}))}function Gm(e={},t={}){const n=h3(p3(e)),r=h3(p3(t));return Nfe(n,r)}function p3(e){var t,n,r,s,i;const o={};if(!Ii(e))return o;for(const[a,c]of Object.entries(e)){const l=Yy(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],f=c.rpcMap||{},h=su(a);o[h]=Ofe(Km(Km({},o[h]),c),{chains:Ni(l,(t=o[h])==null?void 0:t.chains),methods:Ni(u,(n=o[h])==null?void 0:n.methods),events:Ni(d,(r=o[h])==null?void 0:r.events)}),(Ii(f)||Ii(((s=o[h])==null?void 0:s.rpcMap)||{}))&&(o[h].rpcMap=Km(Km({},f),(i=o[h])==null?void 0:i.rpcMap))}return o}function m3(e){return e.includes(":")?e.split(":")[2]:e}function g3(e){const t={};for(const[n,r]of Object.entries(e)){const s=r.methods||[],i=r.events||[],o=r.accounts||[],a=Yy(n)?[n]:r.chains?r.chains:SM(r.accounts);t[n]={chains:a,methods:s,events:i,accounts:o}}return t}function Fv(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const AM={},Ke=e=>AM[e],zv=(e,t)=>{AM[e]=t};var $fe=Object.defineProperty,y3=Object.getOwnPropertySymbols,Rfe=Object.prototype.hasOwnProperty,jfe=Object.prototype.propertyIsEnumerable,w3=(e,t,n)=>t in e?$fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v3=(e,t)=>{for(var n in t||(t={}))Rfe.call(t,n)&&w3(e,n,t[n]);if(y3)for(var n of y3(t))jfe.call(t,n)&&w3(e,n,t[n]);return e};const b3="eip155",Mfe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Lfe=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,Vv=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,x3=e=>Object.keys(e).filter(t=>Mfe.includes(t)).reduce((t,n)=>(t[n]=e[n],t),{}),Ufe=(e,t,n)=>{const{sessionProperties:r={},scopedProperties:s={}}=e,i={};if(!Ii(s)&&!Ii(r))return;const o=x3(r);for(const a of n){const c=Lfe(a);if(!c)continue;i[Vv(c)]=o;const l=s==null?void 0:s[`${b3}:${c}`];if(l){const u=l==null?void 0:l[`${b3}:${c}:${t}`];i[Vv(c)]=v3(v3({},i[Vv(c)]),x3(u||l))}}for(const[a,c]of Object.entries(i))Object.keys(c).length===0&&delete i[a];return Object.keys(i).length>0?i:void 0};var Bfe=Object.defineProperty,Ffe=(e,t,n)=>t in e?Bfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nl=(e,t,n)=>Ffe(e,typeof t!="symbol"?t+"":t,n);let zfe=class{constructor(t){Nl(this,"name","polkadot"),Nl(this,"client"),Nl(this,"httpProviders"),Nl(this,"events"),Nl(this,"namespace"),Nl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=il(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ss(new Ys(r,Ke("disableProviderPing")))}};var Vfe=Object.defineProperty,Hfe=Object.defineProperties,Wfe=Object.getOwnPropertyDescriptors,E3=Object.getOwnPropertySymbols,qfe=Object.prototype.hasOwnProperty,Kfe=Object.prototype.propertyIsEnumerable,Mx=(e,t,n)=>t in e?Vfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C3=(e,t)=>{for(var n in t||(t={}))qfe.call(t,n)&&Mx(e,n,t[n]);if(E3)for(var n of E3(t))Kfe.call(t,n)&&Mx(e,n,t[n]);return e},S3=(e,t)=>Hfe(e,Wfe(t)),Il=(e,t,n)=>Mx(e,typeof t!="symbol"?t+"":t,n);let Gfe=class{constructor(t){Il(this,"name","eip155"),Il(this,"client"),Il(this,"chainId"),Il(this,"namespace"),Il(this,"httpProviders"),Il(this,"events"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(parseInt(t),n),this.chainId=parseInt(t),this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,n){const r=n||qr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ss(new Ys(r,Ke("disableProviderPing")))}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=parseInt(il(n));t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}async handleSwitchChain(t){var n,r;let s=t.request.params?(n=t.request.params[0])==null?void 0:n.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;const i=parseInt(s,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var n,r,s,i,o;const a=(r=(n=t.request)==null?void 0:n.params)==null?void 0:r[0],c=((i=(s=t.request)==null?void 0:s.params)==null?void 0:i[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(t.topic),u=((o=l==null?void 0:l.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,f=u==null?void 0:u[d];if(f)return f;let h;try{h=Ufe(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(h)return h;const m=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:S3(C3({},l.sessionProperties||{}),{capabilities:S3(C3({},u||{}),{[d]:m})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return m}async getCallStatus(t){var n,r;const s=this.client.session.get(t.topic),i=(n=s.sessionProperties)==null?void 0:n.bundler_name;if(i){const a=this.getBundlerUrl(t.chainId,i);try{return await this.getUserOperationReceipt(a,t)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=s.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,t)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,n){var r;const s=new URL(t),i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(da("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(t,n){return`${Jde}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${n}`}};var Yfe=Object.defineProperty,Qfe=(e,t,n)=>t in e?Yfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_l=(e,t,n)=>Qfe(e,typeof t!="symbol"?t+"":t,n);let Xfe=class{constructor(t){_l(this,"name","solana"),_l(this,"client"),_l(this,"httpProviders"),_l(this,"events"),_l(this,"namespace"),_l(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=il(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ss(new Ys(r,Ke("disableProviderPing")))}};var Zfe=Object.defineProperty,Jfe=(e,t,n)=>t in e?Zfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tl=(e,t,n)=>Jfe(e,typeof t!="symbol"?t+"":t,n);let ehe=class{constructor(t){Tl(this,"name","cosmos"),Tl(this,"client"),Tl(this,"httpProviders"),Tl(this,"events"),Tl(this,"namespace"),Tl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=il(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ss(new Ys(r,Ke("disableProviderPing")))}};var the=Object.defineProperty,nhe=(e,t,n)=>t in e?the(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pl=(e,t,n)=>nhe(e,typeof t!="symbol"?t+"":t,n);let rhe=class{constructor(t){Pl(this,"name","algorand"),Pl(this,"client"),Pl(this,"httpProviders"),Pl(this,"events"),Pl(this,"namespace"),Pl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(!this.httpProviders[t]){const r=n||qr(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Ss(new Ys(r,Ke("disableProviderPing")))}};var she=Object.defineProperty,ihe=(e,t,n)=>t in e?she(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Dl=(e,t,n)=>ihe(e,typeof t!="symbol"?t+"":t,n);class ohe{constructor(t){Dl(this,"name","cip34"),Dl(this,"client"),Dl(this,"httpProviders"),Dl(this,"events"),Dl(this,"namespace"),Dl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),s=il(n);t[s]=this.createHttpProvider(s,r)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}getCardanoRPCUrl(t){const n=this.namespace.rpcMap;if(n)return n[t]}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ss(new Ys(r,Ke("disableProviderPing")))}}var ahe=Object.defineProperty,che=(e,t,n)=>t in e?ahe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ol=(e,t,n)=>che(e,typeof t!="symbol"?t+"":t,n);let lhe=class{constructor(t){Ol(this,"name","elrond"),Ol(this,"client"),Ol(this,"httpProviders"),Ol(this,"events"),Ol(this,"namespace"),Ol(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=il(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ss(new Ys(r,Ke("disableProviderPing")))}};var uhe=Object.defineProperty,dhe=(e,t,n)=>t in e?uhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kl=(e,t,n)=>dhe(e,typeof t!="symbol"?t+"":t,n);class fhe{constructor(t){kl(this,"name","multiversx"),kl(this,"client"),kl(this,"httpProviders"),kl(this,"events"),kl(this,"namespace"),kl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;const s=il(n);t[s]=this.createHttpProvider(s,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ss(new Ys(r,Ke("disableProviderPing")))}}var hhe=Object.defineProperty,phe=(e,t,n)=>t in e?hhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$l=(e,t,n)=>phe(e,typeof t!="symbol"?t+"":t,n);class mhe{constructor(t){$l(this,"name","near"),$l(this,"client"),$l(this,"httpProviders"),$l(this,"events"),$l(this,"namespace"),$l(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||qr(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{var r;t[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace);return typeof r>"u"?void 0:new Ss(new Ys(r,Ke("disableProviderPing")))}}var ghe=Object.defineProperty,yhe=(e,t,n)=>t in e?ghe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rl=(e,t,n)=>yhe(e,typeof t!="symbol"?t+"":t,n);class whe{constructor(t){Rl(this,"name","tezos"),Rl(this,"client"),Rl(this,"httpProviders"),Rl(this,"events"),Rl(this,"namespace"),Rl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,n){if(this.chainId=t,!this.httpProviders[t]){const r=n||qr(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(n=>{t[n]=this.createHttpProvider(n)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace);return typeof r>"u"?void 0:new Ss(new Ys(r))}}var vhe=Object.defineProperty,bhe=(e,t,n)=>t in e?vhe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,jl=(e,t,n)=>bhe(e,typeof t!="symbol"?t+"":t,n);class xhe{constructor(t){jl(this,"name",Fl),jl(this,"client"),jl(this,"httpProviders"),jl(this,"events"),jl(this,"namespace"),jl(this,"chainId"),this.namespace=t.namespace,this.events=Ke("events"),this.client=Ke("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,n){this.httpProviders[t]||this.setHttpProvider(t,n),this.chainId=t,this.events.emit(As.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var t,n;const r={};return(n=(t=this.namespace)==null?void 0:t.accounts)==null||n.forEach(s=>{const i=Cu(s);r[`${i.namespace}:${i.reference}`]=this.createHttpProvider(s)}),r}getHttpProvider(t){const n=this.httpProviders[t];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,n){const r=this.createHttpProvider(t,n);r&&(this.httpProviders[t]=r)}createHttpProvider(t,n){const r=n||qr(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new Ss(new Ys(r,Ke("disableProviderPing")))}}var Ehe=Object.defineProperty,Che=Object.defineProperties,She=Object.getOwnPropertyDescriptors,A3=Object.getOwnPropertySymbols,Ahe=Object.prototype.hasOwnProperty,Nhe=Object.prototype.propertyIsEnumerable,Lx=(e,t,n)=>t in e?Ehe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ym=(e,t)=>{for(var n in t||(t={}))Ahe.call(t,n)&&Lx(e,n,t[n]);if(A3)for(var n of A3(t))Nhe.call(t,n)&&Lx(e,n,t[n]);return e},Hv=(e,t)=>Che(e,She(t)),rs=(e,t,n)=>Lx(e,typeof t!="symbol"?t+"":t,n);class tw{constructor(t){rs(this,"client"),rs(this,"namespaces"),rs(this,"optionalNamespaces"),rs(this,"sessionProperties"),rs(this,"scopedProperties"),rs(this,"events",new e2),rs(this,"rpcProviders",{}),rs(this,"session"),rs(this,"providerOpts"),rs(this,"logger"),rs(this,"uri"),rs(this,"disableProviderPing",!1),this.providerOpts=t,this.logger=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Cp(Ap({level:(t==null?void 0:t.logger)||a3})),this.disableProviderPing=(t==null?void 0:t.disableProviderPing)||!1}static async init(t){const n=new tw(t);return await n.initialize(),n}async request(t,n,r){const[s,i]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:Ym({},t),chainId:`${s}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(t,n,r,s){const i=new Date().getTime();this.request(t,r,s).then(o=>n(null,Qy(i,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:wt("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:s}=await this.client.authenticate(t,n);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await s();if(this.session=i.session,this.session){const o=g3(this.session.namespaces);this.namespaces=Gm(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}removeListener(t,n){this.events.removeListener(t,n)}off(t,n){this.events.off(t,n)}get isWalletConnect(){return!0}async pair(t){const{uri:n,approval:r}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const s=await r();this.session=s;const i=g3(s.namespaces);return this.namespaces=Gm(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,n){try{if(!this.session)return;const[r,s]=this.validateChain(t),i=this.getProvider(r);i.name===Fl?i.setDefaultChain(`${r}:${s}`,n):i.setDefaultChain(s,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(co(n)){for(const r of n)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,n;if(this.client=this.providerOpts.client||await Fde.init({core:this.providerOpts.core,logger:this.providerOpts.logger||a3,relayUrl:this.providerOpts.relayUrl||Qde,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(n=>su(n)))];zv("client",this.client),zv("events",this.events),zv("disableProviderPing",this.disableProviderPing),t.forEach(n=>{if(!this.session)return;const r=kfe(n,this.session);if((r==null?void 0:r.length)===0)return;const s=SM(r),i=Gm(this.namespaces,this.optionalNamespaces),o=Hv(Ym({},i[n]),{accounts:r,chains:s});switch(n){case"eip155":this.rpcProviders[n]=new Gfe({namespace:o});break;case"algorand":this.rpcProviders[n]=new rhe({namespace:o});break;case"solana":this.rpcProviders[n]=new Xfe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new ehe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new zfe({namespace:o});break;case"cip34":this.rpcProviders[n]=new ohe({namespace:o});break;case"elrond":this.rpcProviders[n]=new lhe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new fhe({namespace:o});break;case"near":this.rpcProviders[n]=new mhe({namespace:o});break;case"tezos":this.rpcProviders[n]=new whe({namespace:o});break;default:this.rpcProviders[Fl]?this.rpcProviders[Fl].updateNamespace(o):this.rpcProviders[Fl]=new xhe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var n;const{topic:r}=t;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var n;const{params:r,topic:s}=t;if(s!==((n=this.session)==null?void 0:n.topic))return;const{event:i}=r;if(i.name==="accountsChanged"){const o=i.data;o&&co(o)&&this.events.emit("accountsChanged",o.map(m3))}else if(i.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=su(o),l=Fv(o)!==Fv(a)?`${c}:${Fv(a)}`:o;this.onChainChanged(l)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:n})=>{var r,s;if(t!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:i}=n,o=(s=this.client)==null?void 0:s.session.get(t);this.session=Hv(Ym({},o),{namespaces:i}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:n})}),this.client.on("session_delete",async t=>{var n;t.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",Hv(Ym({},wt("USER_DISCONNECTED")),{data:t.topic})))}),this.on(As.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[Fl]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var n;this.getProvider(t).updateNamespace((n=this.session)==null?void 0:n.namespaces[t])})}setNamespaces(t){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:s,scopedProperties:i}=t;this.optionalNamespaces=Gm(n,r),this.sessionProperties=s,this.scopedProperties=i}validateChain(t){const[n,r]=(t==null?void 0:t.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>su(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const s=su(Object.keys(this.namespaces)[0]),i=this.rpcProviders[s].getDefaultChain();return[s,i]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged(t,n=!1){if(!this.namespaces)return;const[r,s]=this.validateChain(t);if(!s)return;this.updateNamespaceChain(r,s),this.events.emit("chainChanged",s);const i=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(s),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:t}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:t,previousChainId:n,newChainId:r}){var s,i;try{if(n===r)return;const o=(i=(s=this.session)==null?void 0:s.namespaces[t])==null?void 0:i.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(m3);if(!co(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(t,n){if(!this.namespaces)return;const r=this.namespaces[t]?t:`${t}:${n}`,s={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,n){var r;const s=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${qm}/${t}${s}`,n)}async getFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${qm}/${t}${r}`)}async deleteFromStore(t){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${qm}/${t}${r}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(qm)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}const Ihe=tw;var N3={};const G={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof N3<"u"?N3.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},NM={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return(e==null?void 0:e.filter(n=>n.chainNamespace===t))||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){var s;if(!t)return;const n=e.find(i=>i.caipNetworkId===t);if(n)return n.name;const[r]=t.split(":");return((s=G.CHAIN_NAME_MAP)==null?void 0:s[r])||void 0}},IM=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var _he=20,The=1,Kc=1e6,I3=1e6,Phe=-7,Dhe=21,Ohe=!1,kp="[big.js] ",ol=kp+"Invalid ",nw=ol+"decimal places",khe=ol+"rounding mode",_M=kp+"Division by zero",tt={},_i=void 0,$he=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function TM(){function e(t){var n=this;if(!(n instanceof e))return t===_i?TM():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(ol+"value");t=t===0&&1/t<0?"-0":String(t)}Rhe(n,t)}n.constructor=e}return e.prototype=tt,e.DP=_he,e.RM=The,e.NE=Phe,e.PE=Dhe,e.strict=Ohe,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function Rhe(e,t){var n,r,s;if(!$he.test(t))throw Error(ol+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=s;)e.c[n++]=+t.charAt(r++)}return e}function al(e,t,n,r){var s=e.c;if(n===_i&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(khe);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==_i))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==_i||s[t-1]&1))||n===3&&(r||!!s[0]),s.length=t,r){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function cl(e,t,n){var r=e.e,s=e.c.join(""),i=s.length;if(t)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}tt.abs=function(){var e=new this.constructor(this);return e.s=1,e};tt.cmp=function(e){var t,n=this,r=n.c,s=(e=new n.constructor(e)).c,i=n.s,o=e.s,a=n.e,c=e.e;if(!r[0]||!s[0])return r[0]?i:s[0]?-o:0;if(i!=o)return i;if(t=i<0,a!=c)return a>c^t?1:-1;for(o=(a=r.length)<(c=s.length)?a:c,i=-1;++i<o;)if(r[i]!=s[i])return r[i]>s[i]^t?1:-1;return a==c?0:a>c^t?1:-1};tt.div=function(e){var t=this,n=t.constructor,r=t.c,s=(e=new n(e)).c,i=t.s==e.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Kc)throw Error(nw);if(!s[0])throw Error(_M);if(!r[0])return e.s=i,e.c=[e.e=0],e;var a,c,l,u,d,f=s.slice(),h=a=s.length,m=r.length,g=r.slice(0,a),y=g.length,w=e,v=w.c=[],b=0,x=o+(w.e=t.e-e.e)+1;for(w.s=i,i=x<0?0:x,f.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=y==a?s:f;y;){if(g[--y]<c[y]){for(d=y;d&&!g[--d];)g[d]=9;--g[d],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}v[b++]=u?l:++l,g[0]&&u?g[y]=r[h]||0:g=[r[h]]}while((h++<m||g[0]!==_i)&&i--);return!v[0]&&b!=1&&(v.shift(),w.e--,x--),b>x&&al(w,x,n.RM,g[0]!==_i),w};tt.eq=function(e){return this.cmp(e)===0};tt.gt=function(e){return this.cmp(e)>0};tt.gte=function(e){return this.cmp(e)>-1};tt.lt=function(e){return this.cmp(e)<0};tt.lte=function(e){return this.cmp(e)<1};tt.minus=tt.sub=function(e){var t,n,r,s,i=this,o=i.constructor,a=i.s,c=(e=new o(e)).s;if(a!=c)return e.s=-c,i.plus(e);var l=i.c.slice(),u=i.e,d=e.c,f=e.e;if(!l[0]||!d[0])return d[0]?e.s=-c:l[0]?e=new o(i):e.s=1,e;if(a=u-f){for((s=a<0)?(a=-a,r=l):(f=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((s=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(r=l,l=d,d=r,e.s=-e.s),(c=(n=d.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;n>a;){if(l[--n]<d[n]){for(t=n;t&&!l[--t];)l[t]=9;--l[t],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--f;return l[0]||(e.s=1,l=[f=0]),e.c=l,e.e=f,e};tt.mod=function(e){var t,n=this,r=n.constructor,s=n.s,i=(e=new r(e)).s;if(!e.c[0])throw Error(_M);return n.s=e.s=1,t=e.cmp(n)==1,n.s=s,e.s=i,t?new r(n):(s=r.DP,i=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=s,r.RM=i,this.minus(n.times(e)))};tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};tt.plus=tt.add=function(e){var t,n,r,s=this,i=s.constructor;if(e=new i(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var o=s.e,a=s.c,c=e.e,l=e.c;if(!a[0]||!l[0])return l[0]||(a[0]?e=new i(s):e.s=s.s),e;if(a=a.slice(),t=o-c){for(t>0?(c=o,r=l):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),t=l.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+l[t]+n)/10|0;for(n&&(a.unshift(n),++c),t=a.length;a[--t]===0;)a.pop();return e.c=a,e.e=c,e};tt.pow=function(e){var t=this,n=new t.constructor("1"),r=n,s=e<0;if(e!==~~e||e<-I3||e>I3)throw Error(ol+"exponent");for(s&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return s?n.div(r):r};tt.prec=function(e,t){if(e!==~~e||e<1||e>Kc)throw Error(ol+"precision");return al(new this.constructor(this),e,t)};tt.round=function(e,t){if(e===_i)e=0;else if(e!==~~e||e<-Kc||e>Kc)throw Error(nw);return al(new this.constructor(this),e+this.e+1,t)};tt.sqrt=function(){var e,t,n,r=this,s=r.constructor,i=r.s,o=r.e,a=new s("0.5");if(!r.c[0])return new s(r);if(i<0)throw Error(kp+"No square root");i=Math.sqrt(+cl(r,!0,!0)),i===0||i===1/0?(t=r.c.join(""),t.length+o&1||(t+="0"),i=Math.sqrt(t),o=((o+1)/2|0)-(o<0||o&1),e=new s((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):e=new s(i+""),o=e.e+(s.DP+=4);do n=e,e=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return al(e,(s.DP-=4)+e.e+1,s.RM)};tt.times=tt.mul=function(e){var t,n=this,r=n.constructor,s=n.c,i=(e=new r(e)).c,o=s.length,a=i.length,c=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!s[0]||!i[0])return e.c=[e.e=0],e;for(e.e=c+l,o<a&&(t=s,s=i,i=t,l=o,o=a,a=l),t=new Array(l=o+a);l--;)t[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=t[l]+i[c]*s[l-c-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};tt.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==_i){if(e!==~~e||e<0||e>Kc)throw Error(nw);for(n=al(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return cl(n,!0,!!r)};tt.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==_i){if(e!==~~e||e<0||e>Kc)throw Error(nw);for(n=al(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return cl(n,!1,!!r)};tt[Symbol.for("nodejs.util.inspect.custom")]=tt.toJSON=tt.toString=function(){var e=this,t=e.constructor;return cl(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};tt.toNumber=function(){var e=+cl(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(kp+"Imprecise conversion");return e};tt.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==_i){if(e!==~~e||e<1||e>Kc)throw Error(ol+"precision");for(n=al(new r(n),e,t);n.c.length<e;)n.c.push(0)}return cl(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};tt.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(kp+"valueOf disallowed");return cl(e,e.e<=t.NE||e.e>=t.PE,!0)};var Kd=TM();const jhe={bigNumber(e){return e?new Kd(e):new Kd(0)},multiply(e,t){if(e===void 0||t===void 0)return new Kd(0);const n=new Kd(e),r=new Kd(t);return n.times(r)},formatNumberToLocalString(e,t=2){return e===void 0?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t})},parseLocalStringToNumber(e){return e===void 0?0:parseFloat(e.replace(/,/gu,""))}},Mhe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Lhe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Uhe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Bhe={getERC20Abi:e=>G.USDT_CONTRACT_ADDRESSES.includes(e)?Uhe:Mhe,getSwapAbi:()=>Lhe},Ur={validateCaipAddress(e){var t;if(((t=e.split(":"))==null?void 0:t.length)!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){const t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);const[n,r,s]=t;if(!n||!r||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:n,chainId:r,address:s}},parseCaipNetworkId(e){const t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);const[n,r]=t;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:n,chainId:r}}},ve={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function Wv(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}const ye={setItem(e,t){ou()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(ou())return localStorage.getItem(e)||void 0},removeItem(e){ou()&&localStorage.removeItem(e)},clear(){ou()&&localStorage.clear()}};function ou(){return typeof window<"u"&&typeof localStorage<"u"}function fa(e,t){return t==="light"?{"--w3m-accent":(e==null?void 0:e["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(e==null?void 0:e["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const Fhe=Symbol(),_3=Object.getPrototypeOf,Ux=new WeakMap,zhe=e=>e&&(Ux.has(e)?Ux.get(e):_3(e)===Object.prototype||_3(e)===Array.prototype),Vhe=e=>zhe(e)&&e[Fhe]||null,T3=(e,t=!0)=>{Ux.set(e,t)},z0={},R2=e=>typeof e=="object"&&e!==null,Hhe=e=>R2(e)&&!$p.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),PM=(e,t)=>{const n=Bx.get(e);if((n==null?void 0:n[0])===t)return n[1];const r=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return T3(r,!0),Bx.set(e,[t,r]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(r,s))return;const i=Reflect.get(e,s),{enumerable:o}=Reflect.getOwnPropertyDescriptor(e,s),a={value:i,enumerable:o,configurable:!0};if($p.has(i))T3(i,!1);else if(Ra.has(i)){const[c,l]=Ra.get(i);a.value=PM(c,l())}Object.defineProperty(r,s,a)}),Object.preventExtensions(r)},Whe=(e,t,n,r)=>({deleteProperty(s,i){const o=Reflect.get(s,i);n(i);const a=Reflect.deleteProperty(s,i);return a&&r(["delete",[i],o]),a},set(s,i,o,a){const c=!e()&&Reflect.has(s,i),l=Reflect.get(s,i,a);if(c&&(P3(l,o)||Ph.has(o)&&P3(l,Ph.get(o))))return!0;n(i),R2(o)&&(o=Vhe(o)||o);const u=!Ra.has(o)&&Khe(o)?dt(o):o;return t(i,u),Reflect.set(s,i,u,a),r(["set",[i],o,l]),!0}}),Ra=new WeakMap,$p=new WeakSet,Bx=new WeakMap,lf=[1,1],Ph=new WeakMap;let P3=Object.is,qhe=(e,t)=>new Proxy(e,t),Khe=Hhe,Ghe=PM,Yhe=Whe;function dt(e={}){if(!R2(e))throw new Error("object required");const t=Ph.get(e);if(t)return t;let n=lf[0];const r=new Set,s=(y,w=++lf[0])=>{n!==w&&(n=w,r.forEach(v=>v(y,w)))};let i=lf[1];const o=(y=++lf[1])=>(i!==y&&!r.size&&(i=y,c.forEach(([w])=>{const v=w[1](y);v>n&&(n=v)})),n),a=y=>(w,v)=>{const b=[...w];b[1]=[y,...b[1]],s(b,v)},c=new Map,l=(y,w)=>{const v=!$p.has(w)&&Ra.get(w);if(v){if((z0?"production":void 0)!=="production"&&c.has(y))throw new Error("prop listener already exists");if(r.size){const b=v[2](a(y));c.set(y,[v,b])}else c.set(y,[v])}},u=y=>{var w;const v=c.get(y);v&&(c.delete(y),(w=v[1])==null||w.call(v))},d=y=>(r.add(y),r.size===1&&c.forEach(([v,b],x)=>{if((z0?"production":void 0)!=="production"&&b)throw new Error("remove already exists");const E=v[2](a(x));c.set(x,[v,E])}),()=>{r.delete(y),r.size===0&&c.forEach(([v,b],x)=>{b&&(b(),c.set(x,[v]))})});let f=!0;const h=Yhe(()=>f,l,u,s),m=qhe(e,h);Ph.set(e,m);const g=[e,o,d];return Ra.set(m,g),Reflect.ownKeys(e).forEach(y=>{const w=Object.getOwnPropertyDescriptor(e,y);"value"in w&&w.writable&&(m[y]=e[y])}),f=!1,m}function Cn(e,t,n){const r=Ra.get(e);(z0?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let s;const i=[],o=r[2];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&t(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Dh(e){const t=Ra.get(e);(z0?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,r]=t;return Ghe(n,r())}function Gc(e){return $p.add(e),e}function Qhe(){return{proxyStateMap:Ra,refSet:$p,snapCache:Bx,versionHolder:lf,proxyCache:Ph}}function Bn(e,t,n,r){let s=e[t];return Cn(e,()=>{const i=e[t];Object.is(s,i)||n(s=i)})}const{proxyStateMap:Xhe,snapCache:Zhe}=Qhe(),Qm=e=>Xhe.has(e);function Jhe(e){const t=[];let n=0;const r=new Map,s=new WeakMap,i=()=>{const l=Zhe.get(a),u=l==null?void 0:l[1];if(u&&!s.has(u)){const d=new Map(r);s.set(u,d)}},o=l=>s.get(l)||r,a={data:t,index:n,epoch:0,get size(){return Qm(this)||i(),o(this).size},get(l){const d=o(this).get(l);if(d===void 0){this.epoch;return}return this.data[d]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!Qm(this))throw new Error("Cannot perform mutations on a snapshot");const d=r.get(l);return d===void 0?(r.set(l,this.index),this.data[this.index++]=u):this.data[d]=u,this.epoch++,this},delete(l){if(!Qm(this))throw new Error("Cannot perform mutations on a snapshot");const u=r.get(l);return u===void 0?!1:(delete this.data[u],r.delete(l),this.epoch++,!0)},clear(){if(!Qm(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,r.clear()},forEach(l){this.epoch,o(this).forEach((d,f)=>{l(this.data[d],f,this)})},*entries(){this.epoch;const l=o(this);for(const[u,d]of l)yield[u,this.data[d]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=dt(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}const DM=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],epe="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Ze={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:[G.CHAIN.EVM,G.CHAIN.SOLANA],NAMES_SUPPORTED_CHAIN_NAMESPACES:[G.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[G.CHAIN.EVM,G.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},J={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){const e=J.getActiveNamespace(),t=J.getActiveCaipNetworkId(),n=t?t.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:e,caipNetworkId:t,chainId:r}},setWalletConnectDeepLink({name:e,href:t}){try{ye.setItem(ve.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const e=ye.getItem(ve.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{ye.removeItem(ve.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{ye.setItem(ve.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{ye.setItem(ve.ACTIVE_CAIP_NETWORK_ID,e),J.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return ye.getItem(ve.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{ye.removeItem(ve.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{const t=Wv(e);ye.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{const t=J.getRecentWallets();t.find(r=>r.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),ye.setItem(ve.RECENT_WALLETS,JSON.stringify(t)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const e=ye.getItem(ve.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(e,t){try{const n=Wv(e);ye.setItem(n,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return ye.getItem(ve.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{const t=Wv(e);return ye.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{ye.setItem(ve.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return ye.getItem(ve.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{ye.removeItem(ve.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return ye.getItem(ve.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const e=ye.getItem(ve.ACTIVE_CAIP_NETWORK_ID);return(n=e==null?void 0:e.split(":"))==null?void 0:n[1]},setConnectionStatus(e){try{ye.setItem(ve.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return ye.getItem(ve.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const e=ye.getItem(ve.CONNECTED_NAMESPACES);return e!=null&&e.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{const t=Array.from(new Set(e));ye.setItem(ve.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{const t=J.getConnectedNamespaces();t.includes(e)||(t.push(e),J.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{const t=J.getConnectedNamespaces(),n=t.indexOf(e);n>-1&&(t.splice(n,1),J.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return ye.getItem(ve.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{ye.setItem(ve.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{ye.removeItem(ve.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{const t=ye.getItem(ve.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{const t=J.getBalanceCache();ye.setItem(ve.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{const n=J.getBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;J.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{const t=J.getBalanceCache();t[e.caipAddress]=e,ye.setItem(ve.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{const t=ye.getItem(ve.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{const t=J.getBalanceCache();ye.setItem(ve.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{const n=J.getNativeBalanceCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",e),J.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{const t=J.getNativeBalanceCache();t[e.caipAddress]=e,ye.setItem(ve.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{const t=ye.getItem(ve.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{const n=J.getEnsCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;J.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{const t=J.getEnsCache();t[e.address]=e,ye.setItem(ve.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{const t=J.getEnsCache();ye.setItem(ve.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{const t=ye.getItem(ve.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{const n=J.getIdentityCache()[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;J.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{const t=J.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},ye.setItem(ve.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{const t=J.getIdentityCache();ye.setItem(ve.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},clearAddressCache(){try{ye.removeItem(ve.PORTFOLIO_CACHE),ye.removeItem(ve.NATIVE_BALANCE_CACHE),ye.removeItem(ve.ENS_CACHE),ye.removeItem(ve.IDENTITY_CACHE),ye.removeItem(ve.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{ye.setItem(ve.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{const e=ye.getItem(ve.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{const n=J.getConnections(),r=n[t]??[],s=new Map;for(const o of r)s.set(o.connectorId,{...o});for(const o of e){const a=s.get(o.connectorId),c=o.connectorId===G.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=o.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(o.connectorId,{...o})}const i={...n,[t]:Array.from(s.values())};ye.setItem(ve.CONNECTIONS,JSON.stringify(i))}catch(n){console.error("Unable to sync connections to storage",n)}},getConnections(){try{const e=ye.getItem(ve.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:n}){try{const r=J.getConnections(),s=r[n]??[],i=new Map(s.map(a=>[a.connectorId,a])),o=i.get(e);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase()).length===0?i.delete(e):i.set(e,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase())})),ye.setItem(ve.CONNECTIONS,JSON.stringify({...r,[n]:Array.from(i.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${n}"`)}},getDisconnectedConnectorIds(){try{const e=ye.getItem(ve.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{const n=J.getDisconnectedConnectorIds(),r=n[t]??[];r.push(e),ye.setItem(ve.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{const n=J.getDisconnectedConnectorIds();let r=n[t]??[];r=r.filter(s=>s.toLowerCase()!==e.toLowerCase()),ye.setItem(ve.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...n,[t]:Array.from(new Set(r))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(J.getDisconnectedConnectorIds()[t]??[]).some(s=>s.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{const e=ye.getItem(ve.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){var n;try{const s=(n=J.getTransactionsCache()[e])==null?void 0:n[t];if(s&&!this.isCacheExpired(s.timestamp,this.cacheExpiry.transactionsHistory))return s.transactions;J.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:n,transactions:r}){try{const s=J.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:n,transactions:r}},ye.setItem(ve.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:n,transactions:r})}},removeTransactionsCache({address:e,chainId:t}){try{const n=J.getTransactionsCache(),r=(n==null?void 0:n[e])||{},{[t]:s,...i}=r;ye.setItem(ve.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...n,[e]:i}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{const e=ye.getItem(ve.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{const n=J.getTokenPriceCache()[e.join(",")];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.tokenPrice))return n.tokenPrice;J.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{const t=J.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},ye.setItem(ve.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{const t=J.getTokenPriceCache();ye.setItem(ve.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}}},ge={isMobile(){var e;return this.isClient()?!!(window!=null&&window.matchMedia&&typeof window.matchMedia=="function"&&((e=window.matchMedia("(pointer:coarse)"))!=null&&e.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e==null?void 0:e.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return ge.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=Ze.TEN_SEC_MS:!0},isAllowedRetry(e,t=Ze.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var e,t;if(ge.isClient()&&window.self!==window.top)try{const n=(t=(e=window==null?void 0:window.location)==null?void 0:e.ancestorOrigins)==null?void 0:t[0],r="https://app.safe.global";if(n){const s=new URL(n),i=new URL(r);return s.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Ze.FOUR_MINUTES_MS},getNetworkId(e){return e==null?void 0:e.split(":")[1]},getPlainAddress(e){return e==null?void 0:e.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let n;return(...r)=>{function s(){e(...r)}n&&clearTimeout(n),n=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,n=null){if(ge.isHttpUrl(e))return this.formatUniversalUrl(e,t);let r=e,s=n;r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),s&&!(s!=null&&s.endsWith("/"))&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));const i=encodeURIComponent(t);return{redirect:`${r}wc?uri=${i}`,redirectUniversalLink:s?`${s}wc?uri=${i}`:void 0,href:r}},formatUniversalUrl(e,t){if(!ge.isHttpUrl(e))return this.formatNativeUrl(e,t);let n=e;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(t);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?J.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,n){window==null||window.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},returnOpenHref(e,t,n){return window==null?void 0:window.open(e,this.getOpenTargetForPlatform(t),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r;if(typeof window>"u")return!1;const e=window!=null&&window.matchMedia&&typeof window.matchMedia=="function"?(n=window.matchMedia("(display-mode: standalone)"))==null?void 0:n.matches:!1,t=(r=window==null?void 0:window.navigator)==null?void 0:r.standalone;return!!(e||t)},async preloadImage(e){const t=new Promise((n,r)=>{const s=new Image;s.onload=n,s.onerror=r,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,ge.wait(2e3)])},formatBalance(e,t){let n="0.000";if(typeof e=="string"){const r=Number(e);if(r){const s=Math.floor(r*1e3)/1e3;s&&(n=s.toString())}}return`${n}${t?` ${t}`:""}`},formatBalance2(e,t){var r;let n;if(e==="0")n="0";else if(typeof e=="string"){const s=Number(e);s&&(n=(r=s.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:t}},getApiUrl(){return G.W3M_API_URL},getBlockchainApiUrl(){return G.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return G.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){var t,n;return typeof e=="string"?e:typeof((n=(t=e==null?void 0:e.issues)==null?void 0:t[0])==null?void 0:n.message)=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){const n={};return t&&e&&(e.forEach((r,s)=>{n[r]=s}),t.sort((r,s)=>{const i=n[r.id],o=n[s.id];return i!==void 0&&o!==void 0?i-o:i!==void 0?-1:o!==void 0?1:0})),t},calculateBalance(e){let t=0;for(const n of e)t+=n.value??0;return t},formatTokenBalance(e){const t=e.toFixed(2),[n,r]=t.split(".");return{dollars:n,pennies:r}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);default:return!1}},uniqueBy(e,t){const n=new Set;return e.filter(r=>{const s=r[t];return n.has(s)?!1:(n.add(s),!0)})},generateSdkVersion(e,t,n){const s=e.length===0?Ze.ADAPTER_TYPES.UNIVERSAL:e.map(i=>i.adapterType).join(",");return`${t}-${s}-${n}`},createAccount(e,t,n,r,s){return{namespace:e,address:t,type:n,publicKey:r,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;const t=e.split(":"),n=t[0];return t.filter(Boolean).length===3&&n in G.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){const e=window==null?void 0:window.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){const t=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(e).host==="auth.magic.link"){const s="provider_authorization_url=",i=e.substring(e.indexOf(s)+s.length),o=this.injectIntoUrl(decodeURIComponent(i),n,t);return e.replace(i,encodeURIComponent(o))}return this.injectIntoUrl(e,n,t)},injectIntoUrl(e,t,n){const r=e.indexOf(t);if(r===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);const s=e.indexOf("&",r),i=t.length,o=s!==-1?s:e.length,a=e.substring(0,r+i),c=e.substring(r+i,o),l=e.substring(s),u=c+n;return a+u+l}};async function Gd(...e){const t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}class Rp{constructor({baseUrl:t,clientId:n}){this.baseUrl=t,this.clientId=n}async get({headers:t,signal:n,cache:r,...s}){const i=this.createUrl(s);return(await Gd(i,{method:"GET",headers:t,signal:n,cache:r})).json()}async getBlob({headers:t,signal:n,...r}){const s=this.createUrl(r);return(await Gd(s,{method:"GET",headers:t,signal:n})).blob()}async post({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Gd(i,{method:"POST",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async put({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Gd(i,{method:"PUT",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}async delete({body:t,headers:n,signal:r,...s}){const i=this.createUrl(s);return(await Gd(i,{method:"DELETE",headers:n,body:t?JSON.stringify(t):void 0,signal:r})).json()}createUrl({path:t,params:n}){const r=new URL(t,this.baseUrl);return n&&Object.entries(n).forEach(([s,i])=>{i&&r.searchParams.append(s,i)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const tpe={getFeatureValue(e,t){const n=t==null?void 0:t[e];return n===void 0?Ze.DEFAULT_FEATURES[e]:n},filterSocialsByPlatform(e){if(!e||!e.length)return e;if(ge.isTelegram()){if(ge.isIos())return e.filter(t=>t!=="google");if(ge.isMac())return e.filter(t=>t!=="x");if(ge.isAndroid())return e.filter(t=>!["facebook","x"].includes(t))}return e}},he=dt({features:Ze.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Ze.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),K={state:he,subscribeKey(e,t){return Bn(he,e,t)},setOptions(e){Object.assign(he,e)},setRemoteFeatures(e){var n,r;if(!e)return;const t={...he.remoteFeatures,...e};he.remoteFeatures=t,(n=he.remoteFeatures)!=null&&n.socials&&(he.remoteFeatures.socials=tpe.filterSocialsByPlatform(he.remoteFeatures.socials)),(r=he.features)!=null&&r.pay&&(he.remoteFeatures.email=!1,he.remoteFeatures.socials=!1)},setFeatures(e){var n;if(!e)return;he.features||(he.features=Ze.DEFAULT_FEATURES);const t={...he.features,...e};he.features=t,(n=he.features)!=null&&n.pay&&he.remoteFeatures&&(he.remoteFeatures.email=!1,he.remoteFeatures.socials=!1)},setProjectId(e){he.projectId=e},setCustomRpcUrls(e){he.customRpcUrls=e},setAllWallets(e){he.allWallets=e},setIncludeWalletIds(e){he.includeWalletIds=e},setExcludeWalletIds(e){he.excludeWalletIds=e},setFeaturedWalletIds(e){he.featuredWalletIds=e},setTokens(e){he.tokens=e},setTermsConditionsUrl(e){he.termsConditionsUrl=e},setPrivacyPolicyUrl(e){he.privacyPolicyUrl=e},setCustomWallets(e){he.customWallets=e},setIsSiweEnabled(e){he.isSiweEnabled=e},setIsUniversalProvider(e){he.isUniversalProvider=e},setSdkVersion(e){he.sdkVersion=e},setMetadata(e){he.metadata=e},setDisableAppend(e){he.disableAppend=e},setEIP6963Enabled(e){he.enableEIP6963=e},setDebug(e){he.debug=e},setEnableWalletConnect(e){he.enableWalletConnect=e},setEnableWalletGuide(e){he.enableWalletGuide=e},setEnableAuthLogger(e){he.enableAuthLogger=e},setEnableWallets(e){he.enableWallets=e},setPreferUniversalLinks(e){he.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(const[t,n]of Object.entries(Ze.SIWX_DEFAULTS))e[t]??(e[t]=n);he.siwx=e},setConnectMethodsOrder(e){he.features={...he.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){he.features={...he.features,walletFeaturesOrder:e}},setSocialsOrder(e){he.remoteFeatures={...he.remoteFeatures,socials:e}},setCollapseWallets(e){he.features={...he.features,collapseWallets:e}},setEnableEmbedded(e){he.enableEmbedded=e},setAllowUnsupportedChain(e){he.allowUnsupportedChain=e},setManualWCControl(e){he.manualWCControl=e},setEnableNetworkSwitch(e){he.enableNetworkSwitch=e},setEnableReconnect(e){he.enableReconnect=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,n])=>{n&&(he.defaultAccountTypes[t]=n)})},setUniversalProviderConfigOverride(e){he.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return he.universalProviderConfigOverride},getSnapshot(){return Dh(he)}},npe=Object.freeze({enabled:!0,events:[]}),rpe=new Rp({baseUrl:ge.getAnalyticsUrl(),clientId:null}),spe=5,ipe=60*1e3,Wo=dt({...npe}),ope={state:Wo,subscribeKey(e,t){return Bn(Wo,e,t)},async sendError(e,t){if(!Wo.enabled)return;const n=Date.now();if(Wo.events.filter(i=>{const o=new Date(i.properties.timestamp||"").getTime();return n-o<ipe}).length>=spe)return;const s={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};Wo.events.push(s);try{if(typeof window>"u")return;const{projectId:i,sdkType:o,sdkVersion:a}=K.state;await rpe.post({path:"/e",params:{projectId:i,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:ge.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){Wo.enabled=!0},disable(){Wo.enabled=!1},clearEvents(){Wo.events=[]}};class Fu extends Error{constructor(t,n,r){super(t),this.name="AppKitError",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Fu.prototype);let s=!1;if(r instanceof Error&&typeof r.stack=="string"&&r.stack){const i=r.stack,o=i.indexOf(`
`);if(o>-1){const a=i.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,Fu):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function D3(e,t){const n=e instanceof Fu?e:new Fu(e instanceof Error?e.message:String(e),t,e);throw ope.sendError(n,n.category),n}function Qr(e,t="INTERNAL_SDK_ERROR"){const n={};return Object.keys(e).forEach(r=>{const s=e[r];if(typeof s=="function"){let i=s;s.constructor.name==="AsyncFunction"?i=async(...o)=>{try{return await s(...o)}catch(a){return D3(a,t)}}:i=(...o)=>{try{return s(...o)}catch(a){return D3(a,t)}},n[r]=i}else n[r]=s}),n}const Tc={ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},hi={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},ape={handleMobileDeeplinkRedirect(e,t){const n=window.location.href,r=encodeURIComponent(n);if(e===hi.PHANTOM.id&&!("phantom"in window)){const s=n.startsWith("https")?"https":"http",i=n.split("/")[2],o=encodeURIComponent(`${s}://${i}`);window.location.href=`${hi.PHANTOM.url}/ul/browse/${r}?ref=${o}`}e===hi.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${hi.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),t===G.CHAIN.SOLANA&&e===hi.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${hi.COINBASE.url}/dapp?cb_url=${r}`)}},Dr=dt({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),cpe={state:Dr,subscribeNetworkImages(e){return Cn(Dr.networkImages,()=>e(Dr.networkImages))},subscribeKey(e,t){return Bn(Dr,e,t)},subscribe(e){return Cn(Dr,()=>e(Dr))},setWalletImage(e,t){Dr.walletImages[e]=t},setNetworkImage(e,t){Dr.networkImages[e]=t},setChainImage(e,t){Dr.chainImages[e]=t},setConnectorImage(e,t){Dr.connectorImages={...Dr.connectorImages,[e]:t}},setTokenImage(e,t){Dr.tokenImages[e]=t},setCurrencyImage(e,t){Dr.currencyImages[e]=t}},Us=Qr(cpe),lpe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},qv=dt({networkImagePromises:{}}),OM={async fetchWalletImage(e){if(e)return await be._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;const t=this.getNetworkImageById(e);return t||(qv.networkImagePromises[e]||(qv.networkImagePromises[e]=be._fetchNetworkImage(e)),await qv.networkImagePromises[e],this.getNetworkImageById(e))},getWalletImageById(e){if(e)return Us.state.walletImages[e]},getWalletImage(e){if(e!=null&&e.image_url)return e==null?void 0:e.image_url;if(e!=null&&e.image_id)return Us.state.walletImages[e.image_id]},getNetworkImage(e){var t,n,r;if((t=e==null?void 0:e.assets)!=null&&t.imageUrl)return(n=e==null?void 0:e.assets)==null?void 0:n.imageUrl;if((r=e==null?void 0:e.assets)!=null&&r.imageId)return Us.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return Us.state.networkImages[e]},getConnectorImage(e){var t;if(e!=null&&e.imageUrl)return e.imageUrl;if((t=e==null?void 0:e.info)!=null&&t.icon)return e.info.icon;if(e!=null&&e.imageId)return Us.state.connectorImages[e.imageId]},getChainImage(e){return Us.state.networkImages[lpe[e]]}},qo=dt({message:"",variant:"info",open:!1}),upe={state:qo,subscribeKey(e,t){return Bn(qo,e,t)},open(e,t){const{debug:n}=K.state,{code:r,displayMessage:s,debugMessage:i}=e;s&&n&&(qo.message=s,qo.variant=t,qo.open=!0),i&&console.error(typeof i=="function"?i():i,r?{code:r}:void 0)},close(){qo.open=!1,qo.message="",qo.variant="info"}},jn=Qr(upe),dpe=ge.getAnalyticsUrl(),fpe=new Rp({baseUrl:dpe,clientId:null}),hpe=["MODAL_CREATED"],Qi=dt({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),rt={state:Qi,subscribe(e){return Cn(Qi,()=>e(Qi))},getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=K.state;return{projectId:e,st:t,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(e){try{const t=me.state.address;if(hpe.includes(e.data.event)||typeof window>"u")return;await fpe.post({path:"/e",params:rt.getSdkProperties(),body:{eventId:ge.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t}}}),Qi.reportedErrors.FORBIDDEN=!1}catch(t){t instanceof Error&&t.cause instanceof Response&&t.cause.status===G.HTTP_STATUS_CODES.FORBIDDEN&&!Qi.reportedErrors.FORBIDDEN&&(jn.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${ou()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Qi.reportedErrors.FORBIDDEN=!0)}},sendEvent(e){var t;Qi.timestamp=Date.now(),Qi.data=e,((t=K.state.features)!=null&&t.analytics||e.event==="INITIALIZE")&&rt._sendAnalyticsEvent(Qi)}},ppe=ge.getApiUrl(),ir=new Rp({baseUrl:ppe,clientId:null}),mpe=40,O3=4,gpe=20,Ne=dt({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),be={state:Ne,subscribeKey(e,t){return Bn(Ne,e,t)},_getSdkProperties(){const{projectId:e,sdkType:t,sdkVersion:n}=K.state;return{projectId:e,st:t||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return K.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){const t=`${ir.baseUrl}/getWalletImage/${e}`,n=await ir.getBlob({path:t,params:be._getSdkProperties()});Us.setWalletImage(e,URL.createObjectURL(n))},async _fetchNetworkImage(e){const t=`${ir.baseUrl}/public/getAssetImage/${e}`,n=await ir.getBlob({path:t,params:be._getSdkProperties()});Us.setNetworkImage(e,URL.createObjectURL(n))},async _fetchConnectorImage(e){const t=`${ir.baseUrl}/public/getAssetImage/${e}`,n=await ir.getBlob({path:t,params:be._getSdkProperties()});Us.setConnectorImage(e,URL.createObjectURL(n))},async _fetchCurrencyImage(e){const t=`${ir.baseUrl}/public/getCurrencyImage/${e}`,n=await ir.getBlob({path:t,params:be._getSdkProperties()});Us.setCurrencyImage(e,URL.createObjectURL(n))},async _fetchTokenImage(e){const t=`${ir.baseUrl}/public/getTokenImage/${e}`,n=await ir.getBlob({path:t,params:be._getSdkProperties()});Us.setTokenImage(e,URL.createObjectURL(n))},_filterWalletsByPlatform(e){return ge.isMobile()?e==null?void 0:e.filter(n=>n.mobile_link||n.id===hi.COINBASE.id?!0:O.state.activeChain==="solana"&&(n.id===hi.SOLFLARE.id||n.id===hi.PHANTOM.id)):e},async fetchProjectConfig(){return(await ir.get({path:"/appkit/v1/config",params:be._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:e}=await ir.get({path:"/projects/v1/origins",params:be._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){const t=e.cause.status;if(t===G.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=G.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){const e=O.getAllRequestedCaipNetworks(),t=e==null?void 0:e.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!OM.getNetworkImageById(n));t&&await Promise.allSettled(t.map(n=>be._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:e}=ne.state,t=e.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(t.map(n=>be._fetchConnectorImage(n)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>be._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>be._fetchTokenImage(t)))},async fetchWallets(e){var i;const t=e.exclude??[];be._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(hi).map(o=>o.id));const r=await ir.get({path:"/getWallets",params:{...be._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:(i=e.include)==null?void 0:i.join(","),exclude:t.join(",")}});return{data:be._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:e}=K.state;if(e!=null&&e.length){const t={...be._getSdkProperties(),page:1,entries:(e==null?void 0:e.length)??O3,include:e},{data:n}=await be.fetchWallets(t),r=[...n].sort((i,o)=>e.indexOf(i.id)-e.indexOf(o.id)),s=r.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(s.map(i=>be._fetchWalletImage(i))),Ne.featured=r,Ne.allFeatured=r}},async fetchRecommendedWallets(){try{Ne.isFetchingRecommendedWallets=!0;const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:n}=K.state,r=[...t??[],...n??[]].filter(Boolean),s=O.getRequestedCaipNetworkIds().join(","),i={page:1,entries:O3,include:e,exclude:r,chains:s},{data:o,count:a}=await be.fetchWallets(i),c=J.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>be._fetchWalletImage(d))),Ne.recommended=o,Ne.allRecommended=o,Ne.count=a??0}catch{}finally{Ne.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){const{includeWalletIds:t,excludeWalletIds:n,featuredWalletIds:r}=K.state,s=O.getRequestedCaipNetworkIds().join(","),i=[...Ne.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:e,entries:mpe,include:t,exclude:i,chains:s},{data:a,count:c}=await be.fetchWallets(o),l=a.slice(0,gpe).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>be._fetchWalletImage(u))),Ne.wallets=ge.uniqueBy([...Ne.wallets,...be._filterOutExtensions(a)],"id").filter(u=>{var d;return(d=u.chains)==null?void 0:d.some(f=>s.includes(f))}),Ne.count=c>Ne.count?c:Ne.count,Ne.page=e},async initializeExcludedWallets({ids:e}){const t={page:1,entries:e.length,include:e},{data:n}=await be.fetchWallets(t);n&&n.forEach(r=>{Ne.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:e,badge:t}){const{includeWalletIds:n,excludeWalletIds:r}=K.state,s=O.getRequestedCaipNetworkIds().join(",");Ne.search=[];const i={page:1,entries:100,search:e==null?void 0:e.trim(),badge_type:t,include:n,exclude:r,chains:s},{data:o}=await be.fetchWallets(i);rt.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>be._fetchWalletImage(c)),ge.wait(300)]),Ne.search=be._filterOutExtensions(o)},initPromise(e,t){const n=Ne.promises[e];return n||(Ne.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const s=[e&&be.initPromise("connectorImages",be.fetchConnectorImages),t&&be.initPromise("featuredWallets",be.fetchFeaturedWallets),n&&be.initPromise("recommendedWallets",be.fetchRecommendedWallets),r&&be.initPromise("networkImages",be.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(s)},prefetchAnalyticsConfig(){var e;(e=K.state.features)!=null&&e.analytics&&be.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:e}=await ir.get({path:"/getAnalyticsConfig",params:be._getSdkProperties()});K.setFeatures({analytics:e})}catch{K.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!(e!=null&&e.length)){Ne.featured=Ne.allFeatured,Ne.recommended=Ne.allRecommended;return}const t=O.getRequestedCaipNetworkIds().join(",");Ne.featured=Ne.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))}),Ne.recommended=Ne.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))}),Ne.filteredWallets=Ne.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))})},clearFilterByNamespaces(){Ne.filteredWallets=[]},setFilterByNamespace(e){if(!e){Ne.featured=Ne.allFeatured,Ne.recommended=Ne.allRecommended;return}const t=O.getRequestedCaipNetworkIds().join(",");Ne.featured=Ne.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))}),Ne.recommended=Ne.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))}),Ne.filteredWallets=Ne.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(s=>t.includes(s))})}},nt=dt({view:"Connect",history:["Connect"],transactionStack:[]}),ype={state:nt,subscribeKey(e,t){return Bn(nt,e,t)},pushTransactionStack(e){nt.transactionStack.push(e)},popTransactionStack(e){const t=nt.transactionStack.pop();if(!t)return;const{onSuccess:n,onError:r,onCancel:s}=t;switch(e){case"success":n==null||n();break;case"error":r==null||r(),Se.goBack();break;case"cancel":s==null||s(),Se.goBack();break}},push(e,t){e!==nt.view&&(nt.view=e,nt.history.push(e),nt.data=t)},reset(e,t){nt.view=e,nt.history=[e],nt.data=t},replace(e,t){nt.history.at(-1)===e||(nt.view=e,nt.history[nt.history.length-1]=e,nt.data=t)},goBack(){var r;const e=O.state.activeCaipAddress,t=Se.state.view==="ConnectingFarcaster",n=!e&&t;if(nt.history.length>1){nt.history.pop();const[s]=nt.history.slice(-1);s&&(e&&s==="Connect"?nt.view="Account":nt.view=s)}else Le.close();(r=nt.data)!=null&&r.wallet&&(nt.data.wallet=void 0),setTimeout(()=>{var s,i,o;if(n){me.setFarcasterUrl(void 0,O.state.activeChain);const a=ne.getAuthConnector();(s=a==null?void 0:a.provider)==null||s.reload();const c=Dh(K.state);(o=(i=a==null?void 0:a.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(e){if(nt.history.length>1){nt.history=nt.history.slice(0,e+1);const[t]=nt.history.slice(-1);t&&(nt.view=t)}},goBackOrCloseModal(){Se.state.history.length>1?Se.goBack():Le.close()}},Se=Qr(ype),Xi=dt({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Fx={state:Xi,subscribe(e){return Cn(Xi,()=>e(Xi))},setThemeMode(e){Xi.themeMode=e;try{const t=ne.getAuthConnector();if(t){const n=Fx.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:n,w3mThemeVariables:fa(n,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Xi.themeVariables={...Xi.themeVariables,...e};try{const t=ne.getAuthConnector();if(t){const n=Fx.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:n,w3mThemeVariables:fa(Xi.themeVariables,Xi.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Dh(Xi)}},kr=Qr(Fx),kM=Object.fromEntries(IM.map(e=>[e,void 0])),wpe=Object.fromEntries(IM.map(e=>[e,!0])),We=dt({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:kM,filterByNamespaceMap:wpe}),vpe={state:We,subscribe(e){return Cn(We,()=>{e(We)})},subscribeKey(e,t){return Bn(We,e,t)},initialize(e){e.forEach(t=>{const n=J.getConnectedConnectorId(t);n&&ne.setConnectorId(n,t)})},setActiveConnector(e){e&&(We.activeConnector=Gc(e))},setConnectors(e){e.filter(s=>!We.allConnectors.some(i=>i.id===s.id&&ne.getConnectorName(i.name)===ne.getConnectorName(s.name)&&i.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&We.allConnectors.push(Gc(s))});const n=ne.getEnabledNamespaces(),r=ne.getEnabledConnectors(n);We.connectors=ne.mergeMultiChainConnectors(r)},filterByNamespaces(e){Object.keys(We.filterByNamespaceMap).forEach(t=>{We.filterByNamespaceMap[t]=!1}),e.forEach(t=>{We.filterByNamespaceMap[t]=!0}),ne.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){We.filterByNamespaceMap[e]=t,ne.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const e=ne.getEnabledNamespaces(),t=ne.getEnabledConnectors(e),n=ne.areAllNamespacesEnabled();We.connectors=ne.mergeMultiChainConnectors(t),n?be.clearFilterByNamespaces():be.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(We.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return We.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(We.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){const t=ne.generateConnectorMapByName(e),n=[];return t.forEach(r=>{const s=r[0],i=(s==null?void 0:s.id)===G.CONNECTOR_ID.AUTH;r.length>1&&s?n.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...r],type:i?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(s==null?void 0:s.id)||""}):s&&n.push(s)}),n},generateConnectorMapByName(e){const t=new Map;return e.forEach(n=>{const{name:r}=n,s=ne.getConnectorName(r);if(!s)return;const i=t.get(s)||[];i.find(a=>a.chain===n.chain)||i.push(n),t.set(s,i)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){const t=[];return e.forEach(n=>{t.find(r=>r.chain===n.chain)||t.push(n)}),t},addConnector(e){var t,n,r;if(e.id===G.CONNECTOR_ID.AUTH){const s=e,i=Dh(K.state),o=kr.getSnapshot().themeMode,a=kr.getSnapshot().themeVariables;(n=(t=s==null?void 0:s.provider)==null?void 0:t.syncDappData)==null||n.call(t,{metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType}),(r=s==null?void 0:s.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:fa(a,o)}),ne.setConnectors([e])}else ne.setConnectors([e])},getAuthConnector(e){var r;const t=e||O.state.activeChain,n=We.connectors.find(s=>s.id===G.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(i=>i.chain===t):n},getAnnouncedConnectorRdns(){return We.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>{var t;return(t=e.info)==null?void 0:t.rdns})},getConnectorById(e){return We.allConnectors.find(t=>t.id===e)},getConnector({id:e,rdns:t,namespace:n}){const r=n||O.state.activeChain;return We.allConnectors.filter(i=>i.chain===r).find(i=>{var o;return i.explorerId===e||((o=i.info)==null?void 0:o.rdns)===t})},syncIfAuthConnector(e){var i,o;if(e.id!=="ID_AUTH")return;const t=e,n=Dh(K.state),r=kr.getSnapshot().themeMode,s=kr.getSnapshot().themeVariables;(o=(i=t==null?void 0:t.provider)==null?void 0:i.syncDappData)==null||o.call(i,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),t.provider.syncTheme({themeMode:r,themeVariables:s,w3mThemeVariables:fa(s,r)})},getConnectorsByNamespace(e){const t=We.allConnectors.filter(n=>n.chain===e);return ne.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return O.checkIfSmartAccountEnabled()&&ki(e)===Tc.ACCOUNT_TYPES.EOA},selectWalletConnector(e){const t=ne.getConnector({id:e.id,rdns:e.rdns});ape.handleMobileDeeplinkRedirect((t==null?void 0:t.explorerId)||e.id,O.state.activeChain),t?Se.push("ConnectingExternal",{connector:t,wallet:e}):Se.push("ConnectingWalletConnect",{wallet:e})},getConnectors(e){return e?ne.getConnectorsByNamespace(e):ne.mergeMultiChainConnectors(We.allConnectors)},setFilterByNamespace(e){We.filterByNamespace=e,We.connectors=ne.getConnectors(e),be.setFilterByNamespace(e)},setConnectorId(e,t){e&&(We.activeConnectorIds={...We.activeConnectorIds,[t]:e},J.setConnectedConnectorId(t,e))},removeConnectorId(e){We.activeConnectorIds={...We.activeConnectorIds,[e]:void 0},J.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return We.activeConnectorIds[e]},isConnected(e){return e?!!We.activeConnectorIds[e]:Object.values(We.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){We.activeConnectorIds={...kM}}},ne=Qr(vpe),bpe=1e3,Yd={checkNamespaceConnectorId(e,t){return ne.getConnectorId(e)===t},isSocialProvider(e){return Ze.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:n=!0,redirectViewOnModalClose:r="Connect",onOpen:s,onConnect:i}){return new Promise((o,a)=>{if(e&&ne.setActiveConnector(t),s==null||s(ge.isMobile()&&e),r){const l=Le.subscribeKey("open",u=>{u||(Se.state.view!==r&&Se.replace(r),l(),a(new Error("Modal closed")))})}const c=O.subscribeKey("activeCaipAddress",l=>{l&&(i==null||i(),n&&Le.close(),c(),o(Ur.parseCaipAddress(l)))})})},connectExternal(e){return new Promise((t,n)=>{const r=O.subscribeKey("activeCaipAddress",s=>{s&&(Le.close(),r(),t(Ur.parseCaipAddress(s)))});re.connectExternal(e,e.chain).catch(()=>{r(),n(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:n=!0,onOpenFarcaster:r,onConnect:s}){let i=me.state.socialWindow,o=me.state.socialProvider,a=!1,c=null;const l=t||O.state.activeChain,u=O.subscribeKey("activeCaipAddress",d=>{d&&(n&&Le.close(),u())});return new Promise((d,f)=>{async function h(g){var y,w;if((y=g.data)!=null&&y.resultUri)if(g.origin===G.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",h,!1);try{const v=ne.getAuthConnector(l);if(v&&!a){i&&(i.close(),me.setSocialWindow(void 0,l),i=me.state.socialWindow),a=!0;const b=g.data.resultUri;if(o&&rt.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){J.setConnectedSocialProvider(o),await re.connectExternal({id:v.id,type:v.type,socialUri:b},v.chain);const x=O.state.activeCaipAddress;if(!x){f(new Error("Failed to connect"));return}d(Ur.parseCaipAddress(x)),rt.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o,caipNetworkId:(w=O.getActiveCaipNetwork())==null?void 0:w.caipNetworkId}})}}}catch{o&&rt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),f(new Error("Failed to connect"))}}else o&&rt.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function m(){if(e&&(me.setSocialProvider(e,l),o=me.state.socialProvider,rt.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){r==null||r();const g=Le.subscribeKey("open",w=>{!w&&e==="farcaster"&&(f(new Error("Popup closed")),s==null||s(),g())}),y=ne.getAuthConnector();if(y&&!me.state.farcasterUrl)try{const{url:w}=await y.provider.getFarcasterUri();me.setFarcasterUrl(w,l)}catch{f(new Error("Failed to connect to farcaster"))}}else{const g=ne.getAuthConnector();c=ge.returnOpenHref(`${G.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(g&&o){const{uri:y}=await g.provider.getSocialRedirectUri({provider:o});if(c&&y){me.setSocialWindow(c,l),i=me.state.socialWindow,c.location.href=y;const w=setInterval(()=>{i!=null&&i.closed&&!a&&(f(new Error("Popup closed")),clearInterval(w))},1e3);window.addEventListener("message",h,!1)}else c==null||c.close(),f(new Error("Failed to initiate social connection"))}}catch{f(new Error("Failed to initiate social connection")),c==null||c.close()}}}m()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:n,onConnect:r}){return new Promise((s,i)=>{if(n==null||n(),t){const a=Le.subscribeKey("open",c=>{c||(Se.state.view!==t&&Se.replace(t),a(),i(new Error("Modal closed")))})}const o=O.subscribeKey("activeCaipAddress",a=>{a&&(r==null||r(),e&&Le.close(),o(),s(Ur.parseCaipAddress(a)))})})},async updateEmail(){const e=J.getConnectedConnectorId(O.state.activeChain),t=ne.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==G.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const n=t.provider.getEmail()??"";return await Le.open({view:"UpdateEmailWallet",data:{email:n,redirectView:void 0}}),new Promise((r,s)=>{const i=setInterval(()=>{const a=t.provider.getEmail()??"";a!==n&&(Le.close(),clearInterval(i),o(),r({email:a}))},bpe),o=Le.subscribeKey("open",a=>{a||(Se.state.view!=="Connect"&&Se.push("Connect"),clearInterval(i),o(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return O.checkIfSmartAccountEnabled()&&ki(e)===Tc.ACCOUNT_TYPES.EOA}};function $M(){var r,s;const e=((r=O.state.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",t=((s=O.state.activeCaipNetwork)==null?void 0:s.id)||1,n=Ze.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${n}`}function ki(e){var n;return(n=O.getAccountData(e))==null?void 0:n.preferredAccountType}function k3(e){return O.state.activeCaipNetwork}const V0={getConnectionStatus(e,t){const n=ne.state.activeConnectorIds[t],r=re.getConnections(t);return!!n&&e.connectorId===n?"connected":r.some(o=>o.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:n}){return e.map(r=>{if((t?r.connectorId.toLowerCase()===t.toLowerCase():!1)&&n){const i=r.accounts.filter(o=>!n.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...r,accounts:i}}return r})},excludeExistingConnections(e,t){const n=new Set(e);return t.filter(r=>!n.has(r.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(n=>n.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){var a;const t=!!((a=K.state.remoteFeatures)!=null&&a.multiWallet),n=ne.state.activeConnectorIds[e],r=re.getConnections(e),i=(re.state.recentConnections.get(e)??[]).filter(c=>ne.getConnectorById(c.connectorId)),o=V0.excludeExistingConnections([...r.map(c=>c.connectorId),...n?[n]:[]],i);return t?{connections:r,recentConnections:o}:{connections:r.filter(c=>c.connectorId.toLowerCase()===(n==null?void 0:n.toLowerCase())),recentConnections:[]}}},oc=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),qt=dt({...oc}),xpe={state:qt,subscribeKey(e,t){return Bn(qt,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){const t=ge.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){qt.message=oc.message,qt.variant=oc.variant,qt.svg=oc.svg,qt.open=oc.open,qt.autoClose=oc.autoClose},_showMessage({message:e,svg:t,variant:n="success",autoClose:r=oc.autoClose}){qt.open?(qt.open=!1,setTimeout(()=>{qt.message=e,qt.variant=n,qt.svg=t,qt.open=!0,qt.autoClose=r},150)):(qt.message=e,qt.variant=n,qt.svg=t,qt.open=!0,qt.autoClose=r)}},vi=xpe,yt=dt({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Epe={state:yt,subscribe(e){return Cn(yt,()=>e(yt))},setLastNetworkInView(e){yt.lastNetworkInView=e},async fetchTransactions(e){var t;if(!e)throw new Error("Transactions can't be fetched without an accountAddress");yt.loading=!0;try{const n=await xe.fetchTransactions({account:e,cursor:yt.next,chainId:(t=O.state.activeCaipNetwork)==null?void 0:t.caipNetworkId}),r=$g.filterSpamTransactions(n.data),s=$g.filterByConnectedChain(r),i=[...yt.transactions,...s];yt.loading=!1,yt.transactions=i,yt.transactionsByYear=$g.groupTransactionsByYearAndMonth(yt.transactionsByYear,s),yt.empty=i.length===0,yt.next=n.next?n.next:void 0}catch{const r=O.state.activeChain;rt.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:K.state.projectId,cursor:yt.next,isSmartAccount:ki(r)===Tc.ACCOUNT_TYPES.SMART_ACCOUNT}}),vi.showError("Failed to fetch transactions"),yt.loading=!1,yt.empty=!0,yt.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){const n=e;return t.forEach(r=>{const s=new Date(r.metadata.minedAt).getFullYear(),i=new Date(r.metadata.minedAt).getMonth(),o=n[s]??{},c=(o[i]??[]).filter(l=>l.id!==r.id);n[s]={...o,[i]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(e){return e.filter(t=>!t.transfers.every(r=>{var s;return((s=r.nft_info)==null?void 0:s.flags.is_spam)===!0}))},filterByConnectedChain(e){var r;const t=(r=O.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return e.filter(s=>s.metadata.chain===t)},clearCursor(){yt.next=void 0},resetTransactions(){yt.transactions=[],yt.transactionsByYear={},yt.lastNetworkInView=void 0,yt.loading=!1,yt.empty=!1,yt.next=void 0}},$g=Qr(Epe,"API_ERROR"),Me=dt({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Ja;const Cpe={state:Me,subscribe(e){return Cn(Me,()=>e(Me))},subscribeKey(e,t){return Bn(Me,e,t)},_getClient(){return Me._client},setClient(e){Me._client=Gc(e)},initialize(e){const t=e.filter(n=>!!n.namespace).map(n=>n.namespace);re.syncStorageConnections(t)},syncStorageConnections(e){const t=J.getConnections(),n=e??Array.from(O.state.chains.keys());for(const r of n){const s=t[r]??[],i=new Map(Me.recentConnections);i.set(r,s),Me.recentConnections=i}},getConnections(e){return e?Me.connections.get(e)??[]:[]},hasAnyConnection(e){const t=re.state.connections;return Array.from(t.values()).flatMap(n=>n).some(({connectorId:n})=>n===e)},async connectWalletConnect(){var e,t,n,r;if(ge.isTelegram()||ge.isSafari()&&ge.isIos()){if(Ja){await Ja,Ja=void 0;return}if(!ge.isPairingExpired(Me==null?void 0:Me.wcPairingExpiry)){const s=Me.wcUri;Me.wcUri=s;return}Ja=(t=(e=re._getClient())==null?void 0:e.connectWalletConnect)==null?void 0:t.call(e).catch(()=>{}),re.state.status="connecting",await Ja,Ja=void 0,Me.wcPairingExpiry=void 0,re.state.status="connected"}else await((r=(n=re._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(e,t,n=!0){var s,i;const r=await((i=(s=re._getClient())==null?void 0:s.connectExternal)==null?void 0:i.call(s,e));return n&&O.setActiveNamespace(t),r},async reconnectExternal(e){var n,r;await((r=(n=re._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,e));const t=e.chain||O.state.activeChain;t&&ne.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){var r;if(!t)return;Le.setLoading(!0,O.state.activeChain);const n=ne.getAuthConnector();n&&(me.setPreferredAccountType(e,t),await n.provider.setPreferredAccount(e),J.setPreferredAccountTypes(Object.entries(O.state.chains).reduce((s,[i,o])=>{const a=i,c=ki(a);return c!==void 0&&(s[a]=c),s},{})),await re.reconnectExternal(n),Le.setLoading(!1,O.state.activeChain),rt.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:((r=O.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(e){var t;return(t=re._getClient())==null?void 0:t.signMessage(e)},parseUnits(e,t){var n;return(n=re._getClient())==null?void 0:n.parseUnits(e,t)},formatUnits(e,t){var n;return(n=re._getClient())==null?void 0:n.formatUnits(e,t)},async sendTransaction(e){var t;return(t=re._getClient())==null?void 0:t.sendTransaction(e)},async getCapabilities(e){var t;return(t=re._getClient())==null?void 0:t.getCapabilities(e)},async grantPermissions(e){var t;return(t=re._getClient())==null?void 0:t.grantPermissions(e)},async walletGetAssets(e){var t;return((t=re._getClient())==null?void 0:t.walletGetAssets(e))??{}},async estimateGas(e){var t;return(t=re._getClient())==null?void 0:t.estimateGas(e)},async writeContract(e){var t;return(t=re._getClient())==null?void 0:t.writeContract(e)},async getEnsAddress(e){var t;return(t=re._getClient())==null?void 0:t.getEnsAddress(e)},async getEnsAvatar(e){var t;return(t=re._getClient())==null?void 0:t.getEnsAvatar(e)},checkInstalled(e){var t,n;return((n=(t=re._getClient())==null?void 0:t.checkInstalled)==null?void 0:n.call(t,e))||!1},resetWcConnection(){Me.wcUri=void 0,Me.wcPairingExpiry=void 0,Me.wcLinking=void 0,Me.recentWallet=void 0,Me.status="disconnected",$g.resetTransactions(),J.deleteWalletConnectDeepLink()},resetUri(){Me.wcUri=void 0,Me.wcPairingExpiry=void 0,Ja=void 0},finalizeWcConnection(){var n,r,s;const{wcLinking:e,recentWallet:t}=re.state;e&&J.setWalletConnectDeepLink(e),t&&J.setAppKitRecent(t),rt.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:e?"mobile":"qrcode",name:((r=(n=Se.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown",caipNetworkId:(s=O.getActiveCaipNetwork())==null?void 0:s.caipNetworkId}})},setWcBasic(e){Me.wcBasic=e},setUri(e){Me.wcUri=e,Me.wcPairingExpiry=ge.getPairingExpiry()},setWcLinking(e){Me.wcLinking=e},setWcError(e){Me.wcError=e,Me.buffering=!1},setRecentWallet(e){Me.recentWallet=e},setBuffering(e){Me.buffering=e},setStatus(e){Me.status=e},setIsSwitchingConnection(e){Me.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:n}={}){var r;try{await((r=re._getClient())==null?void 0:r.disconnect({id:e,chainNamespace:t,initialDisconnect:n}))}catch(s){throw new Fu("Failed to disconnect","INTERNAL_SDK_ERROR",s)}},setConnections(e,t){const n=new Map(Me.connections);n.set(t,e),Me.connections=n},async handleAuthAccountSwitch({address:e,namespace:t}){var s,i;const n=(i=(s=me.state.user)==null?void 0:s.accounts)==null?void 0:i.find(o=>o.type==="smartAccount"),r=n&&n.address.toLowerCase()===e.toLowerCase()&&Yd.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await re.setPreferredAccountType(r,t)},async handleActiveConnection({connection:e,namespace:t,address:n}){const r=ne.getConnectorById(e.connectorId),s=e.connectorId===G.CONNECTOR_ID.AUTH;if(!r)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)s&&n&&await re.handleAuthAccountSwitch({address:n,namespace:t});else{const i=await re.connectExternal({id:r.id,type:r.type,provider:r.provider,address:n,chain:t},t);return i==null?void 0:i.address}return n},async handleDisconnectedConnection({connection:e,namespace:t,address:n,closeModalOnConnect:r}){var l,u;const s=ne.getConnectorById(e.connectorId),i=(u=(l=e.auth)==null?void 0:l.name)==null?void 0:u.toLowerCase(),o=e.connectorId===G.CONNECTOR_ID.AUTH,a=e.connectorId===G.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let c;if(o)if(i&&Yd.isSocialProvider(i)){const{address:d}=await Yd.connectSocial({social:i,closeModalOnConnect:r,onOpenFarcaster(){Le.open({view:"ConnectingFarcaster"})},onConnect(){Se.replace("ProfileWallets")}});c=d}else{const{address:d}=await Yd.connectEmail({closeModalOnConnect:r,onOpen(){Le.open({view:"EmailLogin"})},onConnect(){Se.replace("ProfileWallets")}});c=d}else if(a){const{address:d}=await Yd.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:r,onOpen(f){Le.open({view:f?"AllWallets":"ConnectingWalletConnect"})},onConnect(){Se.replace("ProfileWallets")}});c=d}else{const d=await re.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);d&&(c=d.address)}return o&&n&&await re.handleAuthAccountSwitch({address:n,namespace:t}),c},async switchConnection({connection:e,address:t,namespace:n,closeModalOnConnect:r,onChange:s}){let i;const o=me.getCaipAddress(n);if(o){const{address:c}=Ur.parseCaipAddress(o);i=c}const a=V0.getConnectionStatus(e,n);switch(a){case"connected":case"active":{const c=await re.handleActiveConnection({connection:e,namespace:n,address:t});if(i&&c){const l=c.toLowerCase()!==i.toLowerCase();s==null||s({address:c,namespace:n,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await re.handleDisconnectedConnection({connection:e,namespace:n,address:t,closeModalOnConnect:r});c&&(s==null||s({address:c,namespace:n,hasSwitchedAccount:!0,hasSwitchedWallet:!0}));break}default:throw new Error(`Invalid connection status: ${a}`)}}},re=Qr(Cpe),Ml=dt({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),io={state:Ml,subscribe(e){return Cn(Ml,()=>e(Ml))},subscribeOpen(e){return Bn(Ml,"open",e)},set(e){Object.assign(Ml,{...Ml,...e})}},Spe={async getTokenList(){var r;const e=O.state.activeCaipNetwork,t=await xe.fetchSwapTokens({chainId:e==null?void 0:e.caipNetworkId});return((r=t==null?void 0:t.tokens)==null?void 0:r.map(s=>({...s,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0})))||[]},async fetchGasPrice(){var t;const e=O.state.activeCaipNetwork;if(!e)return null;try{switch(e.chainNamespace){case"solana":const n=(t=await(re==null?void 0:re.estimateGas({chainNamespace:"solana"})))==null?void 0:t.toString();return{standard:n,fast:n,instant:n};case"eip155":default:return await xe.fetchGasPrice({chainId:e.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:n,sourceTokenDecimals:r}){const s=await xe.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s!=null&&s.allowance&&n&&r){const i=re.parseUnits(n,r)||0;return BigInt(s.allowance)>=i}return!1},async getMyTokensWithBalance(e){const t=await U2.getMyTokensWithBalance(e);return me.setTokenBalance(t,O.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return(e==null?void 0:e.map(t=>({...t,address:t!=null&&t.address?t.address:$M(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1})))||[]}},Je=dt({tokenBalances:[],loading:!1}),Ape={state:Je,subscribe(e){return Cn(Je,()=>e(Je))},subscribeKey(e,t){return Bn(Je,e,t)},setToken(e){e&&(Je.token=Gc(e))},setTokenAmount(e){Je.sendTokenAmount=e},setReceiverAddress(e){Je.receiverAddress=e},setReceiverProfileImageUrl(e){Je.receiverProfileImageUrl=e},setReceiverProfileName(e){Je.receiverProfileName=e},setNetworkBalanceInUsd(e){Je.networkBalanceInUSD=e},setLoading(e){Je.loading=e},async sendToken(){var e;try{switch(Ge.setLoading(!0),(e=O.state.activeCaipNetwork)==null?void 0:e.chainNamespace){case"eip155":await Ge.sendEvmToken();return;case"solana":await Ge.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Ge.setLoading(!1)}},async sendEvmToken(){var n,r,s;const e=O.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const t=ki(e);if(!Ge.state.sendTokenAmount||!Ge.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Ge.state.token)throw new Error("A token is required");(n=Ge.state.token)!=null&&n.address?(rt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Tc.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ge.state.token.address,amount:Ge.state.sendTokenAmount,network:((r=O.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}),await Ge.sendERC20Token({receiverAddress:Ge.state.receiverAddress,tokenAddress:Ge.state.token.address,sendTokenAmount:Ge.state.sendTokenAmount,decimals:Ge.state.token.quantity.decimals})):(rt.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Tc.ACCOUNT_TYPES.SMART_ACCOUNT,token:Ge.state.token.symbol||"",amount:Ge.state.sendTokenAmount,network:((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||""}}),await Ge.sendNativeToken({receiverAddress:Ge.state.receiverAddress,sendTokenAmount:Ge.state.sendTokenAmount,decimals:Ge.state.token.quantity.decimals}))},async fetchTokenBalance(e){var i,o;Je.loading=!0;const t=(i=O.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=O.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=O.state.activeCaipAddress,s=r?ge.getPlainAddress(r):void 0;if(Je.lastRetry&&!ge.isAllowedRetry(Je.lastRetry,30*Ze.ONE_SEC_MS))return Je.loading=!1,[];try{if(s&&t&&n){const a=await U2.getMyTokensWithBalance();return Je.tokenBalances=a,Je.lastRetry=void 0,a}}catch(a){Je.lastRetry=Date.now(),e==null||e(a),vi.showError("Token Balance Unavailable")}finally{Je.loading=!1}return[]},fetchNetworkBalance(){if(Je.tokenBalances.length===0)return;const e=Spe.mapBalancesToSwapTokens(Je.tokenBalances);if(!e)return;const t=e.find(n=>n.address===$M());t&&(Je.networkBalanceInUSD=t?jhe.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){var i,o,a;Se.pushTransactionStack({});const t=e.receiverAddress,n=me.state.address,r=re.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));await re.sendTransaction({chainNamespace:G.CHAIN.EVM,to:t,address:n,data:"0x",value:r??BigInt(0)}),rt.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:ki("eip155")===Tc.ACCOUNT_TYPES.SMART_ACCOUNT,token:((i=Ge.state.token)==null?void 0:i.symbol)||"",amount:e.sendTokenAmount,network:((o=O.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)||""}}),(a=re._getClient())==null||a.updateBalance("eip155"),Ge.resetSend()},async sendERC20Token(e){Se.pushTransactionStack({onSuccess(){Se.replace("Account")}});const t=re.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals));if(me.state.address&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){const n=ge.getPlainAddress(e.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");await re.writeContract({fromAddress:me.state.address,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:Bhe.getERC20Abi(n),chainNamespace:G.CHAIN.EVM}),Ge.resetSend()}},async sendSolanaToken(){var e;if(!Ge.state.sendTokenAmount||!Ge.state.receiverAddress)throw new Error("An amount and receiver address are required");Se.pushTransactionStack({onSuccess(){Se.replace("Account")}}),await re.sendTransaction({chainNamespace:"solana",to:Ge.state.receiverAddress,value:Ge.state.sendTokenAmount}),(e=re._getClient())==null||e.updateBalance("solana"),Ge.resetSend()},resetSend(){Je.token=void 0,Je.sendTokenAmount=void 0,Je.receiverAddress=void 0,Je.receiverProfileImageUrl=void 0,Je.receiverProfileName=void 0,Je.loading=!1,Je.tokenBalances=[]}},Ge=Qr(Ape),Kv={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},Xm={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},se=dt({chains:Jhe(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Npe={state:se,subscribe(e){return Cn(se,()=>{e(se)})},subscribeKey(e,t){return Bn(se,e,t)},subscribeChainProp(e,t,n){let r;return Cn(se.chains,()=>{var i;const s=n||se.activeChain;if(s){const o=(i=se.chains.get(s))==null?void 0:i[e];r!==o&&(r=o,t(o))}})},initialize(e,t,n){const{chainId:r,namespace:s}=J.getActiveNetworkProps(),i=t==null?void 0:t.find(u=>u.id.toString()===(r==null?void 0:r.toString())),a=e.find(u=>(u==null?void 0:u.namespace)===s)||(e==null?void 0:e[0]),c=e.map(u=>u.namespace).filter(u=>u!==void 0),l=K.state.enableEmbedded?new Set([...c]):new Set([...(t==null?void 0:t.map(u=>u.chainNamespace))??[]]);((e==null?void 0:e.length)===0||!a)&&(se.noAdapters=!0),se.noAdapters||(se.activeChain=a==null?void 0:a.namespace,se.activeCaipNetwork=i,O.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:i}),se.activeChain&&io.set({activeChain:a==null?void 0:a.namespace})),l.forEach(u=>{const d=t==null?void 0:t.filter(m=>m.chainNamespace===u),f=J.getPreferredAccountTypes()||{},h={...K.state.defaultAccountTypes,...f};O.state.chains.set(u,{namespace:u,networkState:dt({...Xm,caipNetwork:d==null?void 0:d[0]}),accountState:dt({...Kv,preferredAccountType:h[u]}),caipNetworks:d??[],...n}),O.setRequestedCaipNetworks(d??[],u)})},removeAdapter(e){var t,n;if(se.activeChain===e){const r=Array.from(se.chains.entries()).find(([s])=>s!==e);if(r){const s=(n=(t=r[1])==null?void 0:t.caipNetworks)==null?void 0:n[0];s&&O.setActiveCaipNetwork(s)}}se.chains.delete(e)},addAdapter(e,{networkControllerClient:t,connectionControllerClient:n},r){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");se.chains.set(e.namespace,{namespace:e.namespace,networkState:{...Xm,caipNetwork:r[0]},accountState:Kv,caipNetworks:r,connectionControllerClient:n,networkControllerClient:t}),O.setRequestedCaipNetworks((r==null?void 0:r.filter(s=>s.chainNamespace===e.namespace))??[],e.namespace)},addNetwork(e){var n;const t=se.chains.get(e.chainNamespace);if(t){const r=[...t.caipNetworks||[]];(n=t.caipNetworks)!=null&&n.find(s=>s.id===e.id)||r.push(e),se.chains.set(e.chainNamespace,{...t,caipNetworks:r}),O.setRequestedCaipNetworks(r,e.chainNamespace),ne.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){var r,s,i;const n=se.chains.get(e);if(n){const o=((r=se.activeCaipNetwork)==null?void 0:r.id)===t,a=[...((s=n.caipNetworks)==null?void 0:s.filter(c=>c.id!==t))||[]];o&&((i=n==null?void 0:n.caipNetworks)!=null&&i[0])&&O.setActiveCaipNetwork(n.caipNetworks[0]),se.chains.set(e,{...n,caipNetworks:a}),O.setRequestedCaipNetworks(a||[],e),a.length===0&&ne.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){const n=se.chains.get(e);n&&(n.networkState={...n.networkState||Xm,...t},se.chains.set(e,n))},setChainAccountData(e,t,n=!0){if(!e)throw new Error("Chain is required to update chain account data");const r=se.chains.get(e);if(r){const s={...r.accountState||Kv,...t};se.chains.set(e,{...r,accountState:s}),(se.chains.size===1||se.activeChain===e)&&(t.caipAddress&&(se.activeCaipAddress=t.caipAddress),me.replaceState(s))}},setChainNetworkData(e,t){if(!e)return;const n=se.chains.get(e);if(n){const r={...n.networkState||Xm,...t};se.chains.set(e,{...n,networkState:r})}},setAccountProp(e,t,n,r=!0){O.setChainAccountData(n,{[e]:t},r)},setActiveNamespace(e){var r,s;se.activeChain=e;const t=e?se.chains.get(e):void 0,n=(r=t==null?void 0:t.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&e&&(se.activeCaipAddress=(s=t==null?void 0:t.accountState)==null?void 0:s.caipAddress,se.activeCaipNetwork=n,O.setChainNetworkData(e,{caipNetwork:n}),J.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),io.set({activeChain:e,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(e){var r,s,i;if(!e)return;se.activeChain!==e.chainNamespace&&O.setIsSwitchingNamespace(!0);const t=se.chains.get(e.chainNamespace);se.activeChain=e.chainNamespace,se.activeCaipNetwork=e,O.setChainNetworkData(e.chainNamespace,{caipNetwork:e}),(r=t==null?void 0:t.accountState)!=null&&r.address?se.activeCaipAddress=`${e.chainNamespace}:${e.id}:${(s=t==null?void 0:t.accountState)==null?void 0:s.address}`:se.activeCaipAddress=void 0,O.setAccountProp("caipAddress",se.activeCaipAddress,e.chainNamespace),t&&me.replaceState(t.accountState),Ge.resetSend(),io.set({activeChain:se.activeChain,selectedNetworkId:(i=se.activeCaipNetwork)==null?void 0:i.caipNetworkId}),J.setActiveCaipNetworkId(e.caipNetworkId),!O.checkIfSupportedNetwork(e.chainNamespace)&&K.state.enableNetworkSwitch&&!K.state.allowUnsupportedChain&&!re.state.wcBasic&&O.showUnsupportedChainUI()},addCaipNetwork(e){var n;if(!e)return;const t=se.chains.get(e.chainNamespace);t&&((n=t==null?void 0:t.caipNetworks)==null||n.push(e))},async switchActiveNamespace(e){var s;if(!e)return;const t=e!==O.state.activeChain,n=(s=O.getNetworkData(e))==null?void 0:s.caipNetwork,r=O.getCaipNetworkByNamespace(e,n==null?void 0:n.id);t&&r&&await O.switchActiveNetwork(r)},async switchActiveNetwork(e){var i;const t=O.state.activeChain;if(!t)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=O.state.chains.get(t),r=!((i=n==null?void 0:n.caipNetworks)!=null&&i.some(o=>{var a;return o.id===((a=se.activeCaipNetwork)==null?void 0:a.id)})),s=O.getNetworkControllerClient(e.chainNamespace);if(s){try{await s.switchCaipNetwork(e),r&&Le.close()}catch{Se.goBack()}rt.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})}},getNetworkControllerClient(e){const t=e||se.activeChain;if(!t)throw new Error("ChainController:getNetworkControllerClient - chain is required");const n=se.chains.get(t);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(e){const t=e||se.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");const n=se.chains.get(t);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getNetworkProp(e,t){var r;const n=(r=se.chains.get(t))==null?void 0:r.networkState;if(n)return n[e]},getRequestedCaipNetworks(e){const t=se.chains.get(e),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(t==null?void 0:t.networkState)||{};return ge.sortRequestedNetworks(n,r).filter(o=>o==null?void 0:o.id)},getAllRequestedCaipNetworks(){const e=[];return se.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const n=O.getRequestedCaipNetworks(t.namespace);e.push(...n)}),e},setRequestedCaipNetworks(e,t){O.setAdapterNetworkState(t,{requestedCaipNetworks:e});const r=O.getAllRequestedCaipNetworks().map(i=>i.chainNamespace),s=Array.from(new Set(r));ne.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){const e=[];return se.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const n=O.getApprovedCaipNetworkIds(t.namespace);e.push(...n)}),e},getActiveCaipNetwork(e){var t,n;return e?(n=(t=se.chains.get(e))==null?void 0:t.networkState)==null?void 0:n.caipNetwork:se.activeCaipNetwork},getActiveCaipAddress(){return se.activeCaipAddress},getApprovedCaipNetworkIds(e){var r;const t=se.chains.get(e);return((r=t==null?void 0:t.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(e){const t=O.getNetworkControllerClient(),n=await(t==null?void 0:t.getApprovedCaipNetworksData());O.setAdapterNetworkState(e,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(e,t){var s;const n=t||((s=se.activeCaipNetwork)==null?void 0:s.caipNetworkId),r=O.getRequestedCaipNetworks(e);return r.length?r==null?void 0:r.some(i=>i.caipNetworkId===n):!0},checkIfSupportedChainId(e){if(!se.activeChain)return!0;const t=O.getRequestedCaipNetworks(se.activeChain);return t==null?void 0:t.some(n=>n.id===e)},setSmartAccountEnabledNetworks(e,t){O.setAdapterNetworkState(t,{smartAccountEnabledNetworks:e})},checkIfSmartAccountEnabled(){var r;const e=NM.caipNetworkIdToNumber((r=se.activeCaipNetwork)==null?void 0:r.caipNetworkId),t=se.activeChain;if(!t||!e)return!1;const n=O.getNetworkProp("smartAccountEnabledNetworks",t);return!!(n!=null&&n.includes(Number(e)))},showUnsupportedChainUI(){Le.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const e=se.activeCaipNetwork;return!!(e!=null&&e.chainNamespace&&Ze.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){O.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){var s,i;const t=e;if(!t)throw new Error("Chain is required to set account prop");const n=(i=(s=O.state.chains.get(t))==null?void 0:s.accountState)==null?void 0:i.preferredAccountType,r=K.state.defaultAccountTypes[t];se.activeCaipAddress=void 0,O.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:r||n,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),ne.removeConnectorId(t)},setIsSwitchingNamespace(e){se.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const e=[];let t;if(se.chains.forEach(s=>{G.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===s.namespace)&&s.namespace&&e.push(s.namespace)}),e.length>0){const s=e[0];return t=s?(r=(n=se.chains.get(s))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,t}},getAccountData(e){var n;const t=e||se.activeChain;if(t)return(n=O.state.chains.get(t))==null?void 0:n.accountState},getNetworkData(e){var n;const t=e||se.activeChain;if(t)return(n=O.state.chains.get(t))==null?void 0:n.networkState},getCaipNetworkByNamespace(e,t){var s,i,o;if(!e)return;const n=O.state.chains.get(e),r=(s=n==null?void 0:n.caipNetworks)==null?void 0:s.find(a=>a.id===t);return r||((i=n==null?void 0:n.networkState)==null?void 0:i.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const e=ne.state.filterByNamespace;return(e?[se.chains.get(e)]:Array.from(se.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(e){return e?O.getRequestedCaipNetworks(e):O.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(e){se.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return se.lastConnectedSIWECaipNetwork}},O=Qr(Npe),Ipe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},RM=ge.getBlockchainApiUrl(),or=dt({clientId:null,api:new Rp({baseUrl:RM,clientId:null}),supportedChains:{http:[],ws:[]}}),xe={state:or,async get(e){const{st:t,sv:n}=xe.getSdkProperties(),r=K.state.projectId,s={...e.params||{},st:t,sv:n,projectId:r};return or.api.get({...e,params:s})},getSdkProperties(){const{sdkType:e,sdkVersion:t}=K.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{or.supportedChains.http.length||await xe.getSupportedNetworks()}catch{return!1}return or.supportedChains.http.includes(e)},async getSupportedNetworks(){try{const e=await xe.get({path:"v1/supported-chains"});return or.supportedChains=e,e}catch{return or.supportedChains}},async fetchIdentity({address:e,caipNetworkId:t}){if(!await xe.isNetworkSupported(t))return{avatar:"",name:""};const r=J.getIdentityFromCacheForAddress(e);if(r)return r;const s=await xe.get({path:`/v1/identity/${e}`,params:{sender:O.state.activeCaipAddress?ge.getPlainAddress(O.state.activeCaipAddress):void 0}});return J.updateIdentityCache({address:e,identity:s,timestamp:Date.now()}),s},async fetchTransactions({account:e,cursor:t,signal:n,cache:r,chainId:s}){var c;if(!await xe.isNetworkSupported((c=O.state.activeCaipNetwork)==null?void 0:c.caipNetworkId))return{data:[],next:void 0};const o=J.getTransactionsCacheForAddress({address:e,chainId:s});if(o)return o;const a=await xe.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:n,cache:r});return J.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:e,userAddress:t,from:n,to:r,gasPrice:s}){var o;return await xe.isNetworkSupported((o=O.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?xe.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:n,to:r,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){var n;return await xe.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?xe.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async fetchTokenPrice({addresses:e}){var s;if(!await xe.isNetworkSupported((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))return{fungibles:[]};const n=J.getTokenPriceCacheForAddresses(e);if(n)return n;const r=await or.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:K.state.projectId},headers:{"Content-Type":"application/json"}});return J.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:r}),r},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){var r;return await xe.isNetworkSupported((r=O.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?xe.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){var s;const{st:t,sv:n}=xe.getSdkProperties();if(!await xe.isNetworkSupported((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId))throw new Error("Network not supported for Gas Price");return xe.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:n}})},async generateSwapCalldata({amount:e,from:t,to:n,userAddress:r,disableEstimate:s}){var o;if(!await xe.isNetworkSupported((o=O.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return or.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:Ze.CONVERT_SLIPPAGE_TOLERANCE},projectId:K.state.projectId,from:t,to:n,userAddress:r,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:n}){var o;const{st:r,sv:s}=xe.getSdkProperties();if(!await xe.isNetworkSupported((o=O.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return xe.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:e,to:t,st:r,sv:s}})},async getBalance(e,t,n){var l;const{st:r,sv:s}=xe.getSdkProperties();if(!await xe.isNetworkSupported((l=O.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return vi.showError("Token Balance Unavailable"),{balances:[]};const o=`${t}:${e}`,a=J.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await xe.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:n,st:r,sv:s}});return J.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(e){var n;return await xe.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?xe.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){var n;return await xe.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?xe.get({path:`/v1/profile/reverse/${e}`,params:{sender:me.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(e){var n;return await xe.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?xe.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:n,signature:r}){var i;return await xe.isNetworkSupported((i=O.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?or.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:n,purchaseAmount:r,paymentAmount:s}){var a;return await xe.isNetworkSupported((a=O.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await or.api.post({path:"/v1/generators/onrampurl",params:{projectId:K.state.projectId},body:{destinationWallets:e,defaultNetwork:n,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:s}})).url:""},async getOnrampOptions(){var t;if(!await xe.isNetworkSupported((t=O.state.activeCaipNetwork)==null?void 0:t.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await xe.get({path:"/v1/onramp/options"})}catch{return Ipe}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}){var s;try{return await xe.isNetworkSupported((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?await or.api.post({path:"/v1/onramp/quote",params:{projectId:K.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:n,network:r}}):null}catch{return{networkFee:{amount:n,currency:t.id},paymentSubtotal:{amount:n,currency:t.id},paymentTotal:{amount:n,currency:t.id},purchaseAmount:{amount:n,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){var n;return await xe.isNetworkSupported((n=O.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?xe.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,n){var s;return await xe.isNetworkSupported((s=O.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?or.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:K.state.projectId},body:{pci:t,signature:n}}):{success:!1}},setClientId(e){or.clientId=e,or.api=new Rp({baseUrl:RM,clientId:e})}};function _pe(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function $3(e){return _pe(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const jM="2.38.1";let Qd={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${jM}`};class Kr extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof Kr?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Kr&&n.cause.docsPath||n.docsPath,i=(a=Qd.getDocsUrl)==null?void 0:a.call(Qd,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Qd.version?[`Version: ${Qd.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=jM}walk(t){return MM(this,t)}}function MM(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?MM(e.cause,t):t?null:e}class LM extends Kr{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function j2(e,{dir:t,size:n=32}={}){return typeof e=="string"?Tpe(e,{dir:t,size:n}):Ppe(e,{dir:t,size:n})}function Tpe(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new LM({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Ppe(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new LM({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}class Dpe extends Kr{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Ope extends Kr{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function UM(e,{size:t}){if($3(e)>t)throw new Ope({givenSize:$3(e),maxSize:t})}const kpe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function R3(e,t={}){return typeof e=="number"||typeof e=="bigint"?Rpe(e,t):typeof e=="string"?FM(e,t):typeof e=="boolean"?$pe(e,t):BM(e,t)}function $pe(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(UM(n,{size:t.size}),j2(n,{size:t.size})):n}function BM(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=kpe[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(UM(r,{size:t.size}),j2(r,{dir:"right",size:t.size})):r}function Rpe(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Dpe({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?j2(a,{size:r}):a}const jpe=new TextEncoder;function FM(e,t={}){const n=jpe.encode(e);return BM(n,t)}class Mpe extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Pc=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function Lpe(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}const M2=e=>e;class $f extends Kr{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${M2(o)}`,t&&`Request body: ${Pc(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class zM extends Kr{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${M2(r)}`,`Request body: ${Pc(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class j3 extends Kr{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${M2(n)}`,`Request body: ${Pc(t)}`],name:"TimeoutError"})}}const Upe=-1;class Nr extends Kr{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof zM?t.code:n??Upe}}class Xr extends Nr{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Oh extends Nr{constructor(t){super(t,{code:Oh.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Oh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class kh extends Nr{constructor(t){super(t,{code:kh.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class $h extends Nr{constructor(t,{method:n}={}){super(t,{code:$h.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty($h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Rh extends Nr{constructor(t){super(t,{code:Rh.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Rh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class zu extends Nr{constructor(t){super(t,{code:zu.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(zu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class jh extends Nr{constructor(t){super(t,{code:jh.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Mh extends Nr{constructor(t){super(t,{code:Mh.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Mh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Lh extends Nr{constructor(t){super(t,{code:Lh.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Vu extends Nr{constructor(t){super(t,{code:Vu.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Vu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class xc extends Nr{constructor(t,{method:n}={}){super(t,{code:xc.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(xc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Hu extends Nr{constructor(t){super(t,{code:Hu.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Hu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Uh extends Nr{constructor(t){super(t,{code:Uh.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Dc extends Xr{constructor(t){super(t,{code:Dc.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Dc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Bh extends Xr{constructor(t){super(t,{code:Bh.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Fh extends Xr{constructor(t,{method:n}={}){super(t,{code:Fh.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class zh extends Xr{constructor(t){super(t,{code:zh.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Vh extends Xr{constructor(t){super(t,{code:Vh.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Hh extends Xr{constructor(t){super(t,{code:Hh.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Wh extends Xr{constructor(t){super(t,{code:Wh.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class qh extends Xr{constructor(t){super(t,{code:qh.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Kh extends Xr{constructor(t){super(t,{code:Kh.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Gh extends Xr{constructor(t){super(t,{code:Gh.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Yh extends Xr{constructor(t){super(t,{code:Yh.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Yh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Qh extends Xr{constructor(t){super(t,{code:Qh.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Xh extends Xr{constructor(t){super(t,{code:Xh.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Xh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Bpe extends Nr{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class L2 extends Kr{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(L2,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(L2,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function Fpe(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const Gv=new Map;function zpe({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const u=c();o();const d=u.map(({args:f})=>f);d.length!==0&&e(d).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<u.length;h++){const{resolve:m}=u[h];m==null||m([f[h],f])}}).catch(f=>{for(let h=0;h<u.length;h++){const{reject:m}=u[h];m==null||m(f)}})},o=()=>Gv.delete(t),a=()=>c().map(({args:u})=>u),c=()=>Gv.get(t)||[],l=u=>Gv.set(t,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:f,reject:h}=Fpe();return(n==null?void 0:n([...a(),u]))&&i(),c().length>0?(l({args:u,resolve:f,reject:h}),d):(l({args:u,resolve:f,reject:h}),setTimeout(i,r),d)}}}async function VM(e){return new Promise(t=>setTimeout(t,e))}function Vpe(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof t=="function"?t({count:a,error:l}):t;u&&await VM(u),o({count:a+1})};try{const l=await e();s(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};o()})}const zx=256;let Zm=zx,Jm;function Hpe(e=11){if(!Jm||Zm+e>zx*2){Jm="",Zm=0;for(let t=0;t<zx;t++)Jm+=(256+Math.random()*256|0).toString(16).substring(1)}return Jm.substring(Zm,Zm+++e)}const eg=new Mpe(8192);function Wpe(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(eg.get(n))return eg.get(n);const r=e().finally(()=>eg.delete(n));return eg.set(n,r),r}function qpe(e,t={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:l}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(l))throw new xc(new Error("method not supported"),{method:l});if(i!=null&&i.include&&!i.include.includes(l))throw new xc(new Error("method not supported"),{method:l});const u=s?FM(`${c}.${Pc(n)}`):void 0;return Wpe(()=>Vpe(async()=>{try{return await e(n)}catch(f){const h=f;switch(h.code){case Oh.code:throw new Oh(h);case kh.code:throw new kh(h);case $h.code:throw new $h(h,{method:n.method});case Rh.code:throw new Rh(h);case zu.code:throw new zu(h);case jh.code:throw new jh(h);case Mh.code:throw new Mh(h);case Lh.code:throw new Lh(h);case Vu.code:throw new Vu(h);case xc.code:throw new xc(h,{method:n.method});case Hu.code:throw new Hu(h);case Uh.code:throw new Uh(h);case Dc.code:throw new Dc(h);case Bh.code:throw new Bh(h);case Fh.code:throw new Fh(h);case zh.code:throw new zh(h);case Vh.code:throw new Vh(h);case Hh.code:throw new Hh(h);case Wh.code:throw new Wh(h);case qh.code:throw new qh(h);case Kh.code:throw new Kh(h);case Gh.code:throw new Gh(h);case Yh.code:throw new Yh(h);case Qh.code:throw new Qh(h);case Xh.code:throw new Xh(h);case 5e3:throw new Dc(h);default:throw f instanceof Kr?f:new Bpe(h)}}},{delay:({count:f,error:h})=>{var m;if(h&&h instanceof $f){const g=(m=h==null?void 0:h.headers)==null?void 0:m.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Kpe(f)}),{enabled:s,id:u})}}function Kpe(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Hu.code||e.code===zu.code:e instanceof $f&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Gpe(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function Ype(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const M3=Ype();function Qpe(e,t={}){return{async request(n){var f;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:u,signal:d}=c;try{const h=await Gpe(async({signal:g})=>{const y={...c,body:Array.isArray(r)?Pc(r.map(x=>({jsonrpc:"2.0",id:x.id??M3.take(),...x}))):Pc({jsonrpc:"2.0",id:r.id??M3.take(),...r}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:d||(a>0?g:null)},w=new Request(e,y),v=await(i==null?void 0:i(w,y))??{...y,url:e};return await s(v.url??e,v)},{errorInstance:new j3({body:r,url:e}),timeout:a,signal:!0});o&&await o(h);let m;if((f=h.headers.get("Content-Type"))!=null&&f.startsWith("application/json"))m=await h.json();else{m=await h.text();try{m=JSON.parse(m||"{}")}catch(g){if(h.ok)throw g;m={error:m}}}if(!h.ok)throw new $f({body:r,details:Pc(m.error)||h.statusText,headers:h.headers,status:h.status,url:e});return m}catch(h){throw h instanceof $f||h instanceof j3?h:new $f({body:r,cause:h,url:e})}}}}function HM({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const l=Hpe();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:qpe(r,{methods:t,retryCount:s,retryDelay:i,uid:l}),value:c}}function L3(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,shouldThrow:i=Xpe,retryCount:o,retryDelay:a}=t;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let f=e,h=()=>{};const m=HM({key:n,name:r,async request({method:g,params:y}){let w;const v=async(b=0)=>{const x=f[b]({...d,chain:c,retryCount:0,timeout:u});try{const E=await x.request({method:g,params:y});return h({method:g,params:y,response:E,transport:x,status:"success"}),E}catch(E){if(h({error:E,method:g,params:y,transport:x,status:"error"}),i(E)||b===f.length-1||(w??(w=f.slice(b+1).some(S=>{const{include:A,exclude:C}=S({chain:c}).config.methods||{};return A?A.includes(g):C?!C.includes(g):!0})),!w))throw E;return v(b+1)}};return v()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>h=g,transports:f.map(g=>g({chain:c,retryCount:0}))});if(s){const g=typeof s=="object"?s:{};Zpe({chain:c,interval:g.interval??l,onTransports:y=>f=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:f,weights:g.weights})}return m}}function Xpe(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Vu.code||e.code===Dc.code||L2.nodeMessage.test(e.message)||e.code===5e3))}function Zpe({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:s=10,timeout:i=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const f=await Promise.all(o.map(async g=>{const y=g({chain:e,retryCount:0,timeout:i}),w=Date.now();let v,b;try{await(r?r({transport:y}):y.request({method:"net_listening"})),b=1}catch{b=0}finally{v=Date.now()}return{latency:v-w,success:b}}));u.push(f),u.length>s&&u.shift();const h=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),m=o.map((g,y)=>{const w=u.map(S=>S[y].latency),b=1-w.reduce((S,A)=>S+A,0)/w.length/h,x=u.map(S=>S[y].success),E=x.reduce((S,A)=>S+A,0)/x.length;return E===0?[0,y]:[l*b+c*E,y]}).sort((g,y)=>y[0]-g[0]);n(m.map(([,g])=>o[g])),await VM(t),d()};d()}class Jpe extends Kr{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function tg(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=t;return({chain:f,retryCount:h,timeout:m})=>{const{batchSize:g=1e3,wait:y=0}=typeof n=="object"?n:{},w=t.retryCount??h,v=m??t.timeout??1e4,b=e||(f==null?void 0:f.rpcUrls.default.http[0]);if(!b)throw new Jpe;const x=Qpe(b,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:l,timeout:v});return HM({key:i,methods:o,name:a,async request({method:E,params:S}){const A={method:E,params:S},{schedule:C}=zpe({id:b,wait:y,shouldSplitBatch(L){return L.length>g},fn:L=>x.request({body:L}),sort:(L,B)=>L.id-B.id}),N=async L=>n?C(L):[await x.request({body:L})],[{error:j,result:M}]=await N(A);if(d)return{error:j,result:M};if(j)throw new zM({body:A,error:j,url:b});return M},retryCount:w,retryDelay:u,timeout:v,type:"http"},{fetchOptions:s,url:b})}}const Yv={createBalance(e,t){const n={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return Lpe(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){const t=e.split(":");if(t.length<2||!t[1])return"0x0";const n=t[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(n=>this.isValidAsset(n)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}},U2={async getMyTokensWithBalance(e){const t=me.state.address,n=O.state.activeCaipNetwork,r=ne.getConnectorId("eip155")===G.CONNECTOR_ID.AUTH;if(!t||!n)return[];const s=`${n.caipNetworkId}:${t}`,i=J.getBalanceCacheForCaipAddress(s);if(i)return i.balances;if(n.chainNamespace===G.CHAIN.EVM&&r){const a=await this.getEIP155Balances(t,n);if(a)return this.filterLowQualityTokens(a)}const o=await xe.getBalance(t,n.caipNetworkId,e);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(e,t){var n,r;try{const s=Yv.getChainIdHexFromCAIP2ChainId(t.caipNetworkId),i=await re.getCapabilities(e);if(!((r=(n=i==null?void 0:i[s])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await re.walletGetAssets({account:e,chainFilter:[s]});if(!Yv.isWalletGetAssetsResponse(o))return null;const c=(o[s]||[]).map(l=>Yv.createBalance(l,t.caipNetworkId));return J.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:c},timestamp:Date.now()}),c}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")}},ai=dt({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),eme={state:ai,replaceState(e){e&&Object.assign(ai,Gc(e))},subscribe(e){return O.subscribeChainProp("accountState",t=>{if(t)return e(t)})},subscribeKey(e,t,n){let r;return O.subscribeChainProp("accountState",s=>{if(s){const i=s[e];r!==i&&(r=i,t(i))}},n)},setStatus(e,t){O.setAccountProp("status",e,t)},getCaipAddress(e){var t,n;if(e)return(n=(t=O.state.chains.get(e))==null?void 0:t.accountState)==null?void 0:n.caipAddress},setCaipAddress(e,t){const n=e?ge.getPlainAddress(e):void 0;t===O.state.activeChain&&(O.state.activeCaipAddress=e),O.setAccountProp("caipAddress",e,t),O.setAccountProp("address",n,t)},setBalance(e,t,n){O.setAccountProp("balance",e,n),O.setAccountProp("balanceSymbol",t,n)},setProfileName(e,t){O.setAccountProp("profileName",e,t)},setProfileImage(e,t){O.setAccountProp("profileImage",e,t)},setUser(e,t){O.setAccountProp("user",e,t)},setAddressExplorerUrl(e,t){O.setAccountProp("addressExplorerUrl",e,t)},setSmartAccountDeployed(e,t){O.setAccountProp("smartAccountDeployed",e,t)},setCurrentTab(e){O.setAccountProp("currentTab",e,O.state.activeChain)},setTokenBalance(e,t){e&&O.setAccountProp("tokenBalance",e,t)},setShouldUpdateToAddress(e,t){O.setAccountProp("shouldUpdateToAddress",e,t)},addAddressLabel(e,t,n){var s,i;if(!n)return;const r=((i=(s=O.state.chains.get(n))==null?void 0:s.accountState)==null?void 0:i.addressLabels)||new Map;r.set(e,t),O.setAccountProp("addressLabels",r,n)},removeAddressLabel(e,t){var r,s;if(!t)return;const n=((s=(r=O.state.chains.get(t))==null?void 0:r.accountState)==null?void 0:s.addressLabels)||new Map;n.delete(e),O.setAccountProp("addressLabels",n,t)},setConnectedWalletInfo(e,t){O.setAccountProp("connectedWalletInfo",e,t,!1)},setPreferredAccountType(e,t){O.setAccountProp("preferredAccountType",e,t)},setSocialProvider(e,t){e&&O.setAccountProp("socialProvider",e,t)},setSocialWindow(e,t){O.setAccountProp("socialWindow",e?Gc(e):void 0,t)},setFarcasterUrl(e,t){O.setAccountProp("farcasterUrl",e,t)},async fetchTokenBalance(e){var i,o;ai.balanceLoading=!0;const t=(i=O.state.activeCaipNetwork)==null?void 0:i.caipNetworkId,n=(o=O.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=O.state.activeCaipAddress,s=r?ge.getPlainAddress(r):void 0;if(ai.lastRetry&&!ge.isAllowedRetry(ai.lastRetry,30*Ze.ONE_SEC_MS))return ai.balanceLoading=!1,[];try{if(s&&t&&n){const a=await U2.getMyTokensWithBalance();return me.setTokenBalance(a,n),ai.lastRetry=void 0,ai.balanceLoading=!1,a}}catch(a){ai.lastRetry=Date.now(),e==null||e(a),vi.showError("Token Balance Unavailable")}finally{ai.balanceLoading=!1}return[]},resetAccount(e){O.resetAccount(e)}},me=Qr(eme),tme={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){const n=O.state.activeCaipNetwork,r=Se.state.data;if(e.id===(n==null?void 0:n.id))return;const i=me.getCaipAddress(O.state.activeChain),o=e.chainNamespace!==O.state.activeChain,a=me.getCaipAddress(e.chainNamespace),l=ne.getConnectorId(O.state.activeChain)===G.CONNECTOR_ID.AUTH,u=G.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===e.chainNamespace);t||l&&u?Se.push("SwitchNetwork",{...r,network:e}):i&&o&&!a?Se.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):Se.push("SwitchNetwork",{...r,network:e})}},ar=dt({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),nme={state:ar,subscribe(e){return Cn(ar,()=>e(ar))},subscribeKey(e,t){return Bn(ar,e,t)},async open(e){var i,o;const t=e==null?void 0:e.namespace,n=O.state.activeChain,r=t&&t!==n,s=(i=O.getAccountData(e==null?void 0:e.namespace))==null?void 0:i.caipAddress;if(re.state.wcBasic?be.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await be.prefetch(),ne.setFilterByNamespace(e==null?void 0:e.namespace),Le.setLoading(!0,t),t&&r){const a=((o=O.getNetworkData(t))==null?void 0:o.caipNetwork)||O.getRequestedCaipNetworks(t)[0];a&&tme.onSwitchNetwork({network:a,ignoreSwitchConfirmation:!0})}else{const a=O.state.noAdapters;K.state.manualWCControl||a&&!s?ge.isMobile()?Se.reset("AllWallets"):Se.reset("ConnectingWalletConnectBasic"):e!=null&&e.view?Se.reset(e.view,e.data):s?Se.reset("Account"):Se.reset("Connect")}ar.open=!0,io.set({open:!0}),rt.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const e=K.state.enableEmbedded,t=!!O.state.activeCaipAddress;ar.open&&rt.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),ar.open=!1,Se.reset("Connect"),Le.clearLoading(),e?t?Se.replace("Account"):Se.push("Connect"):io.set({open:!1}),re.resetUri()},setLoading(e,t){t&&ar.loadingNamespaceMap.set(t,e),ar.loading=e,io.set({loading:e})},clearLoading(){ar.loadingNamespaceMap.clear(),ar.loading=!1,io.set({loading:!1})},shake(){ar.shake||(ar.shake=!0,setTimeout(()=>{ar.shake=!1},500))}},Le=Qr(nme),Rf={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},Vx={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},rme={providers:DM,selectedProvider:null,error:null,purchaseCurrency:Rf,paymentCurrency:Vx,purchaseCurrencies:[Rf],paymentCurrencies:[],quotesLoading:!1},Be=dt(rme),sme={state:Be,subscribe(e){return Cn(Be,()=>e(Be))},subscribeKey(e,t){return Bn(Be,e,t)},setSelectedProvider(e){var t,n;if(e&&e.name==="meld"){const r=O.state.activeChain,s=r===G.CHAIN.SOLANA?"SOL":"USDC",i=r?((n=(t=O.state.chains.get(r))==null?void 0:t.accountState)==null?void 0:n.address)??"":"",o=new URL(e.url);o.searchParams.append("publicKey",epe),o.searchParams.append("destinationCurrencyCode",s),o.searchParams.append("walletAddress",i),o.searchParams.append("externalCustomerId",K.state.projectId),Be.selectedProvider={...e,url:o.toString()}}else Be.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){const t=e,n=DM.filter(r=>t.includes(r.name));Be.providers=n}else Be.providers=[]},setPurchaseCurrency(e){Be.purchaseCurrency=e},setPaymentCurrency(e){Be.paymentCurrency=e},setPurchaseAmount(e){Hx.state.purchaseAmount=e},setPaymentAmount(e){Hx.state.paymentAmount=e},async getAvailableCurrencies(){const e=await xe.getOnrampOptions();Be.purchaseCurrencies=e.purchaseCurrencies,Be.paymentCurrencies=e.paymentCurrencies,Be.paymentCurrency=e.paymentCurrencies[0]||Vx,Be.purchaseCurrency=e.purchaseCurrencies[0]||Rf,await be.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await be.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){var e,t;Be.quotesLoading=!0;try{const n=await xe.getOnrampQuote({purchaseCurrency:Be.purchaseCurrency,paymentCurrency:Be.paymentCurrency,amount:((e=Be.paymentAmount)==null?void 0:e.toString())||"0",network:(t=Be.purchaseCurrency)==null?void 0:t.symbol});return Be.quotesLoading=!1,Be.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return Be.error=n.message,Be.quotesLoading=!1,null}finally{Be.quotesLoading=!1}},resetState(){Be.selectedProvider=null,Be.error=null,Be.purchaseCurrency=Rf,Be.paymentCurrency=Vx,Be.purchaseCurrencies=[Rf],Be.paymentCurrencies=[],Be.paymentAmount=void 0,Be.purchaseAmount=void 0,Be.quotesLoading=!1}},Hx=Qr(sme),U3=2147483648,ime={convertEVMChainIdToCoinType(e){if(e>=U3)throw new Error("Invalid chainId");return(U3|e)>>>0}},ss=dt({suggestions:[],loading:!1}),ome={state:ss,subscribe(e){return Cn(ss,()=>e(ss))},subscribeKey(e,t){return Bn(ss,e,t)},async resolveName(e){var t,n;try{return await xe.lookupEnsName(e)}catch(r){const s=r;throw new Error(((n=(t=s==null?void 0:s.reasons)==null?void 0:t[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(e){try{return await xe.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{ss.loading=!0,ss.suggestions=[];const t=await xe.getEnsNameSuggestions(e);return ss.suggestions=t.suggestions.map(n=>({...n,name:n.name}))||[],ss.suggestions}catch(t){const n=jf.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(n)}finally{ss.loading=!1}},async getNamesForAddress(e){try{if(!O.state.activeCaipNetwork)return[];const n=J.getEnsFromCacheForAddress(e);if(n)return n;const r=await xe.reverseLookupEnsName({address:e});return J.updateEnsCache({address:e,ens:r,timestamp:Date.now()}),r}catch(t){const n=jf.parseEnsApiError(t,"Error fetching names for address");throw new Error(n)}},async registerName(e){const t=O.state.activeCaipNetwork,n=me.state.address,r=ne.getAuthConnector();if(!t)throw new Error("Network not found");if(!n||!r)throw new Error("Address or auth connector not found");ss.loading=!0;try{const s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Se.pushTransactionStack({onCancel(){Se.replace("RegisterAccountName")}});const i=await re.signMessage(s);ss.loading=!1;const o=t.id;if(!o)throw new Error("Network not found");const a=ime.convertEVMChainIdToCoinType(Number(o));await xe.registerEnsName({coinType:a,address:n,signature:i,message:s}),me.setProfileName(e,t.chainNamespace),Se.replace("RegisterAccountNameSuccess")}catch(s){const i=jf.parseEnsApiError(s,`Error registering name ${e}`);throw Se.replace("RegisterAccountName"),new Error(i)}finally{ss.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){var r,s;const n=e;return((s=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:s.description)||t}},jf=Qr(ome);let ec=null;const pi={getSIWX(){return K.state.siwx},async initializeIfEnabled(e=O.getActiveCaipAddress()){var i,o,a;const t=K.state.siwx;if(!(t&&e))return;const[n,r,s]=e.split(":");if(O.checkIfSupportedNetwork(n,`${n}:${r}`))try{if((i=K.state.remoteFeatures)!=null&&i.emailCapture){const l=(o=O.getAccountData(n))==null?void 0:o.user;await Le.open({view:"DataCapture",data:{email:(l==null?void 0:l.email)??void 0}});return}if(ec&&await ec,(await t.getSessions(`${n}:${r}`,s)).length)return;await Le.open({view:"SIWXSignMessage"})}catch(c){console.error("SIWXUtil:initializeIfEnabled",c),rt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((a=re._getClient())==null?void 0:a.disconnect().catch(console.error)),Se.reset("Connect"),vi.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const e=K.state.siwx,t=ge.getPlainAddress(O.getActiveCaipAddress()),n=k3(),r=re._getClient();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const s=await e.createMessage({chainId:n.caipNetworkId,accountAddress:t}),i=s.toString();ne.getConnectorId(n.chainNamespace)===G.CONNECTOR_ID.AUTH&&Se.pushTransactionStack({});const a=await r.signMessage(i);await e.addSession({data:s,message:i,signature:a}),O.setLastConnectedSIWECaipNetwork(n),Le.close(),rt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(s){const i=this.getSIWXEventProperties();(!Le.state.open||Se.state.view==="ApproveTransaction")&&await Le.open({view:"SIWXSignMessage"}),vi.showError("Error signing message"),rt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:i}),console.error("SWIXUtil:requestSignMessage",s)}},async cancelSignMessage(){var e;try{const t=this.getSIWX();if((e=t==null?void 0:t.getRequired)==null?void 0:e.call(t)){const r=O.getLastConnectedSIWECaipNetwork();if(r){const s=await(t==null?void 0:t.getSessions(r==null?void 0:r.caipNetworkId,ge.getPlainAddress(O.getActiveCaipAddress())||""));s&&s.length>0?await O.switchActiveNetwork(r):await re.disconnect()}else await re.disconnect()}else Le.close();Le.close(),rt.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const e=this.getSIWX(),t=O.getAllRequestedCaipNetworks(),n=[];return await Promise.all(t.map(async r=>{const s=await(e==null?void 0:e.getSessions(r.caipNetworkId,ge.getPlainAddress(O.getActiveCaipAddress())||""));s&&n.push(...s)})),n},async getSessions(e){const t=K.state.siwx;let n=e==null?void 0:e.address;if(!n){const s=O.getActiveCaipAddress();n=ge.getPlainAddress(s)}let r=e==null?void 0:e.caipNetworkId;if(!r){const s=O.getActiveCaipNetwork();r=s==null?void 0:s.caipNetworkId}return t&&n&&r?t.getSessions(r,n):[]},async isSIWXCloseDisabled(){var t;const e=this.getSIWX();if(e){const n=Se.state.view==="ApproveTransaction",r=Se.state.view==="SIWXSignMessage";if(n||r)return((t=e.getRequired)==null?void 0:t.call(e))&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:n,preferredAccountType:r,chainNamespace:s}){var u;const i=pi.getSIWX();if(!i||!s.includes(G.CHAIN.EVM)||(u=K.state.remoteFeatures)!=null&&u.emailCapture){const d=await e.connect({chainId:t,socialUri:n,preferredAccountType:r});return{address:d.address,chainId:d.chainId,accounts:d.accounts}}const o=`${s}:${t}`,a=await i.createMessage({chainId:o,accountAddress:"<<AccountAddress>>"}),c={accountAddress:a.accountAddress,chainId:a.chainId,domain:a.domain,uri:a.uri,version:a.version,nonce:a.nonce,notBefore:a.notBefore,statement:a.statement,resources:a.resources,requestId:a.requestId,issuedAt:a.issuedAt,expirationTime:a.expirationTime,serializedMessage:a.toString()},l=await e.connect({chainId:t,socialUri:n,siwxMessage:c,preferredAccountType:r});return c.accountAddress=l.address,c.serializedMessage=l.message||"",l.signature&&l.message&&await pi.addEmbeddedWalletSession(c,l.message,l.signature),{address:l.address,chainId:l.chainId,accounts:l.accounts}},async addEmbeddedWalletSession(e,t,n){if(ec)return ec;const r=pi.getSIWX();return r?(ec=r.addSession({data:e,message:t,signature:n}).finally(()=>{ec=null}),ec):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:n}){var a,c,l;const r=pi.getSIWX(),s=new Set(t.map(u=>u.split(":")[0]));if(!r||s.size!==1||!s.has("eip155"))return!1;const i=await r.createMessage({chainId:((a=k3())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await e.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:n,chains:[i.chainId,...t.filter(u=>u!==i.chainId)]});if(vi.showLoading("Authenticating...",{autoClose:!1}),me.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(s)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const f=e.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||i.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:f,signature:d.s.s,cacao:d}});try{await r.setSessions(u),rt.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:pi.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),rt.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:pi.getSIWXEventProperties()}),await e.disconnect().catch(console.error),d}finally{vi.hide()}}return!0},getSIWXEventProperties(){var t;const e=O.state.activeChain;if(!e)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:((t=O.state.activeCaipNetwork)==null?void 0:t.caipNetworkId)||"",isSmartAccount:ki(e)===Tc.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const e=this.getSIWX();e&&await e.setSessions([])}},ac={EIP155:G.CHAIN.EVM,CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},Zh={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[G.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[G.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[G.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[G.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[G.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[G.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[G.CONNECTOR_ID.INJECTED]:"Browser Wallet",[G.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[G.CONNECTOR_ID.COINBASE]:"Coinbase",[G.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[G.CONNECTOR_ID.LEDGER]:"Ledger",[G.CONNECTOR_ID.SAFE]:"Safe"}},Br={getCaipTokens(e){if(!e)return;const t={};return Object.entries(e).forEach(([n,r])=>{t[`${ac.EIP155}:${n}`]=r}),t},isLowerCaseMatch(e,t){return(e==null?void 0:e.toLowerCase())===(t==null?void 0:t.toLowerCase())},getActiveNamespaceConnectedToAuth(){const e=O.state.activeChain;return G.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>ne.getConnectorId(t)===G.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:n}){let r=0;return new Promise(s=>{async function i(){return r+=1,await e()?s(!0):r>=n?s(!1):(setTimeout(i,t),null)}i()})}},ame=new AbortController,os={EmbeddedWalletAbortController:ame,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${ou()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system’s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`}}},cme={createLogger(e,t="error"){const n=Ap({level:t}),{logger:r}=P5({opts:n});return r.error=(...s)=>{for(const i of s)if(i instanceof Error){e(i,...s);return}e(void 0,...s)},r}},lme="rpc.walletconnect.org";function B3(e,t){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",e),n.searchParams.set("projectId",t),n.toString()}const Qv=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],zl={extendRpcUrlWithProjectId(e,t){let n=!1;try{n=new URL(e).host===lme}catch{n=!1}if(n){const r=new URL(e);return r.searchParams.has("projectId")||r.searchParams.set("projectId",t),r.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:G.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${G.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,n){var s,i,o;const r=(o=(i=(s=e.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null?void 0:o[0];return Qv.includes(t)?B3(t,n):r||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){var f,h,m,g,y,w,v;const s=this.getChainNamespace(e),i=this.getCaipNetworkId(e),o=(m=(h=(f=e.rpcUrls)==null?void 0:f.default)==null?void 0:h.http)==null?void 0:m[0],a=this.getDefaultRpcUrl(e,i,n),c=((w=(y=(g=e==null?void 0:e.rpcUrls)==null?void 0:g.chainDefault)==null?void 0:y.http)==null?void 0:w[0])||o,l=((v=r==null?void 0:r[i])==null?void 0:v.map(b=>b.url))||[],u=[...l,...a?[a]:[]],d=[...l];return c&&!d.includes(c)&&d.push(c),{...e,chainNamespace:s,caipNetworkId:i,assets:{imageId:Zh.NetworkImageIds[e.id],imageUrl:t==null?void 0:t[e.id]},rpcUrls:{...e.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:n,customRpcUrls:r}){return e.map(s=>zl.extendCaipNetwork(s,{customNetworkImageUrls:t,customRpcUrls:r,projectId:n}))},getViemTransport(e,t,n){var s,i,o;const r=[];return n==null||n.forEach(a=>{r.push(tg(a.url,a.config))}),Qv.includes(e.caipNetworkId)&&r.push(tg(B3(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(i=(s=e==null?void 0:e.rpcUrls)==null?void 0:s.default)==null?void 0:i.http)==null||o.forEach(a=>{r.push(tg(a))}),L3(r)},extendWagmiTransports(e,t,n){if(Qv.includes(e.caipNetworkId)){const r=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return L3([n,tg(r)])}return n},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:G.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){var c;const t=J.getActiveCaipNetworkId(),n=O.getAllRequestedCaipNetworks(),r=Array.from(((c=O.state.chains)==null?void 0:c.keys())||[]),s=t==null?void 0:t.split(":")[0],i=s?r.includes(s):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===t);return i&&!o&&t?this.getUnsupportedNetwork(t):o||e||(n==null?void 0:n[0])}},H0={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},cr=dt({providers:{...H0},providerIds:{...H0}}),_t={state:cr,subscribeKey(e,t){return Bn(cr,e,t)},subscribe(e){return Cn(cr,()=>{e(cr)})},subscribeProviders(e){return Cn(cr.providers,()=>e(cr.providers))},setProvider(e,t){e&&t&&(cr.providers[e]=Gc(t))},getProvider(e){if(e)return cr.providers[e]},setProviderId(e,t){t&&(cr.providerIds[e]=t)},getProviderId(e){if(e)return cr.providerIds[e]},reset(){cr.providers={...H0},cr.providerIds={...H0}},resetChain(e){cr.providers[e]=void 0,cr.providerIds[e]=void 0}},ume={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},Wx={filterOutDuplicatesByRDNS(e){const t=K.state.enableEIP6963?ne.state.connectors:[],n=J.getRecentWallets(),r=t.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),s=n.map(a=>a.rdns).filter(Boolean),i=r.concat(s);if(i.includes("io.metamask.mobile")&&ge.isMobile()){const a=i.indexOf("io.metamask.mobile");i[a]="io.metamask"}return e.filter(a=>!(a!=null&&a.rdns&&i.includes(String(a.rdns))||!(a!=null&&a.rdns)&&t.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(e){const t=ne.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=J.getRecentWallets(),r=t.map(a=>a.explorerId),s=n.map(a=>a.id),i=r.concat(s);return e.filter(a=>!i.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(e){const t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){const{connectors:t}=ne.state,{featuredWalletIds:n}=K.state,r=t.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return e.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),u=n.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(e,t){var c;const n=(e==null?void 0:e.connectMethodsOrder)||((c=K.state.features)==null?void 0:c.connectMethodsOrder),r=t||ne.state.connectors;if(n)return n;const{injected:s,announced:i}=Rg.getConnectorsByType(r,be.state.recommended,be.state.featured),o=s.filter(Rg.showConnector),a=i.filter(Rg.showConnector);return o.length||a.length?["wallet","email","social"]:ume.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){const t=!!e.rdns&&be.state.excludedWallets.some(r=>r.rdns===e.rdns),n=!!e.name&&be.state.excludedWallets.some(r=>Br.isLowerCaseMatch(r.name,e.name));return t||n},markWalletsWithDisplayIndex(e){return e.map((t,n)=>({...t,display_index:n}))}},Rg={getConnectorsByType(e,t,n){const{customWallets:r}=K.state,s=J.getRecentWallets(),i=Wx.filterOutDuplicateWallets(t),o=Wx.filterOutDuplicateWallets(n),a=e.filter(d=>d.type==="MULTI_CHAIN"),c=e.filter(d=>d.type==="ANNOUNCED"),l=e.filter(d=>d.type==="INJECTED"),u=e.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:i,featured:o}},showConnector(e){var s;const t=(s=e.info)==null?void 0:s.rdns,n=!!t&&be.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===t),r=!!e.name&&be.state.excludedWallets.some(i=>Br.isLowerCaseMatch(i.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!ge.isMobile()||ge.isMobile()&&!t&&!re.checkInstalled())||n||r)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(O.state.chains.values()).some(n=>ne.getConnectorId(n.namespace)===G.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:n,recent:r,announced:s,injected:i,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=K.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const f=[{type:"walletConnect",isEnabled:K.state.enableWalletConnect},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...i,...s,...o].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:e.length>0}].filter(y=>y.isEnabled),h=new Set(f.map(y=>y.type)),m=c.filter(y=>h.has(y)).map(y=>({type:y,isEnabled:!0})),g=f.filter(({type:y})=>!m.some(({type:v})=>v===y));return Array.from(new Set([...m,...g].map(({type:y})=>y)))},getAuthName({email:e,socialUsername:t,socialProvider:n}){return t?n&&n==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){var t,n;try{if(e.name==="Browser Wallet"&&!ge.isMobile())return{accounts:[],chainId:void 0};if(e.id===G.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[r,s]=await Promise.all([(t=e.provider)==null?void 0:t.request({method:"eth_accounts"}),(n=e.provider)==null?void 0:n.request({method:"eth_chainId"}).then(i=>Number(i))]);return{accounts:r,chainId:s}}catch(r){return console.warn(`Failed to fetch provider data for ${e.name}`,r),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const jg=globalThis,B2=jg.ShadowRoot&&(jg.ShadyCSS===void 0||jg.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,F2=Symbol(),F3=new WeakMap;let WM=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==F2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(B2&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=F3.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&F3.set(n,t))}return t}toString(){return this.cssText}};const as=e=>new WM(typeof e=="string"?e:e+"",void 0,F2),Su=(e,...t)=>{const n=e.length===1?e[0]:t.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[i+1],e[0]);return new WM(n,e,F2)},dme=(e,t)=>{if(B2)e.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of t){const r=document.createElement("style"),s=jg.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,e.appendChild(r)}},z3=B2?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return as(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:fme,defineProperty:hme,getOwnPropertyDescriptor:pme,getOwnPropertyNames:mme,getOwnPropertySymbols:gme,getPrototypeOf:yme}=Object,Aa=globalThis,V3=Aa.trustedTypes,wme=V3?V3.emptyScript:"",Xv=Aa.reactiveElementPolyfillSupport,Mf=(e,t)=>e,qx={toAttribute(e,t){switch(t){case Boolean:e=e?wme:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},qM=(e,t)=>!fme(e,t),H3={attribute:!0,type:String,converter:qx,reflect:!1,useDefault:!1,hasChanged:qM};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Aa.litPropertyMetadata??(Aa.litPropertyMetadata=new WeakMap);let Vl=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=H3){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(t,r,n);s!==void 0&&hme(this.prototype,t,s)}}static getPropertyDescriptor(t,n,r){const{get:s,set:i}=pme(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const a=s==null?void 0:s.call(this);i==null||i.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??H3}static _$Ei(){if(this.hasOwnProperty(Mf("elementProperties")))return;const t=yme(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Mf("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Mf("properties"))){const n=this.properties,r=[...mme(n),...gme(n)];for(const s of r)this.createProperty(s,n[s])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const s of r)n.unshift(z3(s))}else t!==void 0&&n.push(z3(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(n=>n(this))}addController(t){var n;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var n;(n=this._$EO)==null||n.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return dme(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){var i;const r=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,r);if(s!==void 0&&r.reflect===!0){const o=(((i=r.converter)==null?void 0:i.toAttribute)!==void 0?r.converter:qx).toAttribute(n,r.type);this._$Em=t,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(t,n){var i,o;const r=this.constructor,s=r._$Eh.get(t);if(s!==void 0&&this._$Em!==s){const a=r.getPropertyOptions(s),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)==null?void 0:i.fromAttribute)!==void 0?a.converter:qx;this._$Em=s;const l=c.fromAttribute(n,a.type);this[s]=l??((o=this._$Ej)==null?void 0:o.get(s))??l,this._$Em=null}}requestUpdate(t,n,r){var s;if(t!==void 0){const i=this.constructor,o=this[t];if(r??(r=i.getPropertyOptions(t)),!((r.hasChanged??qM)(o,n)||r.useDefault&&r.reflect&&o===((s=this._$Ej)==null?void 0:s.get(t))&&!this.hasAttribute(i._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,o??n??this[t]),i!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),s===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[i,o]of this._$Ep)this[i]=o;this._$Ep=void 0}const s=this.constructor.elementProperties;if(s.size>0)for(const[i,o]of s){const{wrapped:a}=o,c=this[i];a!==!0||this._$AL.has(i)||c===void 0||this.C(i,void 0,o,c)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(s=>{var i;return(i=s.hostUpdate)==null?void 0:i.call(s)}),this.update(n)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(n)}willUpdate(t){}_$AE(t){var n;(n=this._$EO)==null||n.forEach(r=>{var s;return(s=r.hostUpdated)==null?void 0:s.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};Vl.elementStyles=[],Vl.shadowRootOptions={mode:"open"},Vl[Mf("elementProperties")]=new Map,Vl[Mf("finalized")]=new Map,Xv==null||Xv({ReactiveElement:Vl}),(Aa.reactiveElementVersions??(Aa.reactiveElementVersions=[])).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Lf=globalThis,W0=Lf.trustedTypes,W3=W0?W0.createPolicy("lit-html",{createHTML:e=>e}):void 0,KM="$lit$",ia=`lit$${Math.random().toFixed(9).slice(2)}$`,GM="?"+ia,vme=`<${GM}>`,Yc=document,Jh=()=>Yc.createComment(""),ep=e=>e===null||typeof e!="object"&&typeof e!="function",z2=Array.isArray,bme=e=>z2(e)||typeof(e==null?void 0:e[Symbol.iterator])=="function",Zv=`[ 	
\f\r]`,Xd=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,q3=/-->/g,K3=/>/g,tc=RegExp(`>|${Zv}(?:([^\\s"'>=/]+)(${Zv}*=${Zv}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),G3=/'/g,Y3=/"/g,YM=/^(?:script|style|textarea|title)$/i,QM=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),Q1e=QM(1),X1e=QM(2),Wu=Symbol.for("lit-noChange"),an=Symbol.for("lit-nothing"),Q3=new WeakMap,Ec=Yc.createTreeWalker(Yc,129);function XM(e,t){if(!z2(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return W3!==void 0?W3.createHTML(t):t}const xme=(e,t)=>{const n=e.length-1,r=[];let s,i=t===2?"<svg>":t===3?"<math>":"",o=Xd;for(let a=0;a<n;a++){const c=e[a];let l,u,d=-1,f=0;for(;f<c.length&&(o.lastIndex=f,u=o.exec(c),u!==null);)f=o.lastIndex,o===Xd?u[1]==="!--"?o=q3:u[1]!==void 0?o=K3:u[2]!==void 0?(YM.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=tc):u[3]!==void 0&&(o=tc):o===tc?u[0]===">"?(o=s??Xd,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?tc:u[3]==='"'?Y3:G3):o===Y3||o===G3?o=tc:o===q3||o===K3?o=Xd:(o=tc,s=void 0);const h=o===tc&&e[a+1].startsWith("/>")?" ":"";i+=o===Xd?c+vme:d>=0?(r.push(l),c.slice(0,d)+KM+c.slice(d)+ia+h):c+ia+(d===-2?a:h)}return[XM(e,i+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};let Kx=class ZM{constructor({strings:t,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const a=t.length-1,c=this.parts,[l,u]=xme(t,n);if(this.el=ZM.createElement(l,r),Ec.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Ec.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(const d of s.getAttributeNames())if(d.endsWith(KM)){const f=u[o++],h=s.getAttribute(d).split(ia),m=/([.?@])?(.*)/.exec(f);c.push({type:1,index:i,name:m[2],strings:h,ctor:m[1]==="."?Cme:m[1]==="?"?Sme:m[1]==="@"?Ame:rw}),s.removeAttribute(d)}else d.startsWith(ia)&&(c.push({type:6,index:i}),s.removeAttribute(d));if(YM.test(s.tagName)){const d=s.textContent.split(ia),f=d.length-1;if(f>0){s.textContent=W0?W0.emptyScript:"";for(let h=0;h<f;h++)s.append(d[h],Jh()),Ec.nextNode(),c.push({type:2,index:++i});s.append(d[f],Jh())}}}else if(s.nodeType===8)if(s.data===GM)c.push({type:2,index:i});else{let d=-1;for(;(d=s.data.indexOf(ia,d+1))!==-1;)c.push({type:7,index:i}),d+=ia.length-1}i++}}static createElement(t,n){const r=Yc.createElement("template");return r.innerHTML=t,r}};function qu(e,t,n=e,r){var o,a;if(t===Wu)return t;let s=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const i=ep(t)?void 0:t._$litDirective$;return(s==null?void 0:s.constructor)!==i&&((a=s==null?void 0:s._$AO)==null||a.call(s,!1),i===void 0?s=void 0:(s=new i(e),s._$AT(e,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=s:n._$Cl=s),s!==void 0&&(t=qu(e,s._$AS(e,t.values),s,r)),t}class Eme{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,s=((t==null?void 0:t.creationScope)??Yc).importNode(n,!0);Ec.currentNode=s;let i=Ec.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new V2(i,i.nextSibling,this,t):c.type===1?l=new c.ctor(i,c.name,c.strings,this,t):c.type===6&&(l=new Nme(i,this,t)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(i=Ec.nextNode(),o++)}return Ec.currentNode=Yc,s}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}let V2=class JM{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,n,r,s){this.type=2,this._$AH=an,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=(s==null?void 0:s.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=qu(this,t,n),ep(t)?t===an||t==null||t===""?(this._$AH!==an&&this._$AR(),this._$AH=an):t!==this._$AH&&t!==Wu&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):bme(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==an&&ep(this._$AH)?this._$AA.nextSibling.data=t:this.T(Yc.createTextNode(t)),this._$AH=t}$(t){var i;const{values:n,_$litType$:r}=t,s=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=Kx.createElement(XM(r.h,r.h[0]),this.options)),r);if(((i=this._$AH)==null?void 0:i._$AD)===s)this._$AH.p(n);else{const o=new Eme(s,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(t){let n=Q3.get(t.strings);return n===void 0&&Q3.set(t.strings,n=new Kx(t)),n}k(t){z2(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of t)s===n.length?n.push(r=new JM(this.O(Jh()),this.O(Jh()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);t!==this._$AB;){const s=t.nextSibling;t.remove(),t=s}}setConnected(t){var n;this._$AM===void 0&&(this._$Cv=t,(n=this._$AP)==null||n.call(this,t))}},rw=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,s,i){this.type=1,this._$AH=an,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=an}_$AI(t,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)t=qu(this,t,n,0),o=!ep(t)||t!==this._$AH&&t!==Wu,o&&(this._$AH=t);else{const a=t;let c,l;for(t=i[0],c=0;c<i.length-1;c++)l=qu(this,a[r+c],n,c),l===Wu&&(l=this._$AH[c]),o||(o=!ep(l)||l!==this._$AH[c]),l===an?t=an:t!==an&&(t+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(t)}j(t){t===an?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}};class Cme extends rw{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===an?void 0:t}}class Sme extends rw{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==an)}}class Ame extends rw{constructor(t,n,r,s,i){super(t,n,r,s,i),this.type=5}_$AI(t,n=this){if((t=qu(this,t,n,0)??an)===Wu)return;const r=this._$AH,s=t===an&&r!==an||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,i=t!==an&&(r===an||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,t):this._$AH.handleEvent(t)}}class Nme{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){qu(this,t)}}const Jv=Lf.litHtmlPolyfillSupport;Jv==null||Jv(Kx,V2),(Lf.litHtmlVersions??(Lf.litHtmlVersions=[])).push("3.3.1");const Ime=(e,t,n)=>{const r=(n==null?void 0:n.renderBefore)??t;let s=r._$litPart$;if(s===void 0){const i=(n==null?void 0:n.renderBefore)??null;r._$litPart$=s=new V2(t.insertBefore(Jh(),i),i,void 0,n??{})}return s._$AI(e),s};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Oc=globalThis;class Mg extends Vl{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const t=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=t.firstChild),t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Ime(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return Wu}}var SD;Mg._$litElement$=!0,Mg.finalized=!0,(SD=Oc.litElementHydrateSupport)==null||SD.call(Oc,{LitElement:Mg});const eb=Oc.litElementPolyfillSupport;eb==null||eb({LitElement:Mg});(Oc.litElementVersions??(Oc.litElementVersions=[])).push("4.2.1");let Uf,Na,Ia;function J1e(e,t){Uf=document.createElement("style"),Na=document.createElement("style"),Ia=document.createElement("style"),Uf.textContent=Au(e).core.cssText,Na.textContent=Au(e).dark.cssText,Ia.textContent=Au(e).light.cssText,document.head.appendChild(Uf),document.head.appendChild(Na),document.head.appendChild(Ia),e8(t)}function e8(e){Na&&Ia&&(e==="light"?(Na.removeAttribute("media"),Ia.media="enabled"):(Ia.removeAttribute("media"),Na.media="enabled"))}function _me(e){Uf&&Na&&Ia&&(Uf.textContent=Au(e).core.cssText,Na.textContent=Au(e).dark.cssText,Ia.textContent=Au(e).light.cssText)}function Au(e){return{core:Su`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${as(e!=null&&e["--w3m-color-mix-strength"]?`${e["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${as((e==null?void 0:e["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${as((e==null?void 0:e["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${as((e==null?void 0:e["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${as((e==null?void 0:e["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:Su`
      :root {
        --w3m-color-mix: ${as((e==null?void 0:e["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${as(fa(e,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${as(fa(e,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:Su`
      :root {
        --w3m-color-mix: ${as((e==null?void 0:e["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${as(fa(e,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${as(fa(e,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const exe=Su`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,txe=Su`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,nxe=Su`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Lg={hexStringToNumber(e){const t=e.startsWith("0x")?e.slice(2):e;return parseInt(t,16)},numberToHexString(e){return`0x${e.toString(16)}`},async getUserInfo(e){const[t,n]=await Promise.all([Lg.getAddresses(e),Lg.getChainId(e)]);return{chainId:n,addresses:t}},async getChainId(e){const t=await e.request({method:"eth_chainId"});return Number(t)},async getAddress(e){const[t]=await e.request({method:"eth_accounts"});return t},async getAddresses(e){return await e.request({method:"eth_accounts"})},async addEthereumChain(e,t){var r,s;const n=((r=t.rpcUrls.chainDefault)==null?void 0:r.http)||[];await e.request({method:"wallet_addEthereumChain",params:[{chainId:Lg.numberToHexString(t.id),rpcUrls:[...n],chainName:t.name,nativeCurrency:{name:t.nativeCurrency.name,decimals:t.nativeCurrency.decimals,symbol:t.nativeCurrency.symbol},blockExplorerUrls:[(s=t.blockExplorers)==null?void 0:s.default.url],iconUrls:[Zh.NetworkImageIds[t.id]]}]})}},Ll={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}};function jp(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const X3=jp({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),Z3=jp({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});jp({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});const t8=jp({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});jp({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const Tme={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},lo={getMethodsByChainNamespace(e){return Tme[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};const n={...e},r=new Set;if(t.methods&&Object.keys(t.methods).forEach(s=>r.add(s)),t.chains&&Object.keys(t.chains).forEach(s=>r.add(s)),t.events&&Object.keys(t.events).forEach(s=>r.add(s)),t.rpcMap&&Object.keys(t.rpcMap).forEach(s=>{const[i]=s.split(":");i&&r.add(i)}),r.forEach(s=>{n[s]||(n[s]=this.createDefaultNamespace(s))}),t.methods&&Object.entries(t.methods).forEach(([s,i])=>{n[s]&&(n[s].methods=i)}),t.chains&&Object.entries(t.chains).forEach(([s,i])=>{n[s]&&(n[s].chains=i)}),t.events&&Object.entries(t.events).forEach(([s,i])=>{n[s]&&(n[s].events=i)}),t.rpcMap){const s=new Set;Object.entries(t.rpcMap).forEach(([i,o])=>{const[a,c]=i.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),s.has(a)||(n[a].rpcMap={},s.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(e,t){const n=e.reduce((r,s)=>{const{id:i,chainNamespace:o,rpcUrls:a}=s,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${i}`,u=r[o];switch(u.chains.push(l),l){case X3.caipNetworkId:u.chains.push(X3.deprecatedCaipNetworkId);break;case Z3.caipNetworkId:u.chains.push(Z3.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[i]=c),r},{});return this.applyNamespaceOverrides(n,t)},resolveReownName:async e=>{var r;const t=await jf.resolveName(e);return((r=(Object.values(t==null?void 0:t.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const n=t.chains||[],r=t.accounts.map(s=>{const[i,o]=s.split(":");return`${i}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isOriginAllowed(e,t,n){for(const r of[...t,...n])if(r.includes("*")){const i=`^${r.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(i,"u").test(e))return!0}else try{if(new URL(r).origin===e)return!0}catch{if(r===e)return!0}return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:n,onDisconnect:r,onAccountsChanged:s,onChainChanged:i,onDisplayUri:o}){n&&e.on("connect",()=>{const a=lo.getWalletConnectAccounts(e,t);n(a)}),r&&e.on("disconnect",()=>{r()}),s&&e.on("session_event",a=>{if(lo.isSessionEventData(a)){const{name:c,data:l}=a.params.event;if(c==="accountsChanged"&&Array.isArray(l)){const u=l.filter(d=>ge.isCaipAddress(d)).map(d=>Ur.parseCaipAddress(d)).filter(d=>d.chainNamespace===t);s(u)}}}),i&&e.on("chainChanged",a=>{i(a)}),o&&e.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(e,t){var s,i,o,a;const n=new Set,r=(a=(o=(i=(s=e==null?void 0:e.session)==null?void 0:s.namespaces)==null?void 0:i[t])==null?void 0:o.accounts)==null?void 0:a.map(c=>Ur.parseCaipAddress(c)).filter(({address:c})=>n.has(c.toLowerCase())?!1:(n.add(c.toLowerCase()),!0));return r&&r.length>0?r:[]}};class Pme{constructor(t){this.namespace=t.namespace}async syncConnections(t){switch(this.namespace){case G.CHAIN.EVM:await this.syncEVMConnections(t);break;case G.CHAIN.SOLANA:await this.syncSolanaConnections(t);break;case G.CHAIN.BITCOIN:await this.syncBitcoinConnections(t);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:t,caipNetworks:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(t.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{if(a.id===G.CONNECTOR_ID.WALLET_CONNECT){const c=lo.getWalletConnectAccounts(r,this.namespace),l=n.find(u=>{var d,f;return u.chainNamespace===this.namespace&&u.id.toString()===((f=(d=c[0])==null?void 0:d.chainId)==null?void 0:f.toString())});c.length>0&&i({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await Rg.fetchProviderData(a);if(c.length>0&&l){const u=n.find(d=>d.chainNamespace===this.namespace&&d.id.toString()===l.toString());i({connectorId:a.id,accounts:c.map(d=>({address:d})),caipNetwork:u}),a.provider&&a.id!==G.CONNECTOR_ID.AUTH&&a.id!==G.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(t.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{if(a.id===G.CONNECTOR_ID.WALLET_CONNECT){const c=lo.getWalletConnectAccounts(r,this.namespace);c.length>0&&i({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:n})}else{const c=await a.connect({chainId:n==null?void 0:n.id});c&&(i({connectorId:a.id,accounts:[{address:c}],caipNetwork:n}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:t,caipNetwork:n,universalProvider:r,getConnectionStatusInfo:s,onConnection:i,onListenProvider:o}){await Promise.all(t.filter(a=>{const{hasDisconnected:c,hasConnected:l}=s(a.id);return!c&&l}).map(async a=>{var f,h,m,g,y,w;if(a.id===G.CONNECTOR_ID.WALLET_CONNECT){const v=lo.getWalletConnectAccounts(r,this.namespace);v.length>0&&i({connectorId:a.id,accounts:v.map(b=>({address:b.address})),caipNetwork:n});return}const c=await a.connect(),l=await a.getAccountAddresses();let u=l==null?void 0:l.map(v=>ge.createAccount(G.CHAIN.BITCOIN,v.address,v.purpose||"payment",v.publicKey,v.path));if(u&&u.length>1&&(u=[{namespace:G.CHAIN.BITCOIN,publicKey:((f=u[Ll.ACCOUNT_INDEXES.PAYMENT])==null?void 0:f.publicKey)??"",path:((h=u[Ll.ACCOUNT_INDEXES.PAYMENT])==null?void 0:h.path)??"",address:((m=u[Ll.ACCOUNT_INDEXES.PAYMENT])==null?void 0:m.address)??"",type:"payment"},{namespace:G.CHAIN.BITCOIN,publicKey:((g=u[Ll.ACCOUNT_INDEXES.ORDINAL])==null?void 0:g.publicKey)??"",path:((y=u[Ll.ACCOUNT_INDEXES.ORDINAL])==null?void 0:y.path)??"",address:((w=u[Ll.ACCOUNT_INDEXES.ORDINAL])==null?void 0:w.address)??"",type:"ordinal"}]),!(a.chains.find(v=>v.id===(n==null?void 0:n.id))||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),i({connectorId:a.id,accounts:u.map(v=>({address:v.address,type:v.type})),caipNetwork:n}))}))}getConnection({address:t,connectorId:n,connections:r,connectors:s}){if(n){const o=r.find(l=>Br.isLowerCaseMatch(l.connectorId,n));if(!o)return null;const a=s.find(l=>Br.isLowerCaseMatch(l.id,o.connectorId)),c=t?o.accounts.find(l=>Br.isLowerCaseMatch(l.address,t)):o.accounts[0];return{...o,account:c,connector:a}}const i=r.find(o=>o.accounts.length>0&&s.some(a=>Br.isLowerCaseMatch(a.id,o.connectorId)));if(i){const[o]=i.accounts,a=s.find(c=>Br.isLowerCaseMatch(c.id,i.connectorId));return{...i,account:o,connector:a}}return null}}const uf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class n8{constructor({provider:t,namespace:n}){this.id=G.CONNECTOR_ID.WALLET_CONNECT,this.name=Zh.ConnectorNamesMap[G.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=Zh.ConnectorImageIds[G.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=O.getCaipNetworks.bind(O),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=K.state.universalProviderConfigOverride,s=lo.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const t=this.chains.map(n=>n.caipNetworkId);return pi.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:Dme})}}const Dme=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],Ome=[G.CONNECTOR_ID.AUTH,G.CONNECTOR_ID.WALLET_CONNECT];class kme{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=n=>O.getCaipNetworks(n),this.getConnectorId=n=>ne.getConnectorId(n),t&&this.construct(t),t!=null&&t.namespace&&(this.connectionManager=new Pme({namespace:t.namespace}))}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:n}){const r=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===(n==null?void 0:n.toString()));t&&r&&this.addConnection({connectorId:G.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:r})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:G.CONNECTOR_ID.AUTH,type:"AUTH",name:G.CONNECTOR_NAMES.AUTH,provider:t,imageId:Zh.ConnectorImageIds[G.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...t){const n=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){const n=new Set;this.availableConnections=[...t,...this.availableConnections].filter(r=>n.has(r.connectorId.toLowerCase())?!1:(n.add(r.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(n=>!Br.isLowerCaseMatch(n.connectorId,t)),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,n){me.setStatus(t,n)}on(t,n){var r;this.eventListeners.has(t)||this.eventListeners.set(t,new Set),(r=this.eventListeners.get(t))==null||r.add(n)}off(t,n){const r=this.eventListeners.get(t);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,n){const r=this.eventListeners.get(t);r&&r.forEach(s=>s(n))}async connectWalletConnect(t){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(t){const{caipNetwork:n,providerType:r}=t;if(!t.provider)return;const s="provider"in t.provider?t.provider.provider:t.provider;if(r==="WALLET_CONNECT"){s.setDefaultChain(n.caipNetworkId);return}if(s&&r==="AUTH"){const i=s,o=ki(n.chainNamespace);await i.switchNetwork({chainId:n.caipNetworkId});const a=await i.getUser({chainId:n.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const t=this.connectors.find(n=>n instanceof n8);if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,n){if(t.length>0){const{address:r,chainId:s}=ge.getAccount(t[0]),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===(s==null?void 0:s.toString())),o=this.connectors.find(a=>a.id===n);r&&(this.emit("accountChanged",{address:r,chainId:s,connector:o}),this.addConnection({connectorId:n,accounts:t.map(a=>{const{address:c}=ge.getAccount(a);return{address:c}}),caipNetwork:i}))}}onAccountsChanged(t,n,r=!0){var s,i;if(t.length>0){const{address:o}=ge.getAccount(t[0]),a=(s=this.connectionManager)==null?void 0:s.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors});o&&Br.isLowerCaseMatch(this.getConnectorId(G.CHAIN.EVM),n)&&this.emit("accountChanged",{address:o,chainId:(i=a==null?void 0:a.caipNetwork)==null?void 0:i.id,connector:a==null?void 0:a.connector}),this.addConnection({connectorId:n,accounts:t.map(c=>{const{address:l}=ge.getAccount(c);return{address:l}}),caipNetwork:a==null?void 0:a.caipNetwork})}else r&&this.onDisconnect(n)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),Br.isLowerCaseMatch(this.getConnectorId(G.CHAIN.EVM),t)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,n){var o;const r=typeof t=="string"&&t.startsWith("0x")?Lg.hexStringToNumber(t).toString():t.toString(),s=(o=this.connectionManager)==null?void 0:o.getConnection({connectorId:n,connections:this.connections,connectors:this.connectors}),i=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===r);s&&this.addConnection({connectorId:n,accounts:s.accounts,caipNetwork:i}),Br.isLowerCaseMatch(this.getConnectorId(G.CHAIN.EVM),n)&&this.emit("switchNetwork",{chainId:r})}listenProviderEvents(t,n){if(Ome.includes(t))return;const r=o=>this.onAccountsChanged(o,t),s=o=>this.onChainChanged(o,t),i=()=>this.onDisconnect(t);this.providerHandlers[t]||(n.on("disconnect",i),n.on("accountsChanged",r),n.on("chainChanged",s),this.providerHandlers[t]={provider:n,disconnect:i,accountsChanged:r,chainChanged:s})}removeProviderListeners(t){if(this.providerHandlers[t]){const{provider:n,disconnect:r,accountsChanged:s,chainChanged:i}=this.providerHandlers[t];n.removeListener("disconnect",r),n.removeListener("accountsChanged",s),n.removeListener("chainChanged",i),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){var n,r;const t=(n=this.connectionManager)==null?void 0:n.getConnection({connections:this.connections,connectors:this.connectors});if(t){const[s]=t.accounts;this.emit("accountChanged",{address:s==null?void 0:s.address,chainId:(r=t.caipNetwork)==null?void 0:r.id,connector:t.connector})}}}class $me extends kme{async setUniversalProvider(t){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new n8({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:t}){var s,i,o,a;const n=this.provider,r=((a=(o=(i=(s=n==null?void 0:n.session)==null?void 0:s.namespaces)==null?void 0:i[t])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>ge.createAccount(t,c,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){var i,o,a,c,l;if(!(t.caipNetwork&&Ze.BALANCE_SUPPORTED_CHAINS.includes((i=t.caipNetwork)==null?void 0:i.chainNamespace))||(o=t.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=t.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(me.state.balanceLoading&&t.chainId===((c=O.state.activeCaipNetwork)==null?void 0:c.id))return{balance:me.state.balance||"0.00",symbol:me.state.balanceSymbol||""};const s=(await me.fetchTokenBalance()).find(u=>{var d,f;return u.chainId===`${(d=t.caipNetwork)==null?void 0:d.chainNamespace}:${t.chainId}`&&u.symbol===((f=t.caipNetwork)==null?void 0:f.nativeCurrency.symbol)});return{balance:(s==null?void 0:s.quantity.numeric)||"0.00",symbol:(s==null?void 0:s.symbol)||((l=t.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(t){var o,a,c;const{provider:n,message:r,address:s}=t;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let i="";return((o=O.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===G.CHAIN.SOLANA?i=(await n.request({method:"solana_signMessage",params:{message:ld.encode(new TextEncoder().encode(r)),pubkey:s}},(a=O.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:i=await n.request({method:"personal_sign",params:[r,s]},(c=O.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:i}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){var s,i,o,a,c,l;const{caipNetwork:n}=t,r=this.getWalletConnectConnector();if(n.chainNamespace===G.CHAIN.EVM)try{await((s=r.provider)==null?void 0:s.request({method:"wallet_switchEthereumChain",params:[{chainId:R3(n.id)}]}))}catch(u){if(u.code===uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===uf.ERROR_INVALID_CHAIN_ID||u.code===uf.ERROR_CODE_DEFAULT||((o=(i=u==null?void 0:u.data)==null?void 0:i.originalError)==null?void 0:o.code)===uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:R3(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const t=this.connectors.find(r=>r.type==="WALLET_CONNECT");return t==null?void 0:t.provider}}const Rme=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture"],ng={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(e!=null&&e.config))return!1;const t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?Ze.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(e!=null&&e.config))return!1;const t=e.config;return e.isEnabled&&t.length>0?t.filter(n=>n!=="email"):!1},processFallback:e=>e===void 0?Ze.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?Ze.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(e!=null&&e.config))return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Ze.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?Ze.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!(e!=null&&e.config))return!1;const t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Ze.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?Ze.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Ze.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Ze.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Ze.DEFAULT_REMOTE_FEATURES.multiWallet}},jme={localSettingsOverridden:new Set,getApiConfig(e,t){return t==null?void 0:t.find(n=>n.id===e)},addWarning(e,t){if(e!==void 0){const n=ng[t],r=n.isLegacy?`"features.${n.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(r)}},processFeature(e,t,n,r,s){const i=ng[e],o=t[i.localFeatureName];if(s&&!i.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(i.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(e,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,e),this.processApiFeature(e,a)):!1}return this.processFallbackFeature(e,o)},processApiFeature(e,t){return ng[e].processApi(t)},processFallbackFeature(e,t){return ng[e].processFallback(t)},async fetchRemoteFeatures(e){const t=e.basic??!1,n=e.features||{};this.localSettingsOverridden.clear();let r=null,s=!1;try{r=await be.fetchProjectConfig(),s=r!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const i=s&&!t?Ze.DEFAULT_REMOTE_FEATURES:Ze.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Rme){const a=this.processFeature(o,n,r,s,t);Object.assign(i,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Ze.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;jn.open({debugMessage:os.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return i}};class Mme{constructor(t){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var s,i,o;if(n){const a=(s=O.getCaipNetworks(n))==null?void 0:s.find(u=>u.id===r);if(a)return a;const c=(i=O.getNetworkData(n))==null?void 0:i.caipNetwork;return c||((o=O.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n))==null?void 0:o[0])}return O.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>O.getCaipNetworks(n),this.getActiveChainNamespace=()=>O.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{O.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>O.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>{var r,s;return O.state.activeChain===n||!n?O.state.activeCaipAddress:(s=(r=O.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.caipAddress},this.setClientId=n=>{xe.setClientId(n)},this.getProvider=n=>_t.getProvider(n),this.getProviderType=n=>_t.getProviderId(n),this.getPreferredAccountType=n=>ki(n),this.setCaipAddress=(n,r)=>{me.setCaipAddress(n,r)},this.setBalance=(n,r,s)=>{me.setBalance(n,r,s)},this.setProfileName=(n,r)=>{me.setProfileName(n,r)},this.setProfileImage=(n,r)=>{me.setProfileImage(n,r)},this.setUser=(n,r)=>{me.setUser(n,r)},this.resetAccount=n=>{me.resetAccount(n)},this.setCaipNetwork=n=>{O.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{O.setChainNetworkData(r,{caipNetwork:n})},this.setStatus=(n,r)=>{me.setStatus(n,r),ne.isConnected()?J.setConnectionStatus("connected"):J.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>{var r,s;return(s=(r=O.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.address},this.setConnectors=n=>{const r=[...ne.state.allConnectors,...n];ne.setConnectors(r)},this.setConnections=(n,r)=>{J.setConnections(n,r),re.setConnections(n,r)},this.fetchIdentity=n=>xe.fetchIdentity(n),this.getReownName=n=>jf.getNamesForAddress(n),this.getConnectors=()=>ne.getConnectors(),this.getConnectorImage=n=>OM.getConnectorImage(n),this.getConnections=n=>this.remoteFeatures.multiWallet?V0.getConnectionsData(n).connections:(jn.open(G.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=n=>this.remoteFeatures.multiWallet?V0.getConnectionsData(n).recentConnections:(jn.open(G.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async n=>{if(!this.remoteFeatures.multiWallet){jn.open(G.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await re.switchConnection(n)},this.deleteConnection=n=>{if(!this.remoteFeatures.multiWallet){jn.open(G.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}J.deleteAddressFromConnection(n),re.syncStorageConnections()},this.setConnectedWalletInfo=(n,r)=>{const s=_t.getProviderId(r),i=n?{...n,type:s}:void 0;me.setConnectedWalletInfo(i,r)},this.getIsConnectedState=()=>!!O.state.activeCaipAddress,this.addAddressLabel=(n,r,s)=>{me.addAddressLabel(n,r,s)},this.removeAddressLabel=(n,r)=>{me.removeAddressLabel(n,r)},this.getAddress=n=>{var r,s;return O.state.activeChain===n||!n?me.state.address:(s=(r=O.state.chains.get(n))==null?void 0:r.accountState)==null?void 0:s.address},this.setApprovedCaipNetworksData=n=>O.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{O.resetNetwork(n)},this.addConnector=n=>{ne.addConnector(n)},this.resetWcConnection=()=>{re.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{me.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{me.setSmartAccountDeployed(n,r)},this.setPreferredAccountType=(n,r)=>{O.setAccountProp("preferredAccountType",n,r)},this.setEIP6963Enabled=n=>{K.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t)}getChainNamespacesSet(t,n){const r=t==null?void 0:t.map(i=>i.namespace).filter(i=>!!i);if(r!=null&&r.length)return[...new Set(r)];const s=n==null?void 0:n.map(i=>i.chainNamespace);return[...new Set(s)]}async initialize(t){var n,r,s;this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),K.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await jme.fetchRemoteFeatures(t),K.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&Hx.setOnrampProviders(this.remoteFeatures.onramp),((n=K.state.remoteFeatures)!=null&&n.email||Array.isArray((r=K.state.remoteFeatures)==null?void 0:r.socials)&&((s=K.state.remoteFeatures)==null?void 0:s.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){try{const t=await be.fetchAllowedOrigins();if(!t||!ge.isClient()){jn.open(os.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}const n=window.location.origin;lo.isOriginAllowed(n,t,uf.DEFAULT_ALLOWED_ANCESTORS)||jn.open(os.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(t){if(!(t instanceof Error)){jn.open(os.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}switch(t.message){case"RATE_LIMITED":jn.open(os.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const n=t.cause instanceof Error?t.cause:t;jn.open({displayMessage:os.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:os.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(n.message)},"error");break}default:jn.open(os.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}}}sendInitializeEvent(t){var r;const{...n}=t;delete n.adapters,delete n.universalProvider,rt.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:t.networks.map(s=>s.id),siweConfig:{options:((r=t.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initializeThemeController(t){t.themeMode&&kr.setThemeMode(t.themeMode),t.themeVariables&&kr.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");O.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&O.setActiveCaipNetwork(n)}initializeConnectionController(t){re.initialize(t.adapters??[]),re.setWcBasic(t.basic??!1)}initializeConnectorController(){ne.initialize(this.chainNamespaces)}initializeProjectSettings(t){K.setProjectId(t.projectId),K.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){var s;K.setDebug(t.debug!==!1),K.setEnableWalletConnect(t.enableWalletConnect!==!1),K.setEnableWalletGuide(t.enableWalletGuide!==!1),K.setEnableWallets(t.enableWallets!==!1),K.setEIP6963Enabled(t.enableEIP6963!==!1),K.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),K.setEnableReconnect(t.enableReconnect!==!1),K.setEnableAuthLogger(t.enableAuthLogger!==!1),K.setCustomRpcUrls(t.customRpcUrls),K.setEnableEmbedded(t.enableEmbedded),K.setAllWallets(t.allWallets),K.setIncludeWalletIds(t.includeWalletIds),K.setExcludeWalletIds(t.excludeWalletIds),K.setFeaturedWalletIds(t.featuredWalletIds),K.setTokens(t.tokens),K.setTermsConditionsUrl(t.termsConditionsUrl),K.setPrivacyPolicyUrl(t.privacyPolicyUrl),K.setCustomWallets(t.customWallets),K.setFeatures(t.features),K.setAllowUnsupportedChain(t.allowUnsupportedChain),K.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),K.setPreferUniversalLinks(t.experimental_preferUniversalLinks),K.setDefaultAccountTypes(t.defaultAccountTypes);const n=this.getDefaultMetaData();if(!t.metadata&&n&&(t.metadata=n),K.setMetadata(t.metadata),K.setDisableAppend(t.disableAppend),K.setEnableEmbedded(t.enableEmbedded),K.setSIWX(t.siwx),!t.projectId){jn.open(os.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((s=t.adapters)==null?void 0:s.find(i=>i.namespace===G.CHAIN.EVM))&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");K.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){var t,n,r,s;return ge.isClient()?{name:((n=(t=document.getElementsByTagName("title"))==null?void 0:t[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((s=document.querySelector('link[rel~="icon"]'))==null?void 0:s.href)||""]}:null}setUnsupportedNetwork(t){const n=this.getActiveChainNamespace();if(n){const r=zl.getUnsupportedNetwork(`${n}:${t}`);O.setActiveCaipNetwork(r)}}getDefaultNetwork(){return zl.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,n){return zl.extendCaipNetwork(t,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(t){return zl.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){const n=t.networks.find(s=>{var i;return s.id===((i=t.defaultNetwork)==null?void 0:i.id)});return n?zl.extendCaipNetwork(n,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}async disconnectNamespace(t,n){var r,s;try{this.setLoading(!0,t);let i={connections:[]};const o=this.getAdapter(t);return(((s=(r=O.state.chains.get(t))==null?void 0:r.accountState)==null?void 0:s.caipAddress)||!K.state.enableReconnect)&&(o!=null&&o.disconnect)&&(i=await o.disconnect({id:n})),this.setLoading(!1,t),i}catch(i){throw this.setLoading(!1,t),new Error(`Failed to disconnect chains: ${i.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var l;const t=O.state.activeChain,n=this.getAdapter(t),r=(l=this.getCaipNetwork(t))==null?void 0:l.id,s=re.getConnections(t),i=this.remoteFeatures.multiWallet,o=s.length>0;if(!n)throw new Error("Adapter not found");const a=await n.connectWalletConnect(r);(!o||!i)&&this.close(),this.setClientId((a==null?void 0:a.clientId)||null),J.setConnectedNamespaces([...O.state.chains.keys()]),await this.syncWalletConnectAccount(),await pi.initializeIfEnabled()},connectExternal:async({id:t,address:n,info:r,type:s,provider:i,chain:o,caipNetwork:a,socialUri:c})=>{var m,g,y,w,v,b;const l=O.state.activeChain,u=o||l,d=this.getAdapter(u);if(o&&o!==l&&!a){const x=this.getCaipNetworks().find(E=>E.chainNamespace===o);x&&this.setCaipNetwork(x)}if(!u)throw new Error("connectExternal: namespace not found");if(!d)throw new Error("connectExternal: adapter not found");const f=this.getCaipNetwork(u),h=await d.connect({id:t,address:n,info:r,type:s,provider:i,socialUri:c,chainId:(a==null?void 0:a.id)||(f==null?void 0:f.id),rpcUrl:((y=(g=(m=a==null?void 0:a.rpcUrls)==null?void 0:m.default)==null?void 0:g.http)==null?void 0:y[0])||((b=(v=(w=f==null?void 0:f.rpcUrls)==null?void 0:w.default)==null?void 0:v.http)==null?void 0:b[0])});if(h)return J.addConnectedNamespace(u),this.syncProvider({...h,chainNamespace:u}),this.setStatus("connected",u),this.syncConnectedWalletInfo(u),J.removeDisconnectedConnectorId(t,u),{address:h.address}},reconnectExternal:async({id:t,info:n,type:r,provider:s})=>{var a;const i=O.state.activeChain,o=this.getAdapter(i);if(!i)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:t,info:n,type:r,provider:s,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),J.addConnectedNamespace(i),this.syncConnectedWalletInfo(i))},disconnect:async t=>{var l;const{id:n,chainNamespace:r,initialDisconnect:s}=t||{},i=r||O.state.activeChain,o=ne.getConnectorId(i),a=n===G.CONNECTOR_ID.AUTH||o===G.CONNECTOR_ID.AUTH,c=n===G.CONNECTOR_ID.WALLET_CONNECT||o===G.CONNECTOR_ID.WALLET_CONNECT;try{const u=Array.from(O.state.chains.keys());let d=r?[r]:u;(c||a)&&(d=u);const f=d.map(async g=>{const y=ne.getConnectorId(g),w=await this.disconnectNamespace(g,n||y);w&&(a&&J.deleteConnectedSocialProvider(),w.connections.forEach(v=>{J.addDisconnectedConnectorId(v.connectorId,g)})),s&&this.onDisconnectNamespace({chainNamespace:g,closeModal:!1})}),h=await Promise.allSettled(f);Ge.resetSend(),re.resetWcConnection(),(l=pi.getSIWX())!=null&&l.signOutOnDisconnect&&await pi.clearSessions(),ne.setFilterByNamespace(void 0),re.syncStorageConnections();const m=h.filter(g=>g.status==="rejected");if(m.length>0)throw new Error(m.map(g=>g.reason.message).join(", "));rt.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:r||"all"}})}catch(u){throw new Error(`Failed to disconnect chains: ${u.message}`)}},checkInstalled:t=>t?t.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async t=>{const n=O.state.activeChain,r=this.getAdapter(O.state.activeChain);if(!n)throw new Error("signMessage: namespace not found");if(!r)throw new Error("signMessage: adapter not found");const s=await(r==null?void 0:r.signMessage({message:t,address:me.state.address,provider:_t.getProvider(n)}));return(s==null?void 0:s.signature)||""},sendTransaction:async t=>{const n=t.chainNamespace;if(!n)throw new Error("sendTransaction: namespace not found");if(Ze.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(n);if(!r)throw new Error("sendTransaction: adapter not found");const s=_t.getProvider(n),i=await(r==null?void 0:r.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:s}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async t=>{const n=t.chainNamespace;if(n===G.CHAIN.EVM){const r=this.getAdapter(n);if(!r)throw new Error("estimateGas: adapter is required but got undefined");const s=_t.getProvider(n),i=this.getCaipNetwork();if(!i)throw new Error("estimateGas: caipNetwork is required but got undefined");const o=await(r==null?void 0:r.estimateGas({...t,provider:s,caipNetwork:i}));return(o==null?void 0:o.gas)||0n}return 0n},getEnsAvatar:async()=>{var n;const t=O.state.activeChain;if(!t)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:me.state.address,chainId:Number((n=this.getCaipNetwork())==null?void 0:n.id),chainNamespace:t}),me.state.profileImage||!1},getEnsAddress:async t=>await lo.resolveReownName(t),writeContract:async t=>{const n=O.state.activeChain,r=this.getAdapter(n);if(!n)throw new Error("writeContract: namespace is required but got undefined");if(!r)throw new Error("writeContract: adapter is required but got undefined");const s=this.getCaipNetwork(),i=this.getCaipAddress(),o=_t.getProvider(n);if(!s||!i)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");const a=await(r==null?void 0:r.writeContract({...t,caipNetwork:s,provider:o,caipAddress:i}));return a==null?void 0:a.hash},parseUnits:(t,n)=>{const r=this.getAdapter(O.state.activeChain);if(!r)throw new Error("parseUnits: adapter is required but got undefined");return(r==null?void 0:r.parseUnits({value:t,decimals:n}))??0n},formatUnits:(t,n)=>{const r=this.getAdapter(O.state.activeChain);if(!r)throw new Error("formatUnits: adapter is required but got undefined");return(r==null?void 0:r.formatUnits({value:t,decimals:n}))??"0"},getCapabilities:async t=>{const n=this.getAdapter(O.state.activeChain);if(!n)throw new Error("getCapabilities: adapter is required but got undefined");return await(n==null?void 0:n.getCapabilities(t))},grantPermissions:async t=>{const n=this.getAdapter(O.state.activeChain);if(!n)throw new Error("grantPermissions: adapter is required but got undefined");return await(n==null?void 0:n.grantPermissions(t))},revokePermissions:async t=>{const n=this.getAdapter(O.state.activeChain);if(!n)throw new Error("revokePermissions: adapter is required but got undefined");return n!=null&&n.revokePermissions?await n.revokePermissions(t):"0x"},walletGetAssets:async t=>{const n=this.getAdapter(O.state.activeChain);if(!n)throw new Error("walletGetAssets: adapter is required but got undefined");return await(n==null?void 0:n.walletGetAssets(t))??{}},updateBalance:t=>{const n=this.getCaipNetwork(t);!n||!me.state.address||this.updateNativeBalance(me.state.address,n==null?void 0:n.id,t)}},this.networkControllerClient={switchCaipNetwork:async t=>await this.switchCaipNetwork(t),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},re.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,s,i,o;if(_t.getProviderId(O.state.activeChain)===ac.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(i=(s=this.universalProvider)==null?void 0:s.session)==null?void 0:i.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){if(!t)return;const n=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){const s=_t.getProvider(n),i=_t.getProviderId(n);if(t.chainNamespace===O.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:t,provider:s,providerType:i}))}else if(this.setCaipNetwork(t),i===ac.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:t.id,chainNamespace:n})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(n=>{const r=n.chains||[],s=n.accounts.map(i=>{const{chainId:o,chainNamespace:a}=Ur.parseCaipAddress(i);return`${a}:${o}`});return Array.from(new Set([...r,...s]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var i;const s=t==null?void 0:t.find(o=>o.namespace===r);return s?(s.construct({namespace:r,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),n[r]=s):n[r]=new $me({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(t){var n;this.onConnectors(t),this.listenAdapter(t),await((n=this.chainAdapters)==null?void 0:n[t].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)}))}onConnectors(t){const n=this.getAdapter(t);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){const n=this.getAdapter(t);if(!n)return;const r=J.getConnectionStatus();K.state.enableReconnect===!1?this.setStatus("disconnected",t):r==="connected"?this.setStatus("connecting",t):r==="disconnected"?(J.clearAddressCache(),this.setStatus(r,t)):this.setStatus(r,t),n.on("switchNetwork",({address:s,chainId:i})=>{var l,u;const o=this.getCaipNetworks().find(d=>d.id.toString()===i.toString()||d.caipNetworkId.toString()===i.toString()),a=O.state.activeChain===t,c=(u=(l=O.state.chains.get(t))==null?void 0:l.accountState)==null?void 0:u.address;if(o){const d=a&&s?s:c;d&&this.syncAccount({address:d,chainId:o.id,chainNamespace:t})}else this.setUnsupportedNetwork(i)}),n.on("disconnect",()=>{const s=this.remoteFeatures.multiWallet,i=Array.from(re.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:t,closeModal:!s||i.length===0})}),n.on("connections",s=>{this.setConnections(s,t)}),n.on("pendingTransactions",()=>{const s=me.state.address,i=O.state.activeCaipNetwork;!s||!(i!=null&&i.id)||this.updateNativeBalance(s,i.id,i.chainNamespace)}),n.on("accountChanged",({address:s,chainId:i,connector:o})=>{var c,l;const a=O.state.activeChain===t;o!=null&&o.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:t}),this.syncConnectedWalletInfo(t)),a&&i?this.syncAccount({address:s,chainId:i,chainNamespace:t}):a&&((c=O.state.activeCaipNetwork)!=null&&c.id)?this.syncAccount({address:s,chainId:(l=O.state.activeCaipNetwork)==null?void 0:l.id,chainNamespace:t}):this.syncAccountInfo(s,i,t),J.addConnectedNamespace(t)})}async createUniversalProviderForAdapter(t){var n,r,s;await this.getUniversalProvider(),this.universalProvider&&await((s=(r=(n=this.chainAdapters)==null?void 0:n[t])==null?void 0:r.setUniversalProvider)==null?void 0:s.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(t=>re.disconnect({namespace:t,initialDisconnect:!0})))}catch(t){console.error("Error disconnecting existing connections:",t)}}async syncNamespaceConnection(t){try{t===G.CHAIN.EVM&&ge.isSafeApp()&&ne.setConnectorId(G.CONNECTOR_ID.SAFE,t);const n=ne.getConnectorId(t);switch(this.setStatus("connecting",t),n){case G.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case G.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",t)}}onDisconnectNamespace(t){const{chainNamespace:n,closeModal:r}=t||{};O.resetAccount(n),O.resetNetwork(n),J.removeConnectedNamespace(n);const s=Array.from(O.state.chains.keys());(n?[n]:s).forEach(o=>J.addDisconnectedConnectorId(ne.getConnectorId(o)||"",o)),ne.removeConnectorId(n),_t.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n),this.setConnectedWalletInfo(void 0,n),r!==!1&&Le.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(t=>{var s;const n=this.getCaipAddress(t),r=this.getCaipNetwork(t);return(s=this.chainAdapters)==null?void 0:s[t].syncConnections({connectToFirstConnector:!n,caipNetwork:r,getConnectorStorageInfo(i){const a=J.getConnections()[t]??[];return{hasDisconnected:J.isConnectorDisconnected(i,t),hasConnected:a.some(c=>Br.isLowerCaseMatch(c.connectorId,i))}}})}))}async syncAdapterConnection(t){var a,c,l;const n=this.getAdapter(t),r=ne.getConnectorId(t),s=this.getCaipNetwork(t),o=ne.getConnectors(t).find(u=>u.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!(s!=null&&s.id))throw new Error("CaipNetwork not found");const u=await(n==null?void 0:n.syncConnection({namespace:t,id:o.id,chainId:s.id,rpcUrl:(l=(c=(a=s==null?void 0:s.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));u?(this.syncProvider({...u,chainNamespace:t}),await this.syncAccount({...u,chainNamespace:t}),this.setStatus("connected",t)):this.setStatus("disconnected",t)}catch{this.onDisconnectNamespace({chainNamespace:t,closeModal:!1})}}async syncWalletConnectAccount(){var r,s;const t=Object.keys(((s=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:s.namespaces)||{}),n=this.chainNamespaces.map(async i=>{var u,d,f,h,m;const o=this.getAdapter(i);if(!o)return;const a=((h=(f=(d=(u=this.universalProvider)==null?void 0:u.session)==null?void 0:d.namespaces)==null?void 0:f[i])==null?void 0:h.accounts)||[],c=(m=O.state.activeCaipNetwork)==null?void 0:m.id,l=a.find(g=>{const{chainId:y}=Ur.parseCaipAddress(g);return y===(c==null?void 0:c.toString())})||a[0];if(l){const g=Ur.validateCaipAddress(l),{chainId:y,address:w}=Ur.parseCaipAddress(g);if(_t.setProviderId(i,ac.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&O.state.activeCaipNetwork&&o.namespace!==G.CHAIN.EVM){const v=o.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:O.state.activeCaipNetwork});_t.setProvider(i,v)}else _t.setProvider(i,this.universalProvider);ne.setConnectorId(G.CONNECTOR_ID.WALLET_CONNECT,i),J.addConnectedNamespace(i),await this.syncAccount({address:w,chainId:y,chainNamespace:i})}else t.includes(i)&&this.setStatus("disconnected",i);this.syncConnectedWalletInfo(i),await O.setApprovedCaipNetworksData(i)});await Promise.all(n)}syncProvider({type:t,provider:n,id:r,chainNamespace:s}){_t.setProviderId(s,t),_t.setProvider(s,n),ne.setConnectorId(r,s)}async syncAccount(t){var d,f;const n=t.chainNamespace===O.state.activeChain,r=O.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:s,chainId:i,chainNamespace:o}=t,{chainId:a}=J.getActiveNetworkProps(),c=i||a,l=((d=O.state.activeCaipNetwork)==null?void 0:d.name)===G.UNSUPPORTED_NETWORK_NAME,u=O.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let h=this.getCaipNetworks().find(y=>y.id.toString()===c.toString()),m=this.getCaipNetworks().find(y=>y.chainNamespace===o);if(!u&&!h&&!m){const y=this.getApprovedCaipNetworkIds()||[],w=y.find(b=>{var x;return((x=Ur.parseCaipNetworkId(b))==null?void 0:x.chainId)===c.toString()}),v=y.find(b=>{var x;return((x=Ur.parseCaipNetworkId(b))==null?void 0:x.chainNamespace)===o});h=this.getCaipNetworks().find(b=>b.caipNetworkId===w),m=this.getCaipNetworks().find(b=>b.caipNetworkId===v||"deprecatedCaipNetworkId"in b&&b.deprecatedCaipNetworkId===v)}const g=h||m;(g==null?void 0:g.chainNamespace)===O.state.activeChain?K.state.enableNetworkSwitch&&!K.state.allowUnsupportedChain&&((f=O.state.activeCaipNetwork)==null?void 0:f.name)===G.UNSUPPORTED_NETWORK_NAME?O.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Br.isLowerCaseMatch(s,me.state.address)||this.syncAccountInfo(s,g==null?void 0:g.id,o),n?await this.syncBalance({address:s,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:s,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(t,n,r){const s=this.getCaipAddress(r),i=n||(s==null?void 0:s.split(":")[1]);if(!i)return;const o=`${r}:${i}:${t}`;this.setCaipAddress(o,r),await this.syncIdentity({address:t,chainId:i,chainNamespace:r})}async syncReownName(t,n){try{const r=await this.getReownName(t);if(r[0]){const s=r[0];this.setProfileName(s.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(t){var s;const n=ne.getConnectorId(t),r=_t.getProviderId(t);if(r===ac.CONNECTOR_TYPE_ANNOUNCED||r===ac.CONNECTOR_TYPE_INJECTED){if(n){const o=this.getConnectors().find(a=>{var d,f;const c=a.id===n,l=((d=a.info)==null?void 0:d.rdns)===n,u=(f=a.connectors)==null?void 0:f.some(h=>{var m;return h.id===n||((m=h.info)==null?void 0:m.rdns)===n});return c||l||!!u});if(o){const{info:a,name:c,imageUrl:l}=o,u=l||this.getConnectorImage(o);this.setConnectedWalletInfo({name:c,icon:u,...a},t)}}}else if(r===ac.CONNECTOR_TYPE_WALLET_CONNECT){const i=_t.getProvider(t);i!=null&&i.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:(s=i.session.peer.metadata.icons)==null?void 0:s[0]},t)}else if(n&&(n===G.CONNECTOR_ID.COINBASE_SDK||n===G.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(l=>l.id===n),o=(i==null?void 0:i.name)||"Coinbase Wallet",a=(i==null?void 0:i.imageUrl)||this.getConnectorImage(i),c=i==null?void 0:i.info;this.setConnectedWalletInfo({...c,name:o,icon:a},t)}}async syncBalance(t){!NM.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(r=>{var s;return r.id.toString()===((s=t.chainId)==null?void 0:s.toString())})||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,n,r){const s=this.getAdapter(r),i=O.getCaipNetworkByNamespace(r,n);if(s){const o=await s.getBalance({address:t,chainId:n,caipNetwork:i,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,s,i,o,a,c,l,u,d,f;const t=cme.createLogger((h,...m)=>{h&&this.handleAlertError(h),console.error(...m)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(s=this.options)!=null&&s.metadata?(i=this.options)==null?void 0:i.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:t};K.setManualWCControl(!!((f=this.options)!=null&&f.manualWCControl)),this.universalProvider=this.options.universalProvider??await tw.init(n),K.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(t=>{lo.listenWcProvider({universalProvider:this.universalProvider,namespace:t,onDisplayUri:n=>{re.setUri(n)},onConnect:()=>{re.finalizeWcConnection()},onDisconnect:()=>{O.state.noAdapters&&this.resetAccount(t),re.resetWcConnection()},onChainChanged:n=>{const r=O.state.activeChain,s=r&&ne.state.activeConnectorIds[r]===G.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(O.state.noAdapters||s)){const i=this.getCaipNetworks().find(a=>a.id.toString()===n.toString()||a.caipNetworkId.toString()===n.toString()),o=this.getCaipNetwork();if(!i){this.setUnsupportedNetwork(n);return}(o==null?void 0:o.id.toString())!==(i==null?void 0:i.id.toString())&&(o==null?void 0:o.chainNamespace)===(i==null?void 0:i.chainNamespace)&&this.setCaipNetwork(i)}},onAccountsChanged:n=>{const r=O.state.activeChain,s=r&&ne.state.activeConnectorIds[r]===G.CONNECTOR_ID.WALLET_CONNECT;if(r===t&&(O.state.noAdapters||s)&&n.length>0){const i=n[0];this.syncAccount({address:i.address,chainId:i.chainId,chainNamespace:i.chainNamespace})}}})})}createUniversalProvider(){var t;return!this.universalProviderInitPromise&&ge.isClient()&&((t=this.options)!=null&&t.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){rt.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}handleAlertError(t){const n=Object.entries(os.UniversalProviderErrors).find(([,{message:a}])=>t.message.includes(a)),[r,s]=n??[],{message:i,alertErrorKey:o}=s??{};if(r&&i&&!this.reportedAlertErrors[r]){const a=os.ALERT_ERRORS[o];a&&(jn.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(t){var n;if(t)return(n=this.chainAdapters)==null?void 0:n[t]}createAdapter(t){var s;if(!t)return;const n=t.namespace;if(!n)return;this.createClients();const r=t;r.namespace=n,r.construct({namespace:n,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(t){if(await this.injectModalUi(),t!=null&&t.uri&&re.setUri(t.uri),t!=null&&t.arguments)switch(t==null?void 0:t.view){case"Swap":return Le.open({...t,data:{swap:t.arguments}})}return Le.open(t)}async close(){await this.injectModalUi(),Le.close()}setLoading(t,n){Le.setLoading(t,n)}async disconnect(t){await re.disconnect({namespace:t})}getSIWX(){return K.state.siwx}getError(){return""}getChainId(){var t;return(t=O.state.activeCaipNetwork)==null?void 0:t.id}async switchNetwork(t){const n=this.getCaipNetworks().find(r=>r.id===t.id);if(!n){jn.open(os.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await O.switchActiveNetwork(n)}getWalletProvider(){return O.state.activeChain?_t.state.providers[O.state.activeChain]:null}getWalletProviderType(){return _t.getProviderId(O.state.activeChain)}subscribeProviders(t){return _t.subscribeProviders(t)}getThemeMode(){return kr.state.themeMode}getThemeVariables(){return kr.state.themeVariables}setThemeMode(t){kr.setThemeMode(t),e8(kr.state.themeMode)}setTermsConditionsUrl(t){K.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){K.setPrivacyPolicyUrl(t)}setThemeVariables(t){kr.setThemeVariables(t),_me(kr.state.themeVariables)}subscribeTheme(t){return kr.subscribe(t)}subscribeConnections(t){return this.remoteFeatures.multiWallet?re.subscribe(t):(jn.open(G.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(t){var n,r;return t?(r=(n=O.state.chains.get(t))==null?void 0:n.accountState)==null?void 0:r.connectedWalletInfo:me.state.connectedWalletInfo}getAccount(t){const n=t||O.state.activeChain,r=ne.getAuthConnector(n),s=O.getAccountData(n),i=J.getConnectedConnectorId(O.state.activeChain),o=re.getConnections(n);if(!n)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u})=>ge.createAccount(n,l,u||"eoa")));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:ge.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:r&&i===G.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:J.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:ki(n),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(t,n){const r=()=>{const s=this.getAccount(n);s&&t(s)};n?O.subscribeChainProp("accountState",r,n):O.subscribe(r),ne.subscribe(r)}subscribeNetwork(t){return O.subscribe(({activeCaipNetwork:n})=>{t({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(t,n){return n?me.subscribeKey("connectedWalletInfo",t,n):me.subscribeKey("connectedWalletInfo",t)}subscribeShouldUpdateToAddress(t){me.subscribeKey("shouldUpdateToAddress",t)}subscribeCaipNetworkChange(t){O.subscribeKey("activeCaipNetwork",t)}getState(){return io.state}getRemoteFeatures(){return K.state.remoteFeatures}subscribeState(t){return io.subscribe(t)}subscribeRemoteFeatures(t){return K.subscribeKey("remoteFeatures",t)}showErrorMessage(t){vi.showError(t)}showSuccessMessage(t){vi.showSuccess(t)}getEvent(){return{...rt.state}}subscribeEvents(t){return rt.subscribe(t)}replace(t){Se.replace(t)}redirect(t){Se.push(t)}popTransactionStack(t){Se.popTransactionStack(t)}isOpen(){return Le.state.open}isTransactionStackEmpty(){return Se.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){K.setFeatures(t)}updateRemoteFeatures(t){K.setRemoteFeatures(t)}updateOptions(t){const r={...K.state||{},...t};K.setOptions(r)}setConnectMethodsOrder(t){K.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){K.setWalletFeaturesOrder(t)}setCollapseWallets(t){K.setCollapseWallets(t)}setSocialsOrder(t){K.setSocialsOrder(t)}getConnectMethodsOrder(){return Wx.getConnectOrderMethod(K.state.features,ne.getConnectors())}addNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(s=>s.id===r.id)||O.addNetwork(r)}removeNetwork(t,n){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(s=>s.id===n)&&O.removeNetwork(t,n)}}let J3=!1;class Lme extends Mme{async open(t){ne.isConnected()||await super.open(t)}async close(){await super.close(),this.options.manualWCControl&&re.finalizeWcConnection()}async syncIdentity(t){return Promise.resolve()}async syncBalance(t){return Promise.resolve()}async injectModalUi(){if(!J3&&ge.isClient()){if(await gh(()=>import("./basic-Djs8hOn0.js"),__vite__mapDeps([0,1])),await gh(()=>import("./w3m-modal-7o4dZvlK.js"),__vite__mapDeps([2,1])),!document.querySelector("w3m-modal")){const n=document.createElement("w3m-modal");!K.state.disableAppend&&!K.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",n)}J3=!0}}}const Ume="1.7.17";function Bme(e){return new Lme({...e,basic:!0,sdkVersion:`html-core-${Ume}`})}class H2{constructor({appKit:t,provider:n,config:r}){this.appKit=t,this.provider=n,this.config=r}static async init(t){const n=await Ihe.init({projectId:t.projectId,metadata:t.metadata}),r={networks:t.networks.flatMap(i=>i.chains),projectId:t.projectId,metadata:t.metadata,universalProvider:n,manualWCControl:!0},s=Bme(r);return new H2({appKit:s,provider:n,config:t})}async connect(){var n;const t=(n=this.config)==null?void 0:n.networks.reduce((r,s)=>{var i;return r[s.namespace]={...s||{},methods:(s==null?void 0:s.methods)||[],events:(s==null?void 0:s.events)||[],chains:((i=s==null?void 0:s.chains)==null?void 0:i.map(o=>o.caipNetworkId))||[]},r},{});try{await this.appKit.open();const r=await this.provider.connect({optionalNamespaces:t});if(!r)throw new Error("Error connecting to wallet: No session found");return await this.appKit.close(),{session:r}}catch(r){throw await this.appKit.close(),new Error(`Error connecting to wallet: ${r instanceof Error?r.message:"Unknown error"}`)}}async disconnect(){await this.appKit.disconnect(),await this.provider.disconnect()}async request(t,n){return await this.provider.request(t,n)}}var Fme=Object.defineProperty,zme=Object.defineProperties,Vme=Object.getOwnPropertyDescriptors,q0=Object.getOwnPropertySymbols,r8=Object.prototype.hasOwnProperty,s8=Object.prototype.propertyIsEnumerable,eP=(e,t,n)=>t in e?Fme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gr=(e,t)=>{for(var n in t||(t={}))r8.call(t,n)&&eP(e,n,t[n]);if(q0)for(var n of q0(t))s8.call(t,n)&&eP(e,n,t[n]);return e},ha=(e,t)=>zme(e,Vme(t)),Hme=(e,t)=>{var n={};for(var r in e)r8.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&q0)for(var r of q0(e))t.indexOf(r)<0&&s8.call(e,r)&&(n[r]=e[r]);return n},au=class i8 extends Error{constructor(t,n,r,s){super(t),this.message=t,this.code=n,this.data=r,this.cause=s,this.name="JsonRpcError",this.message=t,this.code=n,this.data=r,this.cause=s}static fromResponse(t){return new i8(t.message,t.code,t.data)}toString(){return`${this.name} (${this.code}): ${this.message}${this.data?`: ${JSON.stringify(this.data)}`:""}`}},Wme=(e=>(e[e.ParseError=-32700]="ParseError",e[e.InvalidRequest=-32600]="InvalidRequest",e[e.MethodNotFound=-32601]="MethodNotFound",e[e.InvalidParams=-32602]="InvalidParams",e[e.InternalError=-32603]="InternalError",e[e.UserRejection=-32e3]="UserRejection",e[e.MethodAddressMismatch=-32001]="MethodAddressMismatch",e[e.MethodAccessDenied=-32002]="MethodAccessDenied",e[e.UnknownError=-31e3]="UnknownError",e[e.UserCanceled=-31001]="UserCanceled",e))(Wme||{}),o8="asigna-stx",tb=(e,t)=>new Promise(n=>{function r(s){s.data.source===o8&&s.data[t]&&(n(s.data[t]),window.removeEventListener("message",r))}window.addEventListener("message",r),window.top.postMessage(Kme(e,t),"*")}),qme={authenticationRequest:async e=>tb(e,"authenticationRequest"),transactionRequest:async e=>tb(e,"transactionRequest"),request:async(e,t)=>tb(t,e)},Kme=(e,t)=>({source:o8,[t]:e}),Gme=()=>{typeof window>"u"||window.top!==window.self&&(window.AsignaProvider=qme)};Gme();var Yme=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.BitcoinProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna Multisig",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://stx.asigna.io/"},{id:"FordefiProviders.UtxoProvider",name:"Fordefi",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iNDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbD0iIzEwMTExNCIgZD0iTTAgMGg0MnY0MkgweiIvPgogIDxwYXRoIGQ9Ik0xOS40NyAyNi44OUg1djMuNTdhNC41NyA0LjU3IDAgMCAwIDQuNTggNC41N2g1LjgzbDQuMDYtOC4xNFoiIGZpbGw9IiM3OTk0RkYiLz4KICA8cGF0aCBkPSJNNSAxNy40aDI3LjU4bC0zLjIgNi43OEg1VjE3LjRaIiBmaWxsPSIjNDg2REZGIi8+CiAgPHBhdGggZD0iTTE0LjY3IDdINXY3LjY4aDMzVjdoLTkuNjd2NS43NGgtMlY3aC05LjY3djUuNzRoLTEuOTlWN1oiIGZpbGw9IiM1Q0QxRkEiLz4KPC9zdmc+Cg==",webUrl:"https://www.fordefi.com/",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle"}],Qme={id:"WalletConnectProvider",name:"WalletConnect",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MDAiIGhlaWdodD0iNDAwIiBmaWxsPSJub25lIj48bWFzayBpZD0iYSIgd2lkdGg9IjQwMCIgaGVpZ2h0PSI0MDAiIHg9IjAiIHk9IjAiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHN0eWxlPSJtYXNrLXR5cGU6bHVtaW5hbmNlIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDQwMHY0MDBIMFYwWiIvPjwvbWFzaz48ZyBtYXNrPSJ1cmwoI2EpIj48cGF0aCBmaWxsPSIjMzM5NkZGIiBkPSJNNDAwIDQwMEgwVjBoNDAwdjQwMFoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMTIyLjUyIDE0OC45N2M0Mi43OS00MS43MyAxMTIuMTctNDEuNzMgMTU0Ljk2IDBsNS4xNSA1LjAyYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTE3LjYyIDE3LjE4YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTcuMDktNi45Yy0yOS44NS0yOS4xMi03OC4yNS0yOS4xMi0xMDguMSAwbC03LjYgNy40YTIuNzkgMi43OSAwIDAgMS0zLjg3IDBsLTE3LjYxLTE3LjE5YTUuMjUgNS4yNSAwIDAgMSAwLTcuNTVsNS42NS01LjUxWm0xOTEuNCAzNS41MiAxNS42OCAxNS4zYTUuMjUgNS4yNSAwIDAgMSAwIDcuNTVsLTcwLjcgNjguOTRhNS41OCA1LjU4IDAgMCAxLTcuNzUgMGwtNTAuMTgtNDguOTNhMS40IDEuNCAwIDAgMC0xLjk0IDBsLTUwLjE4IDQ4LjkzYTUuNTggNS41OCAwIDAgMS03Ljc0IDBsLTcwLjctNjguOTRhNS4yNSA1LjI1IDAgMCAxIDAtNy41NmwxNS42Ny0xNS4yOWE1LjU4IDUuNTggMCAwIDEgNy43NSAwbDUwLjE4IDQ4Ljk0Yy41NC41MiAxLjQuNTIgMS45NCAwbDUwLjE4LTQ4Ljk0YTUuNTggNS41OCAwIDAgMSA3Ljc0IDBsNTAuMTggNDguOTRjLjU0LjUyIDEuNC41MiAxLjk0IDBsNTAuMTgtNDguOTRhNS41OCA1LjU4IDAgMCAxIDcuNzUgMFoiLz48L2c+PC9zdmc+",webUrl:"https://walletconnect.com/",chromeWebStoreUrl:""},Xme=pge,a8="@stacks/connect",Zme={addresses:{stx:[],btc:[]},version:"0.0.1"},tP=e=>[...new Map(e.map(t=>[t.address,t])).values()].map(t=>{var n=Hme(t,[]);return"publicKey"in n&&delete n.publicKey,"derivationPath"in n&&delete n.derivationPath,"tweakedPublicKey"in n&&delete n.tweakedPublicKey,n});function Jme(e){try{let t=ege()||Zme,n=ha(gr({},t),{updatedAt:Date.now(),addresses:gr(gr({},t.addresses),e.addresses&&{stx:e.addresses.stx&&tP([...t.addresses.stx,...e.addresses.stx]),btc:e.addresses.btc&&tP([...t.addresses.btc,...e.addresses.btc])})});localStorage.setItem(a8,vp(Ty(JSON.stringify(n))))}catch(t){console.warn("Failed to store data in localStorage:",t)}}function ege(){try{let e=localStorage.getItem(a8);return e?JSON.parse($W(Fc(e))):null}catch(e){return console.warn("Failed to get data from localStorage:",e),null}}var tge=["stx_signMessage","stx_signTransaction","stx_signStructuredMessage","stx_getAccounts","stx_getAddresses","stx_updateProfile","stx_transferStx","stx_transferSip10Ft","stx_transferSip9Nft","stx_callContract","stx_deployContract","sendTransfer","signPsbt","getAddresses"],Gx={id:1,chainNamespace:"stacks",caipNetworkId:"stacks:1",name:"Stacks",nativeCurrency:{name:"STX",symbol:"STX",decimals:6},rpcUrls:{default:{http:["https://api.mainnet.hiro.so"]}}},nge={projectId:"your_project_id",metadata:{name:"Universal Connector",description:"Universal Connector",url:"https://appkit.reown.com",icons:["https://appkit.reown.com/icon.png"]},networks:[{namespace:"stacks",chains:[Gx],methods:tge,events:["stx_chainChanged","stx_accountsChanged"]},{namespace:"bip122",chains:[t8],methods:["signMessage","sendTransfer","signPsbt","getAccountAddresses"],events:["bip122_addressesChanged"]}]};function nP(e){return{jsonrpc:"2.0",id:1,result:e}}var rge=class{constructor(e){this.connector=e}async connect(){try{let{session:e}=await this.connector.connect();return e}catch(e){throw console.error(">> WalletConnectProvider connect error",e),e}}get stacksAddresses(){var e;let t=(e=this.connector.provider)==null?void 0:e.session,n=t==null?void 0:t.sessionProperties.stacks_getAddresses,r=JSON.parse(n||"[]"),s=[...t.namespaces.stacks.accounts.map(i=>({address:i.split(":")[2],publicKey:""}))||[],...r||[]].sort(i=>i.publicKey?1:-1);return Array.from(new Map(s.map(i=>[i.address,i])).values())}get btcAddresses(){var e;let t=(e=this.connector.provider)==null?void 0:e.session,n=t==null?void 0:t.sessionProperties.bip122_getAccountAddresses,r=JSON.parse(n||"{}"),s=t.namespaces.bip122.accounts.map(o=>({address:o.split(":")[2],publicKey:""})),i=[...(r==null?void 0:r.payment.map(o=>ha(gr({},o),{purpose:"payment"})))||[],...(r==null?void 0:r.ordinal.map(o=>ha(gr({},o),{purpose:"ordinal"})))||[],...s||[]].sort(o=>o.publicKey?1:-1).sort((o,a)=>(o==null?void 0:o.address.length)-(a==null?void 0:a.address.length));return Array.from(new Map(i.map(o=>[o.address,o])).values())}async getAddresses(){var e;let t=(e=this.connector.provider)==null?void 0:e.session;t||(t=await this.connect());let n=this.stacksAddresses||[],r=this.btcAddresses||[];return{addresses:[...n,...r]}}validateRpcMethod(e){var t,n,r,s;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(e))return;if(!((t=this.connector.provider)!=null&&t.session))throw new Error("WalletConnectProvider not connected. Please connect first.");let i=(n=this.connector.provider)==null?void 0:n.session.namespaces,o=((r=i.stacks)==null?void 0:r.methods)||[],a=((s=i.bip122)==null?void 0:s.methods)||[];if(![...o,...a].includes(e))throw new Error(`WalletConnectProvider does not support method ${e}. Please use a supported method.`)}getTargetCaipNetworkId(e){var t,n,r,s,i,o,a,c;if(["getAddresses","stx_getAccounts","stx_getAddresses"].includes(e)||(s=(r=(n=(t=this.connector.provider)==null?void 0:t.session)==null?void 0:n.namespaces)==null?void 0:r.stacks)!=null&&s.methods.includes(e))return Gx.caipNetworkId;if((c=(a=(o=(i=this.connector.provider)==null?void 0:i.session)==null?void 0:o.namespaces)==null?void 0:a.bip122)!=null&&c.methods.includes(e))return t8.caipNetworkId;throw new Error(`WalletConnectProvider does not support method ${e}. Please use a supported method.`)}async request(e,t){var n,r,s,i;try{this.validateRpcMethod(e);let o=this.getTargetCaipNetworkId(e);switch(e){case"getAddresses":case"stx_getAddresses":case"stx_getAccounts":let a=await this.getAddresses();return nP(a);case"stx_signMessage":let c=((i=(s=(r=(n=this.connector.provider)==null?void 0:n.session)==null?void 0:r.namespaces)==null?void 0:s.stacks)==null?void 0:i.accounts[0]).split(":")[2],l=await this.connector.request({method:e,params:gr({address:c},t)},o);return nP(l);default:return await this.connector.request({method:e,params:t},o)}}catch(o){throw console.error(">> WalletConnectProvider request error",o),o}}async disconnect(){await this.connector.disconnect()}},sge=async e=>{let t=await H2.init(ha(gr({},nge),{projectId:e})),n=new rge(t);window.WalletConnectProvider=n};async function rP(e,t,n){var r;try{let s=await e.request(t,n);if("error"in s)throw au.fromResponse(s.error);return s.result}catch(s){if(s instanceof au)throw s;if("jsonrpc"in s)throw au.fromResponse(s.error);let i=(r=s.code)!=null?r:-31e3;throw new au(s.message,i,s.data,s)}}function ige(e){return e?async function(t,n,r){let s=await rP(t,n,r);if((n==="getAddresses"||n==="wallet_connect")&&"addresses"in s){let{stx:i,btc:o}=hge(s.addresses).reduce((a,c)=>(a[c.address.startsWith("S")?"stx":"btc"].push(c),a),{stx:[],btc:[]});Jme({addresses:{stx:i,btc:o}})}return s}:rP}async function oge(...e){let{options:t,method:n,params:r}=age(e),s=Yme;t!=null&&t.walletConnectProjectId&&(await sge(t.walletConnectProjectId).catch(console.error),s=[...s,Qme]);let i=Object.assign({provider:KW(),defaultProviders:s,forceWalletSelect:!1,persistWalletSelect:!0,enableOverrides:!0,enableLocalStorage:!0},uge(t)),o=dge(i.enableOverrides,ige(i.enableLocalStorage));if(i.provider&&!i.forceWalletSelect){let{method:a,params:c}=oP(i.provider,n,r,i.enableOverrides);return await o(i.provider,a,cP(c))}if(typeof window<"u")return Mq(),new Promise((a,c)=>{let l=document.createElement("connect-modal");l.defaultProviders=sP(i.approvedProviderIds,s),l.installedProviders=sP(i.approvedProviderIds,qW(s));let u=document.body.style.overflow;document.body.style.overflow="hidden";let d=()=>{l.remove(),document.body.style.overflow=u};l.callback=h=>{d();let m=BC(h),{method:g,params:y}=oP(m,n,r,i.enableOverrides),w=fge(i.persistWalletSelect,h);a(o(m,g,cP(y)).then(w))},l.cancelCallback=()=>{d(),c(new au("User canceled the request",-31001))},document.body.appendChild(l);let f=h=>{h.key==="Escape"&&(document.removeEventListener("keydown",f),l.remove(),c(new au("User canceled the request",-31001)))};document.addEventListener("keydown",f)})}function age(e){return typeof e[0]=="string"?{method:e[0],params:e[1]}:{options:e[0],method:e[1],params:e[2]}}function sP(e,t){return e?t.filter(n=>e.includes(n.id)):t}function rg(e){return cge(e)||lge(e)}function cge(e){return"signMultipleTransactions"in e&&"createRepeatInscriptions"in e&&!(e!=null&&e.isLeather)&&!(e!=null&&e.isFordefi)}function lge(e){return"isFordefi"in e&&!!e.isFordefi}function iP(e){return"isLeather"in e&&!!e.isLeather}function uge(e){if(e===void 0)return{};let t={};for(let[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function dge(e,t){return e?async(n,r,s)=>{let i=await t(n,r,s),o=gr({},i);return i!==null&&"txId"in i&&i.txId&&!("txid"in o)&&(o.txid=i.txId),i!==null&&"hex"in i&&i.hex&&typeof i.hex=="string"&&!("psbt"in o)&&(o.psbt=B4.encode(Fc(i.hex))),o}:t}function oP(e,t,n,r=!0){if(!r)return{method:t,params:n};if(rg(e)&&["getAddresses","stx_getAddresses"].includes(t))return{method:"wallet_connect",params:n};if(rg(e)&&t==="sendTransfer"){let s=ha(gr({},n),{recipients:n.recipients.map(i=>ha(gr({},i),{amount:Number(i.amount)})),network:void 0});return{method:t,params:s}}if(rg(e)&&t==="signPsbt"){let s=n.signInputs;if(!s)return{method:t,params:n};let i={};for(let a of s)typeof a!="number"&&a.address&&(i[a.address]||(i[a.address]=[]),i[a.address].push(a.index));let o={psbt:n.psbt,signInputs:i,broadcast:n.broadcast};return{method:t,params:o}}if(!rg(e)&&t==="stx_signMessage"){let s=gr({},n);return delete s.publicKey,{method:t,params:s}}if(iP(e)&&t==="sendTransfer"){let s=ha(gr({},n),{recipients:n.recipients.map(i=>ha(gr({},i),{amount:i.amount.toString()}))});return{method:t,params:s}}if(iP(e)&&t==="signPsbt"){let s={hex:vp(B4.decode(n.psbt)),signAtIndex:n.signInputs.map(i=>typeof i=="number"?i:i.index),allowedSighash:n.allowedSighash,broadcast:n.broadcast,network:n.network};return{method:t,params:s}}return{method:t,params:n}}var aP=["stx-postcondition","ft-postcondition","nft-postcondition"];function cP(e){if(!e||typeof e!="object")return e;let t=gr({},e);for(let[n,r]of Object.entries(e)){if(typeof r=="bigint"){t[n]=r.toString();continue}if(r){if(Array.isArray(r)){t[n]=r.map(s=>typeof s=="bigint"?s.toString():!s||typeof s!="object"||!("type"in s)?s:aP.includes(s.type)?EI(s):CI(s));continue}typeof r=="object"&&"type"in r&&(t[n]=aP.includes(r.type)?EI(r):CI(r))}}return JSON.parse(JSON.stringify(t))}function fge(e,t){return function(n){if(e)try{HW(t)}catch{}return n}}function hge(e){return e.slice().sort((t,n)=>{let r="purpose"in t&&t.purpose==="payment",s="purpose"in n&&n.purpose==="payment";return r&&!s?-1:!r&&s?1:0})}typeof window<"u"&&(window.__CONNECT_VERSION__="__VERSION__");var pge=async(e,t)=>{var n,r,s,i,o,a;let{onFinish:c,onCancel:l,userSession:u}=e,d=vge(u);d.isUserSignedIn()&&d.signUserOut();try{let f=await oge({provider:t,forceWalletSelect:!0},"getAddresses"),h=d.store.getSessionData();(n=h.userData)!=null||(h.userData={profile:{}}),(s=(r=h.userData).profile)!=null||(r.profile={}),(o=(i=h.userData.profile).stxAddress)!=null||(i.stxAddress={mainnet:"",testnet:""});let m=f.addresses.find(w=>(w==null?void 0:w.symbol)==="STX"||w.address.startsWith("S")).address.toUpperCase(),g=m[1]==="P"||m[1]==="M";Object.assign(h.userData.profile.stxAddress,{[g?"mainnet":"testnet"]:m});let y=(a=f.addresses.find(w=>{var v;return(v=w==null?void 0:w.address)!=null&&v.startsWith("S")?!1:w.purpose==="payment"?!0:lP(w==null?void 0:w.address)?f.addresses.every(b=>{var x;return((x=b==null?void 0:b.address)==null?void 0:x.startsWith("S"))||lP(b==null?void 0:b.address)}):!0}))==null?void 0:a.address;y&&(h.userData.profile.btcAddress=y),d.store.setSessionData(h),c==null||c({userSession:d,authResponsePayload:h.userData})}catch(f){console.error("[Connect] Error during auth request",f),l==null||l(f)}},mge="blockstack-session",gge=class{constructor(e,t,n,r,s,i){}},c8=class{constructor(e){e!=null&&e.appConfig&&(this.appConfig=e.appConfig),typeof window>"u"&&typeof self>"u"?this.store=new yge:this.store=new wge}makeAuthRequestToken(){}generateAndStoreTransitKey(){}getAuthResponseToken(){}isSignInPending(){return!1}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(){return Promise.resolve(this.loadUserData())}loadUserData(){let e=this.store.getSessionData().userData;if(!e)throw new RC("No user data found. Did the user sign in?");return e}encryptContent(){}decryptContent(){}signUserOut(e){this.store.deleteSessionData(),e&&typeof location<"u"&&location.href&&(location.href=e)}},l8=class{constructor(e){e&&this.setSessionData(e)}getSessionData(){throw new Error("Abstract class")}setSessionData(e){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}},yge=class extends l8{constructor(e){super(e),this.sessionData||this.setSessionData({})}getSessionData(){if(!this.sessionData)throw new RC("No session data was found.");return this.sessionData}setSessionData(e){return this.sessionData=e,!0}deleteSessionData(){return this.setSessionData({}),!0}},wge=class extends l8{constructor(e){var t;super(e),this.key=typeof((t=e==null?void 0:e.storeOptions)==null?void 0:t.localStorageKey)=="string"?e.storeOptions.localStorageKey:mge,localStorage.getItem(this.key)||this.setSessionData({})}getSessionData(){let e=localStorage.getItem(this.key);if(!e)throw new RC("No session data was found in localStorage");return JSON.parse(e)}setSessionData(e){return localStorage.setItem(this.key,JSON.stringify(e)),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData({}),!0}},vge=e=>e||new c8;function lP(e){let t=["bc1p","tb1p","bcrt1p"],n=[62,62,64],r=t.findIndex(s=>e.startsWith(s));return r===-1?!1:e.length===n[r]}var bge=(e=>(e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer",e))(bge||{}),xge=(e=>(e.BUFFER="buffer",e.UINT="uint",e.INT="int",e.PRINCIPAL="principal",e.BOOL="bool",e))(xge||{}),Ege=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALL=1]="ALL",e[e.NONE=2]="NONE",e[e.SINGLE=3]="SINGLE",e[e.ANYONECANPAY=128]="ANYONECANPAY",e))(Ege||{});const Cge=new gge(["store_write","publish_data"]),tp=new c8({appConfig:Cge}),Sge=e=>{Xme({onFinish:()=>{const n=tp.loadUserData().profile.stxAddress.testnet;e(n)},userSession:tp})},Age=()=>{tp.signUserOut("/")},W2=()=>{const{isConnected:e,userAddress:t,setConnected:n,setDisconnected:r}=wp();P.useEffect(()=>{if(tp.isUserSignedIn()){const a=tp.loadUserData().profile.stxAddress.testnet;n(a)}},[n]);const s=()=>{Sge(o=>{n(o)})},i=()=>{Age(),r()};return p.jsx("div",{className:"flex items-center gap-4",children:e?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-secondary rounded-lg",children:[p.jsx(uh,{className:"w-4 h-4"}),p.jsxs("span",{className:"text-sm font-mono",children:[t==null?void 0:t.slice(0,6),"...",t==null?void 0:t.slice(-4)]})]}),p.jsx(Ee,{variant:"outline",size:"sm",onClick:i,children:"Disconnect"})]}):p.jsxs(Ee,{onClick:s,children:[p.jsx(uh,{className:"w-4 h-4 mr-2"}),"Connect Wallet"]})})};async function Nge(e="usd"){const t=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=${e}`);if(!t.ok)throw new Error(`CoinGecko API error: ${t.statusText}`);return(await t.json()).bitcoin[e]}async function Ige(e="usd"){const t=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=blockstack&vs_currencies=${e}`);if(!t.ok)throw new Error(`CoinGecko API error: ${t.statusText}`);return(await t.json()).blockstack[e]}function uP(e,t="USD"){return t==="BTC"?`₿${e.toFixed(8)}`:t==="sats"?`${e.toLocaleString()} sats`:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}class _ge{constructor(){Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"defaultTTL",{enumerable:!0,configurable:!0,writable:!0,value:6e4})}get(t,n){const r=this.cache.get(t);if(!r)return null;const s=Date.now()-r.timestamp,i=n||this.defaultTTL;return s>i?(this.cache.delete(t),null):r.data}set(t,n){this.cache.set(t,{data:n,timestamp:Date.now()})}clear(){this.cache.clear()}}const K0=new _ge;async function Tge(){const e=K0.get("btc-price");if(e!==null)return e;const t=await Nge();return K0.set("btc-price",t),t}async function Pge(){const e=K0.get("stx-price");if(e!==null)return e;const t=await Ige();return K0.set("stx-price",t),t}function Dge(e=!0,t=6e4){const[n,r]=P.useState({btc:null,stx:null}),[s,i]=P.useState(!0),[o,a]=P.useState(null),c=async()=>{try{i(!0),a(null);const[l,u]=await Promise.all([Tge(),Pge()]);r({btc:l,stx:u})}catch(l){a(l instanceof Error?l.message:"Failed to fetch prices"),console.error("Price fetch error:",l)}finally{i(!1)}};return P.useEffect(()=>{if(e){c();const l=setInterval(c,t);return()=>clearInterval(l)}},[e,t]),{prices:n,loading:s,error:o,refetch:c}}const Oge=()=>{const{isConnected:e}=wp(),{prices:t,loading:n,refetch:r}=Dge();return p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("header",{className:"mb-12",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold mb-2 text-foreground",children:"BitMind Smart Invoice Dashboard"}),p.jsx("p",{className:"text-muted-foreground text-lg",children:"AI-powered invoice escrow for DAOs on Stacks blockchain"})]}),p.jsx(W2,{})]}),e&&p.jsx("div",{className:"flex gap-3",children:p.jsx(gi,{to:"/create",children:p.jsxs(Ee,{children:[p.jsx(m1,{className:"w-4 h-4 mr-2"}),"Create Invoice"]})})})]}),p.jsx(ke,{className:"mb-6 bg-gradient-to-r from-orange-50 to-purple-50 border-orange-200",children:p.jsx($e,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx(w$,{className:"w-8 h-8 text-orange-600"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-bold mb-1",children:"Live Market Prices"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time data from CoinGecko API"})]}),p.jsx("div",{className:"flex gap-6 ml-8",children:n?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(eN,{className:"w-4 h-4 animate-spin"}),p.jsx("span",{className:"text-sm",children:"Loading..."})]}):p.jsxs(p.Fragment,{children:[t.btc&&p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Bitcoin (BTC)"}),p.jsx("p",{className:"text-xl font-bold text-orange-600",children:uP(t.btc)})]}),t.stx&&p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600",children:"Stacks (STX)"}),p.jsx("p",{className:"text-xl font-bold text-purple-600",children:uP(t.stx)})]})]})})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Ee,{variant:"outline",size:"sm",onClick:r,children:[p.jsx(eN,{className:"w-4 h-4 mr-2"}),"Refresh"]}),p.jsx(gi,{to:"/api-demo",children:p.jsx(Ee,{variant:"outline",size:"sm",children:"View API Demo"})})]})]})})}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[p.jsxs(ke,{children:[p.jsxs(ot,{children:[p.jsx(Ei,{className:"w-8 h-8 mb-2 text-primary"}),p.jsx(at,{children:"Active Invoices"}),p.jsx(It,{children:"Current ongoing deals"})]}),p.jsx($e,{children:p.jsx("p",{className:"text-3xl font-bold",children:"12"})})]}),p.jsxs(ke,{children:[p.jsxs(ot,{children:[p.jsx(uh,{className:"w-8 h-8 mb-2 text-primary"}),p.jsx(at,{children:"Total Value"}),p.jsx(It,{children:"Locked in escrow"})]}),p.jsx($e,{children:p.jsx("p",{className:"text-3xl font-bold",children:"$45.2K"})})]}),p.jsxs(ke,{children:[p.jsxs(ot,{children:[p.jsx(p1,{className:"w-8 h-8 mb-2 text-primary"}),p.jsx(at,{children:"Milestones"}),p.jsx(It,{children:"Completed this month"})]}),p.jsx($e,{children:p.jsx("p",{className:"text-3xl font-bold",children:"24"})})]}),p.jsxs(ke,{children:[p.jsxs(ot,{children:[p.jsx(lh,{className:"w-8 h-8 mb-2 text-primary"}),p.jsx(at,{children:"Disputes"}),p.jsx(It,{children:"Currently active"})]}),p.jsx($e,{children:p.jsx("p",{className:"text-3xl font-bold",children:"2"})})]})]}),p.jsxs(ke,{className:"mb-8",children:[p.jsxs(ot,{children:[p.jsx(at,{children:"Recent Invoices"}),p.jsx(It,{children:"Your latest invoice activities"})]}),p.jsx($e,{children:p.jsx("div",{className:"space-y-4",children:[{id:"INV-001",status:"funded",amount:"$12,500",dao:"DeFi DAO"},{id:"INV-002",status:"pending",amount:"$8,300",dao:"NFT Collective"},{id:"INV-003",status:"completed",amount:"$15,000",dao:"Web3 Guild"}].map(s=>p.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(Ei,{className:"w-6 h-6 text-muted-foreground"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold",children:s.id}),p.jsx("p",{className:"text-sm text-muted-foreground",children:s.dao})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("p",{className:"font-semibold",children:s.amount}),p.jsx(rd,{variant:s.status==="completed"?"default":s.status==="funded"?"secondary":"outline",children:s.status}),p.jsx(gi,{to:`/invoice/${s.id}`,children:p.jsx(Ee,{size:"sm",children:"View"})})]})]},s.id))})})]})]})})},kge=()=>{const[e,t]=P.useState(1),[n,r]=P.useState(""),[s,i]=P.useState(!1),[o,a]=P.useState(null),{isConnected:c,userAddress:l,network:u}=wp(),d=async()=>{if(!n.trim()){Vn.error("Please describe your invoice");return}i(!0),await new Promise(g=>setTimeout(g,2e3)),a({client:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",arbitrator:"SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159",totalAmount:5e3,milestones:[{id:1,description:"Initial design mockups",amount:1500},{id:2,description:"Frontend implementation",amount:2e3},{id:3,description:"Testing and deployment",amount:1500}],description:n}),i(!1),t(2),Vn.success("Invoice parsed successfully!")},f=async()=>{if(!c||!o){Vn.error("Please connect your wallet first");return}try{i(!0),await new Promise(m=>setTimeout(m,2e3)),Vn.success("Invoice created successfully!"),t(3),i(!1)}catch(m){console.error("Error creating invoice:",m),Vn.error("Failed to create invoice"),i(!1)}},h=()=>{t(1),r(""),a(null)};return p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=1?"bg-primary text-primary-foreground":"bg-secondary"}`,children:p.jsx(DF,{className:"w-4 h-4"})}),p.jsx("span",{className:`text-sm font-medium ${e>=1?"text-foreground":"text-muted-foreground"}`,children:"Describe Invoice"})]}),p.jsx("div",{className:"flex-1 h-0.5 bg-secondary mx-4"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=2?"bg-primary text-primary-foreground":"bg-secondary"}`,children:p.jsx(Ei,{className:"w-4 h-4"})}),p.jsx("span",{className:`text-sm font-medium ${e>=2?"text-foreground":"text-muted-foreground"}`,children:"Review Details"})]}),p.jsx("div",{className:"flex-1 h-0.5 bg-secondary mx-4"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${e>=3?"bg-primary text-primary-foreground":"bg-secondary"}`,children:p.jsx(Ic,{className:"w-4 h-4"})}),p.jsx("span",{className:`text-sm font-medium ${e>=3?"text-foreground":"text-muted-foreground"}`,children:"Complete"})]})]})}),e===1&&p.jsxs(ke,{children:[p.jsxs(ot,{children:[p.jsxs(at,{className:"flex items-center gap-2",children:[p.jsx(vu,{className:"w-5 h-5 text-primary"}),"AI-Powered Invoice Creation"]}),p.jsx(It,{children:"Describe your invoice in natural language, and our AI will structure it for you"})]}),p.jsx($e,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Describe your invoice"}),p.jsx("textarea",{className:"w-full h-32 p-3 border border-border rounded-lg bg-background resize-none focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Example: I need to create an invoice for building a website for DeFi DAO. The total is $5,000 with 3 milestones: design ($1,500), development ($2,000), and deployment ($1,500). The client is SP2J6... and arbitrator is SP3FGQ...",value:n,onChange:m=>r(m.target.value)})]}),p.jsx(Ee,{onClick:d,disabled:s||!n.trim(),className:"w-full",children:s?p.jsxs(p.Fragment,{children:[p.jsx(vu,{className:"w-4 h-4 mr-2 animate-pulse"}),"Processing with AI..."]}):p.jsxs(p.Fragment,{children:[p.jsx(vu,{className:"w-4 h-4 mr-2"}),"Generate Invoice"]})})]})})]}),e===2&&o&&p.jsxs(ke,{children:[p.jsxs(ot,{children:[p.jsx(at,{children:"Review Invoice Details"}),p.jsx(It,{children:"Verify the AI-generated invoice structure before creating"})]}),p.jsx($e,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:o.description})]}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"Client Address"}),p.jsx("p",{className:"text-xs font-mono bg-secondary p-2 rounded",children:o.client})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"Arbitrator Address"}),p.jsx("p",{className:"text-xs font-mono bg-secondary p-2 rounded",children:o.arbitrator})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-2",children:"Total Amount"}),p.jsxs("p",{className:"text-2xl font-bold",children:["$",o.totalAmount.toLocaleString()]})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"font-semibold mb-3",children:["Milestones (",o.milestones.length,")"]}),p.jsx("div",{className:"space-y-3",children:o.milestones.map(m=>p.jsxs("div",{className:"flex items-center justify-between p-3 border border-border rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs(rd,{variant:"outline",children:["#",m.id]}),p.jsx("span",{className:"text-sm",children:m.description})]}),p.jsxs("span",{className:"font-semibold",children:["$",m.amount.toLocaleString()]})]},m.id))})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Ee,{variant:"outline",onClick:()=>t(1),className:"flex-1",children:"Back to Edit"}),p.jsx(Ee,{onClick:f,disabled:s||!c,className:"flex-1",children:s?"Creating...":"Create Invoice"})]})]})})]}),e===3&&p.jsxs(ke,{children:[p.jsxs(ot,{children:[p.jsxs(at,{className:"flex items-center gap-2 text-green-600",children:[p.jsx(Ic,{className:"w-6 h-6"}),"Invoice Created Successfully!"]}),p.jsx(It,{children:"Your invoice has been deployed to the Stacks blockchain"})]}),p.jsx($e,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-4 bg-secondary rounded-lg",children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Invoice ID"}),p.jsxs("p",{className:"font-mono font-semibold",children:["#INV-",Math.floor(Math.random()*1e4)]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-sm",children:"✅ Smart contract deployed"}),p.jsx("p",{className:"text-sm",children:"✅ Milestones configured"}),p.jsx("p",{className:"text-sm",children:"✅ Escrow initialized"})]}),p.jsx(Ee,{onClick:h,className:"w-full",children:"Create Another Invoice"})]})})]})]})},$ge=()=>p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("header",{className:"mb-8",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx(gi,{to:"/",children:p.jsxs(Ee,{variant:"outline",size:"sm",children:[p.jsx(m$,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),p.jsx(W2,{})]}),p.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Create New Invoice"})]}),p.jsx(kge,{})]})}),Rge=({milestones:e,invoiceId:t})=>{const{isConnected:n}=wp(),r=async a=>{if(!n){Vn.error("Please connect your wallet first");return}try{Vn.success(`Milestone ${a} approved!`)}catch{Vn.error("Failed to approve milestone")}},s=async a=>{if(!n){Vn.error("Please connect your wallet first");return}try{Vn.success(`Payment for milestone ${a} released!`)}catch{Vn.error("Failed to release payment")}},i=a=>{switch(a){case"released":return p.jsx(Ic,{className:"w-4 h-4 text-green-600"});case"approved":return p.jsx(Ic,{className:"w-4 h-4 text-blue-600"});case"pending":return p.jsx($u,{className:"w-4 h-4 text-yellow-600"});case"disputed":return p.jsx(mF,{className:"w-4 h-4 text-red-600"});default:return p.jsx($u,{className:"w-4 h-4"})}},o=a=>{const c={released:"default",approved:"secondary",pending:"outline",disputed:"destructive"};return p.jsx(rd,{variant:c[a]||"outline",children:a})};return p.jsxs(ke,{children:[p.jsx(ot,{children:p.jsxs(at,{children:["Milestones (",e.length,")"]})}),p.jsx($e,{children:p.jsx("div",{className:"space-y-4",children:e.map((a,c)=>p.jsxs("div",{className:"border border-border rounded-lg p-4",children:[p.jsx("div",{className:"flex items-start justify-between mb-3",children:p.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[p.jsx("div",{className:"mt-1",children:i(a.status)}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsxs("h4",{className:"font-semibold",children:["Milestone ",a.id]}),o(a.status)]}),p.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a.description}),p.jsxs("p",{className:"text-lg font-bold",children:["$",a.amount.toLocaleString()]})]})]})}),a.status==="pending"&&p.jsx("div",{className:"flex gap-2 mt-3",children:p.jsx(Ee,{size:"sm",onClick:()=>r(a.id),disabled:!n,children:"Approve"})}),a.status==="approved"&&p.jsx("div",{className:"flex gap-2 mt-3",children:p.jsx(Ee,{size:"sm",onClick:()=>s(a.id),disabled:!n,children:"Release Payment"})}),a.status==="released"&&p.jsx("div",{className:"mt-3",children:p.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2",children:[p.jsx(Ic,{className:"w-4 h-4"}),"Payment released successfully"]})})]},a.id))})})]})},jge=({invoiceId:e,onClose:t})=>{const[n,r]=P.useState(""),[s,i]=P.useState(!1),{isConnected:o,userAddress:a}=wp(),c=async()=>{if(!o){Vn.error("Please connect your wallet first");return}if(!n.trim()){Vn.error("Please provide a reason for the dispute");return}try{i(!0),await new Promise(l=>setTimeout(l,1500)),Vn.success("Dispute raised successfully. The arbitrator will review it."),t()}catch(l){console.error("Error raising dispute:",l),Vn.error("Failed to raise dispute")}finally{i(!1)}};return p.jsxs(ke,{className:"border-destructive",children:[p.jsxs(ot,{children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(v$,{className:"w-5 h-5 text-destructive"}),p.jsx(at,{children:"Raise a Dispute"})]}),p.jsx(Ee,{variant:"ghost",size:"sm",onClick:t,children:p.jsx(vC,{className:"w-4 h-4"})})]}),p.jsx(It,{children:"Explain the issue with this invoice. The arbitrator will review and make a decision."})]}),p.jsx($e,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Dispute Reason"}),p.jsx("textarea",{className:"w-full h-32 p-3 border border-border rounded-lg bg-background resize-none focus:outline-none focus:ring-2 focus:ring-destructive",placeholder:"Describe the issue in detail...",value:n,onChange:l=>r(l.target.value),maxLength:512}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.length,"/512 characters"]})]}),p.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[p.jsx("p",{className:"text-sm text-destructive font-semibold mb-2",children:"⚠️ Important"}),p.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 list-disc list-inside",children:[p.jsx("li",{children:"Raising a dispute will pause all milestone payments"}),p.jsx("li",{children:"The arbitrator will review both parties' claims"}),p.jsx("li",{children:"The decision will be final and binding"}),p.jsx("li",{children:"False disputes may affect your reputation"})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Ee,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),p.jsx(Ee,{variant:"destructive",onClick:c,disabled:s||!n.trim()||!o,className:"flex-1",children:s?"Submitting...":"Raise Dispute"})]})]})})]})},Mge=()=>{const{id:e}=YH(),[t,n]=P.useState(!1),r={id:e||"INV-001",status:"in-progress",dao:"DeFi DAO",issuer:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",client:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",arbitrator:"SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159",totalAmount:12500,releasedAmount:5e3,createdAt:"2025-01-15",milestones:[{id:1,description:"Initial design mockups",amount:5e3,status:"released"},{id:2,description:"Frontend implementation",amount:5e3,status:"approved"},{id:3,description:"Testing and deployment",amount:2500,status:"pending"}]},s=i=>{const o={completed:"default","in-progress":"secondary",pending:"outline",disputed:"destructive"};return p.jsx(rd,{variant:o[i],children:i})};return p.jsx("div",{className:"min-h-screen bg-background",children:p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx("header",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx(gi,{to:"/",children:p.jsxs(Ee,{variant:"outline",size:"sm",children:[p.jsx(m$,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),p.jsx(W2,{})]})}),p.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs(ke,{children:[p.jsx(ot,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs(at,{children:["Invoice ",r.id]}),p.jsx(It,{children:r.dao})]}),s(r.status)]})}),p.jsx($e,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Issuer"}),p.jsx("p",{className:"text-xs font-mono bg-secondary p-2 rounded",children:r.issuer})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Client"}),p.jsx("p",{className:"text-xs font-mono bg-secondary p-2 rounded",children:r.client})]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Arbitrator"}),p.jsx("p",{className:"text-xs font-mono bg-secondary p-2 rounded",children:r.arbitrator})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Created"}),p.jsx("p",{className:"text-sm",children:r.createdAt})]})]})})]}),p.jsx(Rge,{milestones:r.milestones,invoiceId:r.id}),t&&p.jsx(jge,{invoiceId:r.id,onClose:()=>n(!1)})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(ke,{children:[p.jsx(ot,{children:p.jsx(at,{className:"text-lg",children:"Payment Summary"})}),p.jsxs($e,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),p.jsxs("p",{className:"text-2xl font-bold",children:["$",r.totalAmount.toLocaleString()]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Released"}),p.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["$",r.releasedAmount.toLocaleString()]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Remaining"}),p.jsxs("p",{className:"text-xl font-semibold",children:["$",(r.totalAmount-r.releasedAmount).toLocaleString()]})]}),p.jsxs("div",{className:"pt-4 border-t border-border",children:[p.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:p.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${r.releasedAmount/r.totalAmount*100}%`}})}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:[Math.round(r.releasedAmount/r.totalAmount*100),"% Complete"]})]})]})]}),p.jsxs(ke,{children:[p.jsx(ot,{children:p.jsx(at,{className:"text-lg",children:"Actions"})}),p.jsxs($e,{className:"space-y-3",children:[p.jsxs(Ee,{variant:"outline",className:"w-full justify-start",children:[p.jsx(wC,{className:"w-4 h-4 mr-2"}),"Fund Invoice"]}),p.jsxs(Ee,{variant:"outline",className:"w-full justify-start",onClick:()=>n(!0),children:[p.jsx(v$,{className:"w-4 h-4 mr-2"}),"Raise Dispute"]})]})]})]})]})]})})},q2=P.createContext({});function K2(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const G2=typeof window<"u",u8=G2?P.useLayoutEffect:P.useEffect,sw=P.createContext(null);function Y2(e,t){e.indexOf(t)===-1&&e.push(t)}function Q2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const bo=(e,t,n)=>n>t?t:n<e?e:n;let X2=()=>{};const xo={},d8=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function f8(e){return typeof e=="object"&&e!==null}const h8=e=>/^0[^.\s]+$/u.test(e);function Z2(e){let t;return()=>(t===void 0&&(t=e()),t)}const ws=e=>e,Lge=(e,t)=>n=>t(e(n)),Mp=(...e)=>e.reduce(Lge),np=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class J2{constructor(){this.subscriptions=[]}add(t){return Y2(this.subscriptions,t),()=>Q2(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ti=e=>e*1e3,gs=e=>e/1e3;function p8(e,t){return t?e*(1e3/t):0}const m8=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Uge=1e-7,Bge=12;function Fge(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=m8(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Uge&&++a<Bge);return o}function Lp(e,t,n,r){if(e===t&&n===r)return ws;const s=i=>Fge(i,0,1,e,n);return i=>i===0||i===1?i:m8(s(i),t,r)}const g8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,y8=e=>t=>1-e(1-t),w8=Lp(.33,1.53,.69,.99),eS=y8(w8),v8=g8(eS),b8=e=>(e*=2)<1?.5*eS(e):.5*(2-Math.pow(2,-10*(e-1))),tS=e=>1-Math.sin(Math.acos(e)),x8=y8(tS),E8=g8(tS),zge=Lp(.42,0,1,1),Vge=Lp(0,0,.58,1),C8=Lp(.42,0,.58,1),Hge=e=>Array.isArray(e)&&typeof e[0]!="number",S8=e=>Array.isArray(e)&&typeof e[0]=="number",Wge={linear:ws,easeIn:zge,easeInOut:C8,easeOut:Vge,circIn:tS,circInOut:E8,circOut:x8,backIn:eS,backInOut:v8,backOut:w8,anticipate:b8},qge=e=>typeof e=="string",dP=e=>{if(S8(e)){X2(e.length===4);const[t,n,r,s]=e;return Lp(t,n,r,s)}else if(qge(e))return Wge[e];return e},sg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kge(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(l.schedule(u),e()),u(a)}const l={schedule:(u,d=!1,f=!1)=>{const m=f&&s?n:r;return d&&o.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),o.delete(u)},process:u=>{if(a=u,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),n.clear(),s=!1,i&&(i=!1,l.process(u))}};return l}const Gge=40;function A8(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=sg.reduce((b,x)=>(b[x]=Kge(i),b),{}),{setup:a,read:c,resolveKeyframes:l,preUpdate:u,update:d,preRender:f,render:h,postRender:m}=o,g=()=>{const b=xo.useManualTiming?s.timestamp:performance.now();n=!1,xo.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,Gge),1)),s.timestamp=b,s.isProcessing=!0,a.process(s),c.process(s),l.process(s),u.process(s),d.process(s),f.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},y=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:sg.reduce((b,x)=>{const E=o[x];return b[x]=(S,A=!1,C=!1)=>(n||y(),E.schedule(S,A,C)),b},{}),cancel:b=>{for(let x=0;x<sg.length;x++)o[sg[x]].cancel(b)},state:s,steps:o}}const{schedule:bt,cancel:ja,state:yn,steps:nb}=A8(typeof requestAnimationFrame<"u"?requestAnimationFrame:ws,!0);let Ug;function Yge(){Ug=void 0}const vr={now:()=>(Ug===void 0&&vr.set(yn.isProcessing||xo.useManualTiming?yn.timestamp:performance.now()),Ug),set:e=>{Ug=e,queueMicrotask(Yge)}},N8=e=>t=>typeof t=="string"&&t.startsWith(e),nS=N8("--"),Qge=N8("var(--"),rS=e=>Qge(e)?Xge.test(e.split("/*")[0].trim()):!1,Xge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rp={...pd,transform:e=>bo(0,1,e)},ig={...pd,default:1},Bf=e=>Math.round(e*1e5)/1e5,sS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zge(e){return e==null}const Jge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iS=(e,t)=>n=>!!(typeof n=="string"&&Jge.test(n)&&n.startsWith(e)||t&&!Zge(n)&&Object.prototype.hasOwnProperty.call(n,t)),I8=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(sS);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},e0e=e=>bo(0,255,e),rb={...pd,transform:e=>Math.round(e0e(e))},Cc={test:iS("rgb","red"),parse:I8("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+rb.transform(e)+", "+rb.transform(t)+", "+rb.transform(n)+", "+Bf(rp.transform(r))+")"};function t0e(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Yx={test:iS("#"),parse:t0e,transform:Cc.transform},Up=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Go=Up("deg"),Pi=Up("%"),Ce=Up("px"),n0e=Up("vh"),r0e=Up("vw"),fP={...Pi,parse:e=>Pi.parse(e)/100,transform:e=>Pi.transform(e*100)},cu={test:iS("hsl","hue"),parse:I8("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Pi.transform(Bf(t))+", "+Pi.transform(Bf(n))+", "+Bf(rp.transform(r))+")"},Mt={test:e=>Cc.test(e)||Yx.test(e)||cu.test(e),parse:e=>Cc.test(e)?Cc.parse(e):cu.test(e)?cu.parse(e):Yx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cc.transform(e):cu.transform(e),getAnimatableNone:e=>{const t=Mt.parse(e);return t.alpha=0,Mt.transform(t)}},s0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function i0e(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(sS))==null?void 0:t.length)||0)+(((n=e.match(s0e))==null?void 0:n.length)||0)>0}const _8="number",T8="color",o0e="var",a0e="var(",hP="${}",c0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sp(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(c0e,c=>(Mt.test(c)?(r.color.push(i),s.push(T8),n.push(Mt.parse(c))):c.startsWith(a0e)?(r.var.push(i),s.push(o0e),n.push(c)):(r.number.push(i),s.push(_8),n.push(parseFloat(c))),++i,hP)).split(hP);return{values:n,split:a,indexes:r,types:s}}function P8(e){return sp(e).values}function D8(e){const{split:t,types:n}=sp(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===_8?i+=Bf(s[o]):a===T8?i+=Mt.transform(s[o]):i+=s[o]}return i}}const l0e=e=>typeof e=="number"?0:Mt.test(e)?Mt.getAnimatableNone(e):e;function u0e(e){const t=P8(e);return D8(e)(t.map(l0e))}const Ma={test:i0e,parse:P8,createTransformer:D8,getAnimatableNone:u0e};function sb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function d0e({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;s=sb(c,a,e+1/3),i=sb(c,a,e),o=sb(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function G0(e,t){return n=>n>0?t:e}const Et=(e,t,n)=>e+(t-e)*n,ib=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},f0e=[Yx,Cc,cu],h0e=e=>f0e.find(t=>t.test(e));function pP(e){const t=h0e(e);if(!t)return!1;let n=t.parse(e);return t===cu&&(n=d0e(n)),n}const mP=(e,t)=>{const n=pP(e),r=pP(t);if(!n||!r)return G0(e,t);const s={...n};return i=>(s.red=ib(n.red,r.red,i),s.green=ib(n.green,r.green,i),s.blue=ib(n.blue,r.blue,i),s.alpha=Et(n.alpha,r.alpha,i),Cc.transform(s))},Qx=new Set(["none","hidden"]);function p0e(e,t){return Qx.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function m0e(e,t){return n=>Et(e,t,n)}function oS(e){return typeof e=="number"?m0e:typeof e=="string"?rS(e)?G0:Mt.test(e)?mP:w0e:Array.isArray(e)?O8:typeof e=="object"?Mt.test(e)?mP:g0e:G0}function O8(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>oS(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function g0e(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=oS(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function y0e(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const w0e=(e,t)=>{const n=Ma.createTransformer(t),r=sp(e),s=sp(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Qx.has(e)&&!s.values.length||Qx.has(t)&&!r.values.length?p0e(e,t):Mp(O8(y0e(r,s),s.values),n):G0(e,t)};function k8(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Et(e,t,n):oS(e)(e,t)}const v0e=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>bt.update(t,n),stop:()=>ja(t),now:()=>yn.isProcessing?yn.timestamp:vr.now()}},$8=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Y0=2e4;function aS(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Y0;)t+=n,r=e.next(t);return t>=Y0?1/0:t}function b0e(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(aS(r),Y0);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:gs(s)}}const x0e=5;function R8(e,t,n){const r=Math.max(t-x0e,0);return p8(n-e(r),t-r)}const At={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ob=.001;function E0e({duration:e=At.duration,bounce:t=At.bounce,velocity:n=At.velocity,mass:r=At.mass}){let s,i,o=1-t;o=bo(At.minDamping,At.maxDamping,o),e=bo(At.minDuration,At.maxDuration,gs(e)),o<1?(s=l=>{const u=l*o,d=u*e,f=u-n,h=Xx(l,o),m=Math.exp(-d);return ob-f/h*m},i=l=>{const d=l*o*e,f=d*n+n,h=Math.pow(o,2)*Math.pow(l,2)*e,m=Math.exp(-d),g=Xx(Math.pow(l,2),o);return(-s(l)+ob>0?-1:1)*((f-h)*m)/g}):(s=l=>{const u=Math.exp(-l*e),d=(l-n)*e+1;return-ob+u*d},i=l=>{const u=Math.exp(-l*e),d=(n-l)*(e*e);return u*d});const a=5/e,c=S0e(s,i,a);if(e=Ti(e),isNaN(c))return{stiffness:At.stiffness,damping:At.damping,duration:e};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const C0e=12;function S0e(e,t,n){let r=n;for(let s=1;s<C0e;s++)r=r-e(r)/t(r);return r}function Xx(e,t){return e*Math.sqrt(1-t*t)}const A0e=["duration","bounce"],N0e=["stiffness","damping","mass"];function gP(e,t){return t.some(n=>e[n]!==void 0)}function I0e(e){let t={velocity:At.velocity,stiffness:At.stiffness,damping:At.damping,mass:At.mass,isResolvedFromDuration:!1,...e};if(!gP(e,N0e)&&gP(e,A0e))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*bo(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:At.mass,stiffness:s,damping:i}}else{const n=E0e(e);t={...t,...n,mass:At.mass},t.isResolvedFromDuration=!0}return t}function Q0(e=At.visualDuration,t=At.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=I0e({...n,velocity:-gs(n.velocity||0)}),m=f||0,g=l/(2*Math.sqrt(c*u)),y=o-i,w=gs(Math.sqrt(c/u)),v=Math.abs(y)<5;r||(r=v?At.restSpeed.granular:At.restSpeed.default),s||(s=v?At.restDelta.granular:At.restDelta.default);let b;if(g<1){const E=Xx(w,g);b=S=>{const A=Math.exp(-g*w*S);return o-A*((m+g*w*y)/E*Math.sin(E*S)+y*Math.cos(E*S))}}else if(g===1)b=E=>o-Math.exp(-w*E)*(y+(m+w*y)*E);else{const E=w*Math.sqrt(g*g-1);b=S=>{const A=Math.exp(-g*w*S),C=Math.min(E*S,300);return o-A*((m+g*w*y)*Math.sinh(C)+E*y*Math.cosh(C))/E}}const x={calculatedDuration:h&&d||null,next:E=>{const S=b(E);if(h)a.done=E>=d;else{let A=E===0?m:0;g<1&&(A=E===0?Ti(m):R8(b,E,S));const C=Math.abs(A)<=r,N=Math.abs(o-S)<=s;a.done=C&&N}return a.value=a.done?o:S,a},toString:()=>{const E=Math.min(aS(x),Y0),S=$8(A=>x.next(E*A).value,E,30);return E+"ms "+S},toTransition:()=>{}};return x}Q0.applyToOptions=e=>{const t=b0e(e,100,Q0);return e.ease=t.ease,e.duration=Ti(t.duration),e.type="keyframes",e};function Zx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=C=>a!==void 0&&C<a||c!==void 0&&C>c,m=C=>a===void 0?c:c===void 0||Math.abs(a-C)<Math.abs(c-C)?a:c;let g=n*t;const y=d+g,w=o===void 0?y:o(y);w!==y&&(g=w-d);const v=C=>-g*Math.exp(-C/r),b=C=>w+v(C),x=C=>{const N=v(C),j=b(C);f.done=Math.abs(N)<=l,f.value=f.done?w:j};let E,S;const A=C=>{h(f.value)&&(E=C,S=Q0({keyframes:[f.value,m(f.value)],velocity:R8(b,C,f.value),damping:s,stiffness:i,restDelta:l,restSpeed:u}))};return A(0),{calculatedDuration:null,next:C=>{let N=!1;return!S&&E===void 0&&(N=!0,x(C),A(C)),E!==void 0&&C>=E?S.next(C-E):(!N&&x(C),f)}}}function _0e(e,t,n){const r=[],s=n||xo.mix||k8,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ws:t;a=Mp(c,a)}r.push(a)}return r}function T0e(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(X2(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=_0e(t,r,s),c=a.length,l=u=>{if(o&&u<e[0])return t[0];let d=0;if(c>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=np(e[d],e[d+1],u);return a[d](f)};return n?u=>l(bo(e[0],e[i-1],u)):l}function P0e(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=np(0,t,r);e.push(Et(n,1,s))}}function D0e(e){const t=[0];return P0e(t,e.length-1),t}function O0e(e,t){return e.map(n=>n*t)}function k0e(e,t){return e.map(()=>t||C8).splice(0,e.length-1)}function Ff({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Hge(r)?r.map(dP):dP(r),i={done:!1,value:t[0]},o=O0e(n&&n.length===t.length?n:D0e(t),e),a=T0e(o,t,{ease:Array.isArray(s)?s:k0e(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}const $0e=e=>e!==null;function cS(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter($0e),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const R0e={decay:Zx,inertia:Zx,tween:Ff,keyframes:Ff,spring:Q0};function j8(e){typeof e.type=="string"&&(e.type=R0e[e.type])}class lS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const j0e=e=>e/100;class uS extends lS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==vr.now()&&this.tick(vr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;j8(t);const{type:n=Ff,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const c=n||Ff;c!==Ff&&typeof a[0]!="number"&&(this.mixKeyframes=Mp(j0e,k8(a[0],a[1])),a=[0,100]);const l=c({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...a].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=aS(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=l}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:h,type:m,onUpdate:g,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const w=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?w<0:w>s;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,x=r;if(d){const C=Math.min(this.currentTime,s)/a;let N=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(f==="reverse"?(j=1-j,h&&(j-=h/a)):f==="mirror"&&(x=o)),b=bo(0,1,j)*a}const E=v?{done:!1,value:u[0]}:x.next(b);i&&(E.value=i(E.value));let{done:S}=E;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return A&&m!==Zx&&(E.value=cS(u,this.options,y,this.speed)),g&&g(E.value),A&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return gs(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+gs(t)}get time(){return gs(this.currentTime)}set time(t){var n;t=Ti(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=gs(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=v0e,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function M0e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sc=e=>e*180/Math.PI,Jx=e=>{const t=Sc(Math.atan2(e[1],e[0]));return eE(t)},L0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jx,rotateZ:Jx,skewX:e=>Sc(Math.atan(e[1])),skewY:e=>Sc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},eE=e=>(e=e%360,e<0&&(e+=360),e),yP=Jx,wP=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),vP=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),U0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wP,scaleY:vP,scale:e=>(wP(e)+vP(e))/2,rotateX:e=>eE(Sc(Math.atan2(e[6],e[5]))),rotateY:e=>eE(Sc(Math.atan2(-e[2],e[0]))),rotateZ:yP,rotate:yP,skewX:e=>Sc(Math.atan(e[4])),skewY:e=>Sc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tE(e){return e.includes("scale")?1:0}function nE(e,t){if(!e||e==="none")return tE(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=U0e,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=L0e,s=a}if(!s)return tE(t);const i=r[t],o=s[1].split(",").map(F0e);return typeof i=="function"?i(o):o[i]}const B0e=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return nE(n,t)};function F0e(e){return parseFloat(e.trim())}const md=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gd=new Set(md),bP=e=>e===pd||e===Ce,z0e=new Set(["x","y","z"]),V0e=md.filter(e=>!z0e.has(e));function H0e(e){const t=[];return V0e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const kc={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>nE(t,"x"),y:(e,{transform:t})=>nE(t,"y")};kc.translateX=kc.x;kc.translateY=kc.y;const $c=new Set;let rE=!1,sE=!1,iE=!1;function M8(){if(sE){const e=Array.from($c).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=H0e(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sE=!1,rE=!1,$c.forEach(e=>e.complete(iE)),$c.clear()}function L8(){$c.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(sE=!0)})}function W0e(){iE=!0,L8(),M8(),iE=!1}class dS{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?($c.add(this),rE||(rE=!0,bt.read(L8),bt.resolveKeyframes(M8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}M0e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),$c.delete(this)}cancel(){this.state==="scheduled"&&($c.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const q0e=e=>e.startsWith("--");function K0e(e,t,n){q0e(t)?e.style.setProperty(t,n):e.style[t]=n}const G0e=Z2(()=>window.ScrollTimeline!==void 0),Y0e={};function Q0e(e,t){const n=Z2(e);return()=>Y0e[t]??n()}const U8=Q0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),df=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,xP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:df([0,.65,.55,1]),circOut:df([.55,0,1,.45]),backIn:df([.31,.01,.66,-.59]),backOut:df([.33,1.53,.69,.99])};function B8(e,t){if(e)return typeof e=="function"?U8()?$8(e,t):"ease-out":S8(e)?df(e):Array.isArray(e)?e.map(n=>B8(n,t)||xP.easeOut):xP[e]}function X0e(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},l=void 0){const u={[t]:n};c&&(u.offset=c);const d=B8(a,s);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),e.animate(u,f)}function F8(e){return typeof e=="function"&&"applyToOptions"in e}function Z0e({type:e,...t}){return F8(e)&&U8()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class J0e extends lS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,X2(typeof t.type!="string");const l=Z0e(t);this.animation=X0e(n,r,s,l,i),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=cS(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):K0e(n,r,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return gs(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+gs(t)}get time(){return gs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ti(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&G0e()?(this.animation.timeline=t,ws):n(this)}}const z8={anticipate:b8,backInOut:v8,circInOut:E8};function eye(e){return e in z8}function tye(e){typeof e.ease=="string"&&eye(e.ease)&&(e.ease=z8[e.ease])}const EP=10;class nye extends J0e{constructor(t){tye(t),j8(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new uS({...o,autoplay:!1}),c=Ti(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-EP).value,a.sample(c).value,EP),a.stop()}}const CP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ma.test(e)||e==="0")&&!e.startsWith("url("));function rye(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sye(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=CP(s,t),a=CP(i,t);return!o||!a?!1:rye(e)||(n==="spring"||F8(n))&&r}function oE(e){e.duration=0,e.type="keyframes"}const iye=new Set(["opacity","clipPath","filter","transform"]),oye=Z2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function aye(e){var u;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return oye()&&n&&iye.has(n)&&(n!=="transform"||!l)&&!c&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const cye=40;class lye extends lS{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:l,element:u,...d}){var m;super(),this.stop=()=>{var g,y;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=vr.now();const f={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:l,element:u,...d},h=(u==null?void 0:u.KeyframeResolver)||dS;this.keyframeResolver=new h(a,(g,y,w)=>this.onKeyframesResolved(g,y,f,!w),c,l,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:l,onUpdate:u}=r;this.resolvedAt=vr.now(),sye(t,i,o,a)||((xo.instantAnimations||!c)&&(u==null||u(cS(t,r,n))),t[0]=t[t.length-1],oE(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>cye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},h=!l&&aye(f)?new nye({...f,element:f.motionValue.owner.current}):new uS(f);h.finished.then(()=>this.notifyFinished()).catch(ws),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),W0e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const uye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dye(e){const t=uye.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function V8(e,t,n=1){const[r,s]=dye(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return d8(o)?parseFloat(o):o}return rS(s)?V8(s,t,n+1):s}function fS(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const H8=new Set(["width","height","top","left","right","bottom",...md]),fye={test:e=>e==="auto",parse:e=>e},W8=e=>t=>t.test(e),q8=[pd,Ce,Pi,Go,r0e,n0e,fye],SP=e=>q8.find(W8(e));function hye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||h8(e):!0}const pye=new Set(["brightness","contrast","saturate","opacity"]);function mye(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(sS)||[];if(!r)return e;const s=n.replace(r,"");let i=pye.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const gye=/\b([a-z-]*)\(.*?\)/gu,aE={...Ma,getAnimatableNone:e=>{const t=e.match(gye);return t?t.map(mye).join(" "):e}},AP={...pd,transform:Math.round},yye={rotate:Go,rotateX:Go,rotateY:Go,rotateZ:Go,scale:ig,scaleX:ig,scaleY:ig,scaleZ:ig,skew:Go,skewX:Go,skewY:Go,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:rp,originX:fP,originY:fP,originZ:Ce},hS={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...yye,zIndex:AP,fillOpacity:rp,strokeOpacity:rp,numOctaves:AP},wye={...hS,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:aE,WebkitFilter:aE},K8=e=>wye[e];function G8(e,t){let n=K8(e);return n!==aE&&(n=Ma),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vye=new Set(["auto","none","0"]);function bye(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!vye.has(i)&&sp(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=G8(n,s)}class xye extends dS{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),rS(l))){const u=V8(l,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!H8.has(r)||t.length!==2)return;const[s,i]=t,o=SP(s),a=SP(i);if(o!==a)if(bP(o)&&bP(a))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else kc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||hye(t[s]))&&r.push(s);r.length&&bye(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=kc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,l])=>{t.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function Eye(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Y8=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Q8(e){return f8(e)&&"offsetHeight"in e}const NP=30,Cye=e=>!isNaN(parseFloat(e));class Sye{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=vr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Cye(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new J2);const r=this.events[t].add(n);return t==="change"?()=>{r(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>NP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,NP);return p8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(e,t){return new Sye(e,t)}const{schedule:pS}=A8(queueMicrotask,!1),$s={x:!1,y:!1};function X8(){return $s.x||$s.y}function Aye(e){return e==="x"||e==="y"?$s[e]?null:($s[e]=!0,()=>{$s[e]=!1}):$s.x||$s.y?null:($s.x=$s.y=!0,()=>{$s.x=$s.y=!1})}function Z8(e,t){const n=Eye(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function IP(e){return!(e.pointerType==="touch"||X8())}function Nye(e,t,n={}){const[r,s,i]=Z8(e,n),o=a=>{if(!IP(a))return;const{target:c}=a,l=t(c,a);if(typeof l!="function"||!c)return;const u=d=>{IP(d)&&(l(d),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const J8=(e,t)=>t?e===t?!0:J8(e,t.parentElement):!1,mS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Iye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _ye(e){return Iye.has(e.tagName)||e.tabIndex!==-1}const Bg=new WeakSet;function _P(e){return t=>{t.key==="Enter"&&e(t)}}function ab(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Tye=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=_P(()=>{if(Bg.has(n))return;ab(n,"down");const s=_P(()=>{ab(n,"up")}),i=()=>ab(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function TP(e){return mS(e)&&!X8()}function Pye(e,t,n={}){const[r,s,i]=Z8(e,n),o=a=>{const c=a.currentTarget;if(!TP(a))return;Bg.add(c);const l=t(c,a),u=(h,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),Bg.has(c)&&Bg.delete(c),TP(h)&&typeof l=="function"&&l(h,{success:m})},d=h=>{u(h,c===window||c===document||n.useGlobalTarget||J8(c,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Q8(a)&&(a.addEventListener("focus",l=>Tye(l,s)),!_ye(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function e6(e){return f8(e)&&"ownerSVGElement"in e}function Dye(e){return e6(e)&&e.tagName==="svg"}const Ln=e=>!!(e&&e.getVelocity),Oye=[...q8,Mt,Ma],kye=e=>Oye.find(W8(e)),gS=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function PP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $ye(...e){return t=>{let n=!1;const r=e.map(s=>{const i=PP(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():PP(e[s],null)}}}}function Rye(...e){return P.useCallback($ye(...e),e)}class jye extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Q8(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Mye({children:e,isPresent:t,anchorX:n,root:r}){const s=P.useId(),i=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=P.useContext(gS),c=Rye(i,e==null?void 0:e.ref);return P.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f,right:h}=o.current;if(t||!i.current||!l||!u)return;const m=n==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=s;const g=document.createElement("style");a&&(g.nonce=a);const y=r??document.head;return y.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.contains(g)&&y.removeChild(g)}},[t]),p.jsx(jye,{isPresent:t,childRef:i,sizeRef:o,children:P.cloneElement(e,{ref:c})})}const Lye=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:c})=>{const l=K2(Uye),u=P.useId();let d=!0,f=P.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:s,onExitComplete:h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[n,l,r]);return i&&d&&(f={...f}),P.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),P.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=p.jsx(Mye,{isPresent:n,anchorX:a,root:c,children:e})),p.jsx(sw.Provider,{value:f,children:e})};function Uye(){return new Map}function t6(e=!0){const t=P.useContext(sw);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=P.useId();P.useEffect(()=>{if(e)return s(i)},[e]);const o=P.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const og=e=>e.key||"";function DP(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const Bye=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:c})=>{const[l,u]=t6(o),d=P.useMemo(()=>DP(e),[e]),f=o&&!l?[]:d.map(og),h=P.useRef(!0),m=P.useRef(d),g=K2(()=>new Map),[y,w]=P.useState(d),[v,b]=P.useState(d);u8(()=>{h.current=!1,m.current=d;for(let S=0;S<v.length;S++){const A=og(v[S]);f.includes(A)?g.delete(A):g.get(A)!==!0&&g.set(A,!1)}},[v,f.length,f.join("-")]);const x=[];if(d!==y){let S=[...d];for(let A=0;A<v.length;A++){const C=v[A],N=og(C);f.includes(N)||(S.splice(A,0,C),x.push(C))}return i==="wait"&&x.length&&(S=x),b(DP(S)),w(d),null}const{forceRender:E}=P.useContext(q2);return p.jsx(p.Fragment,{children:v.map(S=>{const A=og(S),C=o&&!l?!1:d===v||f.includes(A),N=()=>{if(g.has(A))g.set(A,!0);else return;let j=!0;g.forEach(M=>{M||(j=!1)}),j&&(E==null||E(),b(m.current),o&&(u==null||u()),r&&r())};return p.jsx(Lye,{isPresent:C,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:C?void 0:N,anchorX:a,children:S},A)})})},n6=P.createContext({strict:!1}),OP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gu={};for(const e in OP)Gu[e]={isEnabled:t=>OP[e].some(n=>!!t[n])};function Fye(e){for(const t in e)Gu[t]={...Gu[t],...e[t]}}const zye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function X0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||zye.has(e)}let r6=e=>!X0(e);function Vye(e){typeof e=="function"&&(r6=t=>t.startsWith("on")?!X0(t):e(t))}try{Vye(require("@emotion/is-prop-valid").default)}catch{}function Hye(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(r6(s)||n===!0&&X0(s)||!t&&!X0(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const iw=P.createContext({});function ow(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ip(e){return typeof e=="string"||Array.isArray(e)}const yS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wS=["initial",...yS];function aw(e){return ow(e.animate)||wS.some(t=>ip(e[t]))}function s6(e){return!!(aw(e)||e.variants)}function Wye(e,t){if(aw(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ip(n)?n:void 0,animate:ip(r)?r:void 0}}return e.inherit!==!1?t:{}}function qye(e){const{initial:t,animate:n}=Wye(e,P.useContext(iw));return P.useMemo(()=>({initial:t,animate:n}),[kP(t),kP(n)])}function kP(e){return Array.isArray(e)?e.join(" "):e}const op={};function Kye(e){for(const t in e)op[t]=e[t],nS(t)&&(op[t].isCSSVariable=!0)}function i6(e,{layout:t,layoutId:n}){return gd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!op[e]||e==="opacity")}const Gye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yye=md.length;function Qye(e,t,n){let r="",s=!0;for(let i=0;i<Yye;i++){const o=md[i],a=e[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const l=Y8(a,hS[o]);if(!c){s=!1;const u=Gye[o]||o;r+=`${u}(${l}) `}n&&(t[o]=l)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function vS(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const c in t){const l=t[c];if(gd.has(c)){o=!0;continue}else if(nS(c)){s[c]=l;continue}else{const u=Y8(l,hS[c]);c.startsWith("origin")?(a=!0,i[c]=u):r[c]=u}}if(t.transform||(o||n?r.transform=Qye(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=i;r.transformOrigin=`${c} ${l} ${u}`}}const bS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function o6(e,t,n){for(const r in t)!Ln(t[r])&&!i6(r,n)&&(e[r]=t[r])}function Xye({transformTemplate:e},t){return P.useMemo(()=>{const n=bS();return vS(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Zye(e,t){const n=e.style||{},r={};return o6(r,n,e),Object.assign(r,Xye(e,t)),r}function Jye(e,t){const n={},r=Zye(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ewe={offset:"stroke-dashoffset",array:"stroke-dasharray"},twe={offset:"strokeDashoffset",array:"strokeDasharray"};function nwe(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?ewe:twe;e[i.offset]=Ce.transform(-r);const o=Ce.transform(t),a=Ce.transform(n);e[i.array]=`${o} ${a}`}function a6(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},c,l,u){if(vS(e,a,l),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&nwe(d,s,i,o,!1)}const c6=()=>({...bS(),attrs:{}}),l6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rwe(e,t,n,r){const s=P.useMemo(()=>{const i=c6();return a6(i,t,l6(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};o6(i,e.style,e),s.style={...i,...s.style}}return s}const swe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xS(e){return typeof e!="string"||e.includes("-")?!1:!!(swe.indexOf(e)>-1||/[A-Z]/u.test(e))}function iwe(e,t,n,{latestValues:r},s,i=!1){const a=(xS(e)?rwe:Jye)(t,r,s,e),c=Hye(t,typeof e=="string",i),l=e!==P.Fragment?{...c,...a,ref:n}:{},{children:u}=t,d=P.useMemo(()=>Ln(u)?u.get():u,[u]);return P.createElement(e,{...l,children:d})}function $P(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ES(e,t,n,r){if(typeof t=="function"){const[s,i]=$P(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=$P(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function Fg(e){return Ln(e)?e.get():e}function owe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:awe(n,r,s,e),renderState:t()}}function awe(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=Fg(i[f]);let{initial:o,animate:a}=e;const c=aw(e),l=s6(e);t&&l&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!ow(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const m=ES(e,f[h]);if(m){const{transitionEnd:g,transition:y,...w}=m;for(const v in w){let b=w[v];if(Array.isArray(b)){const x=u?b.length-1:0;b=b[x]}b!==null&&(s[v]=b)}for(const v in g)s[v]=g[v]}}}return s}const u6=e=>(t,n)=>{const r=P.useContext(iw),s=P.useContext(sw),i=()=>owe(e,t,r,s);return n?i():K2(i)};function CS(e,t,n){var i;const{style:r}=e,s={};for(const o in r)(Ln(r[o])||t.style&&Ln(t.style[o])||i6(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const cwe=u6({scrapeMotionValuesFromProps:CS,createRenderState:bS});function d6(e,t,n){const r=CS(e,t,n);for(const s in e)if(Ln(e[s])||Ln(t[s])){const i=md.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const lwe=u6({scrapeMotionValuesFromProps:d6,createRenderState:c6}),uwe=Symbol.for("motionComponentSymbol");function lu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dwe(e,t,n){return P.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):lu(n)&&(n.current=r))},[t])}const SS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fwe="framerAppearId",f6="data-"+SS(fwe),h6=P.createContext({});function hwe(e,t,n,r,s){var g,y;const{visualElement:i}=P.useContext(iw),o=P.useContext(n6),a=P.useContext(sw),c=P.useContext(gS).reducedMotion,l=P.useRef(null);r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const u=l.current,d=P.useContext(h6);u&&!u.projection&&s&&(u.type==="html"||u.type==="svg")&&pwe(l.current,n,s,d);const f=P.useRef(!1);P.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const h=n[f6],m=P.useRef(!!h&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,h))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,h)));return u8(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),P.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,h)}),m.current=!1),u.enteringChildren=void 0)}),u}function pwe(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:p6(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&lu(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:c,layoutRoot:l})}function p6(e){if(e)return e.options.allowProjection!==!1?e.projection:p6(e.parent)}function cb(e,{forwardMotionProps:t=!1}={},n,r){n&&Fye(n);const s=xS(e)?lwe:cwe;function i(a,c){let l;const u={...P.useContext(gS),...a,layoutId:mwe(a)},{isStatic:d}=u,f=qye(a),h=s(a,d);if(!d&&G2){gwe();const m=ywe(u);l=m.MeasureLayout,f.visualElement=hwe(e,h,u,r,m.ProjectionNode)}return p.jsxs(iw.Provider,{value:f,children:[l&&f.visualElement?p.jsx(l,{visualElement:f.visualElement,...u}):null,iwe(e,a,dwe(h,f.visualElement,c),h,d,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=P.forwardRef(i);return o[uwe]=e,o}function mwe({layoutId:e}){const t=P.useContext(q2).id;return t&&e!==void 0?t+"-"+e:e}function gwe(e,t){P.useContext(n6).strict}function ywe(e){const{drag:t,layout:n}=Gu;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wwe(e,t){if(typeof Proxy>"u")return cb;const n=new Map,r=(i,o)=>cb(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,cb(o,void 0,e,t)),n.get(o))})}function m6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function vwe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bwe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function lb(e){return e===void 0||e===1}function cE({scale:e,scaleX:t,scaleY:n}){return!lb(e)||!lb(t)||!lb(n)}function cc(e){return cE(e)||g6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function g6(e){return RP(e.x)||RP(e.y)}function RP(e){return e&&e!=="0%"}function Z0(e,t,n){const r=e-n,s=t*r;return n+s}function jP(e,t,n,r,s){return s!==void 0&&(e=Z0(e,s,r)),Z0(e,n,r)+t}function lE(e,t=0,n=1,r,s){e.min=jP(e.min,t,n,r,s),e.max=jP(e.max,t,n,r,s)}function y6(e,{x:t,y:n}){lE(e.x,t.translate,t.scale,t.originPoint),lE(e.y,n.translate,n.scale,n.originPoint)}const MP=.999999999999,LP=1.0000000000001;function xwe(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&du(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,y6(e,o)),r&&cc(i.latestValues)&&du(e,i.latestValues))}t.x<LP&&t.x>MP&&(t.x=1),t.y<LP&&t.y>MP&&(t.y=1)}function uu(e,t){e.min=e.min+t,e.max=e.max+t}function UP(e,t,n,r,s=.5){const i=Et(e.min,e.max,s);lE(e,t,n,i,r)}function du(e,t){UP(e.x,t.x,t.scaleX,t.scale,t.originX),UP(e.y,t.y,t.scaleY,t.scale,t.originY)}function w6(e,t){return m6(bwe(e.getBoundingClientRect(),t))}function Ewe(e,t,n){const r=w6(e,n),{scroll:s}=t;return s&&(uu(r.x,s.offset.x),uu(r.y,s.offset.y)),r}const BP=()=>({translate:0,scale:1,origin:0,originPoint:0}),fu=()=>({x:BP(),y:BP()}),FP=()=>({min:0,max:0}),Tt=()=>({x:FP(),y:FP()}),uE={current:null},v6={current:!1};function Cwe(){if(v6.current=!0,!!G2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uE.current=e.matches;e.addEventListener("change",t),t()}else uE.current=!1}const Swe=new WeakMap;function Awe(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ln(s))e.addValue(r,s);else if(Ln(i))e.addValue(r,Ku(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Ku(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const zP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nwe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=vr.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,bt.render(this.render,!1,!0))};const{latestValues:c,renderState:l}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=aw(n),this.isVariantNode=s6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];c[f]!==void 0&&Ln(h)&&h.set(c[f])}}mount(t){var n;this.current=t,Swe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),v6.current||Cwe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uE.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),ja(this.notifyUpdate),ja(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=gd.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Gu){const n=Gu[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zP.length;r++){const s=zP[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Awe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ku(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(d8(r)||h8(r))?r=parseFloat(r):!kye(r)&&Ma.test(n)&&(r=G8(t,n)),this.setBaseTarget(t,Ln(r)?r.get():r)),Ln(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=ES(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ln(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new J2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){pS.render(this.render)}}class b6 extends Nwe{constructor(){super(...arguments),this.KeyframeResolver=xye}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function x6(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Iwe(e){return window.getComputedStyle(e)}class _we extends b6{constructor(){super(...arguments),this.type="html",this.renderInstance=x6}readValueFromInstance(t,n){var r;if(gd.has(n))return(r=this.projection)!=null&&r.isProjecting?tE(n):B0e(t,n);{const s=Iwe(t),i=(nS(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return w6(t,n)}build(t,n,r){vS(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return CS(t,n,r)}}const E6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Twe(e,t,n,r){x6(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(E6.has(s)?s:SS(s),t.attrs[s])}class Pwe extends b6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gd.has(n)){const r=K8(n);return r&&r.default||0}return n=E6.has(n)?n:SS(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return d6(t,n,r)}build(t,n,r){a6(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){Twe(t,n,r,s)}mount(t){this.isSVGTag=l6(t.tagName),super.mount(t)}}const Dwe=(e,t)=>xS(e)?new Pwe(t):new _we(t,{allowProjection:e!==P.Fragment});function Nu(e,t,n){const r=e.getProps();return ES(r,t,n!==void 0?n:r.custom,e)}const dE=e=>Array.isArray(e);function Owe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ku(n))}function kwe(e){return dE(e)?e[e.length-1]||0:e}function $we(e,t){const n=Nu(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=kwe(i[o]);Owe(e,o,a)}}function Rwe(e){return!!(Ln(e)&&e.add)}function fE(e,t){const n=e.getValue("willChange");if(Rwe(n))return n.add(t);if(!n&&xo.WillChange){const r=new xo.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function C6(e){return e.props[f6]}const jwe=e=>e!==null;function Mwe(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(jwe),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const Lwe={type:"spring",stiffness:500,damping:25,restSpeed:10},Uwe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Bwe={type:"keyframes",duration:.8},Fwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zwe=(e,{keyframes:t})=>t.length>2?Bwe:gd.has(e)?e.startsWith("scale")?Uwe(t[1]):Lwe:Fwe;function Vwe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const AS=(e,t,n,r={},s,i)=>o=>{const a=fS(r,e)||{},c=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ti(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};Vwe(a)||Object.assign(u,zwe(e,u)),u.duration&&(u.duration=Ti(u.duration)),u.repeatDelay&&(u.repeatDelay=Ti(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(oE(u),u.delay===0&&(d=!0)),(xo.instantAnimations||xo.skipAnimations)&&(d=!0,oE(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!i&&t.get()!==void 0){const f=Mwe(u.keyframes,a);if(f!==void 0){bt.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new uS(u):new lye(u)};function Hwe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function S6(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const c=[],l=s&&e.animationState&&e.animationState.getState()[s];for(const u in a){const d=e.getValue(u,e.latestValues[u]??null),f=a[u];if(f===void 0||l&&Hwe(l,u))continue;const h={delay:n,...fS(i||{},u)},m=d.get();if(m!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===m&&!h.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const w=C6(e);if(w){const v=window.MotionHandoffAnimation(w,u,bt);v!==null&&(h.startTime=v,g=!0)}}fE(e,u),d.start(AS(u,d,f,e.shouldReduceMotion&&H8.has(u)?{type:!1}:h,e,g));const y=d.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{bt.update(()=>{o&&$we(e,o)})}),c}function A6(e,t,n,r=0,s=1){const i=Array.from(e).sort((l,u)=>l.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function hE(e,t,n={}){var c;const r=Nu(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(S6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return Wwe(e,t,l,u,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,u]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Wwe(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),a.push(hE(c,t,{...o,delay:n+(typeof r=="function"?0:r)+A6(e.variantChildren,c,r,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(a)}function qwe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>hE(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=hE(e,t,n);else{const s=typeof t=="function"?Nu(e,t,n.custom):t;r=Promise.all(S6(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function N6(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Kwe=wS.length;function I6(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?I6(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Kwe;n++){const r=wS[n],s=e.props[r];(ip(s)||s===!1)&&(t[r]=s)}return t}const Gwe=[...yS].reverse(),Ywe=yS.length;function Qwe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>qwe(e,n,r)))}function Xwe(e){let t=Qwe(e),n=VP(),r=!0;const s=c=>(l,u)=>{var f;const d=Nu(e,u,c==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:m,...g}=d;l={...l,...g,...m}}return l};function i(c){t=c(e)}function o(c){const{props:l}=e,u=I6(e.parent)||{},d=[],f=new Set;let h={},m=1/0;for(let y=0;y<Ywe;y++){const w=Gwe[y],v=n[w],b=l[w]!==void 0?l[w]:u[w],x=ip(b),E=w===c?v.isActive:null;E===!1&&(m=y);let S=b===u[w]&&b!==l[w]&&x;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...h},!v.isActive&&E===null||!b&&!v.prevProp||ow(b)||typeof b=="boolean")continue;const A=Zwe(v.prevProp,b);let C=A||w===c&&v.isActive&&!S&&x||y>m&&x,N=!1;const j=Array.isArray(b)?b:[b];let M=j.reduce(s(w),{});E===!1&&(M={});const{prevResolvedValues:L={}}=v,B={...L,...M},U=k=>{C=!0,f.has(k)&&(N=!0,f.delete(k)),v.needsAnimating[k]=!0;const T=e.getValue(k);T&&(T.liveStyle=!1)};for(const k in B){const T=M[k],$=L[k];if(h.hasOwnProperty(k))continue;let R=!1;dE(T)&&dE($)?R=!N6(T,$):R=T!==$,R?T!=null?U(k):f.add(k):T!==void 0&&f.has(k)?U(k):v.protectedKeys[k]=!0}v.prevProp=b,v.prevResolvedValues=M,v.isActive&&(h={...h,...M}),r&&e.blockInitialAnimation&&(C=!1);const I=S&&A;C&&(!I||N)&&d.push(...j.map(k=>{const T={type:w};if(typeof k=="string"&&r&&!I&&e.manuallyAnimateOnMount&&e.parent){const{parent:$}=e,R=Nu($,k);if($.enteringChildren&&R){const{delayChildren:z}=R.transition||{};T.delay=A6($.enteringChildren,e,z)}}return{animation:k,options:T}}))}if(f.size){const y={};if(typeof l.initial!="boolean"){const w=Nu(e,Array.isArray(l.initial)?l.initial[0]:l.initial);w&&w.transition&&(y.transition=w.transition)}f.forEach(w=>{const v=e.getBaseTarget(w),b=e.getValue(w);b&&(b.liveStyle=!0),y[w]=v??null}),d.push({animation:y})}let g=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(d):Promise.resolve()}function a(c,l){var d;if(n[c].isActive===l)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(c,l)}),n[c].isActive=l;const u=o(c);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=VP()}}}function Zwe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!N6(t,e):!1}function nc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VP(){return{animate:nc(!0),whileInView:nc(),whileHover:nc(),whileTap:nc(),whileDrag:nc(),whileFocus:nc(),exit:nc()}}class Va{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Jwe extends Va{constructor(t){super(t),t.animationState||(t.animationState=Xwe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ow(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let eve=0;class tve extends Va{constructor(){super(...arguments),this.id=eve++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nve={animation:{Feature:Jwe},exit:{Feature:tve}};function ap(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Bp(e){return{point:{x:e.pageX,y:e.pageY}}}const rve=e=>t=>mS(t)&&e(t,Bp(t));function zf(e,t,n,r){return ap(e,t,rve(n),r)}const _6=1e-4,sve=1-_6,ive=1+_6,T6=.01,ove=0-T6,ave=0+T6;function Wn(e){return e.max-e.min}function cve(e,t,n){return Math.abs(e-t)<=n}function HP(e,t,n,r=.5){e.origin=r,e.originPoint=Et(t.min,t.max,e.origin),e.scale=Wn(n)/Wn(t),e.translate=Et(n.min,n.max,e.origin)-e.originPoint,(e.scale>=sve&&e.scale<=ive||isNaN(e.scale))&&(e.scale=1),(e.translate>=ove&&e.translate<=ave||isNaN(e.translate))&&(e.translate=0)}function Vf(e,t,n,r){HP(e.x,t.x,n.x,r?r.originX:void 0),HP(e.y,t.y,n.y,r?r.originY:void 0)}function WP(e,t,n){e.min=n.min+t.min,e.max=e.min+Wn(t)}function lve(e,t,n){WP(e.x,t.x,n.x),WP(e.y,t.y,n.y)}function qP(e,t,n){e.min=t.min-n.min,e.max=e.min+Wn(t)}function Hf(e,t,n){qP(e.x,t.x,n.x),qP(e.y,t.y,n.y)}function ls(e){return[e("x"),e("y")]}const P6=({current:e})=>e?e.ownerDocument.defaultView:null,KP=(e,t)=>Math.abs(e-t);function uve(e,t){const n=KP(e.x,t.x),r=KP(e.y,t.y);return Math.sqrt(n**2+r**2)}class D6{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=db(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=uve(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!m)return;const{point:g}=f,{timestamp:y}=yn;this.history.push({...g,timestamp:y});const{onStart:w,onMove:v}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ub(h,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=db(f.type==="pointercancel"?this.lastMoveEventInfo:ub(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,w),g&&g(f,w)},!mS(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Bp(t),c=ub(a,this.transformPagePoint),{point:l}=c,{timestamp:u}=yn;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,db(c,this.history)),this.removeListeners=Mp(zf(this.contextWindow,"pointermove",this.handlePointerMove),zf(this.contextWindow,"pointerup",this.handlePointerUp),zf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ja(this.updatePoint)}}function ub(e,t){return t?{point:t(e.point)}:e}function GP(e,t){return{x:e.x-t.x,y:e.y-t.y}}function db({point:e},t){return{point:e,delta:GP(e,O6(t)),offset:GP(e,dve(t)),velocity:fve(t,.1)}}function dve(e){return e[0]}function O6(e){return e[e.length-1]}function fve(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=O6(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ti(t)));)n--;if(!r)return{x:0,y:0};const i=gs(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hve(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Et(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Et(n,e,r.max):Math.min(e,n)),e}function YP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function pve(e,{top:t,left:n,bottom:r,right:s}){return{x:YP(e.x,n,s),y:YP(e.y,t,r)}}function QP(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function mve(e,t){return{x:QP(e.x,t.x),y:QP(e.y,t.y)}}function gve(e,t){let n=.5;const r=Wn(e),s=Wn(t);return s>r?n=np(t.min,t.max-r,e.min):r>s&&(n=np(e.min,e.max-s,t.min)),bo(0,1,n)}function yve(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const pE=.35;function wve(e=pE){return e===!1?e=0:e===!0&&(e=pE),{x:XP(e,"left","right"),y:XP(e,"top","bottom")}}function XP(e,t,n){return{min:ZP(e,t),max:ZP(e,n)}}function ZP(e,t){return typeof e=="number"?e:e[t]||0}const vve=new WeakMap;class bve{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bp(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Aye(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ls(w=>{let v=this.getAxisMotionValue(w).get()||0;if(Pi.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[w];x&&(v=Wn(x)*(parseFloat(v)/100))}}this.originPoint[w]=v}),g&&bt.postRender(()=>g(d,f)),fE(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:y}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=f;if(m&&this.currentDirection===null){this.currentDirection=xve(w),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),y&&y(d,f)},c=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>ls(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new D6(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:P6(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&bt.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ag(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=hve(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&lu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=pve(r.layoutBox,t):this.constraints=!1,this.elastic=wve(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ls(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=yve(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lu(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Ewe(r,s.root,this.visualElement.getTransformPagePoint());let o=mve(s.layout.layoutBox,i);if(n){const a=n(vwe(o));this.hasMutatedConstraints=!!a,a&&(o=m6(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=ls(u=>{if(!ag(u,n,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,m={type:"inertia",velocity:r?t[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return fE(this.visualElement,t),r.start(AS(t,r,0,n,this.visualElement,!1))}stopAnimation(){ls(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ls(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ls(n=>{const{drag:r}=this.getProps();if(!ag(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-Et(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ls(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=gve({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ls(o=>{if(!ag(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(Et(c,l,s[o]))})}addListeners(){if(!this.visualElement.current)return;vve.set(this.visualElement,this);const t=this.visualElement.current,n=zf(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();lu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),bt.read(r);const o=ap(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(ls(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=pE,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function ag(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xve(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Eve extends Va{constructor(t){super(t),this.removeGroupControls=ws,this.removeListeners=ws,this.controls=new bve(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ws}unmount(){this.removeGroupControls(),this.removeListeners()}}const JP=e=>(t,n)=>{e&&bt.postRender(()=>e(t,n))};class Cve extends Va{constructor(){super(...arguments),this.removePointerDownListener=ws}onPointerDown(t){this.session=new D6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:P6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:JP(t),onStart:JP(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&bt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=zf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const n=eD(e,t.target.x),r=eD(e,t.target.y);return`${n}% ${r}%`}},Sve={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ma.parse(e);if(s.length>5)return r;const i=Ma.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const l=Et(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=l),typeof s[3+o]=="number"&&(s[3+o]/=l),i(s)}};let fb=!1;class Ave extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;Kye(Nve),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),fb&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),zg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,fb=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||bt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),pS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;fb=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function k6(e){const[t,n]=t6(),r=P.useContext(q2);return p.jsx(Ave,{...e,layoutGroup:r,switchLayoutGroup:P.useContext(h6),isPresent:t,safeToRemove:n})}const Nve={borderRadius:{...Zd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zd,borderTopRightRadius:Zd,borderBottomLeftRadius:Zd,borderBottomRightRadius:Zd,boxShadow:Sve};function Ive(e,t,n){const r=Ln(e)?e:Ku(e);return r.start(AS("",r,t,n)),r.animation}const _ve=(e,t)=>e.depth-t.depth;class Tve{constructor(){this.children=[],this.isDirty=!1}add(t){Y2(this.children,t),this.isDirty=!0}remove(t){Q2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_ve),this.isDirty=!1,this.children.forEach(t)}}function Pve(e,t){const n=vr.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ja(r),e(i-t))};return bt.setup(r,!0),()=>ja(r)}const $6=["TopLeft","TopRight","BottomLeft","BottomRight"],Dve=$6.length,tD=e=>typeof e=="string"?parseFloat(e):e,nD=e=>typeof e=="number"||Ce.test(e);function Ove(e,t,n,r,s,i){s?(e.opacity=Et(0,n.opacity??1,kve(r)),e.opacityExit=Et(t.opacity??1,0,$ve(r))):i&&(e.opacity=Et(t.opacity??1,n.opacity??1,r));for(let o=0;o<Dve;o++){const a=`border${$6[o]}Radius`;let c=rD(t,a),l=rD(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||nD(c)===nD(l)?(e[a]=Math.max(Et(tD(c),tD(l),r),0),(Pi.test(l)||Pi.test(c))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=Et(t.rotate||0,n.rotate||0,r))}function rD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kve=R6(0,.5,x8),$ve=R6(.5,.95,ws);function R6(e,t,n){return r=>r<e?0:r>t?1:n(np(e,t,r))}function sD(e,t){e.min=t.min,e.max=t.max}function is(e,t){sD(e.x,t.x),sD(e.y,t.y)}function iD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function oD(e,t,n,r,s){return e-=t,e=Z0(e,1/n,r),s!==void 0&&(e=Z0(e,1/s,r)),e}function Rve(e,t=0,n=1,r=.5,s,i=e,o=e){if(Pi.test(t)&&(t=parseFloat(t),t=Et(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Et(i.min,i.max,r);e===i&&(a-=t),e.min=oD(e.min,t,n,a,s),e.max=oD(e.max,t,n,a,s)}function aD(e,t,[n,r,s],i,o){Rve(e,t[n],t[r],t[s],t.scale,i,o)}const jve=["x","scaleX","originX"],Mve=["y","scaleY","originY"];function cD(e,t,n,r){aD(e.x,t,jve,n?n.x:void 0,r?r.x:void 0),aD(e.y,t,Mve,n?n.y:void 0,r?r.y:void 0)}function lD(e){return e.translate===0&&e.scale===1}function j6(e){return lD(e.x)&&lD(e.y)}function uD(e,t){return e.min===t.min&&e.max===t.max}function Lve(e,t){return uD(e.x,t.x)&&uD(e.y,t.y)}function dD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function M6(e,t){return dD(e.x,t.x)&&dD(e.y,t.y)}function fD(e){return Wn(e.x)/Wn(e.y)}function hD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Uve{constructor(){this.members=[]}add(t){Y2(this.members,t),t.scheduleRender()}remove(t){if(Q2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bve(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:m}=n;l&&(r=`perspective(${l}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const hb=["","X","Y","Z"],Fve=1e3;let zve=0;function pb(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function L6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=C6(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&L6(r)}function U6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=zve++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Wve),this.nodes.forEach(Yve),this.nodes.forEach(Qve),this.nodes.forEach(qve)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tve)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new J2),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=e6(o)&&!Dye(o),this.instance=o;const{layoutId:a,layout:c,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),e){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{d=window.innerWidth}),e(o,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,u&&u(),u=Pve(f,250),zg.hasAnimatedSinceResize&&(zg.hasAnimatedSinceResize=!1,this.nodes.forEach(gD)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&l&&(a||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||l.getDefaultTransition()||tbe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:y}=l.getProps(),w=!this.targetLayout||!M6(this.targetLayout,h),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...fS(m,"layout"),onPlay:g,onComplete:y};(l.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,v)}else d||gD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ja(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Xve),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&L6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Gve),this.nodes.forEach(Vve),this.nodes.forEach(Hve)):this.nodes.forEach(mD),this.clearAllSnapshots();const a=vr.now();yn.delta=bo(0,1e3/60,a-yn.timestamp),yn.timestamp=a,yn.isProcessing=!0,nb.update.process(yn),nb.preRender.process(yn),nb.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Kve),this.sharedNodes.forEach(Zve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!j6(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&this.instance&&(a||cc(this.latestValues)||u)&&(s(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),nbe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return Tt();const a=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(rbe))){const{scroll:u}=this.root;u&&(uu(a.x,u.offset.x),uu(a.y,u.offset.y))}return a}removeElementScroll(o){var c;const a=Tt();if(is(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&is(a,o),uu(a.x,d.offset.x),uu(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const c=Tt();is(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&du(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),cc(u.latestValues)&&du(c,u.latestValues)}return cc(this.latestValues)&&du(c,this.latestValues),c}removeTransform(o){const a=Tt();is(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!cc(l.latestValues))continue;cE(l.latestValues)&&l.updateSnapshot();const u=Tt(),d=l.measurePageBox();is(u,d),cD(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return cc(this.latestValues)&&cD(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Hf(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lve(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):is(this.target,this.layout.layoutBox),y6(this.target,this.targetDelta)):is(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Hf(this.relativeTargetOrigin,this.target,h.target),is(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cE(this.parent.latestValues)||g6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(c=!1),c)return;const{layout:l,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||u))return;is(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;xwe(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Tt());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iD(this.prevProjectionDelta.x,this.projectionDelta.x),iD(this.prevProjectionDelta.y,this.projectionDelta.y)),Vf(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!hD(this.projectionDelta.x,this.prevProjectionDelta.x)||!hD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fu(),this.projectionDelta=fu(),this.projectionDeltaWithTransform=fu()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=fu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Tt(),h=c?c.source:void 0,m=this.layout?this.layout.source:void 0,g=h!==m,y=this.getStack(),w=!y||y.members.length<=1,v=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(ebe));this.animationProgress=0;let b;this.mixTargetDelta=x=>{const E=x/1e3;yD(d.x,o.x,E),yD(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hf(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jve(this.relativeTarget,this.relativeTargetOrigin,f,E),b&&Lve(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Tt()),is(b,this.relativeTarget)),g&&(this.animationValues=u,Ove(u,l,this.latestValues,E,v,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(l=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||l.stop(),this.pendingAnimation&&(ja(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{zg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ku(0)),this.currentAnimation=Ive(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fve),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&B6(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||Tt();const d=Wn(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=Wn(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}is(a,c),du(a,u),Vf(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Uve),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&pb("z",o,l,this.animationValues);for(let u=0;u<hb.length;u++)pb(`rotate${hb[u]}`,o,l,this.animationValues),pb(`skew${hb[u]}`,o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Fg(a==null?void 0:a.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Fg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!cc(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=l.animationValues||l.latestValues;this.applyTransformsToTarget();let d=Bve(this.projectionDeltaWithTransform,this.treeScale,u);c&&(d=c(u,d)),o.transform=d;const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,l.animationValues?o.opacity=l===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=l===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in op){if(u[m]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:w}=op[m],v=d==="none"?u[m]:g(u[m],l);if(y){const b=y.length;for(let x=0;x<b;x++)o[y[x]]=v}else w?this.options.visualElement.renderState.vars[m]=v:o[m]=v}this.options.layoutId&&(o.pointerEvents=l===this?Fg(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(pD),this.root.sharedNodes.clear()}}}function Vve(e){e.updateLayout()}function Hve(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?ls(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=Wn(f);f.min=r[d].min,f.max=f.min+h}):B6(i,t.layoutBox,r)&&ls(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],h=Wn(r[d]);f.max=f.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=fu();Vf(a,r,t.layoutBox);const c=fu();o?Vf(c,e.applyTransform(s,!0),t.measuredBox):Vf(c,r,t.layoutBox);const l=!j6(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const m=Tt();Hf(m,t.layoutBox,f.layoutBox);const g=Tt();Hf(g,r,h.layoutBox),M6(m,g)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Wve(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function qve(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Kve(e){e.clearSnapshot()}function pD(e){e.clearMeasurements()}function mD(e){e.isLayoutDirty=!1}function Gve(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Yve(e){e.resolveTargetDelta()}function Qve(e){e.calcProjection()}function Xve(e){e.resetSkewAndRotation()}function Zve(e){e.removeLeadSnapshot()}function yD(e,t,n){e.translate=Et(t.translate,0,n),e.scale=Et(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function wD(e,t,n,r){e.min=Et(t.min,n.min,r),e.max=Et(t.max,n.max,r)}function Jve(e,t,n,r){wD(e.x,t.x,n.x,r),wD(e.y,t.y,n.y,r)}function ebe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const tbe={duration:.45,ease:[.4,0,.1,1]},vD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),bD=vD("applewebkit/")&&!vD("chrome/")?Math.round:ws;function xD(e){e.min=bD(e.min),e.max=bD(e.max)}function nbe(e){xD(e.x),xD(e.y)}function B6(e,t,n){return e==="position"||e==="preserve-aspect"&&!cve(fD(t),fD(n),.2)}function rbe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const sbe=U6({attachResizeListener:(e,t)=>ap(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mb={current:void 0},F6=U6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mb.current){const e=new sbe({});e.mount(window),e.setOptions({layoutScroll:!0}),mb.current=e}return mb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ibe={pan:{Feature:Cve},drag:{Feature:Eve,ProjectionNode:F6,MeasureLayout:k6}};function ED(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&bt.postRender(()=>i(t,Bp(t)))}class obe extends Va{mount(){const{current:t}=this.node;t&&(this.unmount=Nye(t,(n,r)=>(ED(this.node,r,"Start"),s=>ED(this.node,s,"End"))))}unmount(){}}class abe extends Va{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mp(ap(this.node.current,"focus",()=>this.onFocus()),ap(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function CD(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&bt.postRender(()=>i(t,Bp(t)))}class cbe extends Va{mount(){const{current:t}=this.node;t&&(this.unmount=Pye(t,(n,r)=>(CD(this.node,r,"Start"),(s,{success:i})=>CD(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mE=new WeakMap,gb=new WeakMap,lbe=e=>{const t=mE.get(e.target);t&&t(e)},ube=e=>{e.forEach(lbe)};function dbe({root:e,...t}){const n=e||document;gb.has(n)||gb.set(n,{});const r=gb.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(ube,{root:e,...t})),r[s]}function fbe(e,t,n){const r=dbe(t);return mE.set(e,n),r.observe(e),()=>{mE.delete(e),r.unobserve(e)}}const hbe={some:0,all:1};class pbe extends Va{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:hbe[s]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=l?u:d;f&&f(c)};return fbe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(mbe(t,n))&&this.startObserver()}unmount(){}}function mbe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gbe={inView:{Feature:pbe},tap:{Feature:cbe},focus:{Feature:abe},hover:{Feature:obe}},ybe={layout:{ProjectionNode:F6,MeasureLayout:k6}},wbe={...nve,...gbe,...ibe,...ybe},Lt=wwe(wbe,Dwe);function vbe(){return p.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[p.jsx(Lt.div,{className:"absolute top-1/4 -left-10 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20",animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),p.jsx(Lt.div,{className:"absolute top-1/2 -right-10 w-72 h-72 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-20",animate:{x:[0,-100,0],y:[0,50,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),p.jsx(Lt.div,{className:"absolute bottom-1/4 left-1/2 w-72 h-72 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20",animate:{x:[0,50,0],y:[0,-100,0]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}})]})}function bbe(){return p.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-20 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[p.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[p.jsxs(Lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center rounded-full bg-white/80 px-4 py-2 text-sm font-medium text-gray-700 ring-1 ring-gray-200 backdrop-blur-sm mb-8",children:[p.jsx(vu,{className:"w-4 h-4 mr-2 text-yellow-500"}),"🚀 Built for Stacks Vibe Coding Hackathon 2025"]}),p.jsxs(Lt.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-6xl lg:text-7xl font-bold tracking-tight mb-6",children:[p.jsx("span",{className:"block text-gray-900",children:"AI-Powered"}),p.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-purple-600 to-orange-500 text-gradient",children:"Smart Invoices"})]}),p.jsx(Lt.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl sm:text-2xl text-gray-600 max-w-4xl mx-auto mb-10 leading-relaxed",children:"Transform natural language into secure, Bitcoin-native contracts. Automate DAO contractor payments with AI-generated Clarity contracts on Stacks."}),p.jsxs(Lt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-2xl mx-auto text-gray-700 mb-12",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"10x"}),p.jsx("div",{className:"text-gray-600",children:"Faster Contract Creation"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"100%"}),p.jsx("div",{className:"text-gray-600",children:"Clarity Security"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"$0"}),p.jsx("div",{className:"text-gray-600",children:"Dispute Costs"})]})]}),p.jsxs(Lt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-16",children:[p.jsxs(Ee,{size:"lg",className:"group bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 h-14 px-10 text-lg",children:["🚀 Try Live Demo",p.jsx(wy,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),p.jsxs(Ee,{size:"lg",variant:"outline",className:"group h-14 px-10 text-lg",children:[p.jsx(y$,{className:"mr-2 w-5 h-5"}),"Watch Demo Video"]}),p.jsxs(Ee,{size:"lg",variant:"outline",className:"group h-14 px-10 text-lg",children:[p.jsx(ch,{className:"mr-2 w-5 h-5"}),"View on GitHub"]})]}),p.jsx(Lt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex flex-wrap justify-center gap-4",children:["Stacks","Clarity","sBTC","AI","Bitcoin","DAO"].map(e=>p.jsx("div",{className:"px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm font-medium text-gray-700 ring-1 ring-gray-200",children:e},e))})]}),p.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:[p.jsx(Lt.div,{className:"absolute top-1/4 left-1/4 w-4 h-4 bg-orange-500 rounded-full",animate:{y:[0,-20,0],opacity:[.5,1,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),p.jsx(Lt.div,{className:"absolute top-1/3 right-1/4 w-6 h-6 bg-blue-500 rounded-full",animate:{y:[0,20,0],opacity:[.7,1,.7]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}}),p.jsx(Lt.div,{className:"absolute bottom-1/4 left-1/3 w-3 h-3 bg-purple-500 rounded-full",animate:{y:[0,-15,0],opacity:[.3,.8,.3]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:.5}})]})]})}const xbe=[{icon:yC,title:"AI-Powered Development",description:"NLP converts project descriptions into production-ready Clarity smart contracts with security checks and parameterization.",color:"from-blue-500 to-cyan-500"},{icon:lh,title:"Bank-Grade Security",description:"Leverages Clarity's decidability, no reentrancy, predictable gas, and optional formal verification for escrow contracts.",color:"from-green-500 to-emerald-500"},{icon:g$,title:"Bitcoin-Native",description:"Settle invoices in sBTC, unlocking Bitcoin as a payments rail for DAOs and real-world services.",color:"from-orange-500 to-yellow-500"},{icon:vu,title:"Instant Deployment",description:"One-click deployment to Stacks testnet/mainnet with automated contract verification and optimization.",color:"from-purple-500 to-pink-500"},{icon:$u,title:"Time-Saving Automation",description:"Reduce invoice processing time from weeks to minutes with automated milestone tracking and payment releases.",color:"from-red-500 to-rose-500"},{icon:b$,title:"DAO-Ready",description:"Built for decentralized organizations with multi-sig support, voting mechanisms, and transparent treasury management.",color:"from-indigo-500 to-blue-500"}];function Ebe(){return p.jsx("section",{id:"features",className:"py-20 px-4 sm:px-6 lg:px-8 bg-white/50 backdrop-blur-sm",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs(Lt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose BitMind?"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Built for DAOs: AI→Clarity→sBTC — secure, auditable, and automated."})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:xbe.map((e,t)=>p.jsx(Lt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:t*.1},whileHover:{scale:1.05},className:"group relative",children:p.jsxs("div",{className:"relative bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[p.jsx("div",{className:`w-14 h-14 bg-gradient-to-r ${e.color} rounded-2xl flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-300`,children:p.jsx(e.icon,{className:"w-7 h-7"})}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),p.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description}),p.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-gray-900 to-gray-700"})]})},e.title))})]})})}const Cbe=[{number:"1",title:"Describe Your Project",description:"Use natural language to describe scope, milestones, and budget."},{number:"2",title:"AI Generates Contract",description:"AI processes text and generates a secure Clarity contract ready for deployment."},{number:"3",title:"Deploy & Fund Escrow",description:"Deploy to Stacks testnet and fund the escrow with sBTC or STX."},{number:"4",title:"Automated Payments",description:"Milestones trigger automatic payments. Disputes go to pre-selected arbitrators."}];function Sbe(){return p.jsx("section",{id:"demo",className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs(Lt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"See It In Action"}),p.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Experience the complete AI-to-blockchain workflow — no blockchain knowledge required."})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[p.jsxs("div",{className:"space-y-8",children:[Cbe.map((e,t)=>p.jsxs(Lt.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:t*.1},className:"flex items-start space-x-6 group",children:[p.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg group-hover:scale-110 transition-transform duration-300",children:e.number}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-xl font-semibold mb-2",children:e.title}),p.jsx("p",{className:"text-gray-300",children:e.description})]})]},e.number)),p.jsx(Lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"pt-6",children:p.jsxs(Ee,{size:"lg",className:"group bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",children:["🎯 Launch Interactive Demo",p.jsx(wy,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),p.jsx(Lt.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"relative",children:p.jsxs("div",{className:"bg-gray-800 rounded-3xl p-8 shadow-2xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),p.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),p.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),p.jsx("div",{className:"text-sm text-gray-400",children:"AI Invoice Generator"})]}),p.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[p.jsx(Ic,{className:"w-5 h-5"}),p.jsx("span",{className:"font-mono text-sm",children:"AI: Analyzing invoice description..."})]}),p.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 font-mono text-sm text-gray-300",children:[p.jsx("div",{className:"text-green-400",children:"$ Invoice: Website redesign"}),p.jsx("div",{className:"text-blue-400",children:"$ Amount: 0.05 sBTC"}),p.jsx("div",{className:"text-purple-400",children:"$ Milestones: 2"}),p.jsx("div",{className:"text-yellow-400",children:"$ Deadline: 2025-10-20"})]}),p.jsxs("div",{className:"flex items-center space-x-2 text-blue-400",children:[p.jsx(Ic,{className:"w-5 h-5"}),p.jsx("span",{className:"font-mono text-sm",children:"Generating Clarity contract..."})]}),p.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[p.jsx("div",{className:"text-green-400 text-sm mb-2",children:"Contract deployed successfully!"}),p.jsx("div",{className:"text-xs text-gray-400 break-all",children:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.smart-invoice-v1"})]})]}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx(Ee,{size:"lg",className:"rounded-full w-16 h-16 p-0 opacity-90 hover:opacity-100 transition-opacity bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:p.jsx(y$,{className:"w-6 h-6 ml-1"})})})]})})]})]})})}function Abe(){return p.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 text-white",children:p.jsx("div",{className:"max-w-4xl mx-auto text-center",children:p.jsxs(Lt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[p.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-6",children:"Ready to Transform DAO Payments?"}),p.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join the future of decentralized finance with AI-powered, Bitcoin-native smart invoices."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:[p.jsxs(Ee,{size:"lg",className:"group bg-white text-gray-900 hover:bg-gray-100 h-14 px-10 text-lg",children:["🚀 Launch DApp",p.jsx(wy,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),p.jsxs(Ee,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10 h-14 px-10 text-lg",children:[p.jsx(ch,{className:"mr-2 w-5 h-5"}),"Star on GitHub"]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold",children:"$25K+"}),p.jsx("div",{className:"text-blue-200 text-sm",children:"Prize Pool"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold",children:"476"}),p.jsx("div",{className:"text-blue-200 text-sm",children:"Hackers"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold",children:"4"}),p.jsx("div",{className:"text-blue-200 text-sm",children:"Days Left"})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-2xl font-bold",children:"1st"}),p.jsx("div",{className:"text-blue-200 text-sm",children:"Place Goal"})]})]})]})})})}function Nbe(){return p.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[p.jsxs("div",{className:"col-span-1 md:col-span-2",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-blue-600 rounded-xl flex items-center justify-center",children:p.jsx(yC,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-xl font-bold",children:"BitMind"}),p.jsx("div",{className:"text-sm text-gray-400",children:"Where Bitcoin learns to think"})]})]}),p.jsx("p",{className:"text-gray-400 max-w-md",children:"AI-powered smart invoicing for DAOs on Stacks. Transform natural language into Bitcoin-backed Clarity smart contracts."})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),p.jsxs("ul",{className:"space-y-2 text-gray-400",children:[p.jsx("li",{children:p.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"})}),p.jsx("li",{children:p.jsx("a",{href:"#demo",className:"hover:text-white transition-colors",children:"Demo"})}),p.jsx("li",{children:p.jsx("a",{href:"/help",className:"hover:text-white transition-colors",children:"Documentation"})}),p.jsx("li",{children:p.jsx("a",{href:"/dashboard",className:"hover:text-white transition-colors",children:"Dashboard"})})]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold mb-4",children:"Community"}),p.jsxs("ul",{className:"space-y-2 text-gray-400",children:[p.jsx("li",{children:p.jsx("a",{href:"https://github.com",className:"hover:text-white transition-colors",children:"GitHub"})}),p.jsx("li",{children:p.jsx("a",{href:"https://twitter.com",className:"hover:text-white transition-colors",children:"Twitter"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Discord"})}),p.jsx("li",{children:p.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Telegram"})})]})]})]}),p.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[p.jsx("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:"© 2025 BitMind. Built for Stacks Vibe Coding Hackathon."}),p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("a",{href:"https://github.com",className:"text-gray-400 hover:text-white transition-colors",children:p.jsx(ch,{className:"w-5 h-5"})}),p.jsx("a",{href:"https://twitter.com",className:"text-gray-400 hover:text-white transition-colors",children:p.jsx(FF,{className:"w-5 h-5"})}),p.jsx("a",{href:"mailto:contact@bitmind.app",className:"text-gray-400 hover:text-white transition-colors",children:p.jsx(AF,{className:"w-5 h-5"})})]})]})]})})}function Ibe(){const[e,t]=P.useState(!1);return p.jsxs("nav",{className:"fixed top-0 w-full z-50 glass-effect border-b border-gray-200/20",children:[p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between items-center h-16",children:[p.jsxs(gi,{to:"/",className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-blue-600 rounded-xl flex items-center justify-center",children:p.jsx(yC,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 text-gradient",children:"BitMind"}),p.jsx("span",{className:"text-xs text-gray-500 -mt-1 hidden sm:block",children:"Where Bitcoin learns to think"})]})]}),p.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[p.jsx("a",{href:"#features",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Features"}),p.jsx("a",{href:"#demo",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Demo"}),p.jsx(gi,{to:"/dashboard",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Dashboard"}),p.jsx(gi,{to:"/help",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Help"})]}),p.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[p.jsxs(Ee,{variant:"outline",size:"sm",children:[p.jsx(ch,{className:"mr-2 w-4 h-4"}),"GitHub"]}),p.jsx(Ee,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",children:"Launch App"})]}),p.jsx("button",{className:"md:hidden p-2",onClick:()=>t(!e),children:e?p.jsx(vC,{className:"w-6 h-6"}):p.jsx(IF,{className:"w-6 h-6"})})]})}),p.jsx(Bye,{children:e&&p.jsx(Lt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white/95 backdrop-blur-lg border-b border-gray-200",children:p.jsxs("div",{className:"px-4 py-4 space-y-4",children:[p.jsx("a",{href:"#features",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>t(!1),children:"Features"}),p.jsx("a",{href:"#demo",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>t(!1),children:"Demo"}),p.jsx(gi,{to:"/dashboard",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>t(!1),children:"Dashboard"}),p.jsx(gi,{to:"/help",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>t(!1),children:"Help"}),p.jsxs("div",{className:"pt-4 space-y-2",children:[p.jsxs(Ee,{variant:"outline",className:"w-full",children:[p.jsx(ch,{className:"mr-2 w-4 h-4"}),"GitHub"]}),p.jsx(Ee,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",children:"Launch App"})]})]})})})]})}const _be=()=>p.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[p.jsx(vbe,{}),p.jsx(Ibe,{}),p.jsx(bbe,{}),p.jsx(Ebe,{}),p.jsx(Sbe,{}),p.jsx(Abe,{}),p.jsx(Nbe,{})]}),Tbe=()=>p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("header",{className:"mb-12",children:[p.jsx("h1",{className:"text-4xl font-bold mb-2 text-gray-900",children:"Dashboard"}),p.jsx("p",{className:"text-gray-600 text-lg",children:"Monitor your DAO's invoice activities and treasury metrics"})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[p.jsxs(ke,{className:"border-l-4 border-l-blue-500 hover:shadow-lg transition-shadow",children:[p.jsxs(ot,{className:"pb-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Ei,{className:"w-8 h-8 text-blue-600"}),p.jsx(w$,{className:"w-5 h-5 text-green-500"})]}),p.jsx(at,{className:"text-lg",children:"Active Invoices"}),p.jsx(It,{children:"Current ongoing deals"})]}),p.jsxs($e,{children:[p.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"12"}),p.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+3 this month"})]})]}),p.jsxs(ke,{className:"border-l-4 border-l-purple-500 hover:shadow-lg transition-shadow",children:[p.jsxs(ot,{className:"pb-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(uh,{className:"w-8 h-8 text-purple-600"}),p.jsx(wC,{className:"w-5 h-5 text-purple-500"})]}),p.jsx(at,{className:"text-lg",children:"Total Value"}),p.jsx(It,{children:"Locked in escrow"})]}),p.jsxs($e,{children:[p.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"$45.2K"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Across 12 deals"})]})]}),p.jsxs(ke,{className:"border-l-4 border-l-green-500 hover:shadow-lg transition-shadow",children:[p.jsxs(ot,{className:"pb-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(p1,{className:"w-8 h-8 text-green-600"}),p.jsx($u,{className:"w-5 h-5 text-green-500"})]}),p.jsx(at,{className:"text-lg",children:"Milestones"}),p.jsx(It,{children:"Completed this month"})]}),p.jsxs($e,{children:[p.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"24"}),p.jsx("p",{className:"text-sm text-green-600 mt-1",children:"96% on time"})]})]}),p.jsxs(ke,{className:"border-l-4 border-l-orange-500 hover:shadow-lg transition-shadow",children:[p.jsxs(ot,{className:"pb-3",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(lh,{className:"w-8 h-8 text-orange-600"}),p.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-semibold",children:"ACTIVE"})]}),p.jsx(at,{className:"text-lg",children:"Disputes"}),p.jsx(It,{children:"Currently active"})]}),p.jsxs($e,{children:[p.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"2"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"1 pending review"})]})]})]}),p.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-8",children:[p.jsx("div",{className:"lg:col-span-2",children:p.jsxs(ke,{className:"shadow-md",children:[p.jsx(ot,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx(at,{className:"text-2xl",children:"Recent Invoices"}),p.jsx(It,{children:"Your latest invoice activities"})]}),p.jsx(Ee,{variant:"outline",size:"sm",children:"View All"})]})}),p.jsx($e,{children:p.jsx("div",{className:"space-y-4",children:[{id:"INV-001",status:"funded",amount:"$12,500",dao:"DeFi DAO",progress:75,contractor:"Alice Johnson",dueDate:"Dec 31, 2024"},{id:"INV-002",status:"pending",amount:"$8,300",dao:"NFT Collective",progress:0,contractor:"Bob Smith",dueDate:"Jan 15, 2025"},{id:"INV-003",status:"completed",amount:"$15,000",dao:"Web3 Guild",progress:100,contractor:"Carol White",dueDate:"Dec 20, 2024"},{id:"INV-004",status:"funded",amount:"$9,200",dao:"DAO Builders",progress:40,contractor:"David Lee",dueDate:"Jan 10, 2025"}].map(e=>p.jsxs("div",{className:"flex items-center justify-between p-5 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-md transition-all",children:[p.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[p.jsx(Ei,{className:"w-8 h-8 text-gray-500"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[p.jsx("p",{className:"font-bold text-lg",children:e.id}),p.jsx(rd,{variant:e.status==="completed"?"default":e.status==="funded"?"secondary":"outline",children:e.status})]}),p.jsxs("p",{className:"text-sm text-gray-600",children:[e.dao," • ",e.contractor]}),p.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[p.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-xs",children:p.jsx("div",{className:`h-2 rounded-full ${e.status==="completed"?"bg-green-500":e.status==="funded"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${e.progress}%`}})}),p.jsxs("span",{className:"text-xs text-gray-500",children:[e.progress,"%"]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"font-bold text-xl text-gray-900",children:e.amount}),p.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",e.dueDate]})]}),p.jsx(Ee,{size:"sm",variant:"outline",children:"View"})]})]},e.id))})})]})}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs(ke,{className:"shadow-md",children:[p.jsx(ot,{children:p.jsx(at,{className:"text-xl",children:"Quick Actions"})}),p.jsxs($e,{className:"space-y-3",children:[p.jsxs(Ee,{className:"w-full justify-start",size:"lg",children:[p.jsx(Ei,{className:"mr-2 w-5 h-5"}),"Create New Invoice"]}),p.jsxs(Ee,{variant:"outline",className:"w-full justify-start",size:"lg",children:[p.jsx(uh,{className:"mr-2 w-5 h-5"}),"Fund Escrow"]}),p.jsxs(Ee,{variant:"outline",className:"w-full justify-start",size:"lg",children:[p.jsx(p1,{className:"mr-2 w-5 h-5"}),"Review Milestone"]}),p.jsxs(Ee,{variant:"outline",className:"w-full justify-start",size:"lg",children:[p.jsx(lh,{className:"mr-2 w-5 h-5"}),"View Disputes"]})]})]}),p.jsxs(ke,{className:"shadow-md bg-gradient-to-br from-blue-50 to-indigo-50",children:[p.jsxs(ot,{children:[p.jsx(at,{className:"text-xl",children:"Treasury Health"}),p.jsx(It,{children:"Overall DAO metrics"})]}),p.jsxs($e,{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm font-medium",children:"Success Rate"}),p.jsx("span",{className:"text-lg font-bold text-green-600",children:"98.5%"})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm font-medium",children:"Avg. Completion"}),p.jsx("span",{className:"text-lg font-bold text-blue-600",children:"12 days"})]}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-sm font-medium",children:"Total Paid"}),p.jsx("span",{className:"text-lg font-bold text-purple-600",children:"$342K"})]})]})]})]})]})]})}),Pbe=()=>{const[e,t]=P.useState("all"),n=[{id:"INV-001",title:"Smart Contract Development",dao:"DeFi DAO",contractor:"Alice Johnson",amount:"$12,500",status:"funded",progress:75,milestones:4,completedMilestones:3,dueDate:"Dec 31, 2024",createdDate:"Nov 1, 2024"},{id:"INV-002",title:"UI/UX Design Package",dao:"NFT Collective",contractor:"Bob Smith",amount:"$8,300",status:"pending",progress:0,milestones:3,completedMilestones:0,dueDate:"Jan 15, 2025",createdDate:"Dec 1, 2024"},{id:"INV-003",title:"Marketing Campaign",dao:"Web3 Guild",contractor:"Carol White",amount:"$15,000",status:"completed",progress:100,milestones:5,completedMilestones:5,dueDate:"Dec 20, 2024",createdDate:"Oct 15, 2024"},{id:"INV-004",title:"Backend API Development",dao:"DAO Builders",contractor:"David Lee",amount:"$9,200",status:"funded",progress:40,milestones:5,completedMilestones:2,dueDate:"Jan 10, 2025",createdDate:"Nov 20, 2024"},{id:"INV-005",title:"Security Audit",dao:"DeFi DAO",contractor:"Eve Martinez",amount:"$20,000",status:"funded",progress:60,milestones:3,completedMilestones:2,dueDate:"Jan 5, 2025",createdDate:"Nov 25, 2024"},{id:"INV-006",title:"Community Management",dao:"NFT Collective",contractor:"Frank Chen",amount:"$5,500",status:"dispute",progress:50,milestones:2,completedMilestones:1,dueDate:"Dec 28, 2024",createdDate:"Nov 10, 2024"}],r=e==="all"?n:n.filter(o=>o.status===e),s=o=>{switch(o){case"completed":return p.jsx(h1,{className:"w-5 h-5 text-green-500"});case"funded":return p.jsx($u,{className:"w-5 h-5 text-blue-500"});case"pending":return p.jsx(Fw,{className:"w-5 h-5 text-yellow-500"});case"dispute":return p.jsx(Fw,{className:"w-5 h-5 text-red-500"});default:return null}},i=o=>({completed:"default",funded:"secondary",pending:"outline",dispute:"destructive"})[o]||"outline";return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Invoice Manager"}),p.jsx("p",{className:"text-gray-600 text-lg",children:"Create, track, and manage all your DAO invoices"})]}),p.jsxs(Ee,{size:"lg",className:"shadow-lg",children:[p.jsx(m1,{className:"mr-2 w-5 h-5"}),"Create New Invoice"]})]})}),p.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[p.jsx(ke,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:p.jsx($e,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Invoices"}),p.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),p.jsx(Ei,{className:"w-10 h-10 text-blue-500"})]})})}),p.jsx(ke,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:p.jsx($e,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),p.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.filter(o=>o.status==="funded").length})]}),p.jsx($u,{className:"w-10 h-10 text-blue-500"})]})})}),p.jsx(ke,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:p.jsx($e,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),p.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.filter(o=>o.status==="completed").length})]}),p.jsx(h1,{className:"w-10 h-10 text-green-500"})]})})}),p.jsx(ke,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:p.jsx($e,{className:"pt-6",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Disputes"}),p.jsx("p",{className:"text-3xl font-bold text-red-600",children:n.filter(o=>o.status==="dispute").length})]}),p.jsx(Fw,{className:"w-10 h-10 text-red-500"})]})})})]}),p.jsx(ke,{className:"mb-8 shadow-md",children:p.jsx($e,{className:"pt-6",children:p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(jF,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",placeholder:"Search invoices by ID, DAO, or contractor...",className:"w-full pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ee,{variant:e==="all"?"default":"outline",onClick:()=>t("all"),size:"sm",children:"All"}),p.jsx(Ee,{variant:e==="pending"?"default":"outline",onClick:()=>t("pending"),size:"sm",children:"Pending"}),p.jsx(Ee,{variant:e==="funded"?"default":"outline",onClick:()=>t("funded"),size:"sm",children:"Active"}),p.jsx(Ee,{variant:e==="completed"?"default":"outline",onClick:()=>t("completed"),size:"sm",children:"Completed"}),p.jsx(Ee,{variant:e==="dispute"?"default":"outline",onClick:()=>t("dispute"),size:"sm",children:"Disputes"})]})]})})}),p.jsx("div",{className:"space-y-4",children:r.map(o=>p.jsx(ke,{className:"shadow-md hover:shadow-xl transition-all border-l-4 border-l-blue-500",children:p.jsx($e,{className:"pt-6",children:p.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[p.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:p.jsx(Ei,{className:"w-6 h-6 text-blue-600"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("h3",{className:"text-xl font-bold text-gray-900",children:o.id}),p.jsx(rd,{variant:i(o.status),children:o.status.toUpperCase()}),s(o.status)]}),p.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:o.title}),p.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(HF,{className:"w-4 h-4"}),p.jsx("span",{children:o.contractor})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(wC,{className:"w-4 h-4"}),p.jsx("span",{children:o.dao})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(uF,{className:"w-4 h-4"}),p.jsxs("span",{children:["Due: ",o.dueDate]})]})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm",children:[p.jsxs("span",{className:"text-gray-600",children:["Milestones: ",o.completedMilestones,"/",o.milestones]}),p.jsxs("span",{className:"font-semibold text-gray-900",children:[o.progress,"%"]})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:p.jsx("div",{className:`h-3 rounded-full transition-all ${o.status==="completed"?"bg-green-500":o.status==="funded"?"bg-blue-500":o.status==="dispute"?"bg-red-500":"bg-gray-400"}`,style:{width:`${o.progress}%`}})})]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-4 lg:min-w-[200px]",children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount"}),p.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.amount})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ee,{variant:"outline",size:"sm",children:"View Details"}),p.jsx(Ee,{size:"sm",children:"Manage"})]})]})]})})},o.id))}),r.length===0&&p.jsx(ke,{className:"shadow-md",children:p.jsxs($e,{className:"py-16 text-center",children:[p.jsx(Ei,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No invoices found"}),p.jsx("p",{className:"text-gray-500 mb-6",children:"Try adjusting your filters or create a new invoice"}),p.jsxs(Ee,{children:[p.jsx(m1,{className:"mr-2 w-5 h-5"}),"Create New Invoice"]})]})})]})})},Dbe=()=>{const e=[{icon:p.jsx(vu,{className:"w-8 h-8 text-blue-600"}),title:"AI-Powered Invoice Creation",description:"Use natural language to create invoices. Just describe what you need, and our AI will generate the smart contract.",steps:["Click 'Create New Invoice'","Describe your project in plain English","Review the generated milestones and terms","Submit for DAO approval"]},{icon:p.jsx(g$,{className:"w-8 h-8 text-orange-600"}),title:"Escrow & Payment",description:"Secure Bitcoin-native escrow using Stacks blockchain and sBTC for trustless milestone payments.",steps:["DAO approves and funds the invoice","Funds locked in smart contract escrow","Contractor completes milestones","Payments released automatically"]},{icon:p.jsx(Ei,{className:"w-8 h-8 text-purple-600"}),title:"Milestone Management",description:"Track progress with granular milestones. Each milestone has its own deliverables and payment amounts.",steps:["Define clear milestone deliverables","Submit proof of completion","DAO reviews and approves","Funds released to contractor"]},{icon:p.jsx(lh,{className:"w-8 h-8 text-red-600"}),title:"Dispute Resolution",description:"Fair and transparent dispute handling with decentralized arbitrators when disagreements arise.",steps:["Either party initiates dispute","Evidence submitted on-chain","Arbitrators review and vote","Binding resolution executed"]}],t=[{question:"What is BitMind?",answer:"BitMind is an AI-powered invoice escrow platform for DAOs built on the Stacks blockchain. It automates contractor payments using smart contracts and milestone-based releases."},{question:"How does the escrow system work?",answer:"When a DAO funds an invoice, the payment is locked in a Clarity smart contract. As contractors complete milestones, the DAO reviews and approves, triggering automatic payment releases."},{question:"What happens during a dispute?",answer:"Either party can initiate a dispute. Both sides submit evidence, and selected arbitrators review the case and vote on a resolution. The smart contract automatically executes the decision."},{question:"What assets are supported?",answer:"BitMind supports sBTC (Stacks Bitcoin), STX tokens, and various bridged assets. Multi-asset invoices allow flexible payment structures."},{question:"How are arbitrators selected?",answer:"Arbitrators are randomly selected from a pool of verified community members with good reputation scores. They stake tokens to ensure honest voting."},{question:"Can I cancel an invoice?",answer:"Yes, invoices can be cancelled before being funded. After funding, both parties must agree to cancellation, or a dispute resolution process is required."}];return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Help & Documentation"}),p.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to know about using BitMind for your DAO's invoice management"})]}),p.jsxs(ke,{className:"mb-12 shadow-lg border-2 border-blue-200",children:[p.jsx(ot,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(JA,{className:"w-8 h-8 text-blue-600"}),p.jsxs("div",{children:[p.jsx(at,{className:"text-3xl",children:"Quick Start Guide"}),p.jsx(It,{className:"text-base",children:"Get up and running in 5 minutes"})]})]})}),p.jsx($e,{className:"pt-6",children:p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"text-center p-4",children:[p.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-blue-600 font-bold text-xl",children:"1"})}),p.jsx("h3",{className:"font-semibold mb-2",children:"Connect Wallet"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Link your Stacks wallet to get started"})]}),p.jsxs("div",{className:"text-center p-4",children:[p.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-purple-600 font-bold text-xl",children:"2"})}),p.jsx("h3",{className:"font-semibold mb-2",children:"Create Invoice"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Use AI to generate smart contract terms"})]}),p.jsxs("div",{className:"text-center p-4",children:[p.jsx("div",{className:"bg-orange-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"3"})}),p.jsx("h3",{className:"font-semibold mb-2",children:"Fund Escrow"}),p.jsx("p",{className:"text-sm text-gray-600",children:"DAO approves and funds the contract"})]}),p.jsxs("div",{className:"text-center p-4",children:[p.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx("span",{className:"text-green-600 font-bold text-xl",children:"4"})}),p.jsx("h3",{className:"font-semibold mb-2",children:"Complete & Get Paid"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Finish milestones and receive payments"})]})]})})]}),p.jsxs("div",{className:"mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Core Features"}),p.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.map((n,r)=>p.jsxs(ke,{className:"shadow-md hover:shadow-xl transition-all",children:[p.jsx(ot,{children:p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 p-3 rounded-lg",children:n.icon}),p.jsxs("div",{children:[p.jsx(at,{className:"text-xl mb-2",children:n.title}),p.jsx(It,{className:"text-base",children:n.description})]})]})}),p.jsxs($e,{children:[p.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-3",children:"How it works:"}),p.jsx("ol",{className:"space-y-2",children:n.steps.map((s,i)=>p.jsxs("li",{className:"flex items-start gap-2",children:[p.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:i+1}),p.jsx("span",{className:"text-sm text-gray-600",children:s})]},i))})]})]},r))})]}),p.jsxs("div",{className:"mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),p.jsx("div",{className:"space-y-4",children:t.map((n,r)=>p.jsxs(ke,{className:"shadow-md hover:shadow-lg transition-all",children:[p.jsx(ot,{children:p.jsxs(at,{className:"text-lg flex items-start gap-2",children:[p.jsx(h1,{className:"w-5 h-5 text-green-500 mt-1 flex-shrink-0"}),n.question]})}),p.jsx($e,{children:p.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.answer})})]},r))})]}),p.jsxs("div",{className:"mb-12",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Developer Resources"}),p.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[p.jsxs(ke,{className:"shadow-md hover:shadow-xl transition-all border-t-4 border-t-blue-500",children:[p.jsxs(ot,{children:[p.jsx(wF,{className:"w-10 h-10 text-blue-600 mb-3"}),p.jsx(at,{children:"Smart Contracts"}),p.jsx(It,{children:"Explore our open-source Clarity contracts"})]}),p.jsx($e,{children:p.jsxs(Ee,{variant:"outline",className:"w-full",children:["View on GitHub",p.jsx(zw,{className:"ml-2 w-4 h-4"})]})})]}),p.jsxs(ke,{className:"shadow-md hover:shadow-xl transition-all border-t-4 border-t-purple-500",children:[p.jsxs(ot,{children:[p.jsx(JA,{className:"w-10 h-10 text-purple-600 mb-3"}),p.jsx(at,{children:"API Documentation"}),p.jsx(It,{children:"Integrate BitMind into your app"})]}),p.jsx($e,{children:p.jsxs(Ee,{variant:"outline",className:"w-full",children:["Read Docs",p.jsx(zw,{className:"ml-2 w-4 h-4"})]})})]}),p.jsxs(ke,{className:"shadow-md hover:shadow-xl transition-all border-t-4 border-t-green-500",children:[p.jsxs(ot,{children:[p.jsx(b$,{className:"w-10 h-10 text-green-600 mb-3"}),p.jsx(at,{children:"Community"}),p.jsx(It,{children:"Join our Discord for support"})]}),p.jsx($e,{children:p.jsxs(Ee,{variant:"outline",className:"w-full",children:["Join Discord",p.jsx(zw,{className:"ml-2 w-4 h-4"})]})})]})]})]}),p.jsx(ke,{className:"shadow-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:p.jsxs($e,{className:"py-12 text-center",children:[p.jsx(TF,{className:"w-16 h-16 mx-auto mb-6 opacity-90"}),p.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Still Have Questions?"}),p.jsx("p",{className:"text-lg text-blue-100 mb-8 max-w-2xl mx-auto",children:"Our support team is here to help. Get in touch and we'll respond within 24 hours."}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p.jsxs(Ee,{size:"lg",variant:"secondary",className:"font-semibold",children:["Contact Support",p.jsx(wy,{className:"ml-2 w-5 h-5"})]}),p.jsx(Ee,{size:"lg",variant:"outline",className:"font-semibold bg-transparent text-white border-white hover:bg-white hover:text-blue-600",children:"Schedule Demo"})]})]})})]})})},Obe=new mH,kbe=()=>p.jsx(wH,{client:Obe,children:p.jsxs(QV,{children:[p.jsx(M7,{}),p.jsx(dz,{}),p.jsx(wW,{children:p.jsxs(dW,{children:[p.jsx(Ko,{path:"/",element:p.jsx(Oge,{})}),p.jsx(Ko,{path:"/landing",element:p.jsx(_be,{})}),p.jsx(Ko,{path:"/dashboard",element:p.jsx(Tbe,{})}),p.jsx(Ko,{path:"/invoices",element:p.jsx(Pbe,{})}),p.jsx(Ko,{path:"/create",element:p.jsx($ge,{})}),p.jsx(Ko,{path:"/invoice/:id",element:p.jsx(Mge,{})}),p.jsx(Ko,{path:"/help",element:p.jsx(Dbe,{})})]})})]})});Uk(document.getElementById("root")).render(p.jsx(P.StrictMode,{children:p.jsx(kbe,{})}));export{E1e as $,be as A,jn as B,ne as C,ume as D,rt as E,me as F,J1e as G,Br as H,qM as I,qx as J,Wu as K,yee as L,Le as M,x1e as N,K as O,Ur as P,y_ as Q,Se as R,J as S,kr as T,gR as U,Sh as V,Wx as W,dee as X,mR as Y,wee as Z,gh as _,exe as a,b1e as a0,$0 as a1,S1e as a2,C1e as a3,Mg as b,ge as c,re as d,txe as e,G as f,Lbe as g,yq as h,Su as i,Rg as j,OM as k,O as l,Us as m,vi as n,Ze as o,X1e as p,zl as q,Mbe as r,an as s,nxe as t,dt as u,Bn as v,Qr as w,Q1e as x,Cn as y,pi as z};
