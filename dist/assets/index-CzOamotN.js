var yN=e=>{throw TypeError(e)};var gy=(e,t,n)=>t.has(e)||yN("Cannot "+n);var W=(e,t,n)=>(gy(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?yN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Se=(e,t,n,r)=>(gy(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Pn=(e,t,n)=>(gy(e,t,"access private method"),n);var Bf=(e,t,n,r)=>({set _(s){Se(e,t,s,n)},get _(){return W(e,t,r)}});function t6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function fl(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var sT={exports:{}},$g={},iT={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=Symbol.for("react.element"),n6=Symbol.for("react.portal"),r6=Symbol.for("react.fragment"),s6=Symbol.for("react.strict_mode"),i6=Symbol.for("react.profiler"),o6=Symbol.for("react.provider"),a6=Symbol.for("react.context"),l6=Symbol.for("react.forward_ref"),c6=Symbol.for("react.suspense"),u6=Symbol.for("react.memo"),d6=Symbol.for("react.lazy"),vN=Symbol.iterator;function h6(e){return e===null||typeof e!="object"?null:(e=vN&&e[vN]||e["@@iterator"],typeof e=="function"?e:null)}var oT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aT=Object.assign,lT={};function Su(e,t,n){this.props=e,this.context=t,this.refs=lT,this.updater=n||oT}Su.prototype.isReactComponent={};Su.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Su.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cT(){}cT.prototype=Su.prototype;function zb(e,t,n){this.props=e,this.context=t,this.refs=lT,this.updater=n||oT}var Vb=zb.prototype=new cT;Vb.constructor=zb;aT(Vb,Su.prototype);Vb.isPureReactComponent=!0;var xN=Array.isArray,uT=Object.prototype.hasOwnProperty,Hb={current:null},dT={key:!0,ref:!0,__self:!0,__source:!0};function hT(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)uT.call(t,r)&&!dT.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:sf,type:e,key:i,ref:o,props:s,_owner:Hb.current}}function f6(e,t){return{$$typeof:sf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kb(e){return typeof e=="object"&&e!==null&&e.$$typeof===sf}function p6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wN=/\/+/g;function yy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p6(""+e.key):t.toString(36)}function Fp(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sf:case n6:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+yy(o,0):r,xN(s)?(n="",e!=null&&(n=e.replace(wN,"$&/")+"/"),Fp(s,t,n,"",function(u){return u})):s!=null&&(Kb(s)&&(s=f6(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wN,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",xN(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+yy(i,l);o+=Fp(i,t,n,c,s)}else if(c=h6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+yy(i,l++),o+=Fp(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ff(e,t,n){if(e==null)return e;var r=[],s=0;return Fp(e,r,"","",function(i){return t.call(n,i,s++)}),r}function m6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},Up={transition:null},g6={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Up,ReactCurrentOwner:Hb};function fT(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Ff,forEach:function(e,t,n){Ff(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ff(e,function(){t++}),t},toArray:function(e){return Ff(e,function(t){return t})||[]},only:function(e){if(!Kb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Me.Component=Su;Me.Fragment=r6;Me.Profiler=i6;Me.PureComponent=zb;Me.StrictMode=s6;Me.Suspense=c6;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g6;Me.act=fT;Me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=aT({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Hb.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)uT.call(t,c)&&!dT.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:sf,type:e.type,key:s,ref:i,props:r,_owner:o}};Me.createContext=function(e){return e={$$typeof:a6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o6,_context:e},e.Consumer=e};Me.createElement=hT;Me.createFactory=function(e){var t=hT.bind(null,e);return t.type=e,t};Me.createRef=function(){return{current:null}};Me.forwardRef=function(e){return{$$typeof:l6,render:e}};Me.isValidElement=Kb;Me.lazy=function(e){return{$$typeof:d6,_payload:{_status:-1,_result:e},_init:m6}};Me.memo=function(e,t){return{$$typeof:u6,type:e,compare:t===void 0?null:t}};Me.startTransition=function(e){var t=Up.transition;Up.transition={};try{e()}finally{Up.transition=t}};Me.unstable_act=fT;Me.useCallback=function(e,t){return Xn.current.useCallback(e,t)};Me.useContext=function(e){return Xn.current.useContext(e)};Me.useDebugValue=function(){};Me.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};Me.useEffect=function(e,t){return Xn.current.useEffect(e,t)};Me.useId=function(){return Xn.current.useId()};Me.useImperativeHandle=function(e,t,n){return Xn.current.useImperativeHandle(e,t,n)};Me.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};Me.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};Me.useMemo=function(e,t){return Xn.current.useMemo(e,t)};Me.useReducer=function(e,t,n){return Xn.current.useReducer(e,t,n)};Me.useRef=function(e){return Xn.current.useRef(e)};Me.useState=function(e){return Xn.current.useState(e)};Me.useSyncExternalStore=function(e,t,n){return Xn.current.useSyncExternalStore(e,t,n)};Me.useTransition=function(){return Xn.current.useTransition()};Me.version="18.3.1";iT.exports=Me;var S=iT.exports;const ee=bu(S),Wb=t6({__proto__:null,default:ee},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y6=S,v6=Symbol.for("react.element"),x6=Symbol.for("react.fragment"),w6=Object.prototype.hasOwnProperty,b6=y6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S6={key:!0,ref:!0,__self:!0,__source:!0};function pT(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)w6.call(t,r)&&!S6.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:v6,type:e,key:i,ref:o,props:s,_owner:b6.current}}$g.Fragment=x6;$g.jsx=pT;$g.jsxs=pT;sT.exports=$g;var a=sT.exports,mT={exports:{}},Rr={},gT={exports:{}},yT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,T){var L=C.length;C.push(T);e:for(;0<L;){var I=L-1>>>1,N=C[I];if(0<s(N,T))C[I]=T,C[L]=N,L=I;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var T=C[0],L=C.pop();if(L!==T){C[0]=L;e:for(var I=0,N=C.length,R=N>>>1;I<R;){var J=2*(I+1)-1,te=C[J],re=J+1,X=C[re];if(0>s(te,L))re<N&&0>s(X,te)?(C[I]=X,C[re]=L,I=re):(C[I]=te,C[J]=L,I=J);else if(re<N&&0>s(X,L))C[I]=X,C[re]=L,I=re;else break e}}return T}function s(C,T){var L=C.sortIndex-T.sortIndex;return L!==0?L:C.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,x=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(C){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=C)r(u),T.sortIndex=T.expirationTime,t(c,T);else break;T=n(u)}}function j(C){if(m=!1,w(C),!x)if(n(c)!==null)x=!0,A(E);else{var T=n(u);T!==null&&k(j,T.startTime-C)}}function E(C,T){x=!1,m&&(m=!1,b(B),B=-1),p=!0;var L=f;try{for(w(T),h=n(c);h!==null&&(!(h.expirationTime>T)||C&&!F());){var I=h.callback;if(typeof I=="function"){h.callback=null,f=h.priorityLevel;var N=I(h.expirationTime<=T);T=e.unstable_now(),typeof N=="function"?h.callback=N:h===n(c)&&r(c),w(T)}else r(c);h=n(c)}if(h!==null)var R=!0;else{var J=n(u);J!==null&&k(j,J.startTime-T),R=!1}return R}finally{h=null,f=L,p=!1}}var M=!1,O=null,B=-1,z=5,$=-1;function F(){return!(e.unstable_now()-$<z)}function U(){if(O!==null){var C=e.unstable_now();$=C;var T=!0;try{T=O(!0,C)}finally{T?P():(M=!1,O=null)}}else M=!1}var P;if(typeof g=="function")P=function(){g(U)};else if(typeof MessageChannel<"u"){var v=new MessageChannel,_=v.port2;v.port1.onmessage=U,P=function(){_.postMessage(null)}}else P=function(){y(U,0)};function A(C){O=C,M||(M=!0,P())}function k(C,T){B=y(function(){C(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,A(E))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var L=f;f=T;try{return C()}finally{f=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,T){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=f;f=C;try{return T()}finally{f=L}},e.unstable_scheduleCallback=function(C,T,L){var I=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?I+L:I):L=I,C){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=L+N,C={id:d++,callback:T,priorityLevel:C,startTime:L,expirationTime:N,sortIndex:-1},L>I?(C.sortIndex=L,t(u,C),n(c)===null&&C===n(u)&&(m?(b(B),B=-1):m=!0,k(j,L-I))):(C.sortIndex=N,t(c,C),x||p||(x=!0,A(E))),C},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(C){var T=f;return function(){var L=f;f=T;try{return C.apply(this,arguments)}finally{f=L}}}})(yT);gT.exports=yT;var j6=gT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N6=S,Ir=j6;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vT=new Set,ch={};function pl(e,t){Fc(e,t),Fc(e+"Capture",t)}function Fc(e,t){for(ch[e]=t,e=0;e<t.length;e++)vT.add(t[e])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ex=Object.prototype.hasOwnProperty,_6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bN={},SN={};function E6(e){return ex.call(SN,e)?!0:ex.call(bN,e)?!1:_6.test(e)?SN[e]=!0:(bN[e]=!0,!1)}function A6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C6(e,t,n,r){if(t===null||typeof t>"u"||A6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function er(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cn[e]=new er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cn[t]=new er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cn[e]=new er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cn[e]=new er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cn[e]=new er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cn[e]=new er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cn[e]=new er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cn[e]=new er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cn[e]=new er(e,5,!1,e.toLowerCase(),null,!1,!1)});var qb=/[\-:]([a-z])/g;function Gb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qb,Gb);Cn[t]=new er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qb,Gb);Cn[t]=new er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qb,Gb);Cn[t]=new er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cn[e]=new er(e,1,!1,e.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cn[e]=new er(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zb(e,t,n,r){var s=Cn.hasOwnProperty(t)?Cn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C6(t,n,s,r)&&(n=null),r||s===null?E6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Li=N6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uf=Symbol.for("react.element"),ql=Symbol.for("react.portal"),Gl=Symbol.for("react.fragment"),Yb=Symbol.for("react.strict_mode"),tx=Symbol.for("react.profiler"),xT=Symbol.for("react.provider"),wT=Symbol.for("react.context"),Jb=Symbol.for("react.forward_ref"),nx=Symbol.for("react.suspense"),rx=Symbol.for("react.suspense_list"),Qb=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),bT=Symbol.for("react.offscreen"),jN=Symbol.iterator;function ld(e){return e===null||typeof e!="object"?null:(e=jN&&e[jN]||e["@@iterator"],typeof e=="function"?e:null)}var Lt=Object.assign,vy;function Nd(e){if(vy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vy=t&&t[1]||""}return`
`+vy+e}var xy=!1;function wy(e,t){if(!e||xy)return"";xy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{xy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nd(e):""}function k6(e){switch(e.tag){case 5:return Nd(e.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return e=wy(e.type,!1),e;case 11:return e=wy(e.type.render,!1),e;case 1:return e=wy(e.type,!0),e;default:return""}}function sx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gl:return"Fragment";case ql:return"Portal";case tx:return"Profiler";case Yb:return"StrictMode";case nx:return"Suspense";case rx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wT:return(e.displayName||"Context")+".Consumer";case xT:return(e._context.displayName||"Context")+".Provider";case Jb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qb:return t=e.displayName||null,t!==null?t:sx(e.type)||"Memo";case to:t=e._payload,e=e._init;try{return sx(e(t))}catch{}}return null}function T6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sx(t);case 8:return t===Yb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ro(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ST(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function P6(e){var t=ST(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zf(e){e._valueTracker||(e._valueTracker=P6(e))}function jT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ST(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ix(e,t){var n=t.checked;return Lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function NN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ro(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function NT(e,t){t=t.checked,t!=null&&Zb(e,"checked",t,!1)}function ox(e,t){NT(e,t);var n=Ro(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ax(e,t.type,n):t.hasOwnProperty("defaultValue")&&ax(e,t.type,Ro(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _N(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ax(e,t,n){(t!=="number"||xm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _d=Array.isArray;function yc(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ro(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function lx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return Lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function EN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Q(92));if(_d(n)){if(1<n.length)throw Error(Q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ro(n)}}function _T(e,t){var n=Ro(t.value),r=Ro(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function AN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ET(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ET(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vf,AT=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vf=Vf||document.createElement("div"),Vf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I6=["Webkit","ms","Moz","O"];Object.keys(Bd).forEach(function(e){I6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bd[t]=Bd[e]})});function CT(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bd.hasOwnProperty(e)&&Bd[e]?(""+t).trim():t+"px"}function kT(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=CT(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var M6=Lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ux(e,t){if(t){if(M6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function dx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hx=null;function Xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fx=null,vc=null,xc=null;function CN(e){if(e=lf(e)){if(typeof fx!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=zg(t),fx(e.stateNode,e.type,t))}}function TT(e){vc?xc?xc.push(e):xc=[e]:vc=e}function PT(){if(vc){var e=vc,t=xc;if(xc=vc=null,CN(e),t)for(e=0;e<t.length;e++)CN(t[e])}}function IT(e,t){return e(t)}function MT(){}var by=!1;function OT(e,t,n){if(by)return e(t,n);by=!0;try{return IT(e,t,n)}finally{by=!1,(vc!==null||xc!==null)&&(MT(),PT())}}function dh(e,t){var n=e.stateNode;if(n===null)return null;var r=zg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Q(231,t,typeof n));return n}var px=!1;if(ki)try{var cd={};Object.defineProperty(cd,"passive",{get:function(){px=!0}}),window.addEventListener("test",cd,cd),window.removeEventListener("test",cd,cd)}catch{px=!1}function O6(e,t,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fd=!1,wm=null,bm=!1,mx=null,R6={onError:function(e){Fd=!0,wm=e}};function D6(e,t,n,r,s,i,o,l,c){Fd=!1,wm=null,O6.apply(R6,arguments)}function $6(e,t,n,r,s,i,o,l,c){if(D6.apply(this,arguments),Fd){if(Fd){var u=wm;Fd=!1,wm=null}else throw Error(Q(198));bm||(bm=!0,mx=u)}}function ml(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function RT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kN(e){if(ml(e)!==e)throw Error(Q(188))}function L6(e){var t=e.alternate;if(!t){if(t=ml(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kN(s),e;if(i===r)return kN(s),t;i=i.sibling}throw Error(Q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?e:t}function DT(e){return e=L6(e),e!==null?$T(e):null}function $T(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$T(e);if(t!==null)return t;e=e.sibling}return null}var LT=Ir.unstable_scheduleCallback,TN=Ir.unstable_cancelCallback,B6=Ir.unstable_shouldYield,F6=Ir.unstable_requestPaint,Xt=Ir.unstable_now,U6=Ir.unstable_getCurrentPriorityLevel,e1=Ir.unstable_ImmediatePriority,BT=Ir.unstable_UserBlockingPriority,Sm=Ir.unstable_NormalPriority,z6=Ir.unstable_LowPriority,FT=Ir.unstable_IdlePriority,Lg=null,Gs=null;function V6(e){if(Gs&&typeof Gs.onCommitFiberRoot=="function")try{Gs.onCommitFiberRoot(Lg,e,void 0,(e.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:W6,H6=Math.log,K6=Math.LN2;function W6(e){return e>>>=0,e===0?32:31-(H6(e)/K6|0)|0}var Hf=64,Kf=4194304;function Ed(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ed(l):(i&=o,i!==0&&(r=Ed(i)))}else o=n&~s,o!==0?r=Ed(o):i!==0&&(r=Ed(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ws(t),s=1<<n,r|=e[n],t&=~s;return r}function q6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ws(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=q6(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function gx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UT(){var e=Hf;return Hf<<=1,!(Hf&4194240)&&(Hf=64),e}function Sy(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function of(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ws(t),e[t]=n}function Z6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ws(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function t1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ws(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var at=0;function zT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VT,n1,HT,KT,WT,yx=!1,Wf=[],wo=null,bo=null,So=null,hh=new Map,fh=new Map,so=[],Y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function PN(e,t){switch(e){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":hh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function ud(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=lf(t),t!==null&&n1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function J6(e,t,n,r,s){switch(t){case"focusin":return wo=ud(wo,e,t,n,r,s),!0;case"dragenter":return bo=ud(bo,e,t,n,r,s),!0;case"mouseover":return So=ud(So,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return hh.set(i,ud(hh.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,fh.set(i,ud(fh.get(i)||null,e,t,n,r,s)),!0}return!1}function qT(e){var t=ya(e.target);if(t!==null){var n=ml(t);if(n!==null){if(t=n.tag,t===13){if(t=RT(n),t!==null){e.blockedOn=t,WT(e.priority,function(){HT(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);hx=r,n.target.dispatchEvent(r),hx=null}else return t=lf(n),t!==null&&n1(t),e.blockedOn=n,!1;t.shift()}return!0}function IN(e,t,n){zp(e)&&n.delete(t)}function Q6(){yx=!1,wo!==null&&zp(wo)&&(wo=null),bo!==null&&zp(bo)&&(bo=null),So!==null&&zp(So)&&(So=null),hh.forEach(IN),fh.forEach(IN)}function dd(e,t){e.blockedOn===t&&(e.blockedOn=null,yx||(yx=!0,Ir.unstable_scheduleCallback(Ir.unstable_NormalPriority,Q6)))}function ph(e){function t(s){return dd(s,e)}if(0<Wf.length){dd(Wf[0],e);for(var n=1;n<Wf.length;n++){var r=Wf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wo!==null&&dd(wo,e),bo!==null&&dd(bo,e),So!==null&&dd(So,e),hh.forEach(t),fh.forEach(t),n=0;n<so.length;n++)r=so[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<so.length&&(n=so[0],n.blockedOn===null);)qT(n),n.blockedOn===null&&so.shift()}var wc=Li.ReactCurrentBatchConfig,Nm=!0;function X6(e,t,n,r){var s=at,i=wc.transition;wc.transition=null;try{at=1,r1(e,t,n,r)}finally{at=s,wc.transition=i}}function eB(e,t,n,r){var s=at,i=wc.transition;wc.transition=null;try{at=4,r1(e,t,n,r)}finally{at=s,wc.transition=i}}function r1(e,t,n,r){if(Nm){var s=vx(e,t,n,r);if(s===null)Iy(e,t,r,_m,n),PN(e,r);else if(J6(s,e,t,n,r))r.stopPropagation();else if(PN(e,r),t&4&&-1<Y6.indexOf(e)){for(;s!==null;){var i=lf(s);if(i!==null&&VT(i),i=vx(e,t,n,r),i===null&&Iy(e,t,r,_m,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Iy(e,t,r,null,n)}}var _m=null;function vx(e,t,n,r){if(_m=null,e=Xb(r),e=ya(e),e!==null)if(t=ml(e),t===null)e=null;else if(n=t.tag,n===13){if(e=RT(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _m=e,null}function GT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U6()){case e1:return 1;case BT:return 4;case Sm:case z6:return 16;case FT:return 536870912;default:return 16}default:return 16}}var mo=null,s1=null,Vp=null;function ZT(){if(Vp)return Vp;var e,t=s1,n=t.length,r,s="value"in mo?mo.value:mo.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Vp=s.slice(e,1<r?1-r:void 0)}function Hp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qf(){return!0}function MN(){return!1}function Dr(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qf:MN,this.isPropagationStopped=MN,this}return Lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qf)},persist:function(){},isPersistent:qf}),t}var ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i1=Dr(ju),af=Lt({},ju,{view:0,detail:0}),tB=Dr(af),jy,Ny,hd,Bg=Lt({},af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hd&&(hd&&e.type==="mousemove"?(jy=e.screenX-hd.screenX,Ny=e.screenY-hd.screenY):Ny=jy=0,hd=e),jy)},movementY:function(e){return"movementY"in e?e.movementY:Ny}}),ON=Dr(Bg),nB=Lt({},Bg,{dataTransfer:0}),rB=Dr(nB),sB=Lt({},af,{relatedTarget:0}),_y=Dr(sB),iB=Lt({},ju,{animationName:0,elapsedTime:0,pseudoElement:0}),oB=Dr(iB),aB=Lt({},ju,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lB=Dr(aB),cB=Lt({},ju,{data:0}),RN=Dr(cB),uB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hB[e])?!!t[e]:!1}function o1(){return fB}var pB=Lt({},af,{key:function(e){if(e.key){var t=uB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o1,charCode:function(e){return e.type==="keypress"?Hp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mB=Dr(pB),gB=Lt({},Bg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),DN=Dr(gB),yB=Lt({},af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o1}),vB=Dr(yB),xB=Lt({},ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),wB=Dr(xB),bB=Lt({},Bg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SB=Dr(bB),jB=[9,13,27,32],a1=ki&&"CompositionEvent"in window,Ud=null;ki&&"documentMode"in document&&(Ud=document.documentMode);var NB=ki&&"TextEvent"in window&&!Ud,YT=ki&&(!a1||Ud&&8<Ud&&11>=Ud),$N=" ",LN=!1;function JT(e,t){switch(e){case"keyup":return jB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zl=!1;function _B(e,t){switch(e){case"compositionend":return QT(t);case"keypress":return t.which!==32?null:(LN=!0,$N);case"textInput":return e=t.data,e===$N&&LN?null:e;default:return null}}function EB(e,t){if(Zl)return e==="compositionend"||!a1&&JT(e,t)?(e=ZT(),Vp=s1=mo=null,Zl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YT&&t.locale!=="ko"?null:t.data;default:return null}}var AB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AB[e.type]:t==="textarea"}function XT(e,t,n,r){TT(r),t=Em(t,"onChange"),0<t.length&&(n=new i1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zd=null,mh=null;function CB(e){uP(e,0)}function Fg(e){var t=Ql(e);if(jT(t))return e}function kB(e,t){if(e==="change")return t}var eP=!1;if(ki){var Ey;if(ki){var Ay="oninput"in document;if(!Ay){var FN=document.createElement("div");FN.setAttribute("oninput","return;"),Ay=typeof FN.oninput=="function"}Ey=Ay}else Ey=!1;eP=Ey&&(!document.documentMode||9<document.documentMode)}function UN(){zd&&(zd.detachEvent("onpropertychange",tP),mh=zd=null)}function tP(e){if(e.propertyName==="value"&&Fg(mh)){var t=[];XT(t,mh,e,Xb(e)),OT(CB,t)}}function TB(e,t,n){e==="focusin"?(UN(),zd=t,mh=n,zd.attachEvent("onpropertychange",tP)):e==="focusout"&&UN()}function PB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fg(mh)}function IB(e,t){if(e==="click")return Fg(t)}function MB(e,t){if(e==="input"||e==="change")return Fg(t)}function OB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var js=typeof Object.is=="function"?Object.is:OB;function gh(e,t){if(js(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ex.call(t,s)||!js(e[s],t[s]))return!1}return!0}function zN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function VN(e,t){var n=zN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zN(n)}}function nP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rP(){for(var e=window,t=xm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xm(e.document)}return t}function l1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RB(e){var t=rP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nP(n.ownerDocument.documentElement,n)){if(r!==null&&l1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=VN(n,i);var o=VN(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DB=ki&&"documentMode"in document&&11>=document.documentMode,Yl=null,xx=null,Vd=null,wx=!1;function HN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wx||Yl==null||Yl!==xm(r)||(r=Yl,"selectionStart"in r&&l1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vd&&gh(Vd,r)||(Vd=r,r=Em(xx,"onSelect"),0<r.length&&(t=new i1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yl)))}function Gf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jl={animationend:Gf("Animation","AnimationEnd"),animationiteration:Gf("Animation","AnimationIteration"),animationstart:Gf("Animation","AnimationStart"),transitionend:Gf("Transition","TransitionEnd")},Cy={},sP={};ki&&(sP=document.createElement("div").style,"AnimationEvent"in window||(delete Jl.animationend.animation,delete Jl.animationiteration.animation,delete Jl.animationstart.animation),"TransitionEvent"in window||delete Jl.transitionend.transition);function Ug(e){if(Cy[e])return Cy[e];if(!Jl[e])return e;var t=Jl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sP)return Cy[e]=t[n];return e}var iP=Ug("animationend"),oP=Ug("animationiteration"),aP=Ug("animationstart"),lP=Ug("transitionend"),cP=new Map,KN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(e,t){cP.set(e,t),pl(t,[e])}for(var ky=0;ky<KN.length;ky++){var Ty=KN[ky],$B=Ty.toLowerCase(),LB=Ty[0].toUpperCase()+Ty.slice(1);Ho($B,"on"+LB)}Ho(iP,"onAnimationEnd");Ho(oP,"onAnimationIteration");Ho(aP,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(lP,"onTransitionEnd");Fc("onMouseEnter",["mouseout","mouseover"]);Fc("onMouseLeave",["mouseout","mouseover"]);Fc("onPointerEnter",["pointerout","pointerover"]);Fc("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ad));function WN(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$6(r,t,void 0,e),e.currentTarget=null}function uP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;WN(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;WN(s,l,u),i=c}}}if(bm)throw e=mx,bm=!1,mx=null,e}function At(e,t){var n=t[_x];n===void 0&&(n=t[_x]=new Set);var r=e+"__bubble";n.has(r)||(dP(t,e,2,!1),n.add(r))}function Py(e,t,n){var r=0;t&&(r|=4),dP(n,e,r,t)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function yh(e){if(!e[Zf]){e[Zf]=!0,vT.forEach(function(n){n!=="selectionchange"&&(BB.has(n)||Py(n,!1,e),Py(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zf]||(t[Zf]=!0,Py("selectionchange",!1,t))}}function dP(e,t,n,r){switch(GT(t)){case 1:var s=X6;break;case 4:s=eB;break;default:s=r1}n=s.bind(null,t,n,e),s=void 0,!px||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Iy(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ya(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}OT(function(){var u=i,d=Xb(n),h=[];e:{var f=cP.get(e);if(f!==void 0){var p=i1,x=e;switch(e){case"keypress":if(Hp(n)===0)break e;case"keydown":case"keyup":p=mB;break;case"focusin":x="focus",p=_y;break;case"focusout":x="blur",p=_y;break;case"beforeblur":case"afterblur":p=_y;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ON;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vB;break;case iP:case oP:case aP:p=oB;break;case lP:p=wB;break;case"scroll":p=tB;break;case"wheel":p=SB;break;case"copy":case"cut":case"paste":p=lB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=DN}var m=(t&4)!==0,y=!m&&e==="scroll",b=m?f!==null?f+"Capture":null:f;m=[];for(var g=u,w;g!==null;){w=g;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,b!==null&&(j=dh(g,b),j!=null&&m.push(vh(g,j,w)))),y)break;g=g.return}0<m.length&&(f=new p(f,x,null,n,d),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==hx&&(x=n.relatedTarget||n.fromElement)&&(ya(x)||x[Ti]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?ya(x):null,x!==null&&(y=ml(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=ON,j="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=DN,j="onPointerLeave",b="onPointerEnter",g="pointer"),y=p==null?f:Ql(p),w=x==null?f:Ql(x),f=new m(j,g+"leave",p,n,d),f.target=y,f.relatedTarget=w,j=null,ya(d)===u&&(m=new m(b,g+"enter",x,n,d),m.target=w,m.relatedTarget=y,j=m),y=j,p&&x)t:{for(m=p,b=x,g=0,w=m;w;w=Il(w))g++;for(w=0,j=b;j;j=Il(j))w++;for(;0<g-w;)m=Il(m),g--;for(;0<w-g;)b=Il(b),w--;for(;g--;){if(m===b||b!==null&&m===b.alternate)break t;m=Il(m),b=Il(b)}m=null}else m=null;p!==null&&qN(h,f,p,m,!1),x!==null&&y!==null&&qN(h,y,x,m,!0)}}e:{if(f=u?Ql(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=kB;else if(BN(f))if(eP)E=MB;else{E=PB;var M=TB}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=IB);if(E&&(E=E(e,u))){XT(h,E,n,d);break e}M&&M(e,f,u),e==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&ax(f,"number",f.value)}switch(M=u?Ql(u):window,e){case"focusin":(BN(M)||M.contentEditable==="true")&&(Yl=M,xx=u,Vd=null);break;case"focusout":Vd=xx=Yl=null;break;case"mousedown":wx=!0;break;case"contextmenu":case"mouseup":case"dragend":wx=!1,HN(h,n,d);break;case"selectionchange":if(DB)break;case"keydown":case"keyup":HN(h,n,d)}var O;if(a1)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Zl?JT(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(YT&&n.locale!=="ko"&&(Zl||B!=="onCompositionStart"?B==="onCompositionEnd"&&Zl&&(O=ZT()):(mo=d,s1="value"in mo?mo.value:mo.textContent,Zl=!0)),M=Em(u,B),0<M.length&&(B=new RN(B,e,null,n,d),h.push({event:B,listeners:M}),O?B.data=O:(O=QT(n),O!==null&&(B.data=O)))),(O=NB?_B(e,n):EB(e,n))&&(u=Em(u,"onBeforeInput"),0<u.length&&(d=new RN("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=O))}uP(h,t)})}function vh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Em(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=dh(e,n),i!=null&&r.unshift(vh(e,i,s)),i=dh(e,t),i!=null&&r.push(vh(e,i,s))),e=e.return}return r}function Il(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qN(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=dh(n,i),c!=null&&o.unshift(vh(n,c,l))):s||(c=dh(n,i),c!=null&&o.push(vh(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var FB=/\r\n?/g,UB=/\u0000|\uFFFD/g;function GN(e){return(typeof e=="string"?e:""+e).replace(FB,`
`).replace(UB,"")}function Yf(e,t,n){if(t=GN(t),GN(e)!==t&&n)throw Error(Q(425))}function Am(){}var bx=null,Sx=null;function jx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nx=typeof setTimeout=="function"?setTimeout:void 0,zB=typeof clearTimeout=="function"?clearTimeout:void 0,ZN=typeof Promise=="function"?Promise:void 0,VB=typeof queueMicrotask=="function"?queueMicrotask:typeof ZN<"u"?function(e){return ZN.resolve(null).then(e).catch(HB)}:Nx;function HB(e){setTimeout(function(){throw e})}function My(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ph(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ph(t)}function jo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function YN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nu=Math.random().toString(36).slice(2),Fs="__reactFiber$"+Nu,xh="__reactProps$"+Nu,Ti="__reactContainer$"+Nu,_x="__reactEvents$"+Nu,KB="__reactListeners$"+Nu,WB="__reactHandles$"+Nu;function ya(e){var t=e[Fs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ti]||n[Fs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=YN(e);e!==null;){if(n=e[Fs])return n;e=YN(e)}return t}e=n,n=e.parentNode}return null}function lf(e){return e=e[Fs]||e[Ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ql(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function zg(e){return e[xh]||null}var Ex=[],Xl=-1;function Ko(e){return{current:e}}function Ct(e){0>Xl||(e.current=Ex[Xl],Ex[Xl]=null,Xl--)}function xt(e,t){Xl++,Ex[Xl]=e.current,e.current=t}var Do={},Fn=Ko(Do),lr=Ko(!1),Fa=Do;function Uc(e,t){var n=e.type.contextTypes;if(!n)return Do;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function cr(e){return e=e.childContextTypes,e!=null}function Cm(){Ct(lr),Ct(Fn)}function JN(e,t,n){if(Fn.current!==Do)throw Error(Q(168));xt(Fn,t),xt(lr,n)}function hP(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Q(108,T6(e)||"Unknown",s));return Lt({},n,r)}function km(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Do,Fa=Fn.current,xt(Fn,e),xt(lr,lr.current),!0}function QN(e,t,n){var r=e.stateNode;if(!r)throw Error(Q(169));n?(e=hP(e,t,Fa),r.__reactInternalMemoizedMergedChildContext=e,Ct(lr),Ct(Fn),xt(Fn,e)):Ct(lr),xt(lr,n)}var vi=null,Vg=!1,Oy=!1;function fP(e){vi===null?vi=[e]:vi.push(e)}function qB(e){Vg=!0,fP(e)}function Wo(){if(!Oy&&vi!==null){Oy=!0;var e=0,t=at;try{var n=vi;for(at=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vi=null,Vg=!1}catch(s){throw vi!==null&&(vi=vi.slice(e+1)),LT(e1,Wo),s}finally{at=t,Oy=!1}}return null}var ec=[],tc=0,Tm=null,Pm=0,Hr=[],Kr=0,Ua=null,bi=1,Si="";function ca(e,t){ec[tc++]=Pm,ec[tc++]=Tm,Tm=e,Pm=t}function pP(e,t,n){Hr[Kr++]=bi,Hr[Kr++]=Si,Hr[Kr++]=Ua,Ua=e;var r=bi;e=Si;var s=32-ws(r)-1;r&=~(1<<s),n+=1;var i=32-ws(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,bi=1<<32-ws(t)+s|n<<s|r,Si=i+e}else bi=1<<i|n<<s|r,Si=e}function c1(e){e.return!==null&&(ca(e,1),pP(e,1,0))}function u1(e){for(;e===Tm;)Tm=ec[--tc],ec[tc]=null,Pm=ec[--tc],ec[tc]=null;for(;e===Ua;)Ua=Hr[--Kr],Hr[Kr]=null,Si=Hr[--Kr],Hr[Kr]=null,bi=Hr[--Kr],Hr[Kr]=null}var Er=null,Nr=null,It=!1,ys=null;function mP(e,t){var n=Gr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function XN(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Er=e,Nr=jo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Er=e,Nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ua!==null?{id:bi,overflow:Si}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Er=e,Nr=null,!0):!1;default:return!1}}function Ax(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cx(e){if(It){var t=Nr;if(t){var n=t;if(!XN(e,t)){if(Ax(e))throw Error(Q(418));t=jo(n.nextSibling);var r=Er;t&&XN(e,t)?mP(r,n):(e.flags=e.flags&-4097|2,It=!1,Er=e)}}else{if(Ax(e))throw Error(Q(418));e.flags=e.flags&-4097|2,It=!1,Er=e}}}function e_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Er=e}function Jf(e){if(e!==Er)return!1;if(!It)return e_(e),It=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jx(e.type,e.memoizedProps)),t&&(t=Nr)){if(Ax(e))throw gP(),Error(Q(418));for(;t;)mP(e,t),t=jo(t.nextSibling)}if(e_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nr=jo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nr=null}}else Nr=Er?jo(e.stateNode.nextSibling):null;return!0}function gP(){for(var e=Nr;e;)e=jo(e.nextSibling)}function zc(){Nr=Er=null,It=!1}function d1(e){ys===null?ys=[e]:ys.push(e)}var GB=Li.ReactCurrentBatchConfig;function fd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,e))}return e}function Qf(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function t_(e){var t=e._init;return t(e._payload)}function yP(e){function t(b,g){if(e){var w=b.deletions;w===null?(b.deletions=[g],b.flags|=16):w.push(g)}}function n(b,g){if(!e)return null;for(;g!==null;)t(b,g),g=g.sibling;return null}function r(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function s(b,g){return b=Ao(b,g),b.index=0,b.sibling=null,b}function i(b,g,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<g?(b.flags|=2,g):w):(b.flags|=2,g)):(b.flags|=1048576,g)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,g,w,j){return g===null||g.tag!==6?(g=Uy(w,b.mode,j),g.return=b,g):(g=s(g,w),g.return=b,g)}function c(b,g,w,j){var E=w.type;return E===Gl?d(b,g,w.props.children,j,w.key):g!==null&&(g.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===to&&t_(E)===g.type)?(j=s(g,w.props),j.ref=fd(b,g,w),j.return=b,j):(j=Jp(w.type,w.key,w.props,null,b.mode,j),j.ref=fd(b,g,w),j.return=b,j)}function u(b,g,w,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=zy(w,b.mode,j),g.return=b,g):(g=s(g,w.children||[]),g.return=b,g)}function d(b,g,w,j,E){return g===null||g.tag!==7?(g=Oa(w,b.mode,j,E),g.return=b,g):(g=s(g,w),g.return=b,g)}function h(b,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Uy(""+g,b.mode,w),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Uf:return w=Jp(g.type,g.key,g.props,null,b.mode,w),w.ref=fd(b,null,g),w.return=b,w;case ql:return g=zy(g,b.mode,w),g.return=b,g;case to:var j=g._init;return h(b,j(g._payload),w)}if(_d(g)||ld(g))return g=Oa(g,b.mode,w,null),g.return=b,g;Qf(b,g)}return null}function f(b,g,w,j){var E=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return E!==null?null:l(b,g,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uf:return w.key===E?c(b,g,w,j):null;case ql:return w.key===E?u(b,g,w,j):null;case to:return E=w._init,f(b,g,E(w._payload),j)}if(_d(w)||ld(w))return E!==null?null:d(b,g,w,j,null);Qf(b,w)}return null}function p(b,g,w,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(w)||null,l(g,b,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Uf:return b=b.get(j.key===null?w:j.key)||null,c(g,b,j,E);case ql:return b=b.get(j.key===null?w:j.key)||null,u(g,b,j,E);case to:var M=j._init;return p(b,g,w,M(j._payload),E)}if(_d(j)||ld(j))return b=b.get(w)||null,d(g,b,j,E,null);Qf(g,j)}return null}function x(b,g,w,j){for(var E=null,M=null,O=g,B=g=0,z=null;O!==null&&B<w.length;B++){O.index>B?(z=O,O=null):z=O.sibling;var $=f(b,O,w[B],j);if($===null){O===null&&(O=z);break}e&&O&&$.alternate===null&&t(b,O),g=i($,g,B),M===null?E=$:M.sibling=$,M=$,O=z}if(B===w.length)return n(b,O),It&&ca(b,B),E;if(O===null){for(;B<w.length;B++)O=h(b,w[B],j),O!==null&&(g=i(O,g,B),M===null?E=O:M.sibling=O,M=O);return It&&ca(b,B),E}for(O=r(b,O);B<w.length;B++)z=p(O,b,B,w[B],j),z!==null&&(e&&z.alternate!==null&&O.delete(z.key===null?B:z.key),g=i(z,g,B),M===null?E=z:M.sibling=z,M=z);return e&&O.forEach(function(F){return t(b,F)}),It&&ca(b,B),E}function m(b,g,w,j){var E=ld(w);if(typeof E!="function")throw Error(Q(150));if(w=E.call(w),w==null)throw Error(Q(151));for(var M=E=null,O=g,B=g=0,z=null,$=w.next();O!==null&&!$.done;B++,$=w.next()){O.index>B?(z=O,O=null):z=O.sibling;var F=f(b,O,$.value,j);if(F===null){O===null&&(O=z);break}e&&O&&F.alternate===null&&t(b,O),g=i(F,g,B),M===null?E=F:M.sibling=F,M=F,O=z}if($.done)return n(b,O),It&&ca(b,B),E;if(O===null){for(;!$.done;B++,$=w.next())$=h(b,$.value,j),$!==null&&(g=i($,g,B),M===null?E=$:M.sibling=$,M=$);return It&&ca(b,B),E}for(O=r(b,O);!$.done;B++,$=w.next())$=p(O,b,B,$.value,j),$!==null&&(e&&$.alternate!==null&&O.delete($.key===null?B:$.key),g=i($,g,B),M===null?E=$:M.sibling=$,M=$);return e&&O.forEach(function(U){return t(b,U)}),It&&ca(b,B),E}function y(b,g,w,j){if(typeof w=="object"&&w!==null&&w.type===Gl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Uf:e:{for(var E=w.key,M=g;M!==null;){if(M.key===E){if(E=w.type,E===Gl){if(M.tag===7){n(b,M.sibling),g=s(M,w.props.children),g.return=b,b=g;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===to&&t_(E)===M.type){n(b,M.sibling),g=s(M,w.props),g.ref=fd(b,M,w),g.return=b,b=g;break e}n(b,M);break}else t(b,M);M=M.sibling}w.type===Gl?(g=Oa(w.props.children,b.mode,j,w.key),g.return=b,b=g):(j=Jp(w.type,w.key,w.props,null,b.mode,j),j.ref=fd(b,g,w),j.return=b,b=j)}return o(b);case ql:e:{for(M=w.key;g!==null;){if(g.key===M)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(b,g.sibling),g=s(g,w.children||[]),g.return=b,b=g;break e}else{n(b,g);break}else t(b,g);g=g.sibling}g=zy(w,b.mode,j),g.return=b,b=g}return o(b);case to:return M=w._init,y(b,g,M(w._payload),j)}if(_d(w))return x(b,g,w,j);if(ld(w))return m(b,g,w,j);Qf(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(b,g.sibling),g=s(g,w),g.return=b,b=g):(n(b,g),g=Uy(w,b.mode,j),g.return=b,b=g),o(b)):n(b,g)}return y}var Vc=yP(!0),vP=yP(!1),Im=Ko(null),Mm=null,nc=null,h1=null;function f1(){h1=nc=Mm=null}function p1(e){var t=Im.current;Ct(Im),e._currentValue=t}function kx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function bc(e,t){Mm=e,h1=nc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ar=!0),e.firstContext=null)}function Yr(e){var t=e._currentValue;if(h1!==e)if(e={context:e,memoizedValue:t,next:null},nc===null){if(Mm===null)throw Error(Q(308));nc=e,Mm.dependencies={lanes:0,firstContext:e}}else nc=nc.next=e;return t}var va=null;function m1(e){va===null?va=[e]:va.push(e)}function xP(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,m1(t)):(n.next=s.next,s.next=n),t.interleaved=n,Pi(e,r)}function Pi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var no=!1;function g1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ei(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ke&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Pi(e,n)}return s=r.interleaved,s===null?(t.next=t,m1(r)):(t.next=s.next,s.next=t),r.interleaved=t,Pi(e,n)}function Kp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,t1(e,n)}}function n_(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Om(e,t,n,r){var s=e.updateQueue;no=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(f=t,p=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){h=x.call(p,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,f=typeof x=="function"?x.call(p,h,f):x,f==null)break e;h=Lt({},h,f);break e;case 2:no=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Va|=o,e.lanes=o,e.memoizedState=h}}function r_(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Q(191,s));s.call(r)}}}var cf={},Zs=Ko(cf),wh=Ko(cf),bh=Ko(cf);function xa(e){if(e===cf)throw Error(Q(174));return e}function y1(e,t){switch(xt(bh,t),xt(wh,e),xt(Zs,cf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cx(t,e)}Ct(Zs),xt(Zs,t)}function Hc(){Ct(Zs),Ct(wh),Ct(bh)}function bP(e){xa(bh.current);var t=xa(Zs.current),n=cx(t,e.type);t!==n&&(xt(wh,e),xt(Zs,n))}function v1(e){wh.current===e&&(Ct(Zs),Ct(wh))}var Ot=Ko(0);function Rm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ry=[];function x1(){for(var e=0;e<Ry.length;e++)Ry[e]._workInProgressVersionPrimary=null;Ry.length=0}var Wp=Li.ReactCurrentDispatcher,Dy=Li.ReactCurrentBatchConfig,za=0,$t=null,hn=null,xn=null,Dm=!1,Hd=!1,Sh=0,ZB=0;function In(){throw Error(Q(321))}function w1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!js(e[n],t[n]))return!1;return!0}function b1(e,t,n,r,s,i){if(za=i,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wp.current=e===null||e.memoizedState===null?XB:e8,e=n(r,s),Hd){i=0;do{if(Hd=!1,Sh=0,25<=i)throw Error(Q(301));i+=1,xn=hn=null,t.updateQueue=null,Wp.current=t8,e=n(r,s)}while(Hd)}if(Wp.current=$m,t=hn!==null&&hn.next!==null,za=0,xn=hn=$t=null,Dm=!1,t)throw Error(Q(300));return e}function S1(){var e=Sh!==0;return Sh=0,e}function Ms(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?$t.memoizedState=xn=e:xn=xn.next=e,xn}function Jr(){if(hn===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=hn.next;var t=xn===null?$t.memoizedState:xn.next;if(t!==null)xn=t,hn=e;else{if(e===null)throw Error(Q(310));hn=e,e={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},xn===null?$t.memoizedState=xn=e:xn=xn.next=e}return xn}function jh(e,t){return typeof t=="function"?t(e):t}function $y(e){var t=Jr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=hn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((za&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,$t.lanes|=d,Va|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,js(r,t.memoizedState)||(ar=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,$t.lanes|=i,Va|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ly(e){var t=Jr(),n=t.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);js(i,t.memoizedState)||(ar=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function SP(){}function jP(e,t){var n=$t,r=Jr(),s=t(),i=!js(r.memoizedState,s);if(i&&(r.memoizedState=s,ar=!0),r=r.queue,j1(EP.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||xn!==null&&xn.memoizedState.tag&1){if(n.flags|=2048,Nh(9,_P.bind(null,n,r,s,t),void 0,null),wn===null)throw Error(Q(349));za&30||NP(n,t,s)}return s}function NP(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _P(e,t,n,r){t.value=n,t.getSnapshot=r,AP(t)&&CP(e)}function EP(e,t,n){return n(function(){AP(t)&&CP(e)})}function AP(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!js(e,n)}catch{return!0}}function CP(e){var t=Pi(e,1);t!==null&&bs(t,e,1,-1)}function s_(e){var t=Ms();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:e},t.queue=e,e=e.dispatch=QB.bind(null,$t,e),[t.memoizedState,e]}function Nh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function kP(){return Jr().memoizedState}function qp(e,t,n,r){var s=Ms();$t.flags|=e,s.memoizedState=Nh(1|t,n,void 0,r===void 0?null:r)}function Hg(e,t,n,r){var s=Jr();r=r===void 0?null:r;var i=void 0;if(hn!==null){var o=hn.memoizedState;if(i=o.destroy,r!==null&&w1(r,o.deps)){s.memoizedState=Nh(t,n,i,r);return}}$t.flags|=e,s.memoizedState=Nh(1|t,n,i,r)}function i_(e,t){return qp(8390656,8,e,t)}function j1(e,t){return Hg(2048,8,e,t)}function TP(e,t){return Hg(4,2,e,t)}function PP(e,t){return Hg(4,4,e,t)}function IP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MP(e,t,n){return n=n!=null?n.concat([e]):null,Hg(4,4,IP.bind(null,t,e),n)}function N1(){}function OP(e,t){var n=Jr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&w1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function RP(e,t){var n=Jr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&w1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function DP(e,t,n){return za&21?(js(n,t)||(n=UT(),$t.lanes|=n,Va|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ar=!0),e.memoizedState=n)}function YB(e,t){var n=at;at=n!==0&&4>n?n:4,e(!0);var r=Dy.transition;Dy.transition={};try{e(!1),t()}finally{at=n,Dy.transition=r}}function $P(){return Jr().memoizedState}function JB(e,t,n){var r=Eo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},LP(e))BP(t,n);else if(n=xP(e,t,n,r),n!==null){var s=Zn();bs(n,e,r,s),FP(n,t,r)}}function QB(e,t,n){var r=Eo(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(LP(e))BP(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,js(l,o)){var c=t.interleaved;c===null?(s.next=s,m1(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=xP(e,t,s,r),n!==null&&(s=Zn(),bs(n,e,r,s),FP(n,t,r))}}function LP(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function BP(e,t){Hd=Dm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,t1(e,n)}}var $m={readContext:Yr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},XB={readContext:Yr,useCallback:function(e,t){return Ms().memoizedState=[e,t===void 0?null:t],e},useContext:Yr,useEffect:i_,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,qp(4194308,4,IP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qp(4194308,4,e,t)},useInsertionEffect:function(e,t){return qp(4,2,e,t)},useMemo:function(e,t){var n=Ms();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ms();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=JB.bind(null,$t,e),[r.memoizedState,e]},useRef:function(e){var t=Ms();return e={current:e},t.memoizedState=e},useState:s_,useDebugValue:N1,useDeferredValue:function(e){return Ms().memoizedState=e},useTransition:function(){var e=s_(!1),t=e[0];return e=YB.bind(null,e[1]),Ms().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$t,s=Ms();if(It){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=t(),wn===null)throw Error(Q(349));za&30||NP(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,i_(EP.bind(null,r,i,e),[e]),r.flags|=2048,Nh(9,_P.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ms(),t=wn.identifierPrefix;if(It){var n=Si,r=bi;n=(r&~(1<<32-ws(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e8={readContext:Yr,useCallback:OP,useContext:Yr,useEffect:j1,useImperativeHandle:MP,useInsertionEffect:TP,useLayoutEffect:PP,useMemo:RP,useReducer:$y,useRef:kP,useState:function(){return $y(jh)},useDebugValue:N1,useDeferredValue:function(e){var t=Jr();return DP(t,hn.memoizedState,e)},useTransition:function(){var e=$y(jh)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:SP,useSyncExternalStore:jP,useId:$P,unstable_isNewReconciler:!1},t8={readContext:Yr,useCallback:OP,useContext:Yr,useEffect:j1,useImperativeHandle:MP,useInsertionEffect:TP,useLayoutEffect:PP,useMemo:RP,useReducer:Ly,useRef:kP,useState:function(){return Ly(jh)},useDebugValue:N1,useDeferredValue:function(e){var t=Jr();return hn===null?t.memoizedState=e:DP(t,hn.memoizedState,e)},useTransition:function(){var e=Ly(jh)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:SP,useSyncExternalStore:jP,useId:$P,unstable_isNewReconciler:!1};function us(e,t){if(e&&e.defaultProps){t=Lt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tx(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Kg={isMounted:function(e){return(e=e._reactInternals)?ml(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zn(),s=Eo(e),i=Ei(r,s);i.payload=t,n!=null&&(i.callback=n),t=No(e,i,s),t!==null&&(bs(t,e,s,r),Kp(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zn(),s=Eo(e),i=Ei(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=No(e,i,s),t!==null&&(bs(t,e,s,r),Kp(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zn(),r=Eo(e),s=Ei(n,r);s.tag=2,t!=null&&(s.callback=t),t=No(e,s,r),t!==null&&(bs(t,e,r,n),Kp(t,e,r))}};function o_(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!gh(n,r)||!gh(s,i):!0}function UP(e,t,n){var r=!1,s=Do,i=t.contextType;return typeof i=="object"&&i!==null?i=Yr(i):(s=cr(t)?Fa:Fn.current,r=t.contextTypes,i=(r=r!=null)?Uc(e,s):Do),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function a_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Kg.enqueueReplaceState(t,t.state,null)}function Px(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},g1(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Yr(i):(i=cr(t)?Fa:Fn.current,s.context=Uc(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Tx(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Kg.enqueueReplaceState(s,s.state,null),Om(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kc(e,t){try{var n="",r=t;do n+=k6(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function By(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ix(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var n8=typeof WeakMap=="function"?WeakMap:Map;function zP(e,t,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bm||(Bm=!0,zx=r),Ix(e,t)},n}function VP(e,t,n){n=Ei(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ix(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ix(e,t),typeof r!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function l_(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new n8;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=g8.bind(null,e,t,n),t.then(e,e))}function c_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u_(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ei(-1,1),t.tag=2,No(n,t,1))),n.lanes|=1),e)}var r8=Li.ReactCurrentOwner,ar=!1;function Kn(e,t,n,r){t.child=e===null?vP(t,null,n,r):Vc(t,e.child,n,r)}function d_(e,t,n,r,s){n=n.render;var i=t.ref;return bc(t,s),r=b1(e,t,n,r,i,s),n=S1(),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ii(e,t,s)):(It&&n&&c1(t),t.flags|=1,Kn(e,t,r,s),t.child)}function h_(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!I1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,HP(e,t,i,r,s)):(e=Jp(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:gh,n(o,r)&&e.ref===t.ref)return Ii(e,t,s)}return t.flags|=1,e=Ao(i,r),e.ref=t.ref,e.return=t,t.child=e}function HP(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(gh(i,r)&&e.ref===t.ref)if(ar=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ar=!0);else return t.lanes=e.lanes,Ii(e,t,s)}return Mx(e,t,n,r,s)}function KP(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(sc,br),br|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xt(sc,br),br|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xt(sc,br),br|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,xt(sc,br),br|=r;return Kn(e,t,s,n),t.child}function WP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mx(e,t,n,r,s){var i=cr(n)?Fa:Fn.current;return i=Uc(t,i),bc(t,s),n=b1(e,t,n,r,i,s),r=S1(),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ii(e,t,s)):(It&&r&&c1(t),t.flags|=1,Kn(e,t,n,s),t.child)}function f_(e,t,n,r,s){if(cr(n)){var i=!0;km(t)}else i=!1;if(bc(t,s),t.stateNode===null)Gp(e,t),UP(t,n,r),Px(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yr(u):(u=cr(n)?Fa:Fn.current,u=Uc(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&a_(t,o,r,u),no=!1;var f=t.memoizedState;o.state=f,Om(t,r,o,s),c=t.memoizedState,l!==r||f!==c||lr.current||no?(typeof d=="function"&&(Tx(t,n,d,r),c=t.memoizedState),(l=no||o_(t,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wP(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:us(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yr(c):(c=cr(n)?Fa:Fn.current,c=Uc(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&a_(t,o,r,c),no=!1,f=t.memoizedState,o.state=f,Om(t,r,o,s);var x=t.memoizedState;l!==h||f!==x||lr.current||no?(typeof p=="function"&&(Tx(t,n,p,r),x=t.memoizedState),(u=no||o_(t,n,u,r,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ox(e,t,n,r,i,s)}function Ox(e,t,n,r,s,i){WP(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&QN(t,n,!1),Ii(e,t,i);r=t.stateNode,r8.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vc(t,e.child,null,i),t.child=Vc(t,null,l,i)):Kn(e,t,l,i),t.memoizedState=r.state,s&&QN(t,n,!0),t.child}function qP(e){var t=e.stateNode;t.pendingContext?JN(e,t.pendingContext,t.pendingContext!==t.context):t.context&&JN(e,t.context,!1),y1(e,t.containerInfo)}function p_(e,t,n,r,s){return zc(),d1(s),t.flags|=256,Kn(e,t,n,r),t.child}var Rx={dehydrated:null,treeContext:null,retryLane:0};function Dx(e){return{baseLanes:e,cachePool:null,transitions:null}}function GP(e,t,n){var r=t.pendingProps,s=Ot.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xt(Ot,s&1),e===null)return Cx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gg(o,r,0,null),e=Oa(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Dx(n),t.memoizedState=Rx,e):_1(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return s8(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ao(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ao(l,i):(i=Oa(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Dx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Rx,r}return i=e.child,e=i.sibling,r=Ao(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _1(e,t){return t=Gg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xf(e,t,n,r){return r!==null&&d1(r),Vc(t,e.child,null,n),e=_1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s8(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=By(Error(Q(422))),Xf(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Gg({mode:"visible",children:r.children},s,0,null),i=Oa(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Vc(t,e.child,null,o),t.child.memoizedState=Dx(o),t.memoizedState=Rx,i);if(!(t.mode&1))return Xf(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Q(419)),r=By(i,r,void 0),Xf(e,t,o,r)}if(l=(o&e.childLanes)!==0,ar||l){if(r=wn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pi(e,s),bs(r,e,s,-1))}return P1(),r=By(Error(Q(421))),Xf(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=y8.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Nr=jo(s.nextSibling),Er=t,It=!0,ys=null,e!==null&&(Hr[Kr++]=bi,Hr[Kr++]=Si,Hr[Kr++]=Ua,bi=e.id,Si=e.overflow,Ua=t),t=_1(t,r.children),t.flags|=4096,t)}function m_(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kx(e.return,t,n)}function Fy(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ZP(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Kn(e,t,r.children,n),r=Ot.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&m_(e,n,t);else if(e.tag===19)m_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xt(Ot,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Rm(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Fy(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Rm(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Fy(t,!0,n,null,i);break;case"together":Fy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ii(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Va|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,n=Ao(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ao(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function i8(e,t,n){switch(t.tag){case 3:qP(t),zc();break;case 5:bP(t);break;case 1:cr(t.type)&&km(t);break;case 4:y1(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xt(Im,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xt(Ot,Ot.current&1),t.flags|=128,null):n&t.child.childLanes?GP(e,t,n):(xt(Ot,Ot.current&1),e=Ii(e,t,n),e!==null?e.sibling:null);xt(Ot,Ot.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ZP(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xt(Ot,Ot.current),r)break;return null;case 22:case 23:return t.lanes=0,KP(e,t,n)}return Ii(e,t,n)}var YP,$x,JP,QP;YP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$x=function(){};JP=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,xa(Zs.current);var i=null;switch(n){case"input":s=ix(e,s),r=ix(e,r),i=[];break;case"select":s=Lt({},s,{value:void 0}),r=Lt({},r,{value:void 0}),i=[];break;case"textarea":s=lx(e,s),r=lx(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Am)}ux(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ch.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ch.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&At("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};QP=function(e,t,n,r){n!==r&&(t.flags|=4)};function pd(e,t){if(!It)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function o8(e,t,n){var r=t.pendingProps;switch(u1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(t),null;case 1:return cr(t.type)&&Cm(),Mn(t),null;case 3:return r=t.stateNode,Hc(),Ct(lr),Ct(Fn),x1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Jf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ys!==null&&(Kx(ys),ys=null))),$x(e,t),Mn(t),null;case 5:v1(t);var s=xa(bh.current);if(n=t.type,e!==null&&t.stateNode!=null)JP(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Q(166));return Mn(t),null}if(e=xa(Zs.current),Jf(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Fs]=t,r[xh]=i,e=(t.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<Ad.length;s++)At(Ad[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":NN(r,i),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},At("invalid",r);break;case"textarea":EN(r,i),At("invalid",r)}ux(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Yf(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Yf(r.textContent,l,e),s=["children",""+l]):ch.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&At("scroll",r)}switch(n){case"input":zf(r),_N(r,i,!0);break;case"textarea":zf(r),AN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Am)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ET(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Fs]=t,e[xh]=r,YP(e,t,!1,!1),t.stateNode=e;e:{switch(o=dx(n,r),n){case"dialog":At("cancel",e),At("close",e),s=r;break;case"iframe":case"object":case"embed":At("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ad.length;s++)At(Ad[s],e);s=r;break;case"source":At("error",e),s=r;break;case"img":case"image":case"link":At("error",e),At("load",e),s=r;break;case"details":At("toggle",e),s=r;break;case"input":NN(e,r),s=ix(e,r),At("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Lt({},r,{value:void 0}),At("invalid",e);break;case"textarea":EN(e,r),s=lx(e,r),At("invalid",e);break;default:s=r}ux(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?kT(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AT(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&uh(e,c):typeof c=="number"&&uh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ch.hasOwnProperty(i)?c!=null&&i==="onScroll"&&At("scroll",e):c!=null&&Zb(e,i,c,o))}switch(n){case"input":zf(e),_N(e,r,!1);break;case"textarea":zf(e),AN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ro(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?yc(e,!!r.multiple,i,!1):r.defaultValue!=null&&yc(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Am)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mn(t),null;case 6:if(e&&t.stateNode!=null)QP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Q(166));if(n=xa(bh.current),xa(Zs.current),Jf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fs]=t,(i=r.nodeValue!==n)&&(e=Er,e!==null))switch(e.tag){case 3:Yf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Yf(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fs]=t,t.stateNode=r}return Mn(t),null;case 13:if(Ct(Ot),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(It&&Nr!==null&&t.mode&1&&!(t.flags&128))gP(),zc(),t.flags|=98560,i=!1;else if(i=Jf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[Fs]=t}else zc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mn(t),i=!1}else ys!==null&&(Kx(ys),ys=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ot.current&1?fn===0&&(fn=3):P1())),t.updateQueue!==null&&(t.flags|=4),Mn(t),null);case 4:return Hc(),$x(e,t),e===null&&yh(t.stateNode.containerInfo),Mn(t),null;case 10:return p1(t.type._context),Mn(t),null;case 17:return cr(t.type)&&Cm(),Mn(t),null;case 19:if(Ct(Ot),i=t.memoizedState,i===null)return Mn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)pd(i,!1);else{if(fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Rm(e),o!==null){for(t.flags|=128,pd(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xt(Ot,Ot.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xt()>Wc&&(t.flags|=128,r=!0,pd(i,!1),t.lanes=4194304)}else{if(!r)if(e=Rm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!It)return Mn(t),null}else 2*Xt()-i.renderingStartTime>Wc&&n!==1073741824&&(t.flags|=128,r=!0,pd(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xt(),t.sibling=null,n=Ot.current,xt(Ot,r?n&1|2:n&1),t):(Mn(t),null);case 22:case 23:return T1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?br&1073741824&&(Mn(t),t.subtreeFlags&6&&(t.flags|=8192)):Mn(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function a8(e,t){switch(u1(t),t.tag){case 1:return cr(t.type)&&Cm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hc(),Ct(lr),Ct(Fn),x1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return v1(t),null;case 13:if(Ct(Ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));zc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Ot),null;case 4:return Hc(),null;case 10:return p1(t.type._context),null;case 22:case 23:return T1(),null;case 24:return null;default:return null}}var ep=!1,Rn=!1,l8=typeof WeakSet=="function"?WeakSet:Set,ae=null;function rc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(e,t,r)}else n.current=null}function Lx(e,t,n){try{n()}catch(r){Gt(e,t,r)}}var g_=!1;function c8(e,t){if(bx=Nm,e=rP(),l1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sx={focusedElem:e,selectionRange:n},Nm=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,y=x.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:us(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(j){Gt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return x=g_,g_=!1,x}function Kd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lx(t,n,i)}s=s.next}while(s!==r)}}function Wg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Bx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XP(e){var t=e.alternate;t!==null&&(e.alternate=null,XP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fs],delete t[xh],delete t[_x],delete t[KB],delete t[WB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eI(e){return e.tag===5||e.tag===3||e.tag===4}function y_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Am));else if(r!==4&&(e=e.child,e!==null))for(Fx(e,t,n),e=e.sibling;e!==null;)Fx(e,t,n),e=e.sibling}function Ux(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ux(e,t,n),e=e.sibling;e!==null;)Ux(e,t,n),e=e.sibling}var jn=null,ps=!1;function Vi(e,t,n){for(n=n.child;n!==null;)tI(e,t,n),n=n.sibling}function tI(e,t,n){if(Gs&&typeof Gs.onCommitFiberUnmount=="function")try{Gs.onCommitFiberUnmount(Lg,n)}catch{}switch(n.tag){case 5:Rn||rc(n,t);case 6:var r=jn,s=ps;jn=null,Vi(e,t,n),jn=r,ps=s,jn!==null&&(ps?(e=jn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):jn.removeChild(n.stateNode));break;case 18:jn!==null&&(ps?(e=jn,n=n.stateNode,e.nodeType===8?My(e.parentNode,n):e.nodeType===1&&My(e,n),ph(e)):My(jn,n.stateNode));break;case 4:r=jn,s=ps,jn=n.stateNode.containerInfo,ps=!0,Vi(e,t,n),jn=r,ps=s;break;case 0:case 11:case 14:case 15:if(!Rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lx(n,t,o),s=s.next}while(s!==r)}Vi(e,t,n);break;case 1:if(!Rn&&(rc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Gt(n,t,l)}Vi(e,t,n);break;case 21:Vi(e,t,n);break;case 22:n.mode&1?(Rn=(r=Rn)||n.memoizedState!==null,Vi(e,t,n),Rn=r):Vi(e,t,n);break;default:Vi(e,t,n)}}function v_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new l8),t.forEach(function(r){var s=v8.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:jn=l.stateNode,ps=!1;break e;case 3:jn=l.stateNode.containerInfo,ps=!0;break e;case 4:jn=l.stateNode.containerInfo,ps=!0;break e}l=l.return}if(jn===null)throw Error(Q(160));tI(i,o,s),jn=null,ps=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Gt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nI(t,e),t=t.sibling}function nI(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),Ts(e),r&4){try{Kd(3,e,e.return),Wg(3,e)}catch(m){Gt(e,e.return,m)}try{Kd(5,e,e.return)}catch(m){Gt(e,e.return,m)}}break;case 1:rs(t,e),Ts(e),r&512&&n!==null&&rc(n,n.return);break;case 5:if(rs(t,e),Ts(e),r&512&&n!==null&&rc(n,n.return),e.flags&32){var s=e.stateNode;try{uh(s,"")}catch(m){Gt(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&NT(s,i),dx(l,o);var u=dx(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?kT(s,h):d==="dangerouslySetInnerHTML"?AT(s,h):d==="children"?uh(s,h):Zb(s,d,h,u)}switch(l){case"input":ox(s,i);break;case"textarea":_T(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?yc(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?yc(s,!!i.multiple,i.defaultValue,!0):yc(s,!!i.multiple,i.multiple?[]:"",!1))}s[xh]=i}catch(m){Gt(e,e.return,m)}}break;case 6:if(rs(t,e),Ts(e),r&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(m){Gt(e,e.return,m)}}break;case 3:if(rs(t,e),Ts(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ph(t.containerInfo)}catch(m){Gt(e,e.return,m)}break;case 4:rs(t,e),Ts(e);break;case 13:rs(t,e),Ts(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(C1=Xt())),r&4&&v_(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Rn=(u=Rn)||d,rs(t,e),Rn=u):rs(t,e),Ts(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(h=ae=d;ae!==null;){switch(f=ae,p=f.child,f.tag){case 0:case 11:case 14:case 15:Kd(4,f,f.return);break;case 1:rc(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){Gt(r,n,m)}}break;case 5:rc(f,f.return);break;case 22:if(f.memoizedState!==null){w_(h);continue}}p!==null?(p.return=f,ae=p):w_(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=CT("display",o))}catch(m){Gt(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Gt(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rs(t,e),Ts(e),r&4&&v_(e);break;case 21:break;default:rs(t,e),Ts(e)}}function Ts(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(eI(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(uh(s,""),r.flags&=-33);var i=y_(e);Ux(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=y_(e);Fx(e,l,o);break;default:throw Error(Q(161))}}catch(c){Gt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u8(e,t,n){ae=e,rI(e)}function rI(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var s=ae,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ep;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Rn;l=ep;var u=Rn;if(ep=o,(Rn=c)&&!u)for(ae=s;ae!==null;)o=ae,c=o.child,o.tag===22&&o.memoizedState!==null?b_(s):c!==null?(c.return=o,ae=c):b_(s);for(;i!==null;)ae=i,rI(i),i=i.sibling;ae=s,ep=l,Rn=u}x_(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ae=i):x_(e)}}function x_(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||Wg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Rn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:us(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&r_(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}r_(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ph(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Rn||t.flags&512&&Bx(t)}catch(f){Gt(t,t.return,f)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function w_(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function b_(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wg(4,t)}catch(c){Gt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Gt(t,s,c)}}var i=t.return;try{Bx(t)}catch(c){Gt(t,i,c)}break;case 5:var o=t.return;try{Bx(t)}catch(c){Gt(t,o,c)}}}catch(c){Gt(t,t.return,c)}if(t===e){ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ae=l;break}ae=t.return}}var d8=Math.ceil,Lm=Li.ReactCurrentDispatcher,E1=Li.ReactCurrentOwner,Zr=Li.ReactCurrentBatchConfig,Ke=0,wn=null,on=null,An=0,br=0,sc=Ko(0),fn=0,_h=null,Va=0,qg=0,A1=0,Wd=null,ir=null,C1=0,Wc=1/0,gi=null,Bm=!1,zx=null,_o=null,tp=!1,go=null,Fm=0,qd=0,Vx=null,Zp=-1,Yp=0;function Zn(){return Ke&6?Xt():Zp!==-1?Zp:Zp=Xt()}function Eo(e){return e.mode&1?Ke&2&&An!==0?An&-An:GB.transition!==null?(Yp===0&&(Yp=UT()),Yp):(e=at,e!==0||(e=window.event,e=e===void 0?16:GT(e.type)),e):1}function bs(e,t,n,r){if(50<qd)throw qd=0,Vx=null,Error(Q(185));of(e,n,r),(!(Ke&2)||e!==wn)&&(e===wn&&(!(Ke&2)&&(qg|=n),fn===4&&io(e,An)),ur(e,r),n===1&&Ke===0&&!(t.mode&1)&&(Wc=Xt()+500,Vg&&Wo()))}function ur(e,t){var n=e.callbackNode;G6(e,t);var r=jm(e,e===wn?An:0);if(r===0)n!==null&&TN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&TN(n),t===1)e.tag===0?qB(S_.bind(null,e)):fP(S_.bind(null,e)),VB(function(){!(Ke&6)&&Wo()}),n=null;else{switch(zT(r)){case 1:n=e1;break;case 4:n=BT;break;case 16:n=Sm;break;case 536870912:n=FT;break;default:n=Sm}n=dI(n,sI.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sI(e,t){if(Zp=-1,Yp=0,Ke&6)throw Error(Q(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=jm(e,e===wn?An:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Um(e,r);else{t=r;var s=Ke;Ke|=2;var i=oI();(wn!==e||An!==t)&&(gi=null,Wc=Xt()+500,Ma(e,t));do try{p8();break}catch(l){iI(e,l)}while(!0);f1(),Lm.current=i,Ke=s,on!==null?t=0:(wn=null,An=0,t=fn)}if(t!==0){if(t===2&&(s=gx(e),s!==0&&(r=s,t=Hx(e,s))),t===1)throw n=_h,Ma(e,0),io(e,r),ur(e,Xt()),n;if(t===6)io(e,r);else{if(s=e.current.alternate,!(r&30)&&!h8(s)&&(t=Um(e,r),t===2&&(i=gx(e),i!==0&&(r=i,t=Hx(e,i))),t===1))throw n=_h,Ma(e,0),io(e,r),ur(e,Xt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Q(345));case 2:ua(e,ir,gi);break;case 3:if(io(e,r),(r&130023424)===r&&(t=C1+500-Xt(),10<t)){if(jm(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Zn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nx(ua.bind(null,e,ir,gi),t);break}ua(e,ir,gi);break;case 4:if(io(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ws(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d8(r/1960))-r,10<r){e.timeoutHandle=Nx(ua.bind(null,e,ir,gi),r);break}ua(e,ir,gi);break;case 5:ua(e,ir,gi);break;default:throw Error(Q(329))}}}return ur(e,Xt()),e.callbackNode===n?sI.bind(null,e):null}function Hx(e,t){var n=Wd;return e.current.memoizedState.isDehydrated&&(Ma(e,t).flags|=256),e=Um(e,t),e!==2&&(t=ir,ir=n,t!==null&&Kx(t)),e}function Kx(e){ir===null?ir=e:ir.push.apply(ir,e)}function h8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!js(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function io(e,t){for(t&=~A1,t&=~qg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ws(t),r=1<<n;e[n]=-1,t&=~r}}function S_(e){if(Ke&6)throw Error(Q(327));Sc();var t=jm(e,0);if(!(t&1))return ur(e,Xt()),null;var n=Um(e,t);if(e.tag!==0&&n===2){var r=gx(e);r!==0&&(t=r,n=Hx(e,r))}if(n===1)throw n=_h,Ma(e,0),io(e,t),ur(e,Xt()),n;if(n===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ua(e,ir,gi),ur(e,Xt()),null}function k1(e,t){var n=Ke;Ke|=1;try{return e(t)}finally{Ke=n,Ke===0&&(Wc=Xt()+500,Vg&&Wo())}}function Ha(e){go!==null&&go.tag===0&&!(Ke&6)&&Sc();var t=Ke;Ke|=1;var n=Zr.transition,r=at;try{if(Zr.transition=null,at=1,e)return e()}finally{at=r,Zr.transition=n,Ke=t,!(Ke&6)&&Wo()}}function T1(){br=sc.current,Ct(sc)}function Ma(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zB(n)),on!==null)for(n=on.return;n!==null;){var r=n;switch(u1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cm();break;case 3:Hc(),Ct(lr),Ct(Fn),x1();break;case 5:v1(r);break;case 4:Hc();break;case 13:Ct(Ot);break;case 19:Ct(Ot);break;case 10:p1(r.type._context);break;case 22:case 23:T1()}n=n.return}if(wn=e,on=e=Ao(e.current,null),An=br=t,fn=0,_h=null,A1=qg=Va=0,ir=Wd=null,va!==null){for(t=0;t<va.length;t++)if(n=va[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}va=null}return e}function iI(e,t){do{var n=on;try{if(f1(),Wp.current=$m,Dm){for(var r=$t.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Dm=!1}if(za=0,xn=hn=$t=null,Hd=!1,Sh=0,E1.current=null,n===null||n.return===null){fn=1,_h=t,on=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=An,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=c_(o);if(p!==null){p.flags&=-257,u_(p,o,l,i,t),p.mode&1&&l_(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){l_(i,u,t),P1();break e}c=Error(Q(426))}}else if(It&&l.mode&1){var y=c_(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),u_(y,o,l,i,t),d1(Kc(c,l));break e}}i=c=Kc(c,l),fn!==4&&(fn=2),Wd===null?Wd=[i]:Wd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=zP(i,c,t);n_(i,b);break e;case 1:l=c;var g=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(_o===null||!_o.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=VP(i,l,t);n_(i,j);break e}}i=i.return}while(i!==null)}lI(n)}catch(E){t=E,on===n&&n!==null&&(on=n=n.return);continue}break}while(!0)}function oI(){var e=Lm.current;return Lm.current=$m,e===null?$m:e}function P1(){(fn===0||fn===3||fn===2)&&(fn=4),wn===null||!(Va&268435455)&&!(qg&268435455)||io(wn,An)}function Um(e,t){var n=Ke;Ke|=2;var r=oI();(wn!==e||An!==t)&&(gi=null,Ma(e,t));do try{f8();break}catch(s){iI(e,s)}while(!0);if(f1(),Ke=n,Lm.current=r,on!==null)throw Error(Q(261));return wn=null,An=0,fn}function f8(){for(;on!==null;)aI(on)}function p8(){for(;on!==null&&!B6();)aI(on)}function aI(e){var t=uI(e.alternate,e,br);e.memoizedProps=e.pendingProps,t===null?lI(e):on=t,E1.current=null}function lI(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=a8(n,t),n!==null){n.flags&=32767,on=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fn=6,on=null;return}}else if(n=o8(n,t,br),n!==null){on=n;return}if(t=t.sibling,t!==null){on=t;return}on=t=e}while(t!==null);fn===0&&(fn=5)}function ua(e,t,n){var r=at,s=Zr.transition;try{Zr.transition=null,at=1,m8(e,t,n,r)}finally{Zr.transition=s,at=r}return null}function m8(e,t,n,r){do Sc();while(go!==null);if(Ke&6)throw Error(Q(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Z6(e,i),e===wn&&(on=wn=null,An=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tp||(tp=!0,dI(Sm,function(){return Sc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Zr.transition,Zr.transition=null;var o=at;at=1;var l=Ke;Ke|=4,E1.current=null,c8(e,n),nI(n,e),RB(Sx),Nm=!!bx,Sx=bx=null,e.current=n,u8(n),F6(),Ke=l,at=o,Zr.transition=i}else e.current=n;if(tp&&(tp=!1,go=e,Fm=s),i=e.pendingLanes,i===0&&(_o=null),V6(n.stateNode),ur(e,Xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bm)throw Bm=!1,e=zx,zx=null,e;return Fm&1&&e.tag!==0&&Sc(),i=e.pendingLanes,i&1?e===Vx?qd++:(qd=0,Vx=e):qd=0,Wo(),null}function Sc(){if(go!==null){var e=zT(Fm),t=Zr.transition,n=at;try{if(Zr.transition=null,at=16>e?16:e,go===null)var r=!1;else{if(e=go,go=null,Fm=0,Ke&6)throw Error(Q(331));var s=Ke;for(Ke|=4,ae=e.current;ae!==null;){var i=ae,o=i.child;if(ae.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Kd(8,d,i)}var h=d.child;if(h!==null)h.return=d,ae=h;else for(;ae!==null;){d=ae;var f=d.sibling,p=d.return;if(XP(d),d===u){ae=null;break}if(f!==null){f.return=p,ae=f;break}ae=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}ae=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ae=o;else e:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kd(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,ae=b;break e}ae=i.return}}var g=e.current;for(ae=g;ae!==null;){o=ae;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ae=w;else e:for(o=g;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wg(9,l)}}catch(E){Gt(l,l.return,E)}if(l===o){ae=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ae=j;break e}ae=l.return}}if(Ke=s,Wo(),Gs&&typeof Gs.onPostCommitFiberRoot=="function")try{Gs.onPostCommitFiberRoot(Lg,e)}catch{}r=!0}return r}finally{at=n,Zr.transition=t}}return!1}function j_(e,t,n){t=Kc(n,t),t=zP(e,t,1),e=No(e,t,1),t=Zn(),e!==null&&(of(e,1,t),ur(e,t))}function Gt(e,t,n){if(e.tag===3)j_(e,e,n);else for(;t!==null;){if(t.tag===3){j_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_o===null||!_o.has(r))){e=Kc(n,e),e=VP(t,e,1),t=No(t,e,1),e=Zn(),t!==null&&(of(t,1,e),ur(t,e));break}}t=t.return}}function g8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zn(),e.pingedLanes|=e.suspendedLanes&n,wn===e&&(An&n)===n&&(fn===4||fn===3&&(An&130023424)===An&&500>Xt()-C1?Ma(e,0):A1|=n),ur(e,t)}function cI(e,t){t===0&&(e.mode&1?(t=Kf,Kf<<=1,!(Kf&130023424)&&(Kf=4194304)):t=1);var n=Zn();e=Pi(e,t),e!==null&&(of(e,t,n),ur(e,n))}function y8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cI(e,n)}function v8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(t),cI(e,n)}var uI;uI=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lr.current)ar=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ar=!1,i8(e,t,n);ar=!!(e.flags&131072)}else ar=!1,It&&t.flags&1048576&&pP(t,Pm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gp(e,t),e=t.pendingProps;var s=Uc(t,Fn.current);bc(t,n),s=b1(null,t,r,e,s,n);var i=S1();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cr(r)?(i=!0,km(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,g1(t),s.updater=Kg,t.stateNode=s,s._reactInternals=t,Px(t,r,e,n),t=Ox(null,t,r,!0,i,n)):(t.tag=0,It&&i&&c1(t),Kn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gp(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=w8(r),e=us(r,e),s){case 0:t=Mx(null,t,r,e,n);break e;case 1:t=f_(null,t,r,e,n);break e;case 11:t=d_(null,t,r,e,n);break e;case 14:t=h_(null,t,r,us(r.type,e),n);break e}throw Error(Q(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:us(r,s),Mx(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:us(r,s),f_(e,t,r,s,n);case 3:e:{if(qP(t),e===null)throw Error(Q(387));r=t.pendingProps,i=t.memoizedState,s=i.element,wP(e,t),Om(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Kc(Error(Q(423)),t),t=p_(e,t,r,n,s);break e}else if(r!==s){s=Kc(Error(Q(424)),t),t=p_(e,t,r,n,s);break e}else for(Nr=jo(t.stateNode.containerInfo.firstChild),Er=t,It=!0,ys=null,n=vP(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zc(),r===s){t=Ii(e,t,n);break e}Kn(e,t,r,n)}t=t.child}return t;case 5:return bP(t),e===null&&Cx(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,jx(r,s)?o=null:i!==null&&jx(r,i)&&(t.flags|=32),WP(e,t),Kn(e,t,o,n),t.child;case 6:return e===null&&Cx(t),null;case 13:return GP(e,t,n);case 4:return y1(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vc(t,null,r,n):Kn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:us(r,s),d_(e,t,r,s,n);case 7:return Kn(e,t,t.pendingProps,n),t.child;case 8:return Kn(e,t,t.pendingProps.children,n),t.child;case 12:return Kn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,xt(Im,r._currentValue),r._currentValue=o,i!==null)if(js(i.value,o)){if(i.children===s.children&&!lr.current){t=Ii(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Ei(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),kx(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Q(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),kx(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Kn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,bc(t,n),s=Yr(s),r=r(s),t.flags|=1,Kn(e,t,r,n),t.child;case 14:return r=t.type,s=us(r,t.pendingProps),s=us(r.type,s),h_(e,t,r,s,n);case 15:return HP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:us(r,s),Gp(e,t),t.tag=1,cr(r)?(e=!0,km(t)):e=!1,bc(t,n),UP(t,r,s),Px(t,r,s,n),Ox(null,t,r,!0,e,n);case 19:return ZP(e,t,n);case 22:return KP(e,t,n)}throw Error(Q(156,t.tag))};function dI(e,t){return LT(e,t)}function x8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(e,t,n,r){return new x8(e,t,n,r)}function I1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w8(e){if(typeof e=="function")return I1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jb)return 11;if(e===Qb)return 14}return 2}function Ao(e,t){var n=e.alternate;return n===null?(n=Gr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jp(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")I1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gl:return Oa(n.children,s,i,t);case Yb:o=8,s|=8;break;case tx:return e=Gr(12,n,t,s|2),e.elementType=tx,e.lanes=i,e;case nx:return e=Gr(13,n,t,s),e.elementType=nx,e.lanes=i,e;case rx:return e=Gr(19,n,t,s),e.elementType=rx,e.lanes=i,e;case bT:return Gg(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xT:o=10;break e;case wT:o=9;break e;case Jb:o=11;break e;case Qb:o=14;break e;case to:o=16,r=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Gr(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Oa(e,t,n,r){return e=Gr(7,e,r,t),e.lanes=n,e}function Gg(e,t,n,r){return e=Gr(22,e,r,t),e.elementType=bT,e.lanes=n,e.stateNode={isHidden:!1},e}function Uy(e,t,n){return e=Gr(6,e,null,t),e.lanes=n,e}function zy(e,t,n){return t=Gr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b8(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sy(0),this.expirationTimes=Sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sy(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function M1(e,t,n,r,s,i,o,l,c){return e=new b8(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Gr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},g1(i),e}function S8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ql,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hI(e){if(!e)return Do;e=e._reactInternals;e:{if(ml(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var n=e.type;if(cr(n))return hP(e,n,t)}return t}function fI(e,t,n,r,s,i,o,l,c){return e=M1(n,r,!0,e,s,i,o,l,c),e.context=hI(null),n=e.current,r=Zn(),s=Eo(n),i=Ei(r,s),i.callback=t??null,No(n,i,s),e.current.lanes=s,of(e,s,r),ur(e,r),e}function Zg(e,t,n,r){var s=t.current,i=Zn(),o=Eo(s);return n=hI(n),t.context===null?t.context=n:t.pendingContext=n,t=Ei(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=No(s,t,o),e!==null&&(bs(e,s,o,i),Kp(e,s,o)),o}function zm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function N_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function O1(e,t){N_(e,t),(e=e.alternate)&&N_(e,t)}function j8(){return null}var pI=typeof reportError=="function"?reportError:function(e){console.error(e)};function R1(e){this._internalRoot=e}Yg.prototype.render=R1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Zg(e,t,null,null)};Yg.prototype.unmount=R1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ha(function(){Zg(null,e,null,null)}),t[Ti]=null}};function Yg(e){this._internalRoot=e}Yg.prototype.unstable_scheduleHydration=function(e){if(e){var t=KT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<so.length&&t!==0&&t<so[n].priority;n++);so.splice(n,0,e),n===0&&qT(e)}};function D1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function __(){}function N8(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=zm(o);i.call(u)}}var o=fI(t,r,e,0,null,!1,!1,"",__);return e._reactRootContainer=o,e[Ti]=o.current,yh(e.nodeType===8?e.parentNode:e),Ha(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=zm(c);l.call(u)}}var c=M1(e,0,!1,null,null,!1,!1,"",__);return e._reactRootContainer=c,e[Ti]=c.current,yh(e.nodeType===8?e.parentNode:e),Ha(function(){Zg(t,c,n,r)}),c}function Qg(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=zm(o);l.call(c)}}Zg(t,o,e,s)}else o=N8(n,t,e,s,r);return zm(o)}VT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ed(t.pendingLanes);n!==0&&(t1(t,n|1),ur(t,Xt()),!(Ke&6)&&(Wc=Xt()+500,Wo()))}break;case 13:Ha(function(){var r=Pi(e,1);if(r!==null){var s=Zn();bs(r,e,1,s)}}),O1(e,1)}};n1=function(e){if(e.tag===13){var t=Pi(e,134217728);if(t!==null){var n=Zn();bs(t,e,134217728,n)}O1(e,134217728)}};HT=function(e){if(e.tag===13){var t=Eo(e),n=Pi(e,t);if(n!==null){var r=Zn();bs(n,e,t,r)}O1(e,t)}};KT=function(){return at};WT=function(e,t){var n=at;try{return at=e,t()}finally{at=n}};fx=function(e,t,n){switch(t){case"input":if(ox(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=zg(r);if(!s)throw Error(Q(90));jT(r),ox(r,s)}}}break;case"textarea":_T(e,n);break;case"select":t=n.value,t!=null&&yc(e,!!n.multiple,t,!1)}};IT=k1;MT=Ha;var _8={usingClientEntryPoint:!1,Events:[lf,Ql,zg,TT,PT,k1]},md={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E8={bundleType:md.bundleType,version:md.version,rendererPackageName:md.rendererPackageName,rendererConfig:md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DT(e),e===null?null:e.stateNode},findFiberByHostInstance:md.findFiberByHostInstance||j8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!np.isDisabled&&np.supportsFiber)try{Lg=np.inject(E8),Gs=np}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_8;Rr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D1(t))throw Error(Q(200));return S8(e,t,null,n)};Rr.createRoot=function(e,t){if(!D1(e))throw Error(Q(299));var n=!1,r="",s=pI;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=M1(e,1,!1,null,null,n,!1,r,s),e[Ti]=t.current,yh(e.nodeType===8?e.parentNode:e),new R1(t)};Rr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=DT(t),e=e===null?null:e.stateNode,e};Rr.flushSync=function(e){return Ha(e)};Rr.hydrate=function(e,t,n){if(!Jg(t))throw Error(Q(200));return Qg(null,e,t,!0,n)};Rr.hydrateRoot=function(e,t,n){if(!D1(e))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=pI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=fI(t,null,e,1,n??null,s,!1,i,o),e[Ti]=t.current,yh(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yg(t)};Rr.render=function(e,t,n){if(!Jg(t))throw Error(Q(200));return Qg(null,e,t,!1,n)};Rr.unmountComponentAtNode=function(e){if(!Jg(e))throw Error(Q(40));return e._reactRootContainer?(Ha(function(){Qg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ti]=null})}),!0):!1};Rr.unstable_batchedUpdates=k1;Rr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jg(n))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Qg(e,t,n,!1,r)};Rr.version="18.3.1-next-f1338f8080-20240426";function mI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mI)}catch(e){console.error(e)}}mI(),mT.exports=Rr;var gl=mT.exports;const gI=bu(gl);var yI,E_=gl;yI=E_.createRoot,E_.hydrateRoot;function ve(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function A_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vI(...e){return t=>{let n=!1;const r=e.map(s=>{const i=A_(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():A_(e[s],null)}}}}function bt(...e){return S.useCallback(vI(...e),e)}function A8(e,t){const n=S.createContext(t),r=i=>{const{children:o,...l}=i,c=S.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=S.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function qo(e,t=[]){let n=[];function r(i,o){const l=S.createContext(o),c=n.length;n=[...n,o];const u=h=>{var b;const{scope:f,children:p,...x}=h,m=((b=f==null?void 0:f[e])==null?void 0:b[c])||l,y=S.useMemo(()=>x,Object.values(x));return a.jsx(m.Provider,{value:y,children:p})};u.displayName=i+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[e])==null?void 0:m[c])||l,x=S.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>S.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return S.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,C8(s,...t)]}function C8(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function qc(e){const t=T8(e),n=S.forwardRef((r,s)=>{const{children:i,...o}=r,l=S.Children.toArray(i),c=l.find(I8);if(c){const u=c.props.children,d=l.map(h=>h===c?S.Children.count(u)>1?S.Children.only(null):S.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:S.isValidElement(u)?S.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var k8=qc("Slot");function T8(e){const t=S.forwardRef((n,r)=>{const{children:s,...i}=n;if(S.isValidElement(s)){const o=O8(s),l=M8(i,s.props);return s.type!==S.Fragment&&(l.ref=r?vI(r,o):o),S.cloneElement(s,l)}return S.Children.count(s)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xI=Symbol("radix.slottable");function P8(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=xI,t}function I8(e){return S.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xI}function M8(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function O8(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $1(e){const t=e+"CollectionProvider",[n,r]=qo(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:b}=m,g=ee.useRef(null),w=ee.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:w,collectionRef:g,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=qc(l),u=ee.forwardRef((m,y)=>{const{scope:b,children:g}=m,w=i(l,b),j=bt(y,w.collectionRef);return a.jsx(c,{ref:j,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=qc(d),p=ee.forwardRef((m,y)=>{const{scope:b,children:g,...w}=m,j=ee.useRef(null),E=bt(y,j),M=i(d,b);return ee.useEffect(()=>(M.itemMap.set(j,{ref:j,...w}),()=>void M.itemMap.delete(j))),a.jsx(f,{[h]:"",ref:E,children:g})});p.displayName=d;function x(m){const y=i(e+"CollectionConsumer",m);return ee.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((M,O)=>w.indexOf(M.ref.current)-w.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},x,r]}var R8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ke=R8.reduce((e,t)=>{const n=qc(`Primitive.${t}`),r=S.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function wI(e,t){e&&gl.flushSync(()=>e.dispatchEvent(t))}function Qr(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function D8(e,t=globalThis==null?void 0:globalThis.document){const n=Qr(e);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var $8="DismissableLayer",Wx="dismissableLayer.update",L8="dismissableLayer.pointerDownOutside",B8="dismissableLayer.focusOutside",C_,bI=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uf=S.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=S.useContext(bI),[d,h]=S.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=S.useState({}),x=bt(t,O=>h(O)),m=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(y),g=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=g>=b,E=U8(O=>{const B=O.target,z=[...u.branches].some($=>$.contains(B));!j||z||(s==null||s(O),o==null||o(O),O.defaultPrevented||l==null||l())},f),M=z8(O=>{const B=O.target;[...u.branches].some($=>$.contains(B))||(i==null||i(O),o==null||o(O),O.defaultPrevented||l==null||l())},f);return D8(O=>{g===u.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},f),S.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(C_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),k_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=C_)}},[d,f,n,u]),S.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),k_())},[d,u]),S.useEffect(()=>{const O=()=>p({});return document.addEventListener(Wx,O),()=>document.removeEventListener(Wx,O)},[]),a.jsx(ke.div,{...c,ref:x,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:ve(e.onFocusCapture,M.onFocusCapture),onBlurCapture:ve(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ve(e.onPointerDownCapture,E.onPointerDownCapture)})});uf.displayName=$8;var F8="DismissableLayerBranch",SI=S.forwardRef((e,t)=>{const n=S.useContext(bI),r=S.useRef(null),s=bt(t,r);return S.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(ke.div,{...e,ref:s})});SI.displayName=F8;function U8(e,t=globalThis==null?void 0:globalThis.document){const n=Qr(e),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){jI(L8,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function z8(e,t=globalThis==null?void 0:globalThis.document){const n=Qr(e),r=S.useRef(!1);return S.useEffect(()=>{const s=i=>{i.target&&!r.current&&jI(B8,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k_(){const e=new CustomEvent(Wx);document.dispatchEvent(e)}function jI(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?wI(s,i):s.dispatchEvent(i)}var V8=uf,H8=SI,kn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},K8="Portal",Xg=S.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,i]=S.useState(!1);kn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?gI.createPortal(a.jsx(ke.div,{...r,ref:t}),o):null});Xg.displayName=K8;function W8(e,t){return S.useReducer((n,r)=>t[n][r]??n,e)}var yl=e=>{const{present:t,children:n}=e,r=q8(t),s=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),i=bt(r.ref,G8(s));return typeof n=="function"||r.isPresent?S.cloneElement(s,{ref:i}):null};yl.displayName="Presence";function q8(e){const[t,n]=S.useState(),r=S.useRef(null),s=S.useRef(e),i=S.useRef("none"),o=e?"mounted":"unmounted",[l,c]=W8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const u=rp(r.current);i.current=l==="mounted"?u:"none"},[l]),kn(()=>{const u=r.current,d=s.current;if(d!==e){const f=i.current,p=rp(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),kn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=p=>{const m=rp(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},f=p=>{p.target===t&&(i.current=rp(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:S.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function rp(e){return(e==null?void 0:e.animationName)||"none"}function G8(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Z8=Wb[" useInsertionEffect ".trim().toString()]||kn;function Gc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,o]=Y8({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=S.useRef(e!==void 0);S.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=S.useCallback(d=>{var h;if(l){const f=J8(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else i(d)},[l,e,i,o]);return[c,u]}function Y8({defaultProp:e,onChange:t}){const[n,r]=S.useState(e),s=S.useRef(n),i=S.useRef(t);return Z8(()=>{i.current=t},[t]),S.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function J8(e){return typeof e=="function"}var NI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Q8="VisuallyHidden",e0=S.forwardRef((e,t)=>a.jsx(ke.span,{...e,ref:t,style:{...NI,...e.style}}));e0.displayName=Q8;var X8=e0,L1="ToastProvider",[B1,eF,tF]=$1("Toast"),[_I]=qo("Toast",[tF]),[nF,t0]=_I(L1),EI=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,c]=S.useState(null),[u,d]=S.useState(0),h=S.useRef(!1),f=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${L1}\`. Expected non-empty \`string\`.`),a.jsx(B1.Provider,{scope:t,children:a.jsx(nF,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:S.useCallback(()=>d(p=>p+1),[]),onToastRemove:S.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};EI.displayName=L1;var AI="ToastViewport",rF=["F8"],qx="toast.viewportPause",Gx="toast.viewportResume",CI=S.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=rF,label:s="Notifications ({hotkey})",...i}=e,o=t0(AI,n),l=eF(n),c=S.useRef(null),u=S.useRef(null),d=S.useRef(null),h=S.useRef(null),f=bt(t,h,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;S.useEffect(()=>{const y=b=>{var w;r.length!==0&&r.every(j=>b[j]||b.code===j)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),S.useEffect(()=>{const y=c.current,b=h.current;if(x&&y&&b){const g=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(qx);b.dispatchEvent(M),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Gx);b.dispatchEvent(M),o.isClosePausedRef.current=!1}},j=M=>{!y.contains(M.relatedTarget)&&w()},E=()=>{y.contains(document.activeElement)||w()};return y.addEventListener("focusin",g),y.addEventListener("focusout",j),y.addEventListener("pointermove",g),y.addEventListener("pointerleave",E),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{y.removeEventListener("focusin",g),y.removeEventListener("focusout",j),y.removeEventListener("pointermove",g),y.removeEventListener("pointerleave",E),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const m=S.useCallback(({tabbingDirection:y})=>{const g=l().map(w=>{const j=w.ref.current,E=[j,...gF(j)];return y==="forwards"?E:E.reverse()});return(y==="forwards"?g.reverse():g).flat()},[l]);return S.useEffect(()=>{const y=h.current;if(y){const b=g=>{var E,M,O;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const B=document.activeElement,z=g.shiftKey;if(g.target===y&&z){(E=u.current)==null||E.focus();return}const U=m({tabbingDirection:z?"backwards":"forwards"}),P=U.findIndex(v=>v===B);Vy(U.slice(P+1))?g.preventDefault():z?(M=u.current)==null||M.focus():(O=d.current)==null||O.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,m]),a.jsxs(H8,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&a.jsx(Zx,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});Vy(y)}}),a.jsx(B1.Slot,{scope:n,children:a.jsx(ke.ol,{tabIndex:-1,...i,ref:f})}),x&&a.jsx(Zx,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});Vy(y)}})]})});CI.displayName=AI;var kI="ToastFocusProxy",Zx=S.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=t0(kI,n);return a.jsx(e0,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});Zx.displayName=kI;var df="Toast",sF="toast.swipeStart",iF="toast.swipeMove",oF="toast.swipeCancel",aF="toast.swipeEnd",TI=S.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[l,c]=Gc({prop:r,defaultProp:s??!0,onChange:i,caller:df});return a.jsx(yl,{present:n||l,children:a.jsx(uF,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Qr(e.onPause),onResume:Qr(e.onResume),onSwipeStart:ve(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ve(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});TI.displayName=df;var[lF,cF]=_I(df,{onClose(){}}),uF=S.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...x}=e,m=t0(df,n),[y,b]=S.useState(null),g=bt(t,v=>b(v)),w=S.useRef(null),j=S.useRef(null),E=s||m.duration,M=S.useRef(0),O=S.useRef(E),B=S.useRef(0),{onToastAdd:z,onToastRemove:$}=m,F=Qr(()=>{var _;(y==null?void 0:y.contains(document.activeElement))&&((_=m.viewport)==null||_.focus()),o()}),U=S.useCallback(v=>{!v||v===1/0||(window.clearTimeout(B.current),M.current=new Date().getTime(),B.current=window.setTimeout(F,v))},[F]);S.useEffect(()=>{const v=m.viewport;if(v){const _=()=>{U(O.current),u==null||u()},A=()=>{const k=new Date().getTime()-M.current;O.current=O.current-k,window.clearTimeout(B.current),c==null||c()};return v.addEventListener(qx,A),v.addEventListener(Gx,_),()=>{v.removeEventListener(qx,A),v.removeEventListener(Gx,_)}}},[m.viewport,E,c,u,U]),S.useEffect(()=>{i&&!m.isClosePausedRef.current&&U(E)},[i,E,m.isClosePausedRef,U]),S.useEffect(()=>(z(),()=>$()),[z,$]);const P=S.useMemo(()=>y?$I(y):null,[y]);return m.viewport?a.jsxs(a.Fragment,{children:[P&&a.jsx(dF,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:P}),a.jsx(lF,{scope:n,onClose:F,children:gl.createPortal(a.jsx(B1.ItemSlot,{scope:n,children:a.jsx(V8,{asChild:!0,onEscapeKeyDown:ve(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||F(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(ke.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ve(e.onKeyDown,v=>{v.key==="Escape"&&(l==null||l(v.nativeEvent),v.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:ve(e.onPointerDown,v=>{v.button===0&&(w.current={x:v.clientX,y:v.clientY})}),onPointerMove:ve(e.onPointerMove,v=>{if(!w.current)return;const _=v.clientX-w.current.x,A=v.clientY-w.current.y,k=!!j.current,C=["left","right"].includes(m.swipeDirection),T=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,L=C?T(0,_):0,I=C?0:T(0,A),N=v.pointerType==="touch"?10:2,R={x:L,y:I},J={originalEvent:v,delta:R};k?(j.current=R,sp(iF,h,J,{discrete:!1})):T_(R,m.swipeDirection,N)?(j.current=R,sp(sF,d,J,{discrete:!1}),v.target.setPointerCapture(v.pointerId)):(Math.abs(_)>N||Math.abs(A)>N)&&(w.current=null)}),onPointerUp:ve(e.onPointerUp,v=>{const _=j.current,A=v.target;if(A.hasPointerCapture(v.pointerId)&&A.releasePointerCapture(v.pointerId),j.current=null,w.current=null,_){const k=v.currentTarget,C={originalEvent:v,delta:_};T_(_,m.swipeDirection,m.swipeThreshold)?sp(aF,p,C,{discrete:!0}):sp(oF,f,C,{discrete:!0}),k.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),dF=e=>{const{__scopeToast:t,children:n,...r}=e,s=t0(df,t),[i,o]=S.useState(!1),[l,c]=S.useState(!1);return pF(()=>o(!0)),S.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Xg,{asChild:!0,children:a.jsx(e0,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},hF="ToastTitle",PI=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ke.div,{...r,ref:t})});PI.displayName=hF;var fF="ToastDescription",II=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(ke.div,{...r,ref:t})});II.displayName=fF;var MI="ToastAction",OI=S.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(DI,{altText:n,asChild:!0,children:a.jsx(F1,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${MI}\`. Expected non-empty \`string\`.`),null)});OI.displayName=MI;var RI="ToastClose",F1=S.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=cF(RI,n);return a.jsx(DI,{asChild:!0,children:a.jsx(ke.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,s.onClose)})})});F1.displayName=RI;var DI=S.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(ke.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function $I(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),mF(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...$I(r))}}),t}function sp(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?wI(s,i):s.dispatchEvent(i)}var T_=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function pF(e=()=>{}){const t=Qr(e);kn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function mF(e){return e.nodeType===e.ELEMENT_NODE}function gF(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vy(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var yF=EI,LI=CI,BI=TI,FI=PI,UI=II,zI=OI,VI=F1;function HI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=HI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function KI(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=HI(e))&&(r&&(r+=" "),r+=t);return r}const P_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,I_=KI,n0=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return I_(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=P_(d)||P_(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(x=>{let[m,y]=x;return Array.isArray(y)?y.includes({...i,...l}[m]):{...i,...l}[m]===y})?[...u,h,f]:u},[]);return I_(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const n=S.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>S.createElement("svg",{ref:d,...vF,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${xF(e)}`,l].join(" "),...u},[...t.map(([h,f])=>S.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=ce("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ce("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=ce("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=ce("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=ce("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=ce("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ce("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=ce("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=ce("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=ce("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ce("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ce("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ce("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=ce("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ce("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=ce("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=ce("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ce("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),W1="-",LF=e=>{const t=FF(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(W1);return l[0]===""&&l.length!==1&&l.shift(),JI(l,t)||BF(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},JI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?JI(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(W1);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},F_=/^\[(.+)\]$/,BF=e=>{if(F_.test(e)){const t=F_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},FF=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return zF(Object.entries(e.classGroups),n).forEach(([i,o])=>{Yx(o,r,i,t)}),r},Yx=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:U_(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(UF(s)){Yx(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Yx(o,U_(t,i),n,r)})})},U_=(e,t)=>{let n=e;return t.split(W1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},UF=e=>e.isThemeGetter,zF=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,s]}):e,VF=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},QI="!",HF=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===s&&(r||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(b==="/"){h=y;continue}}b==="["?u++:b==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(QI),x=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},KF=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},WF=e=>({cache:VF(e.cacheSize),parseClassName:HF(e),...LF(e)}),qF=/\s+/,GF=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(qF);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=n(u);let x=!!p,m=r(x?f.substring(0,p):f);if(!m){if(!x){l=u+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=KF(d).join(":"),b=h?y+QI:y,g=b+m;if(i.includes(g))continue;i.push(g);const w=s(m,x);for(let j=0;j<w.length;++j){const E=w[j];i.push(b+E)}l=u+(l.length>0?" "+l:l)}return l};function ZF(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=XI(t))&&(r&&(r+=" "),r+=n);return r}const XI=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=XI(e[r]))&&(n&&(n+=" "),n+=t);return n};function YF(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return n=WF(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=GF(c,n);return s(c,d),d}return function(){return i(ZF.apply(null,arguments))}}const Et=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},eM=/^\[(?:([a-z-]+):)?(.+)\]$/i,JF=/^\d+\/\d+$/,QF=new Set(["px","full","screen"]),XF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fi=e=>Nc(e)||QF.has(e)||JF.test(e),Hi=e=>Au(e,"length",dU),Nc=e=>!!e&&!Number.isNaN(Number(e)),Hy=e=>Au(e,"number",Nc),gd=e=>!!e&&Number.isInteger(Number(e)),sU=e=>e.endsWith("%")&&Nc(e.slice(0,-1)),Ee=e=>eM.test(e),Ki=e=>XF.test(e),iU=new Set(["length","size","percentage"]),oU=e=>Au(e,iU,tM),aU=e=>Au(e,"position",tM),lU=new Set(["image","url"]),cU=e=>Au(e,lU,fU),uU=e=>Au(e,"",hU),yd=()=>!0,Au=(e,t,n)=>{const r=eM.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},dU=e=>eU.test(e)&&!tU.test(e),tM=()=>!1,hU=e=>nU.test(e),fU=e=>rU.test(e),pU=()=>{const e=Et("colors"),t=Et("spacing"),n=Et("blur"),r=Et("brightness"),s=Et("borderColor"),i=Et("borderRadius"),o=Et("borderSpacing"),l=Et("borderWidth"),c=Et("contrast"),u=Et("grayscale"),d=Et("hueRotate"),h=Et("invert"),f=Et("gap"),p=Et("gradientColorStops"),x=Et("gradientColorStopPositions"),m=Et("inset"),y=Et("margin"),b=Et("opacity"),g=Et("padding"),w=Et("saturate"),j=Et("scale"),E=Et("sepia"),M=Et("skew"),O=Et("space"),B=Et("translate"),z=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ee,t],U=()=>[Ee,t],P=()=>["",fi,Hi],v=()=>["auto",Nc,Ee],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Ee],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Nc,Ee];return{cacheSize:500,separator:":",theme:{colors:[yd],spacing:[fi,Hi],blur:["none","",Ki,Ee],brightness:I(),borderColor:[e],borderRadius:["none","","full",Ki,Ee],borderSpacing:U(),borderWidth:P(),contrast:I(),grayscale:T(),hueRotate:I(),invert:T(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[sU,Hi],inset:F(),margin:F(),opacity:I(),padding:U(),saturate:I(),scale:I(),sepia:T(),skew:I(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Ee]}],container:["container"],columns:[{columns:[Ki]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),Ee]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gd,Ee]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ee]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",gd,Ee]}],"grid-cols":[{"grid-cols":[yd]}],"col-start-end":[{col:["auto",{span:["full",gd,Ee]},Ee]}],"col-start":[{"col-start":v()}],"col-end":[{"col-end":v()}],"grid-rows":[{"grid-rows":[yd]}],"row-start-end":[{row:["auto",{span:[gd,Ee]},Ee]}],"row-start":[{"row-start":v()}],"row-end":[{"row-end":v()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ee]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ee]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ee,t]}],"min-w":[{"min-w":[Ee,t,"min","max","fit"]}],"max-w":[{"max-w":[Ee,t,"none","full","min","max","fit","prose",{screen:[Ki]},Ki]}],h:[{h:[Ee,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ee,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ee,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ki,Hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hy]}],"font-family":[{font:[yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ee]}],"line-clamp":[{"line-clamp":["none",Nc,Hy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,Ee]}],"list-image":[{"list-image":["none",Ee]}],"list-style-type":[{list:["none","disc","decimal",Ee]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,Hi]}],"underline-offset":[{"underline-offset":["auto",fi,Ee]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),aU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[fi,Ee]}],"outline-w":[{outline:[fi,Hi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[fi,Hi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ki,uU]}],"shadow-color":[{shadow:[yd]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ki,Ee]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ee]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",Ee]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ee]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[gd,Ee]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ee]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fi,Hi,Hy]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mU=YF(pU);function Ie(...e){return mU(KI(e))}const gU=yF,nM=S.forwardRef(({className:e,...t},n)=>a.jsx(LI,{ref:n,className:Ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));nM.displayName=LI.displayName;const yU=n0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rM=S.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(BI,{ref:r,className:Ie(yU({variant:t}),e),...n}));rM.displayName=BI.displayName;const vU=S.forwardRef(({className:e,...t},n)=>a.jsx(zI,{ref:n,className:Ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));vU.displayName=zI.displayName;const sM=S.forwardRef(({className:e,...t},n)=>a.jsx(VI,{ref:n,className:Ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Eu,{className:"h-4 w-4"})}));sM.displayName=VI.displayName;const iM=S.forwardRef(({className:e,...t},n)=>a.jsx(FI,{ref:n,className:Ie("text-sm font-semibold",e),...t}));iM.displayName=FI.displayName;const oM=S.forwardRef(({className:e,...t},n)=>a.jsx(UI,{ref:n,className:Ie("text-sm opacity-90",e),...t}));oM.displayName=UI.displayName;const xU=1,wU=1e6;let Ky=0;function bU(){return Ky=(Ky+1)%Number.MAX_SAFE_INTEGER,Ky.toString()}const Wy=new Map,z_=e=>{if(Wy.has(e))return;const t=setTimeout(()=>{Wy.delete(e),Jd({type:"REMOVE_TOAST",toastId:e})},wU);Wy.set(e,t)},SU=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xU)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?z_(n):e.toasts.forEach(r=>{z_(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Xp=[];let em={toasts:[]};function Jd(e){em=SU(em,e),Xp.forEach(t=>{t(em)})}function jU({...e}){const t=bU(),n=s=>Jd({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Jd({type:"DISMISS_TOAST",toastId:t});return Jd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Cu(){const[e,t]=S.useState(em);return S.useEffect(()=>(Xp.push(t),()=>{const n=Xp.indexOf(t);n>-1&&Xp.splice(n,1)}),[e]),{...e,toast:jU,dismiss:n=>Jd({type:"DISMISS_TOAST",toastId:n})}}function NU(){const{toasts:e}=Cu();return a.jsxs(gU,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(rM,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(iM,{children:n}),r&&a.jsx(oM,{children:r})]}),s,a.jsx(sM,{})]},t)}),a.jsx(nM,{})]})}var _U=e=>{switch(e){case"success":return CU;case"info":return TU;case"warning":return kU;case"error":return PU;default:return null}},EU=Array(12).fill(0),AU=({visible:e,className:t})=>ee.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ee.createElement("div",{className:"sonner-spinner"},EU.map((n,r)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),CU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),kU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IU=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MU=()=>{let[e,t]=ee.useState(document.hidden);return ee.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Jx=1,OU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Jx++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:r}),{...c,...t,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=t instanceof Promise?t:t(),i=r!==void 0,o,l=s.then(async u=>{if(o=["resolve",u],ee.isValidElement(u))i=!1,this.create({id:r,type:"default",message:u});else if(DU(u)&&!u.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:h})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:h})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:h})}}).finally(()=>{var u;i&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||Jx++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},sr=new OU,RU=(e,t)=>{let n=(t==null?void 0:t.id)||Jx++;return sr.addToast({title:e,...t,id:n}),n},DU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$U=RU,LU=()=>sr.toasts,BU=()=>sr.getActiveToasts(),Bs=Object.assign($U,{success:sr.success,info:sr.info,warning:sr.warning,error:sr.error,custom:sr.custom,message:sr.message,promise:sr.promise,dismiss:sr.dismiss,loading:sr.loading},{getHistory:LU,getToasts:BU});function FU(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}FU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ip(e){return e.label!==void 0}var UU=3,zU="32px",VU="16px",V_=4e3,HU=356,KU=14,WU=20,qU=200;function ss(...e){return e.filter(Boolean).join(" ")}function GU(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var ZU=e=>{var t,n,r,s,i,o,l,c,u,d,h;let{invert:f,toast:p,unstyled:x,interacting:m,setHeights:y,visibleToasts:b,heights:g,index:w,toasts:j,expanded:E,removeToast:M,defaultRichColors:O,closeButton:B,style:z,cancelButtonStyle:$,actionButtonStyle:F,className:U="",descriptionClassName:P="",duration:v,position:_,gap:A,loadingIcon:k,expandByDefault:C,classNames:T,icons:L,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:N}=e,[R,J]=ee.useState(null),[te,re]=ee.useState(null),[X,he]=ee.useState(!1),[we,Oe]=ee.useState(!1),[ue,fe]=ee.useState(!1),[Jt,Re]=ee.useState(!1),[qe,zn]=ee.useState(!1),[Ge,lt]=ee.useState(0),[ns,ct]=ee.useState(0),Xe=ee.useRef(p.duration||v||V_),Fi=ee.useRef(null),Ze=ee.useRef(null),Ye=w===0,ui=w+1<=b,$e=p.type,et=p.dismissible!==!1,na=p.className||"",jt=p.descriptionClassName||"",ht=ee.useMemo(()=>g.findIndex(oe=>oe.toastId===p.id)||0,[g,p.id]),Cl=ee.useMemo(()=>{var oe;return(oe=p.closeButton)!=null?oe:B},[p.closeButton,B]),Nt=ee.useMemo(()=>p.duration||v||V_,[p.duration,v]),gt=ee.useRef(0),$r=ee.useRef(0),_t=ee.useRef(0),it=ee.useRef(null),[Ui,ut]=_.split("-"),ft=ee.useMemo(()=>g.reduce((oe,He,be)=>be>=ht?oe:oe+He.height,0),[g,ht]),di=MU(),yt=p.invert||f,tt=$e==="loading";$r.current=ee.useMemo(()=>ht*A+ft,[ht,ft]),ee.useEffect(()=>{Xe.current=Nt},[Nt]),ee.useEffect(()=>{he(!0)},[]),ee.useEffect(()=>{let oe=Ze.current;if(oe){let He=oe.getBoundingClientRect().height;return ct(He),y(be=>[{toastId:p.id,height:He,position:p.position},...be]),()=>y(be=>be.filter(Le=>Le.toastId!==p.id))}},[y,p.id]),ee.useLayoutEffect(()=>{if(!X)return;let oe=Ze.current,He=oe.style.height;oe.style.height="auto";let be=oe.getBoundingClientRect().height;oe.style.height=He,ct(be),y(Le=>Le.find(bn=>bn.toastId===p.id)?Le.map(bn=>bn.toastId===p.id?{...bn,height:be}:bn):[{toastId:p.id,height:be,position:p.position},...Le])},[X,p.title,p.description,y,p.id]);let yr=ee.useCallback(()=>{Oe(!0),lt($r.current),y(oe=>oe.filter(He=>He.toastId!==p.id)),setTimeout(()=>{M(p)},qU)},[p,M,y,$r]);ee.useEffect(()=>{if(p.promise&&$e==="loading"||p.duration===1/0||p.type==="loading")return;let oe;return E||m||N&&di?(()=>{if(_t.current<gt.current){let He=new Date().getTime()-gt.current;Xe.current=Xe.current-He}_t.current=new Date().getTime()})():Xe.current!==1/0&&(gt.current=new Date().getTime(),oe=setTimeout(()=>{var He;(He=p.onAutoClose)==null||He.call(p,p),yr()},Xe.current)),()=>clearTimeout(oe)},[E,m,p,$e,N,di,yr]),ee.useEffect(()=>{p.delete&&yr()},[yr,p.delete]);function Tt(){var oe,He,be;return L!=null&&L.loading?ee.createElement("div",{className:ss(T==null?void 0:T.loader,(oe=p==null?void 0:p.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":$e==="loading"},L.loading):k?ee.createElement("div",{className:ss(T==null?void 0:T.loader,(He=p==null?void 0:p.classNames)==null?void 0:He.loader,"sonner-loader"),"data-visible":$e==="loading"},k):ee.createElement(AU,{className:ss(T==null?void 0:T.loader,(be=p==null?void 0:p.classNames)==null?void 0:be.loader),visible:$e==="loading"})}return ee.createElement("li",{tabIndex:0,ref:Ze,className:ss(U,na,T==null?void 0:T.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[$e],(n=p==null?void 0:p.classNames)==null?void 0:n[$e]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:O,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":X,"data-promise":!!p.promise,"data-swiped":qe,"data-removed":we,"data-visible":ui,"data-y-position":Ui,"data-x-position":ut,"data-index":w,"data-front":Ye,"data-swiping":ue,"data-dismissible":et,"data-type":$e,"data-invert":yt,"data-swipe-out":Jt,"data-swipe-direction":te,"data-expanded":!!(E||C&&X),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${we?Ge:$r.current}px`,"--initial-height":C?"auto":`${ns}px`,...z,...p.style},onDragEnd:()=>{fe(!1),J(null),it.current=null},onPointerDown:oe=>{tt||!et||(Fi.current=new Date,lt($r.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(fe(!0),it.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,He,be,Le;if(Jt||!et)return;it.current=null;let bn=Number(((oe=Ze.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pe=Number(((He=Ze.current)==null?void 0:He.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),nt=new Date().getTime()-((be=Fi.current)==null?void 0:be.getTime()),Tn=R==="x"?bn:Pe,Je=Math.abs(Tn)/nt;if(Math.abs(Tn)>=WU||Je>.11){lt($r.current),(Le=p.onDismiss)==null||Le.call(p,p),re(R==="x"?bn>0?"right":"left":Pe>0?"down":"up"),yr(),Re(!0),zn(!1);return}fe(!1),J(null)},onPointerMove:oe=>{var He,be,Le,bn;if(!it.current||!et||((He=window.getSelection())==null?void 0:He.toString().length)>0)return;let Pe=oe.clientY-it.current.y,nt=oe.clientX-it.current.x,Tn=(be=e.swipeDirections)!=null?be:GU(_);!R&&(Math.abs(nt)>1||Math.abs(Pe)>1)&&J(Math.abs(nt)>Math.abs(Pe)?"x":"y");let Je={x:0,y:0};R==="y"?(Tn.includes("top")||Tn.includes("bottom"))&&(Tn.includes("top")&&Pe<0||Tn.includes("bottom")&&Pe>0)&&(Je.y=Pe):R==="x"&&(Tn.includes("left")||Tn.includes("right"))&&(Tn.includes("left")&&nt<0||Tn.includes("right")&&nt>0)&&(Je.x=nt),(Math.abs(Je.x)>0||Math.abs(Je.y)>0)&&zn(!0),(Le=Ze.current)==null||Le.style.setProperty("--swipe-amount-x",`${Je.x}px`),(bn=Ze.current)==null||bn.style.setProperty("--swipe-amount-y",`${Je.y}px`)}},Cl&&!p.jsx?ee.createElement("button",{"aria-label":I,"data-disabled":tt,"data-close-button":!0,onClick:tt||!et?()=>{}:()=>{var oe;yr(),(oe=p.onDismiss)==null||oe.call(p,p)},className:ss(T==null?void 0:T.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=L==null?void 0:L.close)!=null?i:IU):null,p.jsx||S.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:ee.createElement(ee.Fragment,null,$e||p.icon||p.promise?ee.createElement("div",{"data-icon":"",className:ss(T==null?void 0:T.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Tt():null,p.type!=="loading"?p.icon||(L==null?void 0:L[$e])||_U($e):null):null,ee.createElement("div",{"data-content":"",className:ss(T==null?void 0:T.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},ee.createElement("div",{"data-title":"",className:ss(T==null?void 0:T.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?ee.createElement("div",{"data-description":"",className:ss(P,jt,T==null?void 0:T.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),S.isValidElement(p.cancel)?p.cancel:p.cancel&&ip(p.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||$,onClick:oe=>{var He,be;ip(p.cancel)&&et&&((be=(He=p.cancel).onClick)==null||be.call(He,oe),yr())},className:ss(T==null?void 0:T.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,S.isValidElement(p.action)?p.action:p.action&&ip(p.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||F,onClick:oe=>{var He,be;ip(p.action)&&((be=(He=p.action).onClick)==null||be.call(He,oe),!oe.defaultPrevented&&yr())},className:ss(T==null?void 0:T.actionButton,(h=p==null?void 0:p.classNames)==null?void 0:h.actionButton)},p.action.label):null))};function H_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function YU(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?VU:zU;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var JU=S.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:p,visibleToasts:x=UU,toastOptions:m,dir:y=H_(),gap:b=KU,loadingIcon:g,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:E}=e,[M,O]=ee.useState([]),B=ee.useMemo(()=>Array.from(new Set([r].concat(M.filter(N=>N.position).map(N=>N.position)))),[M,r]),[z,$]=ee.useState([]),[F,U]=ee.useState(!1),[P,v]=ee.useState(!1),[_,A]=ee.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=ee.useRef(null),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=ee.useRef(null),L=ee.useRef(!1),I=ee.useCallback(N=>{O(R=>{var J;return(J=R.find(te=>te.id===N.id))!=null&&J.delete||sr.dismiss(N.id),R.filter(({id:te})=>te!==N.id)})},[]);return ee.useEffect(()=>sr.subscribe(N=>{if(N.dismiss){O(R=>R.map(J=>J.id===N.id?{...J,delete:!0}:J));return}setTimeout(()=>{gI.flushSync(()=>{O(R=>{let J=R.findIndex(te=>te.id===N.id);return J!==-1?[...R.slice(0,J),{...R[J],...N},...R.slice(J+1)]:[N,...R]})})})}),[]),ee.useEffect(()=>{if(d!=="system"){A(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:R})=>{A(R?"dark":"light")})}catch{N.addListener(({matches:J})=>{try{A(J?"dark":"light")}catch(te){console.error(te)}})}},[d]),ee.useEffect(()=>{M.length<=1&&U(!1)},[M]),ee.useEffect(()=>{let N=R=>{var J,te;s.every(re=>R[re]||R.code===re)&&(U(!0),(J=k.current)==null||J.focus()),R.code==="Escape"&&(document.activeElement===k.current||(te=k.current)!=null&&te.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[s]),ee.useEffect(()=>{if(k.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,L.current=!1)}},[k.current]),ee.createElement("section",{ref:t,"aria-label":`${j} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((N,R)=>{var J;let[te,re]=N.split("-");return M.length?ee.createElement("ol",{key:N,dir:y==="auto"?H_():y,tabIndex:-1,ref:k,className:l,"data-sonner-toaster":!0,"data-theme":_,"data-y-position":te,"data-lifted":F&&M.length>1&&!i,"data-x-position":re,style:{"--front-toast-height":`${((J=z[0])==null?void 0:J.height)||0}px`,"--width":`${HU}px`,"--gap":`${b}px`,...p,...YU(c,u)},onBlur:X=>{L.current&&!X.currentTarget.contains(X.relatedTarget)&&(L.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||L.current||(L.current=!0,T.current=X.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{P||U(!1)},onDragEnd:()=>U(!1),onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||v(!0)},onPointerUp:()=>v(!1)},M.filter(X=>!X.position&&R===0||X.position===N).map((X,he)=>{var we,Oe;return ee.createElement(ZU,{key:X.id,icons:w,index:he,toast:X,defaultRichColors:h,duration:(we=m==null?void 0:m.duration)!=null?we:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:x,closeButton:(Oe=m==null?void 0:m.closeButton)!=null?Oe:o,interacting:P,position:N,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:I,toasts:M.filter(ue=>ue.position==X.position),heights:z.filter(ue=>ue.position==X.position),setHeights:$,expandByDefault:i,gap:b,loadingIcon:g,expanded:F,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});const QU=({...e})=>a.jsx(JU,{theme:"dark",className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e});var XU=Wb[" useId ".trim().toString()]||(()=>{}),ez=0;function ko(e){const[t,n]=S.useState(XU());return kn(()=>{n(r=>r??String(ez++))},[e]),t?`radix-${t}`:""}const tz=["top","right","bottom","left"],Lo=Math.min,jr=Math.max,Hm=Math.round,op=Math.floor,Ys=e=>({x:e,y:e}),nz={left:"right",right:"left",bottom:"top",top:"bottom"},rz={start:"end",end:"start"};function Qx(e,t,n){return jr(e,Lo(t,n))}function Mi(e,t){return typeof e=="function"?e(t):e}function Oi(e){return e.split("-")[0]}function ku(e){return e.split("-")[1]}function q1(e){return e==="x"?"y":"x"}function G1(e){return e==="y"?"height":"width"}const sz=new Set(["top","bottom"]);function Hs(e){return sz.has(Oi(e))?"y":"x"}function Z1(e){return q1(Hs(e))}function iz(e,t,n){n===void 0&&(n=!1);const r=ku(e),s=Z1(e),i=G1(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Km(o)),[o,Km(o)]}function oz(e){const t=Km(e);return[Xx(e),t,Xx(t)]}function Xx(e){return e.replace(/start|end/g,t=>rz[t])}const K_=["left","right"],W_=["right","left"],az=["top","bottom"],lz=["bottom","top"];function cz(e,t,n){switch(e){case"top":case"bottom":return n?t?W_:K_:t?K_:W_;case"left":case"right":return t?az:lz;default:return[]}}function uz(e,t,n,r){const s=ku(e);let i=cz(Oi(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Xx)))),i}function Km(e){return e.replace(/left|right|bottom|top/g,t=>nz[t])}function dz(e){return{top:0,right:0,bottom:0,left:0,...e}}function aM(e){return typeof e!="number"?dz(e):{top:e,right:e,bottom:e,left:e}}function Wm(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function q_(e,t,n){let{reference:r,floating:s}=e;const i=Hs(t),o=Z1(t),l=G1(o),c=Oi(t),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-s.width,y:h};break;default:p={x:r.x,y:r.y}}switch(ku(t)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const hz=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=q_(u,r,c),f=r,p={},x=0;for(let m=0;m<l.length;m++){const{name:y,fn:b}=l[m],{x:g,y:w,data:j,reset:E}=await b({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,h=w??h,p={...p,[y]:{...p[y],...j}},E&&x<=50&&(x++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:h}=q_(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:p}};async function kh(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Mi(t,e),x=aM(p),y=l[f?h==="floating"?"reference":"floating":h],b=Wm(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),j=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},E=Wm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:w,strategy:c}):g);return{top:(b.top-E.top+x.top)/j.y,bottom:(E.bottom-b.bottom+x.bottom)/j.y,left:(b.left-E.left+x.left)/j.x,right:(E.right-b.right+x.right)/j.x}}const fz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Mi(e,t)||{};if(u==null)return{};const h=aM(d),f={x:n,y:r},p=Z1(s),x=G1(p),m=await o.getDimensions(u),y=p==="y",b=y?"top":"left",g=y?"bottom":"right",w=y?"clientHeight":"clientWidth",j=i.reference[x]+i.reference[p]-f[p]-i.floating[x],E=f[p]-i.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=M?M[w]:0;(!O||!await(o.isElement==null?void 0:o.isElement(M)))&&(O=l.floating[w]||i.floating[x]);const B=j/2-E/2,z=O/2-m[x]/2-1,$=Lo(h[b],z),F=Lo(h[g],z),U=$,P=O-m[x]-F,v=O/2-m[x]/2+B,_=Qx(U,v,P),A=!c.arrow&&ku(s)!=null&&v!==_&&i.reference[x]/2-(v<U?$:F)-m[x]/2<0,k=A?v<U?v-U:v-P:0;return{[p]:f[p]+k,data:{[p]:_,centerOffset:v-_-k,...A&&{alignmentOffset:k}},reset:A}}}),pz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...y}=Mi(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Oi(s),g=Hs(l),w=Oi(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=f||(w||!m?[Km(l)]:oz(l)),M=x!=="none";!f&&M&&E.push(...uz(l,m,x,j));const O=[l,...E],B=await kh(t,y),z=[];let $=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&z.push(B[b]),h){const v=iz(s,o,j);z.push(B[v[0]],B[v[1]])}if($=[...$,{placement:s,overflows:z}],!z.every(v=>v<=0)){var F,U;const v=(((F=i.flip)==null?void 0:F.index)||0)+1,_=O[v];if(_&&(!(h==="alignment"?g!==Hs(_):!1)||$.every(C=>Hs(C.placement)===g?C.overflows[0]>0:!0)))return{data:{index:v,overflows:$},reset:{placement:_}};let A=(U=$.filter(k=>k.overflows[0]<=0).sort((k,C)=>k.overflows[1]-C.overflows[1])[0])==null?void 0:U.placement;if(!A)switch(p){case"bestFit":{var P;const k=(P=$.filter(C=>{if(M){const T=Hs(C.placement);return T===g||T==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(T=>T>0).reduce((T,L)=>T+L,0)]).sort((C,T)=>C[1]-T[1])[0])==null?void 0:P[0];k&&(A=k);break}case"initialPlacement":A=l;break}if(s!==A)return{reset:{placement:A}}}return{}}}};function G_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Z_(e){return tz.some(t=>e[t]>=0)}const mz=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Mi(e,t);switch(r){case"referenceHidden":{const i=await kh(t,{...s,elementContext:"reference"}),o=G_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Z_(o)}}}case"escaped":{const i=await kh(t,{...s,altBoundary:!0}),o=G_(i,n.floating);return{data:{escapedOffsets:o,escaped:Z_(o)}}}default:return{}}}}},lM=new Set(["left","top"]);async function gz(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Oi(n),l=ku(n),c=Hs(n)==="y",u=lM.has(o)?-1:1,d=i&&c?-1:1,h=Mi(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const yz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await gz(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},vz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:g}=y;return{x:b,y:g}}},...c}=Mi(e,t),u={x:n,y:r},d=await kh(t,c),h=Hs(Oi(s)),f=q1(h);let p=u[f],x=u[h];if(i){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",g=p+d[y],w=p-d[b];p=Qx(g,p,w)}if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",g=x+d[y],w=x-d[b];x=Qx(g,x,w)}const m=l.fn({...t,[f]:p,[h]:x});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:i,[h]:o}}}}}},xz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Mi(e,t),d={x:n,y:r},h=Hs(s),f=q1(h);let p=d[f],x=d[h];const m=Mi(l,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=f==="y"?"height":"width",j=i.reference[f]-i.floating[w]+y.mainAxis,E=i.reference[f]+i.reference[w]-y.mainAxis;p<j?p=j:p>E&&(p=E)}if(u){var b,g;const w=f==="y"?"width":"height",j=lM.has(Oi(s)),E=i.reference[h]-i.floating[w]+(j&&((b=o.offset)==null?void 0:b[h])||0)+(j?0:y.crossAxis),M=i.reference[h]+i.reference[w]+(j?0:((g=o.offset)==null?void 0:g[h])||0)-(j?y.crossAxis:0);x<E?x=E:x>M&&(x=M)}return{[f]:p,[h]:x}}}},wz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Mi(e,t),d=await kh(t,u),h=Oi(s),f=ku(s),p=Hs(s)==="y",{width:x,height:m}=i.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,y=f==="end"?"top":"bottom");const g=m-d.top-d.bottom,w=x-d.left-d.right,j=Lo(m-d[y],g),E=Lo(x-d[b],w),M=!t.middlewareData.shift;let O=j,B=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(B=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=g),M&&!f){const $=jr(d.left,0),F=jr(d.right,0),U=jr(d.top,0),P=jr(d.bottom,0);p?B=x-2*($!==0||F!==0?$+F:jr(d.left,d.right)):O=m-2*(U!==0||P!==0?U+P:jr(d.top,d.bottom))}await c({...t,availableWidth:B,availableHeight:O});const z=await o.getDimensions(l.floating);return x!==z.width||m!==z.height?{reset:{rects:!0}}:{}}}};function r0(){return typeof window<"u"}function Tu(e){return cM(e)?(e.nodeName||"").toLowerCase():"#document"}function Cr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function oi(e){var t;return(t=(cM(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cM(e){return r0()?e instanceof Node||e instanceof Cr(e).Node:!1}function Ns(e){return r0()?e instanceof Element||e instanceof Cr(e).Element:!1}function ti(e){return r0()?e instanceof HTMLElement||e instanceof Cr(e).HTMLElement:!1}function Y_(e){return!r0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Cr(e).ShadowRoot}const bz=new Set(["inline","contents"]);function hf(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=_s(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!bz.has(s)}const Sz=new Set(["table","td","th"]);function jz(e){return Sz.has(Tu(e))}const Nz=[":popover-open",":modal"];function s0(e){return Nz.some(t=>{try{return e.matches(t)}catch{return!1}})}const _z=["transform","translate","scale","rotate","perspective"],Ez=["transform","translate","scale","rotate","perspective","filter"],Az=["paint","layout","strict","content"];function Y1(e){const t=J1(),n=Ns(e)?_s(e):e;return _z.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Ez.some(r=>(n.willChange||"").includes(r))||Az.some(r=>(n.contain||"").includes(r))}function Cz(e){let t=Bo(e);for(;ti(t)&&!Qc(t);){if(Y1(t))return t;if(s0(t))return null;t=Bo(t)}return null}function J1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kz=new Set(["html","body","#document"]);function Qc(e){return kz.has(Tu(e))}function _s(e){return Cr(e).getComputedStyle(e)}function i0(e){return Ns(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bo(e){if(Tu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y_(e)&&e.host||oi(e);return Y_(t)?t.host:t}function uM(e){const t=Bo(e);return Qc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ti(t)&&hf(t)?t:uM(t)}function Th(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=uM(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Cr(s);if(i){const l=ew(o);return t.concat(o,o.visualViewport||[],hf(s)?s:[],l&&n?Th(l):[])}return t.concat(s,Th(s,[],n))}function ew(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dM(e){const t=_s(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ti(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=Hm(n)!==i||Hm(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function Q1(e){return Ns(e)?e:e.contextElement}function _c(e){const t=Q1(e);if(!ti(t))return Ys(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=dM(t);let o=(i?Hm(n.width):n.width)/r,l=(i?Hm(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Tz=Ys(0);function hM(e){const t=Cr(e);return!J1()||!t.visualViewport?Tz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Cr(e)?!1:t}function Wa(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=Q1(e);let o=Ys(1);t&&(r?Ns(r)&&(o=_c(r)):o=_c(e));const l=Pz(i,n,r)?hM(i):Ys(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Cr(i),p=r&&Ns(r)?Cr(r):r;let x=f,m=ew(x);for(;m&&r&&p!==x;){const y=_c(m),b=m.getBoundingClientRect(),g=_s(m),w=b.left+(m.clientLeft+parseFloat(g.paddingLeft))*y.x,j=b.top+(m.clientTop+parseFloat(g.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,h*=y.y,c+=w,u+=j,x=Cr(m),m=ew(x)}}return Wm({width:d,height:h,x:c,y:u})}function o0(e,t){const n=i0(e).scrollLeft;return t?t.left+n:Wa(oi(e)).left+n}function fM(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-o0(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Iz(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=oi(r),l=t?s0(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ys(1);const d=Ys(0),h=ti(r);if((h||!h&&!i)&&((Tu(r)!=="body"||hf(o))&&(c=i0(r)),ti(r))){const p=Wa(r);u=_c(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const f=o&&!h&&!i?fM(o,c):Ys(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:n.y*u.y-c.scrollTop*u.y+d.y+f.y}}function Mz(e){return Array.from(e.getClientRects())}function Oz(e){const t=oi(e),n=i0(e),r=e.ownerDocument.body,s=jr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=jr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+o0(e);const l=-n.scrollTop;return _s(r).direction==="rtl"&&(o+=jr(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}const J_=25;function Rz(e,t){const n=Cr(e),r=oi(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=J1();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=o0(r);if(u<=0){const d=r.ownerDocument,h=d.body,f=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,x=Math.abs(r.clientWidth-h.clientWidth-p);x<=J_&&(i-=x)}else u<=J_&&(i+=u);return{width:i,height:o,x:l,y:c}}const Dz=new Set(["absolute","fixed"]);function $z(e,t){const n=Wa(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=ti(e)?_c(e):Ys(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function Q_(e,t,n){let r;if(t==="viewport")r=Rz(e,n);else if(t==="document")r=Oz(oi(e));else if(Ns(t))r=$z(t,n);else{const s=hM(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Wm(r)}function pM(e,t){const n=Bo(e);return n===t||!Ns(n)||Qc(n)?!1:_s(n).position==="fixed"||pM(n,t)}function Lz(e,t){const n=t.get(e);if(n)return n;let r=Th(e,[],!1).filter(l=>Ns(l)&&Tu(l)!=="body"),s=null;const i=_s(e).position==="fixed";let o=i?Bo(e):e;for(;Ns(o)&&!Qc(o);){const l=_s(o),c=Y1(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Dz.has(s.position)||hf(o)&&!c&&pM(e,o))?r=r.filter(d=>d!==o):s=l,o=Bo(o)}return t.set(e,r),r}function Bz(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?s0(t)?[]:Lz(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=Q_(t,d,s);return u.top=jr(h.top,u.top),u.right=Lo(h.right,u.right),u.bottom=Lo(h.bottom,u.bottom),u.left=jr(h.left,u.left),u},Q_(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Fz(e){const{width:t,height:n}=dM(e);return{width:t,height:n}}function Uz(e,t,n){const r=ti(t),s=oi(t),i=n==="fixed",o=Wa(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ys(0);function u(){c.x=o0(s)}if(r||!r&&!i)if((Tu(t)!=="body"||hf(s))&&(l=i0(t)),r){const p=Wa(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&u();i&&!r&&s&&u();const d=s&&!r&&!i?fM(s,l):Ys(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function qy(e){return _s(e).position==="static"}function X_(e,t){if(!ti(e)||_s(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return oi(e)===n&&(n=n.ownerDocument.body),n}function mM(e,t){const n=Cr(e);if(s0(e))return n;if(!ti(e)){let s=Bo(e);for(;s&&!Qc(s);){if(Ns(s)&&!qy(s))return s;s=Bo(s)}return n}let r=X_(e,t);for(;r&&jz(r)&&qy(r);)r=X_(r,t);return r&&Qc(r)&&qy(r)&&!Y1(r)?n:r||Cz(e)||n}const zz=async function(e){const t=this.getOffsetParent||mM,n=this.getDimensions,r=await n(e.floating);return{reference:Uz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Vz(e){return _s(e).direction==="rtl"}const Hz={convertOffsetParentRelativeRectToViewportRelativeRect:Iz,getDocumentElement:oi,getClippingRect:Bz,getOffsetParent:mM,getElementRects:zz,getClientRects:Mz,getDimensions:Fz,getScale:_c,isElement:Ns,isRTL:Vz};function gM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Kz(e,t){let n=null,r;const s=oi(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(l||t(),!f||!p)return;const x=op(h),m=op(s.clientWidth-(d+f)),y=op(s.clientHeight-(h+p)),b=op(d),w={rootMargin:-x+"px "+-m+"px "+-y+"px "+-b+"px",threshold:jr(0,Lo(1,c))||1};let j=!0;function E(M){const O=M[0].intersectionRatio;if(O!==c){if(!j)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!gM(u,e.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(E,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,w)}n.observe(e)}return o(!0),i}function Wz(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Q1(e),d=s||i?[...u?Th(u):[],...Th(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=u&&l?Kz(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(b=>{let[g]=b;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let x,m=c?Wa(e):null;c&&y();function y(){const b=Wa(e);m&&!gM(m,b)&&n(),m=b,x=requestAnimationFrame(y)}return n(),()=>{var b;d.forEach(g=>{s&&g.removeEventListener("scroll",n),i&&g.removeEventListener("resize",n)}),h==null||h(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const qz=yz,Gz=vz,Zz=pz,Yz=wz,Jz=mz,e2=fz,Qz=xz,Xz=(e,t,n)=>{const r=new Map,s={platform:Hz,...n},i={...s.platform,_c:r};return hz(e,t,{...s,platform:i})};var eV=typeof document<"u",tV=function(){},tm=eV?S.useLayoutEffect:tV;function qm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qm(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!qm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function yM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function t2(e,t){const n=yM(e);return Math.round(t*n)/n}function Gy(e){const t=S.useRef(e);return tm(()=>{t.current=e}),t}function nV(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=S.useState(r);qm(f,r)||p(r);const[x,m]=S.useState(null),[y,b]=S.useState(null),g=S.useCallback(C=>{C!==M.current&&(M.current=C,m(C))},[]),w=S.useCallback(C=>{C!==O.current&&(O.current=C,b(C))},[]),j=i||x,E=o||y,M=S.useRef(null),O=S.useRef(null),B=S.useRef(d),z=c!=null,$=Gy(c),F=Gy(s),U=Gy(u),P=S.useCallback(()=>{if(!M.current||!O.current)return;const C={placement:t,strategy:n,middleware:f};F.current&&(C.platform=F.current),Xz(M.current,O.current,C).then(T=>{const L={...T,isPositioned:U.current!==!1};v.current&&!qm(B.current,L)&&(B.current=L,gl.flushSync(()=>{h(L)}))})},[f,t,n,F,U]);tm(()=>{u===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[u]);const v=S.useRef(!1);tm(()=>(v.current=!0,()=>{v.current=!1}),[]),tm(()=>{if(j&&(M.current=j),E&&(O.current=E),j&&E){if($.current)return $.current(j,E,P);P()}},[j,E,P,$,z]);const _=S.useMemo(()=>({reference:M,floating:O,setReference:g,setFloating:w}),[g,w]),A=S.useMemo(()=>({reference:j,floating:E}),[j,E]),k=S.useMemo(()=>{const C={position:n,left:0,top:0};if(!A.floating)return C;const T=t2(A.floating,d.x),L=t2(A.floating,d.y);return l?{...C,transform:"translate("+T+"px, "+L+"px)",...yM(A.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:T,top:L}},[n,l,A.floating,d.x,d.y]);return S.useMemo(()=>({...d,update:P,refs:_,elements:A,floatingStyles:k}),[d,P,_,A,k])}const rV=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?e2({element:r.current,padding:s}).fn(n):{}:r?e2({element:r,padding:s}).fn(n):{}}}},sV=(e,t)=>({...qz(e),options:[e,t]}),iV=(e,t)=>({...Gz(e),options:[e,t]}),oV=(e,t)=>({...Qz(e),options:[e,t]}),aV=(e,t)=>({...Zz(e),options:[e,t]}),lV=(e,t)=>({...Yz(e),options:[e,t]}),cV=(e,t)=>({...Jz(e),options:[e,t]}),uV=(e,t)=>({...rV(e),options:[e,t]});var dV="Arrow",vM=S.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(ke.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});vM.displayName=dV;var hV=vM;function fV(e){const[t,n]=S.useState(void 0);return kn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var X1="Popper",[xM,a0]=qo(X1),[pV,wM]=xM(X1),bM=e=>{const{__scopePopper:t,children:n}=e,[r,s]=S.useState(null);return a.jsx(pV,{scope:t,anchor:r,onAnchorChange:s,children:n})};bM.displayName=X1;var SM="PopperAnchor",jM=S.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=wM(SM,n),o=S.useRef(null),l=bt(t,o),c=S.useRef(null);return S.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:a.jsx(ke.div,{...s,ref:l})});jM.displayName=SM;var eS="PopperContent",[mV,gV]=xM(eS),NM=S.forwardRef((e,t)=>{var X,he,we,Oe,ue,fe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=e,y=wM(eS,n),[b,g]=S.useState(null),w=bt(t,Jt=>g(Jt)),[j,E]=S.useState(null),M=fV(j),O=(M==null?void 0:M.width)??0,B=(M==null?void 0:M.height)??0,z=r+(i!=="center"?"-"+i:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},F=Array.isArray(u)?u:[u],U=F.length>0,P={padding:$,boundary:F.filter(vV),altBoundary:U},{refs:v,floatingStyles:_,placement:A,isPositioned:k,middlewareData:C}=nV({strategy:"fixed",placement:z,whileElementsMounted:(...Jt)=>Wz(...Jt,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[sV({mainAxis:s+B,alignmentAxis:o}),c&&iV({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?oV():void 0,...P}),c&&aV({...P}),lV({...P,apply:({elements:Jt,rects:Re,availableWidth:qe,availableHeight:zn})=>{const{width:Ge,height:lt}=Re.reference,ns=Jt.floating.style;ns.setProperty("--radix-popper-available-width",`${qe}px`),ns.setProperty("--radix-popper-available-height",`${zn}px`),ns.setProperty("--radix-popper-anchor-width",`${Ge}px`),ns.setProperty("--radix-popper-anchor-height",`${lt}px`)}}),j&&uV({element:j,padding:l}),xV({arrowWidth:O,arrowHeight:B}),f&&cV({strategy:"referenceHidden",...P})]}),[T,L]=AM(A),I=Qr(x);kn(()=>{k&&(I==null||I())},[k,I]);const N=(X=C.arrow)==null?void 0:X.x,R=(he=C.arrow)==null?void 0:he.y,J=((we=C.arrow)==null?void 0:we.centerOffset)!==0,[te,re]=S.useState();return kn(()=>{b&&re(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:v.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:k?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Oe=C.transformOrigin)==null?void 0:Oe.x,(ue=C.transformOrigin)==null?void 0:ue.y].join(" "),...((fe=C.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(mV,{scope:n,placedSide:T,onArrowChange:E,arrowX:N,arrowY:R,shouldHideArrow:J,children:a.jsx(ke.div,{"data-side":T,"data-align":L,...m,ref:w,style:{...m.style,animation:k?void 0:"none"}})})})});NM.displayName=eS;var _M="PopperArrow",yV={top:"bottom",right:"left",bottom:"top",left:"right"},EM=S.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=gV(_M,r),o=yV[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(hV,{...s,ref:n,style:{...s.style,display:"block"}})})});EM.displayName=_M;function vV(e){return e!==null}var xV=e=>({name:"transformOrigin",options:e,fn(t){var y,b,g;const{placement:n,rects:r,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=AM(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?h:`${f}px`,m=`${-c}px`):u==="top"?(x=o?h:`${f}px`,m=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?h:`${p}px`):u==="left"&&(x=`${r.floating.width+c}px`,m=o?h:`${p}px`),{data:{x,y:m}}}});function AM(e){const[t,n="center"]=e.split("-");return[t,n]}var wV=bM,CM=jM,kM=NM,TM=EM,[l0]=qo("Tooltip",[a0]),tS=a0(),PM="TooltipProvider",bV=700,n2="tooltip.open",[SV,IM]=l0(PM),MM=e=>{const{__scopeTooltip:t,delayDuration:n=bV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,o=S.useRef(!0),l=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(SV,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:S.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};MM.displayName=PM;var OM="Tooltip",[kme,c0]=l0(OM),tw="TooltipTrigger",jV=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=c0(tw,n),i=IM(tw,n),o=tS(n),l=S.useRef(null),c=bt(t,l,s.onTriggerChange),u=S.useRef(!1),d=S.useRef(!1),h=S.useCallback(()=>u.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(CM,{asChild:!0,...o,children:a.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ve(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ve(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ve(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ve(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ve(e.onBlur,s.onClose),onClick:ve(e.onClick,s.onClose)})})});jV.displayName=tw;var NV="TooltipPortal",[Tme,_V]=l0(NV,{forceMount:void 0}),Xc="TooltipContent",RM=S.forwardRef((e,t)=>{const n=_V(Xc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=c0(Xc,e.__scopeTooltip);return a.jsx(yl,{present:r||o.open,children:o.disableHoverableContent?a.jsx(DM,{side:s,...i,ref:t}):a.jsx(EV,{side:s,...i,ref:t})})}),EV=S.forwardRef((e,t)=>{const n=c0(Xc,e.__scopeTooltip),r=IM(Xc,e.__scopeTooltip),s=S.useRef(null),i=bt(t,s),[o,l]=S.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=S.useCallback(()=>{l(null),h(!1)},[h]),p=S.useCallback((x,m)=>{const y=x.currentTarget,b={x:x.clientX,y:x.clientY},g=PV(b,y.getBoundingClientRect()),w=IV(b,g),j=MV(m.getBoundingClientRect()),E=RV([...w,...j]);l(E),h(!0)},[h]);return S.useEffect(()=>()=>f(),[f]),S.useEffect(()=>{if(c&&d){const x=y=>p(y,d),m=y=>p(y,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,p,f]),S.useEffect(()=>{if(o){const x=m=>{const y=m.target,b={x:m.clientX,y:m.clientY},g=(c==null?void 0:c.contains(y))||(d==null?void 0:d.contains(y)),w=!OV(b,o);g?f():w&&(f(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,f]),a.jsx(DM,{...e,ref:i})}),[AV,CV]=l0(OM,{isInside:!1}),kV=P8("TooltipContent"),DM=S.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=c0(Xc,n),u=tS(n),{onClose:d}=c;return S.useEffect(()=>(document.addEventListener(n2,d),()=>document.removeEventListener(n2,d)),[d]),S.useEffect(()=>{if(c.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),a.jsx(uf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:a.jsxs(kM,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(kV,{children:r}),a.jsx(AV,{scope:n,isInside:!0,children:a.jsx(X8,{id:c.contentId,role:"tooltip",children:s||r})})]})})});RM.displayName=Xc;var $M="TooltipArrow",TV=S.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=tS(n);return CV($M,n).isInside?null:a.jsx(TM,{...s,...r,ref:t})});TV.displayName=$M;function PV(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function IV(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function MV(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function OV(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>r!=f>r&&n<(h-u)*(r-d)/(f-d)+u&&(s=!s)}return s}function RV(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),DV(t)}function DV(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var $V=MM,LM=RM;const LV=$V,BV=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(LM,{ref:r,sideOffset:t,className:Ie("z-50 overflow-hidden rounded-md border border-border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));BV.displayName=LM.displayName;var u0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},FV={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},lo,Ub,Zk,UV=(Zk=class{constructor(){Be(this,lo,FV);Be(this,Ub,!1)}setTimeoutProvider(e){Se(this,lo,e)}setTimeout(e,t){return W(this,lo).setTimeout(e,t)}clearTimeout(e){W(this,lo).clearTimeout(e)}setInterval(e,t){return W(this,lo).setInterval(e,t)}clearInterval(e){W(this,lo).clearInterval(e)}},lo=new WeakMap,Ub=new WeakMap,Zk),nw=new UV;function zV(e){setTimeout(e,0)}var d0=typeof window>"u"||"Deno"in globalThis;function ds(){}function VV(e,t){return typeof e=="function"?e(t):e}function HV(e){return typeof e=="number"&&e>=0&&e!==1/0}function KV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rw(e,t){return typeof e=="function"?e(t):e}function WV(e,t){return typeof e=="function"?e(t):e}function r2(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==nS(o,t.options))return!1}else if(!Ih(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function s2(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Ph(t.options.mutationKey)!==Ph(i))return!1}else if(!Ih(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function nS(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ph)(e)}function Ph(e){return JSON.stringify(e,(t,n)=>sw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ih(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ih(e[n],t[n])):!1}var qV=Object.prototype.hasOwnProperty;function BM(e,t){if(e===t)return e;const n=i2(e)&&i2(t);if(!n&&!(sw(e)&&sw(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u],h=e[d],f=t[d];if(h===f){l[d]=h,(n?u<s:qV.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const p=BM(h,f);l[d]=p,p===h&&c++}return s===o&&c===s?e:l}function i2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function sw(e){if(!o2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!o2(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function o2(e){return Object.prototype.toString.call(e)==="[object Object]"}function GV(e){return new Promise(t=>{nw.setTimeout(t,e)})}function ZV(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?BM(e,t):t}function YV(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function JV(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var rS=Symbol();function FM(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===rS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Aa,co,Ic,Yk,QV=(Yk=class extends u0{constructor(){super();Be(this,Aa);Be(this,co);Be(this,Ic);Se(this,Ic,t=>{if(!d0&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){W(this,co)||this.setEventListener(W(this,Ic))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,co))==null||t.call(this),Se(this,co,void 0))}setEventListener(t){var n;Se(this,Ic,t),(n=W(this,co))==null||n.call(this),Se(this,co,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){W(this,Aa)!==t&&(Se(this,Aa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof W(this,Aa)=="boolean"?W(this,Aa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Aa=new WeakMap,co=new WeakMap,Ic=new WeakMap,Yk),UM=new QV;function XV(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var e9=zV;function t9(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=e9;const i=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var qn=t9(),Mc,uo,Oc,Jk,n9=(Jk=class extends u0{constructor(){super();Be(this,Mc,!0);Be(this,uo);Be(this,Oc);Se(this,Oc,t=>{if(!d0&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){W(this,uo)||this.setEventListener(W(this,Oc))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,uo))==null||t.call(this),Se(this,uo,void 0))}setEventListener(t){var n;Se(this,Oc,t),(n=W(this,uo))==null||n.call(this),Se(this,uo,t(this.setOnline.bind(this)))}setOnline(t){W(this,Mc)!==t&&(Se(this,Mc,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return W(this,Mc)}},Mc=new WeakMap,uo=new WeakMap,Oc=new WeakMap,Jk),Gm=new n9;function r9(e){return Math.min(1e3*2**e,3e4)}function zM(e){return(e??"online")==="online"?Gm.isOnline():!0}var iw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function VM(e){let t=!1,n=0,r;const s=XV(),i=()=>s.status!=="pending",o=m=>{var y;if(!i()){const b=new iw(m);f(b),(y=e.onCancel)==null||y.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>UM.isFocused()&&(e.networkMode==="always"||Gm.isOnline())&&e.canRun(),d=()=>zM(e.networkMode)&&e.canRun(),h=m=>{i()||(r==null||r(),s.resolve(m))},f=m=>{i()||(r==null||r(),s.reject(m))},p=()=>new Promise(m=>{var y;r=b=>{(i()||u())&&m(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var m;r=void 0,i()||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(i())return;let m;const y=n===0?e.initialPromise:void 0;try{m=y??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(h).catch(b=>{var M;if(i())return;const g=e.retry??(d0?0:3),w=e.retryDelay??r9,j=typeof w=="function"?w(n,b):w,E=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,b);if(t||!E){f(b);return}n++,(M=e.onFail)==null||M.call(e,n,b),GV(j).then(()=>u()?void 0:p()).then(()=>{t?f(b):x()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),s)}}var Ca,Qk,HM=(Qk=class{constructor(){Be(this,Ca)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HV(this.gcTime)&&Se(this,Ca,nw.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(d0?1/0:5*60*1e3))}clearGcTimeout(){W(this,Ca)&&(nw.clearTimeout(W(this,Ca)),Se(this,Ca,void 0))}},Ca=new WeakMap,Qk),ka,Rc,Vr,Ta,gn,tf,Pa,hs,pi,Xk,s9=(Xk=class extends HM{constructor(t){super();Be(this,hs);Be(this,ka);Be(this,Rc);Be(this,Vr);Be(this,Ta);Be(this,gn);Be(this,tf);Be(this,Pa);Se(this,Pa,!1),Se(this,tf,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,Ta,t.client),Se(this,Vr,W(this,Ta).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,ka,a2(this.options)),this.state=t.state??W(this,ka),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,gn))==null?void 0:t.promise}setOptions(t){if(this.options={...W(this,tf),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=a2(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Se(this,ka,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,Vr).remove(this)}setData(t,n){const r=ZV(this.state.data,t,this.options);return Pn(this,hs,pi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Pn(this,hs,pi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=W(this,gn))==null?void 0:r.promise;return(s=W(this,gn))==null||s.cancel(t),n?n.then(ds).catch(ds):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,ka))}isActive(){return this.observers.some(t=>WV(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rw(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!KV(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,gn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=W(this,gn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,Vr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(W(this,gn)&&(W(this,Pa)?W(this,gn).cancel({revert:!0}):W(this,gn).cancelRetry()),this.scheduleGc()),W(this,Vr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pn(this,hs,pi).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,h,f,p,x,m,y,b,g,w;if(this.state.fetchStatus!=="idle"&&((c=W(this,gn))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(W(this,gn))return W(this,gn).continueRetry(),W(this,gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(E=>E.options.queryFn);j&&this.setOptions(j.options)}const r=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Se(this,Pa,!0),r.signal)})},i=()=>{const j=FM(this.options,n),M=(()=>{const O={client:W(this,Ta),queryKey:this.queryKey,meta:this.meta};return s(O),O})();return Se(this,Pa,!1),this.options.persister?this.options.persister(j,M,this):j(M)},l=(()=>{const j={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:W(this,Ta),state:this.state,fetchFn:i};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Se(this,Rc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Pn(this,hs,pi).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Se(this,gn,VM({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof iw&&j.revert&&this.setState({...W(this,Rc),fetchStatus:"idle"}),r.abort()},onFail:(j,E)=>{Pn(this,hs,pi).call(this,{type:"failed",failureCount:j,error:E})},onPause:()=>{Pn(this,hs,pi).call(this,{type:"pause"})},onContinue:()=>{Pn(this,hs,pi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await W(this,gn).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(p=(f=W(this,Vr).config).onSuccess)==null||p.call(f,j,this),(m=(x=W(this,Vr).config).onSettled)==null||m.call(x,j,this.state.error,this),j}catch(j){if(j instanceof iw){if(j.silent)return W(this,gn).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Pn(this,hs,pi).call(this,{type:"error",error:j}),(b=(y=W(this,Vr).config).onError)==null||b.call(y,j,this),(w=(g=W(this,Vr).config).onSettled)==null||w.call(g,this.state.data,j,this),j}finally{this.scheduleGc()}}},ka=new WeakMap,Rc=new WeakMap,Vr=new WeakMap,Ta=new WeakMap,gn=new WeakMap,tf=new WeakMap,Pa=new WeakMap,hs=new WeakSet,pi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...i9(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Se(this,Rc,t.manual?s:void 0),s;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),qn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),W(this,Vr).notify({query:this,type:"updated",action:t})})},Xk);function i9(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function a2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function l2(e){return{onFetch:(t,n)=>{var d,h,f,p,x;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=FM(t.options,t.fetchOptions),g=async(w,j,E)=>{if(m)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const O=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:j,direction:E?"backward":"forward",meta:t.options.meta};return y(F),F})(),B=await b(O),{maxPages:z}=t.options,$=E?JV:YV;return{pages:$(w.pages,B,z),pageParams:$(w.pageParams,j,z)}};if(s&&i.length){const w=s==="backward",j=w?o9:c2,E={pages:i,pageParams:o},M=j(r,E);l=await g(E,M,w)}else{const w=e??i.length;do{const j=c===0?o[0]??r.initialPageParam:c2(r,l);if(c>0&&j==null)break;l=await g(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,y;return(y=(m=t.options).persister)==null?void 0:y.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function c2(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function o9(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var nf,Ds,Hn,Ia,$s,Ji,eT,a9=(eT=class extends HM{constructor(t){super();Be(this,$s);Be(this,nf);Be(this,Ds);Be(this,Hn);Be(this,Ia);Se(this,nf,t.client),this.mutationId=t.mutationId,Se(this,Hn,t.mutationCache),Se(this,Ds,[]),this.state=t.state||l9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Ds).includes(t)||(W(this,Ds).push(t),this.clearGcTimeout(),W(this,Hn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,Ds,W(this,Ds).filter(n=>n!==t)),this.scheduleGc(),W(this,Hn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Ds).length||(this.state.status==="pending"?this.scheduleGc():W(this,Hn).remove(this))}continue(){var t;return((t=W(this,Ia))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,f,p,x,m,y,b,g,w,j,E,M,O,B,z;const n=()=>{Pn(this,$s,Ji).call(this,{type:"continue"})},r={client:W(this,nf),meta:this.options.meta,mutationKey:this.options.mutationKey};Se(this,Ia,VM({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:($,F)=>{Pn(this,$s,Ji).call(this,{type:"failed",failureCount:$,error:F})},onPause:()=>{Pn(this,$s,Ji).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,Hn).canRun(this)}));const s=this.state.status==="pending",i=!W(this,Ia).canStart();try{if(s)n();else{Pn(this,$s,Ji).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=W(this,Hn).config).onMutate)==null?void 0:l.call(o,t,this,r));const F=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));F!==this.state.context&&Pn(this,$s,Ji).call(this,{type:"pending",context:F,variables:t,isPaused:i})}const $=await W(this,Ia).start();return await((h=(d=W(this,Hn).config).onSuccess)==null?void 0:h.call(d,$,t,this.state.context,this,r)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,$,t,this.state.context,r)),await((m=(x=W(this,Hn).config).onSettled)==null?void 0:m.call(x,$,null,this.state.variables,this.state.context,this,r)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,$,null,t,this.state.context,r)),Pn(this,$s,Ji).call(this,{type:"success",data:$}),$}catch($){try{throw await((w=(g=W(this,Hn).config).onError)==null?void 0:w.call(g,$,t,this.state.context,this,r)),await((E=(j=this.options).onError)==null?void 0:E.call(j,$,t,this.state.context,r)),await((O=(M=W(this,Hn).config).onSettled)==null?void 0:O.call(M,void 0,$,this.state.variables,this.state.context,this,r)),await((z=(B=this.options).onSettled)==null?void 0:z.call(B,void 0,$,t,this.state.context,r)),$}finally{Pn(this,$s,Ji).call(this,{type:"error",error:$})}}finally{W(this,Hn).runNext(this)}}},nf=new WeakMap,Ds=new WeakMap,Hn=new WeakMap,Ia=new WeakMap,$s=new WeakSet,Ji=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qn.batch(()=>{W(this,Ds).forEach(r=>{r.onMutationUpdate(t)}),W(this,Hn).notify({mutation:this,type:"updated",action:t})})},eT);function l9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wi,fs,rf,tT,c9=(tT=class extends u0{constructor(t={}){super();Be(this,wi);Be(this,fs);Be(this,rf);this.config=t,Se(this,wi,new Set),Se(this,fs,new Map),Se(this,rf,0)}build(t,n,r){const s=new a9({client:t,mutationCache:this,mutationId:++Bf(this,rf)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){W(this,wi).add(t);const n=ap(t);if(typeof n=="string"){const r=W(this,fs).get(n);r?r.push(t):W(this,fs).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,wi).delete(t)){const n=ap(t);if(typeof n=="string"){const r=W(this,fs).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&W(this,fs).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ap(t);if(typeof n=="string"){const r=W(this,fs).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=ap(t);if(typeof n=="string"){const s=(r=W(this,fs).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qn.batch(()=>{W(this,wi).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,wi).clear(),W(this,fs).clear()})}getAll(){return Array.from(W(this,wi))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>s2(n,r))}findAll(t={}){return this.getAll().filter(n=>s2(t,n))}notify(t){qn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return qn.batch(()=>Promise.all(t.map(n=>n.continue().catch(ds))))}},wi=new WeakMap,fs=new WeakMap,rf=new WeakMap,tT);function ap(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ls,nT,u9=(nT=class extends u0{constructor(t={}){super();Be(this,Ls);this.config=t,Se(this,Ls,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??nS(s,n);let o=this.get(i);return o||(o=new s9({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){W(this,Ls).has(t.queryHash)||(W(this,Ls).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=W(this,Ls).get(t.queryHash);n&&(t.destroy(),n===t&&W(this,Ls).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Ls).get(t)}getAll(){return[...W(this,Ls).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>r2(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>r2(t,r)):n}notify(t){qn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){qn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ls=new WeakMap,nT),Wt,ho,fo,Dc,$c,po,Lc,Bc,rT,d9=(rT=class{constructor(e={}){Be(this,Wt);Be(this,ho);Be(this,fo);Be(this,Dc);Be(this,$c);Be(this,po);Be(this,Lc);Be(this,Bc);Se(this,Wt,e.queryCache||new u9),Se(this,ho,e.mutationCache||new c9),Se(this,fo,e.defaultOptions||{}),Se(this,Dc,new Map),Se(this,$c,new Map),Se(this,po,0)}mount(){Bf(this,po)._++,W(this,po)===1&&(Se(this,Lc,UM.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Wt).onFocus())})),Se(this,Bc,Gm.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,Wt).onOnline())})))}unmount(){var e,t;Bf(this,po)._--,W(this,po)===0&&((e=W(this,Lc))==null||e.call(this),Se(this,Lc,void 0),(t=W(this,Bc))==null||t.call(this),Se(this,Bc,void 0))}isFetching(e){return W(this,Wt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,ho).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,Wt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=W(this,Wt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(rw(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return W(this,Wt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=W(this,Wt).get(r.queryHash),i=s==null?void 0:s.state.data,o=VV(t,i);if(o!==void 0)return W(this,Wt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return qn.batch(()=>W(this,Wt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=W(this,Wt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=W(this,Wt);qn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=W(this,Wt);return qn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=qn.batch(()=>W(this,Wt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(ds).catch(ds)}invalidateQueries(e,t={}){return qn.batch(()=>(W(this,Wt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=qn.batch(()=>W(this,Wt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ds)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ds)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=W(this,Wt).build(this,t);return n.isStaleByTime(rw(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ds).catch(ds)}fetchInfiniteQuery(e){return e.behavior=l2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ds).catch(ds)}ensureInfiniteQueryData(e){return e.behavior=l2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gm.isOnline()?W(this,ho).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,Wt)}getMutationCache(){return W(this,ho)}getDefaultOptions(){return W(this,fo)}setDefaultOptions(e){Se(this,fo,e)}setQueryDefaults(e,t){W(this,Dc).set(Ph(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Dc).values()],n={};return t.forEach(r=>{Ih(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){W(this,$c).set(Ph(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,$c).values()],n={};return t.forEach(r=>{Ih(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,fo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===rS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,fo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,Wt).clear(),W(this,ho).clear()}},Wt=new WeakMap,ho=new WeakMap,fo=new WeakMap,Dc=new WeakMap,$c=new WeakMap,po=new WeakMap,Lc=new WeakMap,Bc=new WeakMap,rT),h9=S.createContext(void 0),f9=({client:e,children:t})=>(S.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(h9.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mh.apply(this,arguments)}var yo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yo||(yo={}));const u2="popstate";function p9(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:l}=r.location;return ow("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Zm(s)}return g9(t,n,null,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KM(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function m9(){return Math.random().toString(36).substr(2,8)}function d2(e,t){return{usr:e.state,key:e.key,idx:t}}function ow(e,t,n,r){return n===void 0&&(n=null),Mh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pu(t):t,{state:n,key:t&&t.key||r||m9()})}function Zm(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Pu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g9(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=yo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Mh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=yo.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:m.location,delta:b})}function f(y,b){l=yo.Push;let g=ow(m.location,y,b);u=d()+1;let w=d2(g,u),j=m.createHref(g);try{o.pushState(w,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(j)}i&&c&&c({action:l,location:m.location,delta:1})}function p(y,b){l=yo.Replace;let g=ow(m.location,y,b);u=d();let w=d2(g,u),j=m.createHref(g);o.replaceState(w,"",j),i&&c&&c({action:l,location:m.location,delta:0})}function x(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof y=="string"?y:Zm(y);return g=g.replace(/ $/,"%20"),ln(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let m={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(u2,h),c=y,()=>{s.removeEventListener(u2,h),c=null}},createHref(y){return t(s,y)},createURL:x,encodeLocation(y){let b=x(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:f,replace:p,go(y){return o.go(y)}};return m}var h2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(h2||(h2={}));function y9(e,t,n){return n===void 0&&(n="/"),v9(e,t,n)}function v9(e,t,n,r){let s=typeof t=="string"?Pu(t):t,i=sS(s.pathname||"/",n);if(i==null)return null;let o=WM(e);x9(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=P9(i);l=C9(o[c],u)}return l}function WM(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=To([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ln(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WM(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:E9(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of qM(i.path))s(i,o,c)}),t}function qM(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=qM(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function x9(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:A9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w9=/^:[\w-]+$/,b9=3,S9=2,j9=1,N9=10,_9=-2,f2=e=>e==="*";function E9(e,t){let n=e.split("/"),r=n.length;return n.some(f2)&&(r+=_9),t&&(r+=S9),n.filter(s=>!f2(s)).reduce((s,i)=>s+(w9.test(i)?b9:i===""?j9:N9),r)}function A9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function C9(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=k9({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:To([i,h.pathname]),pathnameBase:R9(To([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=To([i,h.pathnameBase]))}return o}function k9(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=T9(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=l[h]||"";o=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const x=l[h];return p&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function T9(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),KM(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function P9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return KM(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function I9(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Pu(e):e;return{pathname:n?n.startsWith("/")?n:M9(n,t):t,search:D9(r),hash:$9(s)}}function M9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zy(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O9(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function GM(e,t){let n=O9(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ZM(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Pu(e):(s=Mh({},e),ln(!s.pathname||!s.pathname.includes("?"),Zy("?","pathname","search",s)),ln(!s.pathname||!s.pathname.includes("#"),Zy("#","pathname","hash",s)),ln(!s.search||!s.search.includes("#"),Zy("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=I9(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const To=e=>e.join("/").replace(/\/\/+/g,"/"),R9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function L9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const YM=["post","put","patch","delete"];new Set(YM);const B9=["get",...YM];new Set(B9);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oh.apply(this,arguments)}const iS=S.createContext(null),F9=S.createContext(null),vl=S.createContext(null),h0=S.createContext(null),Go=S.createContext({outlet:null,matches:[],isDataRoute:!1}),JM=S.createContext(null);function U9(e,t){let{relative:n}=t===void 0?{}:t;ff()||ln(!1);let{basename:r,navigator:s}=S.useContext(vl),{hash:i,pathname:o,search:l}=XM(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:To([r,o])),s.createHref({pathname:c,search:l,hash:i})}function ff(){return S.useContext(h0)!=null}function xl(){return ff()||ln(!1),S.useContext(h0).location}function QM(e){S.useContext(vl).static||S.useLayoutEffect(e)}function oS(){let{isDataRoute:e}=S.useContext(Go);return e?t7():z9()}function z9(){ff()||ln(!1);let e=S.useContext(iS),{basename:t,future:n,navigator:r}=S.useContext(vl),{matches:s}=S.useContext(Go),{pathname:i}=xl(),o=JSON.stringify(GM(s,n.v7_relativeSplatPath)),l=S.useRef(!1);return QM(()=>{l.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=ZM(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:To([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,o,i,e])}function V9(){let{matches:e}=S.useContext(Go),t=e[e.length-1];return t?t.params:{}}function XM(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=S.useContext(vl),{matches:s}=S.useContext(Go),{pathname:i}=xl(),o=JSON.stringify(GM(s,r.v7_relativeSplatPath));return S.useMemo(()=>ZM(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function H9(e,t){return K9(e,t)}function K9(e,t,n,r){ff()||ln(!1);let{navigator:s}=S.useContext(vl),{matches:i}=S.useContext(Go),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=xl(),d;if(t){var h;let y=typeof t=="string"?Pu(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||ln(!1),d=y}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=y9(e,{pathname:p}),m=Y9(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:To([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:To([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r);return t&&m?S.createElement(h0.Provider,{value:{location:Oh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yo.Pop}},m):m}function W9(){let e=e7(),t=L9(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const q9=S.createElement(W9,null);class G9 extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(Go.Provider,{value:this.props.routeContext},S.createElement(JM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z9(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(iS);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(Go.Provider,{value:t},r)}function Y9(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ln(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,x=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,x=!1,m=null,y=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,m=h.route.errorElement||q9,c&&(u<0&&f===0?(n7("route-fallback"),x=!0,y=null):u===f&&(x=!0,y=h.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,f+1)),g=()=>{let w;return p?w=m:x?w=y:h.route.Component?w=S.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,S.createElement(Z9,{match:h,routeContext:{outlet:d,matches:b,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?S.createElement(G9,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var eO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(eO||{}),tO=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tO||{});function J9(e){let t=S.useContext(iS);return t||ln(!1),t}function Q9(e){let t=S.useContext(F9);return t||ln(!1),t}function X9(e){let t=S.useContext(Go);return t||ln(!1),t}function nO(e){let t=X9(),n=t.matches[t.matches.length-1];return n.route.id||ln(!1),n.route.id}function e7(){var e;let t=S.useContext(JM),n=Q9(),r=nO();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function t7(){let{router:e}=J9(eO.UseNavigateStable),t=nO(tO.UseNavigateStable),n=S.useRef(!1);return QM(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Oh({fromRouteId:t},i)))},[e,t])}const p2={};function n7(e,t,n){p2[e]||(p2[e]=!0)}function r7(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Kt(e){ln(!1)}function s7(e){let{basename:t="/",children:n=null,location:r,navigationType:s=yo.Pop,navigator:i,static:o=!1,future:l}=e;ff()&&ln(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:o,future:Oh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Pu(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,m=S.useMemo(()=>{let y=sS(d,c);return y==null?null:{location:{pathname:y,search:h,hash:f,state:p,key:x},navigationType:s}},[c,d,h,f,p,x,s]);return m==null?null:S.createElement(vl.Provider,{value:u},S.createElement(h0.Provider,{children:n,value:m}))}function i7(e){let{children:t,location:n}=e;return H9(aw(t),n)}new Promise(()=>{});function aw(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,aw(r.props.children,i));return}r.type!==Kt&&ln(!1),!r.props.index||!r.props.children||ln(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=aw(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(this,arguments)}function o7(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function a7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function l7(e,t){return e.button===0&&(!t||t==="_self")&&!a7(e)}const c7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],u7="6";try{window.__reactRouterVersion=u7}catch{}const d7="startTransition",m2=Wb[d7];function h7(e){let{basename:t,children:n,future:r,window:s}=e,i=S.useRef();i.current==null&&(i.current=p9({window:s,v5Compat:!0}));let o=i.current,[l,c]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=S.useCallback(h=>{u&&m2?m2(()=>c(h)):c(h)},[c,u]);return S.useLayoutEffect(()=>o.listen(d),[o,d]),S.useEffect(()=>r7(r),[r]),S.createElement(s7,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const f7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=S.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=o7(t,c7),{basename:p}=S.useContext(vl),x,m=!1;if(typeof u=="string"&&p7.test(u)&&(x=u,f7))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),E=sS(j.pathname,p);j.origin===w.origin&&E!=null?u=E+j.search+j.hash:m=!0}catch{}let y=U9(u,{relative:s}),b=m7(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function g(w){r&&r(w),w.defaultPrevented||b(w)}return S.createElement("a",lw({},f,{href:x||y,onClick:m||i?r:g,ref:n,target:c}))});var g2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(g2||(g2={}));var y2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y2||(y2={}));function m7(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=oS(),u=xl(),d=XM(e,{relative:o});return S.useCallback(h=>{if(l7(h,n)){h.preventDefault();let f=r!==void 0?r:Zm(u)===Zm(d);c(e,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,e,i,o,l])}const g7={},v2=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const p=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,p))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(g7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,c);return c},y7=e=>e?v2(e):v2;var rO={exports:{}},sO={},iO={exports:{}},oO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=S;function v7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x7=typeof Object.is=="function"?Object.is:v7,w7=eu.useState,b7=eu.useEffect,S7=eu.useLayoutEffect,j7=eu.useDebugValue;function N7(e,t){var n=t(),r=w7({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return S7(function(){s.value=n,s.getSnapshot=t,Yy(s)&&i({inst:s})},[e,n,t]),b7(function(){return Yy(s)&&i({inst:s}),e(function(){Yy(s)&&i({inst:s})})},[e]),j7(n),n}function Yy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!x7(e,n)}catch{return!0}}function _7(e,t){return t()}var E7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_7:N7;oO.useSyncExternalStore=eu.useSyncExternalStore!==void 0?eu.useSyncExternalStore:E7;iO.exports=oO;var A7=iO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0=S,C7=A7;function k7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T7=typeof Object.is=="function"?Object.is:k7,P7=C7.useSyncExternalStore,I7=f0.useRef,M7=f0.useEffect,O7=f0.useMemo,R7=f0.useDebugValue;sO.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=I7(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=O7(function(){function c(p){if(!u){if(u=!0,d=p,p=r(p),s!==void 0&&o.hasValue){var x=o.value;if(s(x,p))return h=x}return h=p}if(x=h,T7(d,p))return x;var m=r(p);return s!==void 0&&s(x,m)?(d=p,x):(d=p,h=m)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,s]);var l=P7(e,i[0],i[1]);return M7(function(){o.hasValue=!0,o.value=l},[l]),R7(l),l};rO.exports=sO;var D7=rO.exports;const $7=bu(D7),aO={},{useDebugValue:L7}=ee,{useSyncExternalStoreWithSelector:B7}=$7;let x2=!1;const F7=e=>e;function U7(e,t=F7,n){(aO?"production":void 0)!=="production"&&n&&!x2&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),x2=!0);const r=B7(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return L7(r),r}const z7=e=>{(aO?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?y7(e):e,n=(r,s)=>U7(t,r,s);return Object.assign(n,t),n},V7=e=>z7,H7={};function K7(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Rh=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Rh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Rh(r)(n)}}}},W7=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,b)=>({...b,...y}),...t},o=!1;const l=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const d=Rh(i.serialize),h=()=>{const y=i.partialize({...r()});let b;const g=d({state:y,version:i.version}).then(w=>u.setItem(i.name,w)).catch(w=>{b=w});if(b)throw b;return g},f=s.setState;s.setState=(y,b)=>{f(y,b),h()};const p=e((...y)=>{n(...y),h()},r,s);let x;const m=()=>{var y;if(!u)return;o=!1,l.forEach(g=>g(r()));const b=((y=i.onRehydrateStorage)==null?void 0:y.call(i,r()))||void 0;return Rh(u.getItem.bind(u))(i.name).then(g=>{if(g)return i.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return i.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var w;return x=i.merge(g,(w=r())!=null?w:p),n(x,!0),h()}).then(()=>{b==null||b(x,void 0),o=!0,c.forEach(g=>g(x))}).catch(g=>{b==null||b(void 0,g)})};return s.persist={setOptions:y=>{i={...i,...y},y.getStorage&&(u=y.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},m(),x||p},q7=(e,t)=>(n,r,s)=>{let i={storage:K7(()=>localStorage),partialize:m=>m,version:0,merge:(m,y)=>({...y,...m}),...t},o=!1;const l=new Set,c=new Set;let u=i.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,s);const d=()=>{const m=i.partialize({...r()});return u.setItem(i.name,{state:m,version:i.version})},h=s.setState;s.setState=(m,y)=>{h(m,y),d()};const f=e((...m)=>{n(...m),d()},r,s);s.getInitialState=()=>f;let p;const x=()=>{var m,y;if(!u)return;o=!1,l.forEach(g=>{var w;return g((w=r())!=null?w:f)});const b=((y=i.onRehydrateStorage)==null?void 0:y.call(i,(m=r())!=null?m:f))||void 0;return Rh(u.getItem.bind(u))(i.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==i.version){if(i.migrate)return[!0,i.migrate(g.state,g.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,g.state];return[!1,void 0]}).then(g=>{var w;const[j,E]=g;if(p=i.merge(E,(w=r())!=null?w:f),n(p,!0),j)return d()}).then(()=>{b==null||b(p,void 0),p=r(),o=!0,c.forEach(g=>g(p))}).catch(g=>{b==null||b(void 0,g)})};return s.persist={setOptions:m=>{i={...i,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},i.skipHydration||x(),p||f},G7=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((H7?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),W7(e,t)):q7(e,t),Z7=G7,ai=V7()(Z7(e=>({isConnected:!1,userAddress:null,network:"testnet",setConnected:t=>e({isConnected:!0,userAddress:t}),setDisconnected:()=>e({isConnected:!1,userAddress:null}),setNetwork:t=>e({network:t}),checkSession:()=>{}}),{name:"wallet-storage"})),K=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ie("rounded-lg border border-border bg-card text-card-foreground shadow-sm",e),...t}));K.displayName="Card";const se=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));se.displayName="CardHeader";const ie=S.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const je=S.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));je.displayName="CardDescription";const q=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ie("p-6 pt-0",e),...t}));q.displayName="CardContent";const Y7=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",e),...t}));Y7.displayName="CardFooter";const J7=n0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-border bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Y=S.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?k8:"button";return a.jsx(o,{className:Ie(J7({variant:t,size:n,className:e})),ref:i,...s})});Y.displayName="Button";const Q7="https://browser.blockstack.org/auth",X7={"@type":"Person","@context":"http://schema.org"},lO=["store_write"],eH="blockstack-session",tH={logLevel:"debug"},wl={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(wl);class Iu extends Error{constructor(t){super();let n=t.message,r=`Error Code: ${t.code}`,s=this.stack;if(s)r+=`Stack Trace:
${s}`;else try{throw new Error}catch(i){s=i.stack}n+=`
If you believe this exception is caused by a bug in stacks.js,
      please file a bug report: https://github.com/blockstack/stacks.js/issues

${r}`,this.message=n,this.code=t.code,this.parameter=t.parameter?t.parameter:void 0}toString(){return`${super.toString()}
    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class nH extends Iu{constructor(t,n=""){super({code:wl.MISSING_PARAMETER,message:n,parameter:t}),this.name="MissingParametersError"}}class w2 extends Iu{constructor(t=""){super({code:wl.INVALID_DID_ERROR,message:t}),this.name="InvalidDIDError"}}class lp extends Iu{constructor(t){const n=`Failed to login: ${t}`;super({code:wl.LOGIN_FAILED_ERROR,message:n}),this.message=n,this.name="LoginFailedError"}}class b2 extends Iu{constructor(t="Unable to decrypt cipher object."){super({code:wl.FAILED_DECRYPTION_ERROR,message:t}),this.message=t,this.name="FailedDecryptionError"}}class cw extends Iu{constructor(t){super({code:wl.INVALID_STATE,message:t}),this.message=t,this.name="InvalidStateError"}}class cO extends Iu{constructor(t){super({code:wl.INVALID_STATE,message:t}),this.message=t,this.name="NoSessionDataError"}}const S2=["debug","info","warn","error","none"],uw={};for(let e=0;e<S2.length;e++){const t=S2[e];uw[t]=e}class ic{static error(t){this.shouldLog("error")&&console.error(this.logMessage("error",t))}static warn(t){this.shouldLog("warn")&&console.warn(this.logMessage("warn",t))}static info(t){this.shouldLog("info")&&console.log(this.logMessage("info",t))}static debug(t){this.shouldLog("debug")&&console.log(this.logMessage("debug",t))}static logMessage(t,n){return`[${t.toUpperCase()}] ${n}`}static shouldLog(t){return uw[tH.logLevel]<=uw[t]}}function rH(){return new Date(new Date().setMonth(new Date().getMonth()+1))}function sH(){return new Date(new Date().setHours(new Date().getHours()+1))}function Jy(e,t){(e===void 0||e==="")&&(e="0.0.0"),(t===void 0||e==="")&&(t="0.0.0");const n=e.split(".").map(s=>parseInt(s,10)),r=t.split(".").map(s=>parseInt(s,10));for(let s=0;s<t.length;s++)if(s>=e.length&&r.push(0),n[s]<r[s])return!1;return!0}function iH(){let e=new Date().getTime();return typeof performance<"u"&&typeof performance.now=="function"&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t==="x"?n:n&3|8).toString(16)})}function oH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}function aH(e,t,n){return n?`Use of '${n}' requires \`${t}\` which is unavailable on the '${e}' object within the currently executing environment.`:`\`${t}\` is unavailable on the '${e}' object within the currently executing environment.`}function aS(e,{throwIfUnavailable:t,usageDesc:n,returnEmptyObject:r}={}){let s;try{if(s=oH(),s){const i=s[e];if(i)return i}}catch(i){ic.error(`Error getting object '${e}' from global scope '${s}': ${i}`)}if(t){const i=aH(s,e.toString(),n);throw ic.error(i),new Error(i)}if(r)return{}}function Fo(e,t){return lS(Qn(e),t)}function Qn(e){if(typeof e=="bigint")return e;if(typeof e=="string")return BigInt(e);if(typeof e=="number"){if(!Number.isInteger(e))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(e>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(e)}if(mr(e,Uint8Array))return BigInt(`0x${xe(e)}`);throw new TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function lH(e){return/^0x/i.test(e)?e.slice(2):e}function j2(e){if(typeof e!="string")throw new TypeError(`hexToBigInt: expected string, got ${typeof e}`);return BigInt(`0x${e}`)}function pf(e,t=8){return(typeof e=="bigint"?e:Qn(e)).toString(16).padStart(t*2,"0")}function p0(e){return parseInt(e,16)}function lS(e,t=16){const n=pf(e,t);return We(n)}function cH(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}function uH(e,t){return e&BigInt(1)<<t}function dw(e){return dH(BigInt(`0x${xe(e)}`),BigInt(e.byteLength*8))}function dH(e,t){return uH(e,t-BigInt(1))?e-(BigInt(1)<<t):e}const hH=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function xe(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(const n of e)t+=hH[n];return t}function We(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);e=lH(e),e=e.length%2?`0${e}`:e;const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function bl(e){return new TextEncoder().encode(e)}function mf(e){return new TextDecoder().decode(e)}function fH(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function pH(e){return String.fromCharCode.apply(null,e)}function mH(e){return!Number.isInteger(e)||e<0||e>255}function N2(e){if(e.some(mH))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}function ni(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function tn(e){return ni(...e.map(t=>typeof t=="number"?N2([t]):t instanceof Array?N2(t):t))}function mr(e,t){var n,r;return e instanceof t||((r=(n=e==null?void 0:e.constructor)==null?void 0:n.name)==null?void 0:r.toLowerCase())===t.name}const uO="https://api.mainnet.hiro.so",dO="https://api.testnet.hiro.so",hO="http://localhost:3999",gH="https://hub.blockstack.org",yH=33,Qy=32;function vH(e){if(e.length<Qy*2*2+1)throw new Error("Invalid signature");const t=e.slice(0,2),n=e.slice(2,2+Qy*2),r=e.slice(2+Qy*2);return{recoveryId:p0(t),r:n,s:r}}function cS(e){const t=typeof e=="string"?We(e):e;if(t.length!=32&&t.length!=33)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${t.length}`);if(t.length==33&&t[32]!==1)throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return t}function xH(e,t){return(e[t+0]<<8|e[t+1])>>>0}function wH(e,t,n=0){return e[n+0]=t>>>8,e[n+1]=t>>>0,e}function bH(e,t){return e[t]}function SH(e,t,n=0){return e[n]=t,e}function jH(e,t){return e[t]*2**24+e[t+1]*2**16+e[t+2]*2**8+e[t+3]}function qa(e,t,n=0){return e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t,e}const NH={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function _H(e,t){const n={};return Object.assign(n,NH,t),await fetch(e,n)}function EH(e){let t=_H,n=[];return e.length>0&&typeof e[0]=="function"&&(t=e.shift()),e.length>0&&(n=e),{fetchLib:t,middlewares:n}}function AH(...e){const{fetchLib:t,middlewares:n}=EH(e);return async(s,i)=>{let o={url:s,init:i??{}};for(const c of n)typeof c.pre=="function"&&(o=await Promise.resolve(c.pre({fetch:t,...o}))??o);let l=await t(o.url,o.init);for(const c of n)typeof c.post=="function"&&(l=await Promise.resolve(c.post({fetch:t,url:o.url,init:o.init,response:(l==null?void 0:l.clone())??l}))??l);return l}}class m0{constructor(t=lO.slice(),n=(l=>(l=aS("location",{returnEmptyObject:!0}))==null?void 0:l.origin)(),r="",s="/manifest.json",i=void 0,o=Q7){this.appDomain=n,this.scopes=t,this.redirectPath=r,this.manifestPath=s,this.coreNode=i,this.authenticatorURL=o}redirectURI(){return`${this.appDomain}${this.redirectPath}`}manifestURI(){return`${this.appDomain}${this.manifestPath}`}}function hw(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function CH(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function fO(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function kH(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hw(e.outputLen),hw(e.blockLen)}function TH(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function PH(e,t){fO(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const ba={number:hw,bool:CH,bytes:fO,hash:kH,exists:TH,output:PH};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xy=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ps=(e,t)=>e<<32-t|e>>>t,IH=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!IH)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function MH(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function uS(e){if(typeof e=="string"&&(e=MH(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class pO{clone(){return this._cloneInto()}}function Sl(e){const t=r=>e().update(uS(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class mO extends pO{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,ba.hash(t);const r=uS(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(t){return ba.exists(this),this.iHash.update(t),this}digestInto(t){ba.exists(this),ba.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:l}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=l,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const jl=(e,t,n)=>new mO(e,t).update(n).digest();jl.create=(e,t)=>new mO(e,t);const OH=Object.freeze(Object.defineProperty({__proto__:null,hmac:jl},Symbol.toStringTag,{value:"Module"}));function RH(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),l=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,l,r)}class dS extends pO{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Xy(this.buffer)}update(t){ba.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=uS(t);const i=t.length;for(let o=0;o<i;){const l=Math.min(s-this.pos,i-o);if(l===s){const c=Xy(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){ba.exists(this),ba.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let h=o;h<s;h++)n[h]=0;RH(r,s-8,BigInt(this.length*8),i),this.process(r,0);const l=Xy(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<u;h++)l.setUint32(4*h,d[h],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:l}=this;return t.length=s,t.pos=l,t.finished=i,t.destroyed=o,s%n&&t.buffer.set(r),t}}const DH=(e,t,n)=>e&t^~e&n,$H=(e,t,n)=>e&t^e&n^t&n,LH=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qi=new Uint32Array(64);class gO extends dS{constructor(){super(64,32,8,!1),this.A=Wi[0]|0,this.B=Wi[1]|0,this.C=Wi[2]|0,this.D=Wi[3]|0,this.E=Wi[4]|0,this.F=Wi[5]|0,this.G=Wi[6]|0,this.H=Wi[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:l,H:c}=this;return[t,n,r,s,i,o,l,c]}set(t,n,r,s,i,o,l,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=l|0,this.H=c|0}process(t,n){for(let h=0;h<16;h++,n+=4)qi[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const f=qi[h-15],p=qi[h-2],x=Ps(f,7)^Ps(f,18)^f>>>3,m=Ps(p,17)^Ps(p,19)^p>>>10;qi[h]=m+qi[h-7]+x+qi[h-16]|0}let{A:r,B:s,C:i,D:o,E:l,F:c,G:u,H:d}=this;for(let h=0;h<64;h++){const f=Ps(l,6)^Ps(l,11)^Ps(l,25),p=d+f+DH(l,c,u)+LH[h]+qi[h]|0,m=(Ps(r,2)^Ps(r,13)^Ps(r,22))+$H(r,s,i)|0;d=u,u=c,c=l,l=o+p|0,o=i,i=s,s=r,r=p+m|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,l=l+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(r,s,i,o,l,c,u,d)}roundClean(){qi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class BH extends gO{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Xr=Sl(()=>new gO),FH=Sl(()=>new BH),UH=Object.freeze(Object.defineProperty({__proto__:null,sha224:FH,sha256:Xr},Symbol.toStringTag,{value:"Module"})),zH={},yO=Object.freeze(Object.defineProperty({__proto__:null,default:zH},Symbol.toStringTag,{value:"Module"}));/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Ve=BigInt(0),Pt=BigInt(1),vo=BigInt(2),Qd=BigInt(3),_2=BigInt(8),dt=Object.freeze({a:Ve,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Pt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),E2=(e,t)=>(e+t/vo)/t,cp={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=dt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Pt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),l=E2(i*e,t),c=E2(-r*e,t);let u=ne(e-l*n-c*s,t),d=ne(-l*r-c*i,t);const h=u>o,f=d>o;if(h&&(u=t-u),f&&(d=t-d),u>o||d>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:f,k2:d}}},xs=32,Ga=32,vO=32,Ym=xs+1,Jm=2*xs+1;function A2(e){const{a:t,b:n}=dt,r=ne(e*e),s=ne(r*e);return ne(s+t*e+n)}const up=dt.a===Ve;class hS extends Error{constructor(t){super(t)}}function C2(e){if(!(e instanceof Qe))throw new TypeError("JacobianPoint expected")}class Qe{constructor(t,n,r){this.x=t,this.y=n,this.z=r}static fromAffine(t){if(!(t instanceof De))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(De.ZERO)?Qe.ZERO:new Qe(t.x,t.y,Pt)}static toAffineBatch(t){const n=qH(t.map(r=>r.z));return t.map((r,s)=>r.toAffine(n[s]))}static normalizeZ(t){return Qe.toAffineBatch(t).map(Qe.fromAffine)}equals(t){C2(t);const{x:n,y:r,z:s}=this,{x:i,y:o,z:l}=t,c=ne(s*s),u=ne(l*l),d=ne(n*u),h=ne(i*c),f=ne(ne(r*l)*u),p=ne(ne(o*s)*c);return d===h&&f===p}negate(){return new Qe(this.x,ne(-this.y),this.z)}double(){const{x:t,y:n,z:r}=this,s=ne(t*t),i=ne(n*n),o=ne(i*i),l=t+i,c=ne(vo*(ne(l*l)-s-o)),u=ne(Qd*s),d=ne(u*u),h=ne(d-vo*c),f=ne(u*(c-h)-_2*o),p=ne(vo*n*r);return new Qe(h,f,p)}add(t){C2(t);const{x:n,y:r,z:s}=this,{x:i,y:o,z:l}=t;if(i===Ve||o===Ve)return this;if(n===Ve||r===Ve)return t;const c=ne(s*s),u=ne(l*l),d=ne(n*u),h=ne(i*c),f=ne(ne(r*l)*u),p=ne(ne(o*s)*c),x=ne(h-d),m=ne(p-f);if(x===Ve)return m===Ve?this.double():Qe.ZERO;const y=ne(x*x),b=ne(x*y),g=ne(d*y),w=ne(m*m-b-vo*g),j=ne(m*(g-w)-f*b),E=ne(s*l*x);return new Qe(w,j,E)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const n=Qe.ZERO;if(typeof t=="bigint"&&t===Ve)return n;let r=P2(t);if(r===Pt)return this;if(!up){let h=n,f=this;for(;r>Ve;)r&Pt&&(h=h.add(f)),f=f.double(),r>>=Pt;return h}let{k1neg:s,k1:i,k2neg:o,k2:l}=cp.splitScalar(r),c=n,u=n,d=this;for(;i>Ve||l>Ve;)i&Pt&&(c=c.add(d)),l&Pt&&(u=u.add(d)),d=d.double(),i>>=Pt,l>>=Pt;return s&&(c=c.negate()),o&&(u=u.negate()),u=new Qe(ne(u.x*cp.beta),u.y,u.z),c.add(u)}precomputeWindow(t){const n=up?128/t+1:256/t+1,r=[];let s=this,i=s;for(let o=0;o<n;o++){i=s,r.push(i);for(let l=1;l<2**(t-1);l++)i=i.add(s),r.push(i);s=i.double()}return r}wNAF(t,n){!n&&this.equals(Qe.BASE)&&(n=De.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let s=n&&fw.get(n);s||(s=this.precomputeWindow(r),n&&r!==1&&(s=Qe.normalizeZ(s),fw.set(n,s)));let i=Qe.ZERO,o=Qe.BASE;const l=1+(up?128/r:256/r),c=2**(r-1),u=BigInt(2**r-1),d=2**r,h=BigInt(r);for(let f=0;f<l;f++){const p=f*c;let x=Number(t&u);t>>=h,x>c&&(x-=d,t+=Pt);const m=p,y=p+Math.abs(x)-1,b=f%2!==0,g=x<0;x===0?o=o.add(dp(b,s[m])):i=i.add(dp(g,s[y]))}return{p:i,f:o}}multiply(t,n){let r=P2(t),s,i;if(up){const{k1neg:o,k1:l,k2neg:c,k2:u}=cp.splitScalar(r);let{p:d,f:h}=this.wNAF(l,n),{p:f,f:p}=this.wNAF(u,n);d=dp(o,d),f=dp(c,f),f=new Qe(ne(f.x*cp.beta),f.y,f.z),s=d.add(f),i=h.add(p)}else{const{p:o,f:l}=this.wNAF(r,n);s=o,i=l}return Qe.normalizeZ([s,i])[0]}toAffine(t){const{x:n,y:r,z:s}=this,i=this.equals(Qe.ZERO);t==null&&(t=i?_2:Mu(s));const o=t,l=ne(o*o),c=ne(l*o),u=ne(n*l),d=ne(r*c),h=ne(s*o);if(i)return De.ZERO;if(h!==Pt)throw new Error("invZ was invalid");return new De(u,d)}}Qe.BASE=new Qe(dt.Gx,dt.Gy,Pt);Qe.ZERO=new Qe(Ve,Pt,Ve);function dp(e,t){const n=t.negate();return e?n:t}const fw=new WeakMap;class De{constructor(t,n){this.x=t,this.y=n}_setWindowSize(t){this._WINDOW_SIZE=t,fw.delete(this)}hasEvenY(){return this.y%vo===Ve}static fromCompressedHex(t){const n=t.length===32,r=kr(n?t:t.subarray(1));if(!nm(r))throw new Error("Point is not on curve");const s=A2(r);let i=WH(s);const o=(i&Pt)===Pt;n?o&&(i=ne(-i)):(t[0]&1)===1!==o&&(i=ne(-i));const l=new De(r,i);return l.assertValidity(),l}static fromUncompressedHex(t){const n=kr(t.subarray(1,xs+1)),r=kr(t.subarray(xs+1,xs*2+1)),s=new De(n,r);return s.assertValidity(),s}static fromHex(t){const n=ri(t),r=n.length,s=n[0];if(r===xs)return this.fromCompressedHex(n);if(r===Ym&&(s===2||s===3))return this.fromCompressedHex(n);if(r===Jm&&s===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Ym} compressed bytes or ${Jm} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return De.BASE.multiply(Za(t))}static fromSignature(t,n,r){const{r:s,s:i}=bO(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=fS(ri(t)),{n:l}=dt,c=r===2||r===3?s+l:s,u=Mu(c,l),d=ne(-o*u,l),h=ne(i*u,l),f=r&1?"03":"02",p=De.fromHex(f+Po(c)),x=De.BASE.multiplyAndAddUnsafe(p,d,h);if(!x)throw new Error("Cannot recover signature: point at infinify");return x.assertValidity(),x}toRawBytes(t=!1){return Io(this.toHex(t))}toHex(t=!1){const n=Po(this.x);return t?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Po(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:n,y:r}=this;if(!nm(n)||!nm(r))throw new Error(t);const s=ne(r*r),i=A2(n);if(ne(s-i)!==Ve)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new De(this.x,ne(-this.y))}double(){return Qe.fromAffine(this).double().toAffine()}add(t){return Qe.fromAffine(this).add(Qe.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Qe.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,n,r){const s=Qe.fromAffine(this),i=n===Ve||n===Pt||this!==De.BASE?s.multiplyUnsafe(n):s.multiply(n),o=Qe.fromAffine(t).multiplyUnsafe(r),l=i.add(o);return l.equals(Qe.ZERO)?void 0:l.toAffine()}}De.BASE=new De(dt.Gx,dt.Gy);De.ZERO=new De(Ve,Ve);function k2(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function T2(e){if(e.length<2||e[0]!==2)throw new Error(`Invalid signature integer tag: ${tu(e)}`);const t=e[1],n=e.subarray(2,t+2);if(!t||n.length!==t)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:kr(n),left:e.subarray(t+2)}}function VH(e){if(e.length<2||e[0]!=48)throw new Error(`Invalid signature tag: ${tu(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:n}=T2(e.subarray(2)),{data:r,left:s}=T2(n);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${tu(s)}`);return{r:t,s:r}}class Ss{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromCompact(t){const n=t instanceof Uint8Array,r="Signature.fromCompact";if(typeof t!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const s=n?tu(t):t;if(s.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new Ss(Qm(s.slice(0,64)),Qm(s.slice(64,128)))}static fromDER(t){const n=t instanceof Uint8Array;if(typeof t!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=VH(n?t:Io(t));return new Ss(r,s)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:n}=this;if(!ru(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!ru(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=dt.n>>Pt;return this.s>t}normalizeS(){return this.hasHighS()?new Ss(this.r,ne(-this.s,dt.n)):this}toDERRawBytes(){return Io(this.toDERHex())}toDERHex(){const t=k2(vd(this.s)),n=k2(vd(this.r)),r=t.length/2,s=n.length/2,i=vd(r),o=vd(s);return`30${vd(s+r+4)}02${o}${n}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Io(this.toCompactHex())}toCompactHex(){return Po(this.r)+Po(this.s)}}function oo(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const HH=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tu(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let n=0;n<e.length;n++)t+=HH[e[n]];return t}const KH=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Po(e){if(typeof e!="bigint")throw new Error("Expected bigint");if(!(Ve<=e&&e<KH))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function nu(e){const t=Io(Po(e));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function vd(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Qm(e){if(typeof e!="string")throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Io(e){if(typeof e!="string")throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let n=0;n<t.length;n++){const r=n*2,s=e.slice(r,r+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[n]=i}return t}function kr(e){return Qm(tu(e))}function ri(e){return e instanceof Uint8Array?Uint8Array.from(e):Io(e)}function P2(e){if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if(typeof e=="bigint"&&ru(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ne(e,t=dt.P){const n=e%t;return n>=Ve?n:t+n}function Lr(e,t){const{P:n}=dt;let r=e;for(;t-- >Ve;)r*=r,r%=n;return r}function WH(e){const{P:t}=dt,n=BigInt(6),r=BigInt(11),s=BigInt(22),i=BigInt(23),o=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=Lr(u,Qd)*u%t,h=Lr(d,Qd)*u%t,f=Lr(h,vo)*c%t,p=Lr(f,r)*f%t,x=Lr(p,s)*p%t,m=Lr(x,o)*x%t,y=Lr(m,l)*m%t,b=Lr(y,o)*x%t,g=Lr(b,Qd)*u%t,w=Lr(g,i)*p%t,j=Lr(w,n)*c%t,E=Lr(j,vo);if(E*E%t!==e)throw new Error("Cannot find square root");return E}function Mu(e,t=dt.P){if(e===Ve||t<=Ve)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ne(e,t),r=t,s=Ve,i=Pt;for(;n!==Ve;){const l=r/n,c=r%n,u=s-i*l;r=n,n=c,s=i,i=u}if(r!==Pt)throw new Error("invert: does not exist");return ne(s,t)}function qH(e,t=dt.P){const n=new Array(e.length),r=e.reduce((i,o,l)=>o===Ve?i:(n[l]=i,ne(i*o,t)),Pt),s=Mu(r,t);return e.reduceRight((i,o,l)=>o===Ve?i:(n[l]=ne(i*n[l],t),ne(i*o,t)),s),n}function GH(e){const t=e.length*8-Ga*8,n=kr(e);return t>0?n>>BigInt(t):n}function fS(e,t=!1){const n=GH(e);if(t)return n;const{n:r}=dt;return n>=r?n-r:n}let Ec,Xd;class xO{constructor(t,n){if(this.hashLen=t,this.qByteLen=n,typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof n!="number"||n<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return en.hmacSha256(this.k,...t)}hmacSync(...t){return Xd(this.k,...t)}checkSync(){if(typeof Xd!="function")throw new hS("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),t.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),t.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const n=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();n.push(r),t+=this.v.length}return oo(...n)}generateSync(){this.checkSync(),this.incr();let t=0;const n=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();n.push(r),t+=this.v.length}return oo(...n)}}function ru(e){return Ve<e&&e<dt.n}function nm(e){return Ve<e&&e<dt.P}function wO(e,t,n,r=!0){const{n:s}=dt,i=fS(e,!0);if(!ru(i))return;const o=Mu(i,s),l=De.BASE.multiply(i),c=ne(l.x,s);if(c===Ve)return;const u=ne(o*ne(t+n*c,s),s);if(u===Ve)return;let d=new Ss(c,u),h=(l.x===d.r?0:2)|Number(l.y&Pt);return r&&d.hasHighS()&&(d=d.normalizeS(),h^=1),{sig:d,recovery:h}}function Za(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==2*Ga)throw new Error("Expected 32 bytes of private key");t=Qm(e)}else if(e instanceof Uint8Array){if(e.length!==Ga)throw new Error("Expected 32 bytes of private key");t=kr(e)}else throw new TypeError("Expected valid private key");if(!ru(t))throw new Error("Expected private key: 0 < key < n");return t}function pS(e){return e instanceof De?(e.assertValidity(),e):De.fromHex(e)}function bO(e){if(e instanceof Ss)return e.assertValidity(),e;try{return Ss.fromDER(e)}catch{return Ss.fromCompact(e)}}function g0(e,t=!1){return De.fromPrivateKey(e).toRawBytes(t)}function ZH(e,t,n,r=!1){return De.fromSignature(e,t,n).toRawBytes(r)}function I2(e){const t=e instanceof Uint8Array,n=typeof e=="string",r=(t||n)&&e.length;return t?r===Ym||r===Jm:n?r===Ym*2||r===Jm*2:e instanceof De}function mS(e,t,n=!1){if(I2(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!I2(t))throw new TypeError("getSharedSecret: second arg must be public key");const r=pS(t);return r.assertValidity(),r.multiply(Za(e)).toRawBytes(n)}function SO(e){const t=e.length>xs?e.slice(0,xs):e;return kr(t)}function YH(e){const t=SO(e),n=ne(t,dt.n);return jO(n<Ve?t:n)}function jO(e){return nu(e)}function NO(e,t,n){if(e==null)throw new Error(`sign: expected valid message hash, not "${e}"`);const r=ri(e),s=Za(t),i=[jO(s),YH(r)];if(n!=null){n===!0&&(n=en.randomBytes(xs));const c=ri(n);if(c.length!==xs)throw new Error(`sign: Expected ${xs} bytes of extra data`);i.push(c)}const o=oo(...i),l=SO(r);return{seed:o,m:l,d:s}}function _O(e,t){const{sig:n,recovery:r}=e,{der:s,recovered:i}=Object.assign({canonical:!0,der:!0},t),o=s?n.toDERRawBytes():n.toCompactRawBytes();return i?[o,r]:o}async function JH(e,t,n={}){const{seed:r,m:s,d:i}=NO(e,t,n.extraEntropy),o=new xO(vO,Ga);await o.reseed(r);let l;for(;!(l=wO(await o.generate(),s,i,n.canonical));)await o.reseed();return _O(l,n)}function gS(e,t,n={}){const{seed:r,m:s,d:i}=NO(e,t,n.extraEntropy),o=new xO(vO,Ga);o.reseedSync(r);let l;for(;!(l=wO(o.generateSync(),s,i,n.canonical));)o.reseedSync();return _O(l,n)}const QH={strict:!0};function XH(e,t,n,r=QH){let s;try{s=bO(e),t=ri(t)}catch{return!1}const{r:i,s:o}=s;if(r.strict&&s.hasHighS())return!1;const l=fS(t);let c;try{c=pS(n)}catch{return!1}const{n:u}=dt,d=Mu(o,u),h=ne(l*d,u),f=ne(i*d,u),p=De.BASE.multiplyAndAddUnsafe(c,h,f);return p?ne(p.x,u)===i:!1}function Xm(e){return ne(kr(e),dt.n)}class su{constructor(t,n){this.r=t,this.s=n,this.assertValidity()}static fromHex(t){const n=ri(t);if(n.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${n.length}`);const r=kr(n.subarray(0,32)),s=kr(n.subarray(32,64));return new su(r,s)}assertValidity(){const{r:t,s:n}=this;if(!nm(t)||!ru(n))throw new Error("Invalid signature")}toHex(){return Po(this.r)+Po(this.s)}toRawBytes(){return Io(this.toHex())}}function eK(e){return De.fromPrivateKey(e).toRawX()}class EO{constructor(t,n,r=en.randomBytes()){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=ri(t);const{x:s,scalar:i}=this.getScalar(Za(n));if(this.px=s,this.d=i,this.rand=ri(r),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){const n=De.fromPrivateKey(t),r=n.hasEvenY()?t:dt.n-t;return{point:n,scalar:r,x:n.toRawX()}}initNonce(t,n){return nu(t^kr(n))}finalizeNonce(t){const n=ne(kr(t),dt.n);if(n===Ve)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:s,scalar:i}=this.getScalar(n);return{R:r,rx:s,k:i}}finalizeSig(t,n,r,s){return new su(t.x,ne(n+r*s,dt.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:t,d:n,px:r,rand:s}=this,i=en.taggedHash,o=this.initNonce(n,await i(ro.aux,s)),{R:l,rx:c,k:u}=this.finalizeNonce(await i(ro.nonce,o,r,t)),d=Xm(await i(ro.challenge,c,r,t)),h=this.finalizeSig(l,u,d,n);return await kO(h,t,r)||this.error(),h}calcSync(){const{m:t,d:n,px:r,rand:s}=this,i=en.taggedHashSync,o=this.initNonce(n,i(ro.aux,s)),{R:l,rx:c,k:u}=this.finalizeNonce(i(ro.nonce,o,r,t)),d=Xm(i(ro.challenge,c,r,t)),h=this.finalizeSig(l,u,d,n);return TO(h,t,r)||this.error(),h}}async function tK(e,t,n){return new EO(e,t,n).calc()}function nK(e,t,n){return new EO(e,t,n).calcSync()}function AO(e,t,n){const r=e instanceof su,s=r?e:su.fromHex(e);return r&&s.assertValidity(),{...s,m:ri(t),P:pS(n)}}function CO(e,t,n,r){const s=De.BASE.multiplyAndAddUnsafe(t,Za(n),ne(-r,dt.n));return!(!s||!s.hasEvenY()||s.x!==e)}async function kO(e,t,n){try{const{r,s,m:i,P:o}=AO(e,t,n),l=Xm(await en.taggedHash(ro.challenge,nu(r),o.toRawX(),i));return CO(r,o,s,l)}catch{return!1}}function TO(e,t,n){try{const{r,s,m:i,P:o}=AO(e,t,n),l=Xm(en.taggedHashSync(ro.challenge,nu(r),o.toRawX(),i));return CO(r,o,s,l)}catch(r){if(r instanceof hS)throw r;return!1}}const rK={Signature:su,getPublicKey:eK,sign:tK,verify:kO,signSync:nK,verifySync:TO};De.BASE._setWindowSize(8);const vr={node:yO,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ro={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},hp={},en={bytesToHex:tu,hexToBytes:Io,concatBytes:oo,mod:ne,invert:Mu,isValidPrivateKey(e){try{return Za(e),!0}catch{return!1}},_bigintTo32Bytes:nu,_normalizePrivateKey:Za,hashToPrivateKey:e=>{e=ri(e);const t=Ga+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const n=ne(kr(e),dt.n-Pt)+Pt;return nu(n)},randomBytes:(e=32)=>{if(vr.web)return vr.web.getRandomValues(new Uint8Array(e));if(vr.node){const{randomBytes:t}=vr.node;return Uint8Array.from(t(e))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>en.hashToPrivateKey(en.randomBytes(Ga+8)),precompute(e=8,t=De.BASE){const n=t===De.BASE?t:new De(t.x,t.y);return n._setWindowSize(e),n.multiply(Qd),n},sha256:async(...e)=>{if(vr.web){const t=await vr.web.subtle.digest("SHA-256",oo(...e));return new Uint8Array(t)}else if(vr.node){const{createHash:t}=vr.node,n=t("sha256");return e.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(vr.web){const n=await vr.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=oo(...t),s=await vr.web.subtle.sign("HMAC",n,r);return new Uint8Array(s)}else if(vr.node){const{createHmac:n}=vr.node,r=n("sha256",e);return t.forEach(s=>r.update(s)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let n=hp[e];if(n===void 0){const r=await en.sha256(Uint8Array.from(e,s=>s.charCodeAt(0)));n=oo(r,r),hp[e]=n}return en.sha256(n,...t)},taggedHashSync:(e,...t)=>{if(typeof Ec!="function")throw new hS("sha256Sync is undefined, you need to set it");let n=hp[e];if(n===void 0){const r=Ec(Uint8Array.from(e,s=>s.charCodeAt(0)));n=oo(r,r),hp[e]=n}return Ec(n,...t)},_JacobianPoint:Qe};Object.defineProperties(en,{sha256Sync:{configurable:!1,get(){return Ec},set(e){Ec||(Ec=e)}},hmacSha256Sync:{configurable:!1,get(){return Xd},set(e){Xd||(Xd=e)}}});const sK=Object.freeze(Object.defineProperty({__proto__:null,CURVE:dt,Point:De,Signature:Ss,getPublicKey:g0,getSharedSecret:mS,recoverPublicKey:ZH,schnorr:rK,sign:JH,signSync:gS,utils:en,verify:XH},Symbol.toStringTag,{value:"Module"}));var gf={};gf.byteLength=cK;var iK=gf.toByteArray=dK,oK=gf.fromByteArray=pK,Us=[],zr=[],aK=typeof Uint8Array<"u"?Uint8Array:Array,ev="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ml=0,lK=ev.length;Ml<lK;++Ml)Us[Ml]=ev[Ml],zr[ev.charCodeAt(Ml)]=Ml;zr[45]=62;zr[95]=63;function PO(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function cK(e){var t=PO(e),n=t[0],r=t[1];return(n+r)*3/4-r}function uK(e,t,n){return(t+n)*3/4-n}function dK(e){var t,n=PO(e),r=n[0],s=n[1],i=new aK(uK(e,r,s)),o=0,l=s>0?r-4:r,c;for(c=0;c<l;c+=4)t=zr[e.charCodeAt(c)]<<18|zr[e.charCodeAt(c+1)]<<12|zr[e.charCodeAt(c+2)]<<6|zr[e.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=zr[e.charCodeAt(c)]<<2|zr[e.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=zr[e.charCodeAt(c)]<<10|zr[e.charCodeAt(c+1)]<<4|zr[e.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function hK(e){return Us[e>>18&63]+Us[e>>12&63]+Us[e>>6&63]+Us[e&63]}function fK(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(hK(r));return s.join("")}function pK(e){for(var t,n=e.length,r=n%3,s=[],i=16383,o=0,l=n-r;o<l;o+=i)s.push(fK(e,o,o+i>l?l:o+i));return r===1?(t=e[n-1],s.push(Us[t>>2]+Us[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(Us[t>>10]+Us[t>>4&63]+Us[t<<2&63]+"=")),s.join("")}function mK(){return typeof crypto<"u"&&typeof crypto.subtle<"u"}const gK='Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.';async function yK(){if(mK())return{lib:crypto.subtle,name:"subtleCrypto"};try{return{lib:require("crypto"),name:"nodeCrypto"}}catch{throw new Error(gK)}}class vK{constructor(t,n){this.createCipher=t,this.createDecipher=n}async encrypt(t,n,r,s){if(t!=="aes-128-cbc"&&t!=="aes-256-cbc")throw new Error(`Unsupported cipher algorithm "${t}"`);const i=this.createCipher(t,n,r),o=new Uint8Array(ni(i.update(s),i.final()));return Promise.resolve(o)}async decrypt(t,n,r,s){if(t!=="aes-128-cbc"&&t!=="aes-256-cbc")throw new Error(`Unsupported cipher algorithm "${t}"`);const i=this.createDecipher(t,n,r),o=new Uint8Array(ni(i.update(s),i.final()));return Promise.resolve(o)}}class xK{constructor(t){this.subtleCrypto=t}async encrypt(t,n,r,s){let i,o;if(t==="aes-128-cbc")i="AES-CBC",o=128;else if(t==="aes-256-cbc")i="AES-CBC",o=256;else throw new Error(`Unsupported cipher algorithm "${t}"`);const l=await this.subtleCrypto.importKey("raw",n,{name:i,length:o},!1,["encrypt"]),c=await this.subtleCrypto.encrypt({name:i,iv:r},l,s);return new Uint8Array(c)}async decrypt(t,n,r,s){let i,o;if(t==="aes-128-cbc")i="AES-CBC",o=128;else if(t==="aes-256-cbc")i="AES-CBC",o=256;else throw new Error(`Unsupported cipher algorithm "${t}"`);const l=await this.subtleCrypto.importKey("raw",n,{name:i,length:o},!1,["decrypt"]),c=await this.subtleCrypto.decrypt({name:i,iv:r},l,s);return new Uint8Array(c)}}async function IO(){const e=await yK();return e.name==="subtleCrypto"?new xK(e.lib):new vK(e.lib.createCipheriv,e.lib.createDecipheriv)}function wK(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,l=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var x=0,m=0,y=0,b=p.length;y!==b&&p[y]===0;)y++,x++;for(var g=(b-y)*u+1>>>0,w=new Uint8Array(g);y!==b;){for(var j=p[y],E=0,M=g-1;(j!==0||E<m)&&M!==-1;M--,E++)j+=256*w[M]>>>0,w[M]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error("Non-zero carry");m=E,y++}for(var O=g-m;O!==g&&w[O]===0;)O++;for(var B=l.repeat(x);O<g;++O)B+=e.charAt(w[O]);return B}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;for(var x=0,m=0,y=0;p[x]===l;)m++,x++;for(var b=(p.length-x)*c+1>>>0,g=new Uint8Array(b);p[x];){var w=p.charCodeAt(x);if(w>255)return;var j=t[w];if(j===255)return;for(var E=0,M=b-1;(j!==0||E<y)&&M!==-1;M--,E++)j+=o*g[M]>>>0,g[M]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");y=E,x++}for(var O=b-y;O!==b&&g[O]===0;)O++;for(var B=new Uint8Array(m+(b-O)),z=m;O!==b;)B[z++]=g[O++];return B}function f(p){var x=h(p);if(x)return x;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:h,decode:f}}var MO=wK;const bK=MO,SK="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var jK=bK(SK);const NK=bu(jK),_K=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),OO=Uint8Array.from({length:16},(e,t)=>t),EK=OO.map(e=>(9*e+5)%16);let yS=[OO],vS=[EK];for(let e=0;e<4;e++)for(let t of[yS,vS])t.push(t[e].map(n=>_K[n]));const RO=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),AK=yS.map((e,t)=>e.map(n=>RO[t][n])),CK=vS.map((e,t)=>e.map(n=>RO[t][n])),kK=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),TK=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),fp=(e,t)=>e<<t|e>>>32-t;function M2(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const pp=new Uint32Array(16);class PK extends dS{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:s,h4:i}=this;return[t,n,r,s,i]}set(t,n,r,s,i){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=s|0,this.h4=i|0}process(t,n){for(let p=0;p<16;p++,n+=4)pp[p]=t.getUint32(n,!0);let r=this.h0|0,s=r,i=this.h1|0,o=i,l=this.h2|0,c=l,u=this.h3|0,d=u,h=this.h4|0,f=h;for(let p=0;p<5;p++){const x=4-p,m=kK[p],y=TK[p],b=yS[p],g=vS[p],w=AK[p],j=CK[p];for(let E=0;E<16;E++){const M=fp(r+M2(p,i,l,u)+pp[b[E]]+m,w[E])+h|0;r=h,h=u,u=fp(l,10)|0,l=i,i=M}for(let E=0;E<16;E++){const M=fp(s+M2(x,o,c,d)+pp[g[E]]+y,j[E])+f|0;s=f,f=d,d=fp(c,10)|0,c=o,o=M}}this.set(this.h1+l+d|0,this.h2+u+f|0,this.h3+h+s|0,this.h4+r+o|0,this.h0+i+c|0)}roundClean(){pp.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const xS=Sl(()=>new PK);function IK(e){return xS(e)}const mp=BigInt(2**32-1),pw=BigInt(32);function DO(e,t=!1){return t?{h:Number(e&mp),l:Number(e>>pw&mp)}:{h:Number(e>>pw&mp)|0,l:Number(e&mp)|0}}function MK(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:i,l:o}=DO(e[s],t);[n[s],r[s]]=[i,o]}return[n,r]}const OK=(e,t)=>BigInt(e>>>0)<<pw|BigInt(t>>>0),RK=(e,t,n)=>e>>>n,DK=(e,t,n)=>e<<32-n|t>>>n,$K=(e,t,n)=>e>>>n|t<<32-n,LK=(e,t,n)=>e<<32-n|t>>>n,BK=(e,t,n)=>e<<64-n|t>>>n-32,FK=(e,t,n)=>e>>>n-32|t<<64-n,UK=(e,t)=>t,zK=(e,t)=>e,VK=(e,t,n)=>e<<n|t>>>32-n,HK=(e,t,n)=>t<<n|e>>>32-n,KK=(e,t,n)=>t<<n-32|e>>>64-n,WK=(e,t,n)=>e<<n-32|t>>>64-n;function qK(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const GK=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),ZK=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,YK=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),JK=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,QK=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),XK=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Ae={fromBig:DO,split:MK,toBig:OK,shrSH:RK,shrSL:DK,rotrSH:$K,rotrSL:LK,rotrBH:BK,rotrBL:FK,rotr32H:UK,rotr32L:zK,rotlSH:VK,rotlSL:HK,rotlBH:KK,rotlBL:WK,add:qK,add3L:GK,add3H:ZK,add4L:YK,add4H:JK,add5H:XK,add5L:QK},[eW,tW]=Ae.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Gi=new Uint32Array(80),Zi=new Uint32Array(80);class y0 extends dS{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:x,Hh:m,Hl:y}=this;return[t,n,r,s,i,o,l,c,u,d,h,f,p,x,m,y]}set(t,n,r,s,i,o,l,c,u,d,h,f,p,x,m,y){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=l|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=h|0,this.Fl=f|0,this.Gh=p|0,this.Gl=x|0,this.Hh=m|0,this.Hl=y|0}process(t,n){for(let w=0;w<16;w++,n+=4)Gi[w]=t.getUint32(n),Zi[w]=t.getUint32(n+=4);for(let w=16;w<80;w++){const j=Gi[w-15]|0,E=Zi[w-15]|0,M=Ae.rotrSH(j,E,1)^Ae.rotrSH(j,E,8)^Ae.shrSH(j,E,7),O=Ae.rotrSL(j,E,1)^Ae.rotrSL(j,E,8)^Ae.shrSL(j,E,7),B=Gi[w-2]|0,z=Zi[w-2]|0,$=Ae.rotrSH(B,z,19)^Ae.rotrBH(B,z,61)^Ae.shrSH(B,z,6),F=Ae.rotrSL(B,z,19)^Ae.rotrBL(B,z,61)^Ae.shrSL(B,z,6),U=Ae.add4L(O,F,Zi[w-7],Zi[w-16]),P=Ae.add4H(U,M,$,Gi[w-7],Gi[w-16]);Gi[w]=P|0,Zi[w]=U|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:l,Cl:c,Dh:u,Dl:d,Eh:h,El:f,Fh:p,Fl:x,Gh:m,Gl:y,Hh:b,Hl:g}=this;for(let w=0;w<80;w++){const j=Ae.rotrSH(h,f,14)^Ae.rotrSH(h,f,18)^Ae.rotrBH(h,f,41),E=Ae.rotrSL(h,f,14)^Ae.rotrSL(h,f,18)^Ae.rotrBL(h,f,41),M=h&p^~h&m,O=f&x^~f&y,B=Ae.add5L(g,E,O,tW[w],Zi[w]),z=Ae.add5H(B,b,j,M,eW[w],Gi[w]),$=B|0,F=Ae.rotrSH(r,s,28)^Ae.rotrBH(r,s,34)^Ae.rotrBH(r,s,39),U=Ae.rotrSL(r,s,28)^Ae.rotrBL(r,s,34)^Ae.rotrBL(r,s,39),P=r&i^r&l^i&l,v=s&o^s&c^o&c;b=m|0,g=y|0,m=p|0,y=x|0,p=h|0,x=f|0,{h,l:f}=Ae.add(u|0,d|0,z|0,$|0),u=l|0,d=c|0,l=i|0,c=o|0,i=r|0,o=s|0;const _=Ae.add3L($,U,v);r=Ae.add3H(_,z,F,P),s=_|0}({h:r,l:s}=Ae.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Ae.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:l,l:c}=Ae.add(this.Ch|0,this.Cl|0,l|0,c|0),{h:u,l:d}=Ae.add(this.Dh|0,this.Dl|0,u|0,d|0),{h,l:f}=Ae.add(this.Eh|0,this.El|0,h|0,f|0),{h:p,l:x}=Ae.add(this.Fh|0,this.Fl|0,p|0,x|0),{h:m,l:y}=Ae.add(this.Gh|0,this.Gl|0,m|0,y|0),{h:b,l:g}=Ae.add(this.Hh|0,this.Hl|0,b|0,g|0),this.set(r,s,i,o,l,c,u,d,h,f,p,x,m,y,b,g)}roundClean(){Gi.fill(0),Zi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class nW extends y0{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class rW extends y0{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class sW extends y0{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const iW=Sl(()=>new y0);Sl(()=>new nW);const oW=Sl(()=>new rW);Sl(()=>new sW);function $O(e){return Xr(e)}function aW(e){return iW(e)}const lW=0;en.hmacSha256Sync=(e,...t)=>{const n=jl.create(Xr,e);return t.forEach(r=>n.update(r)),n.digest()};function cW(){return xe(en.randomPrivateKey())}function uW(e){const t=Xr(Xr(e));return NK.encode(ni(e,t).slice(0,e.length+4))}function dW(e,t){return uW(ni(new Uint8Array([e]),t.slice(0,20)))}function LO(e,t=lW){const n=typeof e=="string"?We(e):e,r=IK($O(n));return dW(t,r)}function BO(e){const t=cS(e);return xe(g0(t.slice(0,32),!0))}en.hmacSha256Sync=(e,...t)=>{const n=jl.create(Xr,e);return t.forEach(r=>n.update(r)),n.digest()};var eg;(function(e){e.InvalidFormat="InvalidFormat",e.IsNotPoint="IsNotPoint"})(eg||(eg={}));async function hW(e,t,n){return await(await IO()).encrypt("aes-256-cbc",t,e,n)}async function fW(e,t,n){return await(await IO()).decrypt("aes-256-cbc",t,e,n)}function FO(e,t){return jl(Xr,e,t)}function pW(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function UO(e){const t=aW(e);return{encryptionKey:t.slice(0,32),hmacKey:t.slice(32)}}function mW(e){return e.match(/^[0-9a-f]+$/i)!==null}function gW(e){const t={result:!1,reason_data:"Invalid public key format",reason:eg.InvalidFormat},n={result:!1,reason_data:"Public key is not a point",reason:eg.IsNotPoint};if(e.length!==66&&e.length!==130)return t;const r=e.slice(0,2);if(e.length===130&&r!=="04"||e.length===66&&r!=="02"&&r!=="03"||!mW(e))return t;try{return De.fromHex(e).assertValidity(),{result:!0,reason_data:null,reason:null}}catch{return n}}async function yW(e,t,n,r){const s=gW(e);if(!s.result)throw s;const i=en.randomPrivateKey(),o=g0(i,!0);let l=mS(i,e,!0);l=l.slice(1);const c=UO(l),u=en.randomBytes(16),d=await hW(u,c.encryptionKey,t),h=ni(u,o,d),f=FO(c.hmacKey,h);let p;if(!r||r==="hex")p=xe(d);else if(r==="base64")p=oK(d);else throw new Error(`Unexpected cipherTextEncoding "${r}"`);const x={iv:xe(u),ephemeralPK:xe(o),cipherText:p,mac:xe(f),wasString:n};return r&&r!=="hex"&&(x.cipherTextEncoding=r),x}async function zO(e,t){if(!t.ephemeralPK)throw new b2("Unable to get public key from cipher object. You might be trying to decrypt an unencrypted object.");const n=t.ephemeralPK;let r=mS(e,n,!0);r=r.slice(1);const s=UO(r),i=We(t.iv);let o;if(!t.cipherTextEncoding||t.cipherTextEncoding==="hex")o=We(t.cipherText);else if(t.cipherTextEncoding==="base64")o=iK(t.cipherText);else throw new Error(`Unexpected cipherTextEncoding "${t.cipherText}"`);const l=ni(i,We(n),o),c=FO(s.hmacKey,l),u=We(t.mac);if(!pW(u,c))throw new b2("Decryption failed: failure in MAC check");const d=await fW(i,s.encryptionKey,o);return t.wasString?mf(d):d}function vW(e,t){const n=typeof t=="string"?bl(t):t,r=BO(e),s=$O(n),i=gS(s,e);return{signature:xe(i),publicKey:r}}async function xW(e,t){const n=Object.assign({},t);let r;if(!n.publicKey){if(!n.privateKey)throw new Error("Either public key or private key must be supplied for encryption.");n.publicKey=BO(n.privateKey)}const s=typeof n.wasString=="boolean"?n.wasString:typeof e=="string",i=typeof e=="string"?bl(e):e,o=await yW(n.publicKey,i,s,n.cipherTextEncoding);let l=JSON.stringify(o);if(n.sign){typeof n.sign=="string"?r=n.sign:r||(r=n.privateKey);const c=vW(r,l),u={signature:c.signature,publicKey:c.publicKey,cipherText:l};l=JSON.stringify(u)}return l}function wW(e,t){const n=Object.assign({},t);if(!n.privateKey)throw new Error("Private key is required for decryption.");try{const r=JSON.parse(e);return zO(n.privateKey,r)}catch(r){throw r instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):r}}var Ou={},v0={};Object.defineProperty(v0,"__esModule",{value:!0});v0.crypto=void 0;v0.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const t=v0,n=j=>new Uint8Array(j.buffer,j.byteOffset,j.byteLength);e.u8=n;const r=j=>new Uint32Array(j.buffer,j.byteOffset,Math.floor(j.byteLength/4));e.u32=r;const s=j=>new DataView(j.buffer,j.byteOffset,j.byteLength);e.createView=s;const i=(j,E)=>j<<32-E|j>>>E;if(e.rotr=i,e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(j,E)=>E.toString(16).padStart(2,"0"));function l(j){if(!(j instanceof Uint8Array))throw new Error("Uint8Array expected");let E="";for(let M=0;M<j.length;M++)E+=o[j[M]];return E}e.bytesToHex=l;function c(j){if(typeof j!="string")throw new TypeError("hexToBytes: expected string, got "+typeof j);if(j.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const E=new Uint8Array(j.length/2);for(let M=0;M<E.length;M++){const O=M*2,B=j.slice(O,O+2),z=Number.parseInt(B,16);if(Number.isNaN(z)||z<0)throw new Error("Invalid byte sequence");E[M]=z}return E}e.hexToBytes=c;const u=async()=>{};e.nextTick=u;async function d(j,E,M){let O=Date.now();for(let B=0;B<j;B++){M(B);const z=Date.now()-O;z>=0&&z<E||(await(0,e.nextTick)(),O+=z)}}e.asyncLoop=d;function h(j){if(typeof j!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof j}`);return new TextEncoder().encode(j)}e.utf8ToBytes=h;function f(j){if(typeof j=="string"&&(j=h(j)),!(j instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof j})`);return j}e.toBytes=f;function p(...j){if(!j.every(O=>O instanceof Uint8Array))throw new Error("Uint8Array list expected");if(j.length===1)return j[0];const E=j.reduce((O,B)=>O+B.length,0),M=new Uint8Array(E);for(let O=0,B=0;O<j.length;O++){const z=j[O];M.set(z,B),B+=z.length}return M}e.concatBytes=p;class x{clone(){return this._cloneInto()}}e.Hash=x;const m=j=>Object.prototype.toString.call(j)==="[object Object]"&&j.constructor===Object;function y(j,E){if(E!==void 0&&(typeof E!="object"||!m(E)))throw new TypeError("Options should be object or undefined");return Object.assign(j,E)}e.checkOpts=y;function b(j){const E=O=>j().update(f(O)).digest(),M=j();return E.outputLen=M.outputLen,E.blockLen=M.blockLen,E.create=()=>j(),E}e.wrapConstructor=b;function g(j){const E=(O,B)=>j(B).update(f(O)).digest(),M=j({});return E.outputLen=M.outputLen,E.blockLen=M.blockLen,E.create=O=>j(O),E}e.wrapConstructorWithOpts=g;function w(j=32){if(t.crypto.web)return t.crypto.web.getRandomValues(new Uint8Array(j));if(t.crypto.node)return new Uint8Array(t.crypto.node.randomBytes(j).buffer);throw new Error("The environment doesn't have randomBytes function")}e.randomBytes=w})(Ou);const x0=fl(UH);var Un={},iu={},Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.decode=Gn.encode=Gn.unescape=Gn.escape=Gn.pad=void 0;const VO=gf;function wS(e){return`${e}${"=".repeat(4-(e.length%4||4))}`}Gn.pad=wS;function HO(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}Gn.escape=HO;function KO(e){return wS(e).replace(/-/g,"+").replace(/_/g,"/")}Gn.unescape=KO;function bW(e){return HO((0,VO.fromByteArray)(new TextEncoder().encode(e)))}Gn.encode=bW;function SW(e){return new TextDecoder().decode((0,VO.toByteArray)(wS(KO(e))))}Gn.decode=SW;var w0={},b0={};const jW=fl(OH),NW=fl(sK);var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.joseToDer=ou.derToJose=void 0;const WO=gf,qO=Gn;function tv(e){return(e/8|0)+(e%8===0?0:1)}const _W={ES256:tv(256),ES384:tv(384),ES512:tv(521)};function GO(e){const t=_W[e];if(t)return t;throw new Error(`Unknown algorithm "${e}"`)}const tg=128,ZO=0,EW=32,AW=16,CW=2,YO=AW|EW|ZO<<6,ng=CW|ZO<<6;function JO(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return(0,WO.toByteArray)((0,qO.pad)(e));throw new TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function kW(e,t){const n=JO(e),r=GO(t),s=r+1,i=n.length;let o=0;if(n[o++]!==YO)throw new Error('Could not find expected "seq"');let l=n[o++];if(l===(tg|1)&&(l=n[o++]),i-o<l)throw new Error(`"seq" specified length of "${l}", only "${i-o}" remaining`);if(n[o++]!==ng)throw new Error('Could not find expected "int" for "r"');const c=n[o++];if(i-o-2<c)throw new Error(`"r" specified length of "${c}", only "${i-o-2}" available`);if(s<c)throw new Error(`"r" specified length of "${c}", max of "${s}" is acceptable`);const u=o;if(o+=c,n[o++]!==ng)throw new Error('Could not find expected "int" for "s"');const d=n[o++];if(i-o!==d)throw new Error(`"s" specified length of "${d}", expected "${i-o}"`);if(s<d)throw new Error(`"s" specified length of "${d}", max of "${s}" is acceptable`);const h=o;if(o+=d,o!==i)throw new Error(`Expected to consume entire array, but "${i-o}" bytes remain`);const f=r-c,p=r-d,x=new Uint8Array(f+c+p+d);for(o=0;o<f;++o)x[o]=0;x.set(n.subarray(u+Math.max(-f,0),u+c),o),o=r;for(const m=o;o<m+p;++o)x[o]=0;return x.set(n.subarray(h+Math.max(-p,0),h+d),o),(0,qO.escape)((0,WO.fromByteArray)(x))}ou.derToJose=kW;function O2(e,t,n){let r=0;for(;t+r<n&&e[t+r]===0;)++r;return e[t+r]>=tg&&--r,r}function TW(e,t){e=JO(e);const n=GO(t),r=e.length;if(r!==n*2)throw new TypeError(`"${t}" signatures must be "${n*2}" bytes, saw "${r}"`);const s=O2(e,0,n),i=O2(e,n,e.length),o=n-s,l=n-i,c=2+o+1+1+l,u=c<tg,d=new Uint8Array((u?2:3)+c);let h=0;return d[h++]=YO,u?d[h++]=c:(d[h++]=tg|1,d[h++]=c&255),d[h++]=ng,d[h++]=o,s<0?(d[h++]=0,d.set(e.subarray(0,n),h),h+=n):(d.set(e.subarray(s,n),h),h+=n-s),d[h++]=ng,d[h++]=l,i<0?(d[h++]=0,d.set(e.subarray(n),h)):d.set(e.subarray(n+i),h),d}ou.joseToDer=TW;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.InvalidTokenError=Ri.MissingParametersError=void 0;class PW extends Error{constructor(t){super(),this.name="MissingParametersError",this.message=t||""}}Ri.MissingParametersError=PW;class IW extends Error{constructor(t){super(),this.name="InvalidTokenError",this.message=t||""}}Ri.InvalidTokenError=IW;Object.defineProperty(b0,"__esModule",{value:!0});b0.SECP256K1Client=void 0;const MW=jW,OW=x0,rm=NW,R2=ou,D2=Ri,$2=Ou;rm.utils.hmacSha256Sync=(e,...t)=>{const n=MW.hmac.create(OW.sha256,e);return t.forEach(r=>n.update(r)),n.digest()};class QO{static derivePublicKey(t,n=!0){return t.length===66&&(t=t.slice(0,64)),t.length<64&&(t=t.padStart(64,"0")),(0,$2.bytesToHex)(rm.getPublicKey(t,n))}static signHash(t,n,r="jose"){if(!t||!n)throw new D2.MissingParametersError("a signing input hash and private key are all required");const s=rm.signSync(t,n.slice(0,64),{der:!0,canonical:!1});if(r==="der")return(0,$2.bytesToHex)(s);if(r==="jose")return(0,R2.derToJose)(s,"ES256");throw Error("Invalid signature format")}static loadSignature(t){return(0,R2.joseToDer)(t,"ES256")}static verifyHash(t,n,r){if(!t||!n||!r)throw new D2.MissingParametersError("a signing input hash, der signature, and public key are all required");return rm.verify(n,t,r,{strict:!1})}}b0.SECP256K1Client=QO;QO.algorithmName="ES256K";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.cryptoClients=e.SECP256K1Client=void 0;const t=b0;Object.defineProperty(e,"SECP256K1Client",{enumerable:!0,get:function(){return t.SECP256K1Client}});const n={ES256K:t.SECP256K1Client};e.cryptoClients=n})(w0);var Ya={};const XO=fl(yO);var RW=ze&&ze.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.hashSha256Async=Ya.hashSha256=void 0;const DW=x0;function eR(e){return(0,DW.sha256)(e)}Ya.hashSha256=eR;function $W(e){return RW(this,void 0,void 0,function*(){try{if(typeof crypto<"u"&&typeof crypto.subtle<"u"){const n=typeof e=="string"?new TextEncoder().encode(e):e,r=yield crypto.subtle.digest("SHA-256",n);return new Uint8Array(r)}else{const n=XO;if(!n.createHash)throw new Error("`crypto` module does not contain `createHash`");return Promise.resolve(n.createHash("sha256").update(e).digest())}}catch(t){return console.log(t),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(eR(e))}})}Ya.hashSha256Async=$W;var LW=ze&&ze.__awaiter||function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(iu,"__esModule",{value:!0});iu.TokenSigner=iu.createUnsecuredToken=void 0;const mw=Gn,L2=w0,BW=Ri,B2=Ya;function gw(e,t){const n=[],r=mw.encode(JSON.stringify(t));n.push(r);const s=mw.encode(JSON.stringify(e));return n.push(s),n.join(".")}function FW(e){return gw(e,{typ:"JWT",alg:"none"})+"."}iu.createUnsecuredToken=FW;class UW{constructor(t,n){if(!(t&&n))throw new BW.MissingParametersError("a signing algorithm and private key are required");if(typeof t!="string")throw new Error("signing algorithm parameter must be a string");if(t=t.toUpperCase(),!L2.cryptoClients.hasOwnProperty(t))throw new Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=L2.cryptoClients[t],this.rawPrivateKey=n}header(t={}){const n={typ:this.tokenType,alg:this.cryptoClient.algorithmName};return Object.assign({},n,t)}sign(t,n=!1,r={}){const s=this.header(r),i=gw(t,s),o=(0,B2.hashSha256)(i);return this.createWithSignedHash(t,n,s,i,o)}signAsync(t,n=!1,r={}){return LW(this,void 0,void 0,function*(){const s=this.header(r),i=gw(t,s),o=yield(0,B2.hashSha256Async)(i);return this.createWithSignedHash(t,n,s,i,o)})}createWithSignedHash(t,n,r,s,i){const o=this.cryptoClient.signHash(i,this.rawPrivateKey);return n?{header:[mw.encode(JSON.stringify(r))],payload:JSON.stringify(t),signature:[o]}:[s,o].join(".")}}iu.TokenSigner=UW;var S0={};Object.defineProperty(S0,"__esModule",{value:!0});S0.TokenVerifier=void 0;const zW=Gn,F2=w0,VW=Ri,gp=Ya;class HW{constructor(t,n){if(!(t&&n))throw new VW.MissingParametersError("a signing algorithm and public key are required");if(typeof t!="string")throw"signing algorithm parameter must be a string";if(t=t.toUpperCase(),!F2.cryptoClients.hasOwnProperty(t))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=F2.cryptoClients[t],this.rawPublicKey=n}verify(t){return typeof t=="string"?this.verifyCompact(t,!1):typeof t=="object"?this.verifyExpanded(t,!1):!1}verifyAsync(t){return typeof t=="string"?this.verifyCompact(t,!0):typeof t=="object"?this.verifyExpanded(t,!0):Promise.resolve(!1)}verifyCompact(t,n){const r=t.split("."),s=r[0]+"."+r[1],i=o=>{const l=this.cryptoClient.loadSignature(r[2]);return this.cryptoClient.verifyHash(o,l,this.rawPublicKey)};if(n)return(0,gp.hashSha256Async)(s).then(o=>i(o));{const o=(0,gp.hashSha256)(s);return i(o)}}verifyExpanded(t,n){const r=[t.header.join("."),zW.encode(t.payload)].join(".");let s=!0;const i=o=>(t.signature.map(l=>{const c=this.cryptoClient.loadSignature(l);this.cryptoClient.verifyHash(o,c,this.rawPublicKey)||(s=!1)}),s);if(n)return(0,gp.hashSha256Async)(r).then(o=>i(o));{const o=(0,gp.hashSha256)(r);return i(o)}}}S0.TokenVerifier=HW;var j0={};Object.defineProperty(j0,"__esModule",{value:!0});j0.decodeToken=void 0;const yp=Gn;function KW(e){if(typeof e=="string"){const t=e.split("."),n=JSON.parse(yp.decode(t[0])),r=JSON.parse(yp.decode(t[1])),s=t[2];return{header:n,payload:r,signature:s}}else if(typeof e=="object"){if(typeof e.payload!="string")throw new Error("Expected token payload to be a base64 or json string");let t=e.payload;e.payload[0]!=="{"&&(t=yp.decode(t));const n=[];return e.header.map(r=>{const s=JSON.parse(yp.decode(r));n.push(s)}),{header:n,payload:JSON.parse(t),signature:e.signature}}}j0.decodeToken=KW;(function(e){var t=ze&&ze.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var l=Object.getOwnPropertyDescriptor(s,i);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,l)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),n=ze&&ze.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&t(s,r,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(iu,e),n(S0,e),n(j0,e),n(Ri,e),n(w0,e)})(Un);function WW(e){return`did:btc-addr:${e}`}function qW(e){const t=e.split(":");if(t.length!==3)throw new w2("Decentralized IDs must have 3 parts");if(t[0].toLowerCase()!=="did")throw new w2('Decentralized IDs must start with "did"');return t[1].toLowerCase()}function tR(e){if(e)return qW(e)==="btc-addr"?e.split(":")[2]:void 0}const GW="1.4.0";function ZW(){return cW()}function YW(e,t,n,r=lO.slice(),s,i=rH().getTime(),o={}){const l=p=>{const x=aS("location",{throwIfUnavailable:!0,usageDesc:`makeAuthRequest([${p}=undefined])`});return x==null?void 0:x.origin};t||(t=`${l("redirectURI")}/`),n||(n=`${l("manifestURI")}/manifest.json`),s||(s=l("appDomain"));const c=Object.assign({},o,{jti:iH(),iat:Math.floor(new Date().getTime()/1e3),exp:Math.floor(i/1e3),iss:null,public_keys:[],domain_name:s,manifest_uri:n,redirect_uri:t,version:GW,do_not_include_profile:!0,supports_hub_url:!0,scopes:r}),u=Un.SECP256K1Client.derivePublicKey(e);c.public_keys=[u];const d=LO(u);return c.iss=WW(d),new Un.TokenSigner("ES256k",e).sign(c)}async function U2(e,t){const n=mf(We(t)),r=JSON.parse(n),s=await zO(e,r);if(typeof s!="string")throw new Error("Unable to correctly decrypt private key");return s}function JW(e){const t=Un.decodeToken(e).payload;if(typeof t=="string")throw new Error("Unexpected token payload type of string");const n=t.public_keys;if(n.length===1){const r=n[0];try{return new Un.TokenVerifier("ES256k",r).verify(e)}catch{return!1}}else throw new Error("Multiple public keys are not supported")}function QW(e){const t=Un.decodeToken(e).payload;if(typeof t=="string")throw new Error("Unexpected token payload type of string");const n=t.public_keys,r=tR(t.iss);if(n.length===1){if(LO(n[0])===r)return!0}else throw new Error("Multiple public keys are not supported");return!1}function XW(e){const t=Un.decodeToken(e).payload;if(typeof t=="string")throw new Error("Unexpected token payload type of string");if(t.iat){if(typeof t.iat!="number")return!1;const n=new Date(t.iat*1e3);return!(new Date().getTime()<n.getTime())}else return!0}function eq(e){const t=Un.decodeToken(e).payload;if(typeof t=="string")throw new Error("Unexpected token payload type of string");if(t.exp){if(typeof t.exp!="number")return!1;const n=new Date(t.exp*1e3);return!(new Date().getTime()>n.getTime())}else return!0}async function tq(e){return(await Promise.all([eq(e),XW(e),JW(e),QW(e)])).every(n=>n)}const z2="1.0.0";class Mo{constructor(t){this.version=z2,this.userData=t.userData,this.transitKey=t.transitKey,this.etags=t.etags?t.etags:{}}static fromJSON(t){if(t.version!==z2)throw new cw(`JSON data version ${t.version} not supported by SessionData`);const n={coreNode:t.coreNode,userData:t.userData,transitKey:t.transitKey,etags:t.etags};return new Mo(n)}toString(){return JSON.stringify(this)}}class nR{constructor(t){if(t){const n=new Mo(t);this.setSessionData(n)}}getSessionData(){throw new Error("Abstract class")}setSessionData(t){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}}class V2 extends nR{constructor(t){super(t),this.sessionData||this.setSessionData(new Mo({}))}getSessionData(){if(!this.sessionData)throw new cO("No session data was found.");return this.sessionData}setSessionData(t){return this.sessionData=t,!0}deleteSessionData(){return this.setSessionData(new Mo({})),!0}}class H2 extends nR{constructor(t){if(super(t),t&&t.storeOptions&&t.storeOptions.localStorageKey&&typeof t.storeOptions.localStorageKey=="string"?this.key=t.storeOptions.localStorageKey:this.key=eH,!localStorage.getItem(this.key)){const r=new Mo({});this.setSessionData(r)}}getSessionData(){const t=localStorage.getItem(this.key);if(!t)throw new cO("No session data was found in localStorage");const n=JSON.parse(t);return Mo.fromJSON(n)}setSessionData(t){return localStorage.setItem(this.key,t.toString()),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData(new Mo({})),!0}}var Dh;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Testnet=2147483648]="Testnet"})(Dh||(Dh={}));var rg;(function(e){e[e.Mainnet=385875968]="Mainnet",e[e.Testnet=4278190080]="Testnet"})(rg||(rg={}));Dh.Mainnet;var Ni;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(Ni||(Ni={}));var Ks;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(Ks||(Ks={}));Ni.Mainnet;const rR={chainId:Dh.Mainnet,transactionVersion:Ni.Mainnet,peerNetworkId:rg.Mainnet,magicBytes:"X2",bootAddress:"SP000000000000000000002Q6VF78",addressVersion:{singleSig:Ks.MainnetSingleSig,multiSig:Ks.MainnetMultiSig},client:{baseUrl:uO}},yw={chainId:Dh.Testnet,transactionVersion:Ni.Testnet,peerNetworkId:rg.Testnet,magicBytes:"T2",bootAddress:"ST000000000000000000002AMW42H",addressVersion:{singleSig:Ks.TestnetSingleSig,multiSig:Ks.TestnetMultiSig},client:{baseUrl:dO}},sm={...yw,addressVersion:{...yw.addressVersion},magicBytes:"id",client:{baseUrl:hO}},nq={...sm,addressVersion:{...sm.addressVersion},client:{...sm.client}};function rq(e){switch(e){case"mainnet":return rR;case"testnet":return yw;case"devnet":return sm;case"mocknet":return nq;default:throw new Error(`Unknown network name: ${e}`)}}function sR(e){return typeof e=="string"?rq(e):e}var K2;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(K2||(K2={}));var W2;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3"})(W2||(W2={}));var os;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(os||(os={}));const nv=["onChainOnly","offChainOnly","any"];nv[0]+"",os.OnChainOnly,nv[1]+"",os.OffChainOnly,nv[2]+"",os.Any,os.OnChainOnly+"",os.OnChainOnly,os.OffChainOnly+"",os.OffChainOnly,os.Any+"",os.Any;var q2;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(q2||(q2={}));var G2;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(G2||(G2={}));var Z2;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(Z2||(Z2={}));var xi;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2WPKH=2]="P2WPKH",e[e.P2WSH=3]="P2WSH",e[e.P2SHNonSequential=5]="P2SHNonSequential",e[e.P2WSHNonSequential=7]="P2WSHNonSequential"})(xi||(xi={}));var Y2;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(Y2||(Y2={}));var J2;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(J2||(J2={}));var Q2;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(Q2||(Q2={}));var X2;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(X2||(X2={}));var eE;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(eE||(eE={}));var tE;(function(e){e[e.BlockFound=0]="BlockFound",e[e.Extended=1]="Extended"})(tE||(tE={}));var nE;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(nE||(nE={}));var rE;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(rE||(rE={}));var yf={},bS={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32decode=e.c32normalize=e.c32encode=e.c32=void 0;const t=Ou;e.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const n="0123456789abcdef";function r(o,l){if(!o.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");o.length%2!==0&&(o=`0${o}`),o=o.toLowerCase();let c=[],u=0;for(let p=o.length-1;p>=0;p--)if(u<4){const x=n.indexOf(o[p])>>u;let m=0;p!==0&&(m=n.indexOf(o[p-1]));const y=1+u,b=m%(1<<y)<<5-y,g=e.c32[x+b];u=y,c.unshift(g)}else u=0;let d=0;for(let p=0;p<c.length&&c[p]==="0";p++)d++;c=c.slice(d);const h=new TextDecoder().decode((0,t.hexToBytes)(o)).match(/^\u0000*/),f=h?h[0].length:0;for(let p=0;p<f;p++)c.unshift(e.c32[0]);if(l){const p=l-c.length;for(let x=0;x<p;x++)c.unshift(e.c32[0])}return c.join("")}e.c32encode=r;function s(o){return o.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}e.c32normalize=s;function i(o,l){if(o=s(o),!o.match(`^[${e.c32}]*$`))throw new Error("Not a c32-encoded string");const c=o.match(`^${e.c32[0]}*`),u=c?c[0].length:0;let d=[],h=0,f=0;for(let m=o.length-1;m>=0;m--){f===4&&(d.unshift(n[h]),f=0,h=0);const b=(e.c32.indexOf(o[m])<<f)+h,g=n[b%16];if(f+=1,h=b>>4,h>1<<f)throw new Error("Panic error in decoding.");d.unshift(g)}d.unshift(n[h]),d.length%2===1&&d.unshift("0");let p=0;for(let m=0;m<d.length&&d[m]==="0";m++)p++;d=d.slice(p-p%2);let x=d.join("");for(let m=0;m<u;m++)x=`00${x}`;if(l){const m=l*2-x.length;for(let y=0;y<m;y+=2)x=`00${x}`}return x}e.c32decode=i})(bS);var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.c32checkDecode=Ja.c32checkEncode=void 0;const sE=x0,iE=Ou,eh=bS;function iR(e){const t=(0,sE.sha256)((0,sE.sha256)((0,iE.hexToBytes)(e)));return(0,iE.bytesToHex)(t.slice(0,4))}function sq(e,t){if(e<0||e>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!t.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");t=t.toLowerCase(),t.length%2!==0&&(t=`0${t}`);let n=e.toString(16);n.length===1&&(n=`0${n}`);const r=iR(`${n}${t}`),s=(0,eh.c32encode)(`${t}${r}`);return`${eh.c32[e]}${s}`}Ja.c32checkEncode=sq;function iq(e){e=(0,eh.c32normalize)(e);const t=(0,eh.c32decode)(e.slice(1)),n=e[0],r=eh.c32.indexOf(n),s=t.slice(-8);let i=r.toString(16);if(i.length===1&&(i=`0${i}`),iR(`${i}${t.substring(0,t.length-8)}`)!==s)throw new Error("Invalid c32check string: checksum mismatch");return[r,t.substring(0,t.length-8)]}Ja.c32checkDecode=iq;var oR={},au={};Object.defineProperty(au,"__esModule",{value:!0});au.decode=au.encode=void 0;const sg=x0,oE=Ou,aR=MO,lR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";function oq(e,t="00"){const n=typeof e=="string"?(0,oE.hexToBytes)(e):e,r=typeof t=="string"?(0,oE.hexToBytes)(t):e;if(!(n instanceof Uint8Array)||!(r instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const s=(0,sg.sha256)((0,sg.sha256)(new Uint8Array([...r,...n])));return aR(lR).encode([...r,...n,...s.slice(0,4)])}au.encode=oq;function aq(e){const t=aR(lR).decode(e),n=t.slice(0,1),r=t.slice(1,-4),s=(0,sg.sha256)((0,sg.sha256)(new Uint8Array([...n,...r])));return t.slice(-4).forEach((i,o)=>{if(i!==s[o])throw new Error("Invalid checksum")}),{prefix:n,data:r}}au.decode=aq;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.c32ToB58=e.b58ToC32=e.c32addressDecode=e.c32address=e.versions=void 0;const t=Ja,n=au,r=Ou;e.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const s={};s[0]=e.versions.mainnet.p2pkh,s[5]=e.versions.mainnet.p2sh,s[111]=e.versions.testnet.p2pkh,s[196]=e.versions.testnet.p2sh;const i={};i[e.versions.mainnet.p2pkh]=0,i[e.versions.mainnet.p2sh]=5,i[e.versions.testnet.p2pkh]=111,i[e.versions.testnet.p2sh]=196;function o(d,h){if(!h.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,t.c32checkEncode)(d,h)}`}e.c32address=o;function l(d){if(d.length<=5)throw new Error("Invalid c32 address: invalid length");if(d[0]!="S")throw new Error('Invalid c32 address: must start with "S"');return(0,t.c32checkDecode)(d.slice(1))}e.c32addressDecode=l;function c(d,h=-1){const f=n.decode(d),p=(0,r.bytesToHex)(f.data),x=parseInt((0,r.bytesToHex)(f.prefix),16);let m;return h<0?(m=x,s[x]!==void 0&&(m=s[x])):m=h,o(m,p)}e.b58ToC32=c;function u(d,h=-1){const f=l(d),p=f[0],x=f[1];let m;h<0?(m=p,i[p]!==void 0&&(m=i[p])):m=h;let y=m.toString(16);return y.length===1&&(y=`0${y}`),n.encode(x,y)}e.c32ToB58=u})(oR);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.b58ToC32=e.c32ToB58=e.versions=e.c32normalize=e.c32addressDecode=e.c32address=e.c32checkDecode=e.c32checkEncode=e.c32decode=e.c32encode=void 0;const t=bS;Object.defineProperty(e,"c32encode",{enumerable:!0,get:function(){return t.c32encode}}),Object.defineProperty(e,"c32decode",{enumerable:!0,get:function(){return t.c32decode}}),Object.defineProperty(e,"c32normalize",{enumerable:!0,get:function(){return t.c32normalize}});const n=Ja;Object.defineProperty(e,"c32checkEncode",{enumerable:!0,get:function(){return n.c32checkEncode}}),Object.defineProperty(e,"c32checkDecode",{enumerable:!0,get:function(){return n.c32checkDecode}});const r=oR;Object.defineProperty(e,"c32address",{enumerable:!0,get:function(){return r.c32address}}),Object.defineProperty(e,"c32addressDecode",{enumerable:!0,get:function(){return r.c32addressDecode}}),Object.defineProperty(e,"c32ToB58",{enumerable:!0,get:function(){return r.c32ToB58}}),Object.defineProperty(e,"b58ToC32",{enumerable:!0,get:function(){return r.b58ToC32}}),Object.defineProperty(e,"versions",{enumerable:!0,get:function(){return r.versions}})})(yf);function lq(e,t){switch(t=sR(t??rR),e){case xi.P2PKH:switch(t.transactionVersion){case Ni.Mainnet:return Ks.MainnetSingleSig;case Ni.Testnet:return Ks.TestnetSingleSig;default:throw new Error(`Unexpected transactionVersion ${t.transactionVersion} for hashMode ${e}`)}case xi.P2SH:case xi.P2SHNonSequential:case xi.P2WPKH:case xi.P2WSH:case xi.P2WSHNonSequential:switch(t.transactionVersion){case Ni.Mainnet:return Ks.MainnetMultiSig;case Ni.Testnet:return Ks.TestnetMultiSig;default:throw new Error(`Unexpected transactionVersion ${t.transactionVersion} for hashMode ${e}`)}default:throw new Error(`Unexpected hashMode ${e}`)}}var ig={exports:{}};ig.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",s=9007199254740991,i="[object Arguments]",o="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Function]",h="[object GeneratorFunction]",f="[object Map]",p="[object Number]",x="[object Object]",m="[object Promise]",y="[object RegExp]",b="[object Set]",g="[object String]",w="[object Symbol]",j="[object WeakMap]",E="[object ArrayBuffer]",M="[object DataView]",O="[object Float32Array]",B="[object Float64Array]",z="[object Int8Array]",$="[object Int16Array]",F="[object Int32Array]",U="[object Uint8Array]",P="[object Uint8ClampedArray]",v="[object Uint16Array]",_="[object Uint32Array]",A=/[\\^$.*+?()[\]{}|]/g,k=/\w*$/,C=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,L={};L[i]=L[o]=L[E]=L[M]=L[l]=L[c]=L[O]=L[B]=L[z]=L[$]=L[F]=L[f]=L[p]=L[x]=L[y]=L[b]=L[g]=L[w]=L[U]=L[P]=L[v]=L[_]=!0,L[u]=L[d]=L[j]=!1;var I=typeof ze=="object"&&ze&&ze.Object===Object&&ze,N=typeof self=="object"&&self&&self.Object===Object&&self,R=I||N||Function("return this")(),J=t&&!t.nodeType&&t,te=J&&!0&&e&&!e.nodeType&&e,re=te&&te.exports===J;function X(D,V){return D.set(V[0],V[1]),D}function he(D,V){return D.add(V),D}function we(D,V){for(var Z=-1,de=D?D.length:0;++Z<de&&V(D[Z],Z,D)!==!1;);return D}function Oe(D,V){for(var Z=-1,de=V.length,Sn=D.length;++Z<de;)D[Sn+Z]=V[Z];return D}function ue(D,V,Z,de){for(var Sn=-1,tr=D?D.length:0;++Sn<tr;)Z=V(Z,D[Sn],Sn,D);return Z}function fe(D,V){for(var Z=-1,de=Array(D);++Z<D;)de[Z]=V(Z);return de}function Jt(D,V){return D==null?void 0:D[V]}function Re(D){var V=!1;if(D!=null&&typeof D.toString!="function")try{V=!!(D+"")}catch{}return V}function qe(D){var V=-1,Z=Array(D.size);return D.forEach(function(de,Sn){Z[++V]=[Sn,de]}),Z}function zn(D,V){return function(Z){return D(V(Z))}}function Ge(D){var V=-1,Z=Array(D.size);return D.forEach(function(de){Z[++V]=de}),Z}var lt=Array.prototype,ns=Function.prototype,ct=Object.prototype,Xe=R["__core-js_shared__"],Fi=function(){var D=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}(),Ze=ns.toString,Ye=ct.hasOwnProperty,ui=ct.toString,$e=RegExp("^"+Ze.call(Ye).replace(A,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=re?R.Buffer:void 0,na=R.Symbol,jt=R.Uint8Array,ht=zn(Object.getPrototypeOf,Object),Cl=Object.create,Nt=ct.propertyIsEnumerable,gt=lt.splice,$r=Object.getOwnPropertySymbols,_t=et?et.isBuffer:void 0,it=zn(Object.keys,Object),Ui=Tl(R,"DataView"),ut=Tl(R,"Map"),ft=Tl(R,"Promise"),di=Tl(R,"Set"),yt=Tl(R,"WeakMap"),tt=Tl(Object,"create"),yr=ia(Ui),Tt=ia(ut),oe=ia(ft),He=ia(di),be=ia(yt),Le=na?na.prototype:void 0,bn=Le?Le.valueOf:void 0;function Pe(D){var V=-1,Z=D?D.length:0;for(this.clear();++V<Z;){var de=D[V];this.set(de[0],de[1])}}function nt(){this.__data__=tt?tt(null):{}}function Tn(D){return this.has(D)&&delete this.__data__[D]}function Je(D){var V=this.__data__;if(tt){var Z=V[D];return Z===r?void 0:Z}return Ye.call(V,D)?V[D]:void 0}function Ft(D){var V=this.__data__;return tt?V[D]!==void 0:Ye.call(V,D)}function Mf(D,V){var Z=this.__data__;return Z[D]=tt&&V===void 0?r:V,this}Pe.prototype.clear=nt,Pe.prototype.delete=Tn,Pe.prototype.get=Je,Pe.prototype.has=Ft,Pe.prototype.set=Mf;function rt(D){var V=-1,Z=D?D.length:0;for(this.clear();++V<Z;){var de=D[V];this.set(de[0],de[1])}}function Ut(){this.__data__=[]}function Of(D){var V=this.__data__,Z=zi(V,D);if(Z<0)return!1;var de=V.length-1;return Z==de?V.pop():gt.call(V,Z,1),!0}function zt(D){var V=this.__data__,Z=zi(V,D);return Z<0?void 0:V[Z][1]}function Vt(D){return zi(this.__data__,D)>-1}function Rf(D,V){var Z=this.__data__,de=zi(Z,D);return de<0?Z.push([D,V]):Z[de][1]=V,this}rt.prototype.clear=Ut,rt.prototype.delete=Of,rt.prototype.get=zt,rt.prototype.has=Vt,rt.prototype.set=Rf;function pt(D){var V=-1,Z=D?D.length:0;for(this.clear();++V<Z;){var de=D[V];this.set(de[0],de[1])}}function Ht(){this.__data__={hash:new Pe,map:new(ut||rt),string:new Pe}}function qu(D){return Df(this,D).delete(D)}function Gu(D){return Df(this,D).get(D)}function Zu(D){return Df(this,D).has(D)}function Yu(D,V){return Df(this,D).set(D,V),this}pt.prototype.clear=Ht,pt.prototype.delete=qu,pt.prototype.get=Gu,pt.prototype.has=Zu,pt.prototype.set=Yu;function ks(D){this.__data__=new rt(D)}function Ju(){this.__data__=new rt}function Qu(D){return this.__data__.delete(D)}function Xu(D){return this.__data__.get(D)}function ed(D){return this.__data__.has(D)}function td(D,V){var Z=this.__data__;if(Z instanceof rt){var de=Z.__data__;if(!ut||de.length<n-1)return de.push([D,V]),this;Z=this.__data__=new pt(de)}return Z.set(D,V),this}ks.prototype.clear=Ju,ks.prototype.delete=Qu,ks.prototype.get=Xu,ks.prototype.has=ed,ks.prototype.set=td;function nd(D,V){var Z=fy(D)||GL(D)?fe(D.length,String):[],de=Z.length,Sn=!!de;for(var tr in D)Ye.call(D,tr)&&!(Sn&&(tr=="length"||HL(tr,de)))&&Z.push(tr);return Z}function kl(D,V,Z){var de=D[V];(!(Ye.call(D,V)&&uN(de,Z))||Z===void 0&&!(V in D))&&(D[V]=Z)}function zi(D,V){for(var Z=D.length;Z--;)if(uN(D[Z][0],V))return Z;return-1}function rd(D,V){return D&&aN(V,py(V),D)}function ra(D,V,Z,de,Sn,tr,hi){var nr;if(de&&(nr=tr?de(D,Sn,tr,hi):de(D)),nr!==void 0)return nr;if(!$f(D))return D;var fN=fy(D);if(fN){if(nr=UL(D),!V)return LL(D,nr)}else{var Pl=sa(D),pN=Pl==d||Pl==h;if(YL(D))return PL(D,V);if(Pl==x||Pl==i||pN&&!tr){if(Re(D))return tr?D:{};if(nr=zL(pN?{}:D),!V)return BL(D,rd(nr,D))}else{if(!L[Pl])return tr?D:{};nr=VL(D,Pl,ra,V)}}hi||(hi=new ks);var mN=hi.get(D);if(mN)return mN;if(hi.set(D,nr),!fN)var gN=Z?FL(D):py(D);return we(gN||D,function(my,Lf){gN&&(Lf=my,my=D[Lf]),kl(nr,Lf,ra(my,V,Z,de,Lf,D,hi))}),nr}function sd(D){return $f(D)?Cl(D):{}}function id(D,V,Z){var de=V(D);return fy(D)?de:Oe(de,Z(D))}function od(D){return ui.call(D)}function ad(D){if(!$f(D)||WL(D))return!1;var V=hN(D)||Re(D)?$e:C;return V.test(ia(D))}function TL(D){if(!cN(D))return it(D);var V=[];for(var Z in Object(D))Ye.call(D,Z)&&Z!="constructor"&&V.push(Z);return V}function PL(D,V){if(V)return D.slice();var Z=new D.constructor(D.length);return D.copy(Z),Z}function hy(D){var V=new D.constructor(D.byteLength);return new jt(V).set(new jt(D)),V}function IL(D,V){var Z=V?hy(D.buffer):D.buffer;return new D.constructor(Z,D.byteOffset,D.byteLength)}function ML(D,V,Z){var de=V?Z(qe(D),!0):qe(D);return ue(de,X,new D.constructor)}function OL(D){var V=new D.constructor(D.source,k.exec(D));return V.lastIndex=D.lastIndex,V}function RL(D,V,Z){var de=V?Z(Ge(D),!0):Ge(D);return ue(de,he,new D.constructor)}function DL(D){return bn?Object(bn.call(D)):{}}function $L(D,V){var Z=V?hy(D.buffer):D.buffer;return new D.constructor(Z,D.byteOffset,D.length)}function LL(D,V){var Z=-1,de=D.length;for(V||(V=Array(de));++Z<de;)V[Z]=D[Z];return V}function aN(D,V,Z,de){Z||(Z={});for(var Sn=-1,tr=V.length;++Sn<tr;){var hi=V[Sn],nr=void 0;kl(Z,hi,nr===void 0?D[hi]:nr)}return Z}function BL(D,V){return aN(D,lN(D),V)}function FL(D){return id(D,py,lN)}function Df(D,V){var Z=D.__data__;return KL(V)?Z[typeof V=="string"?"string":"hash"]:Z.map}function Tl(D,V){var Z=Jt(D,V);return ad(Z)?Z:void 0}var lN=$r?zn($r,Object):XL,sa=od;(Ui&&sa(new Ui(new ArrayBuffer(1)))!=M||ut&&sa(new ut)!=f||ft&&sa(ft.resolve())!=m||di&&sa(new di)!=b||yt&&sa(new yt)!=j)&&(sa=function(D){var V=ui.call(D),Z=V==x?D.constructor:void 0,de=Z?ia(Z):void 0;if(de)switch(de){case yr:return M;case Tt:return f;case oe:return m;case He:return b;case be:return j}return V});function UL(D){var V=D.length,Z=D.constructor(V);return V&&typeof D[0]=="string"&&Ye.call(D,"index")&&(Z.index=D.index,Z.input=D.input),Z}function zL(D){return typeof D.constructor=="function"&&!cN(D)?sd(ht(D)):{}}function VL(D,V,Z,de){var Sn=D.constructor;switch(V){case E:return hy(D);case l:case c:return new Sn(+D);case M:return IL(D,de);case O:case B:case z:case $:case F:case U:case P:case v:case _:return $L(D,de);case f:return ML(D,de,Z);case p:case g:return new Sn(D);case y:return OL(D);case b:return RL(D,de,Z);case w:return DL(D)}}function HL(D,V){return V=V??s,!!V&&(typeof D=="number"||T.test(D))&&D>-1&&D%1==0&&D<V}function KL(D){var V=typeof D;return V=="string"||V=="number"||V=="symbol"||V=="boolean"?D!=="__proto__":D===null}function WL(D){return!!Fi&&Fi in D}function cN(D){var V=D&&D.constructor,Z=typeof V=="function"&&V.prototype||ct;return D===Z}function ia(D){if(D!=null){try{return Ze.call(D)}catch{}try{return D+""}catch{}}return""}function qL(D){return ra(D,!0,!0)}function uN(D,V){return D===V||D!==D&&V!==V}function GL(D){return ZL(D)&&Ye.call(D,"callee")&&(!Nt.call(D,"callee")||ui.call(D)==i)}var fy=Array.isArray;function dN(D){return D!=null&&JL(D.length)&&!hN(D)}function ZL(D){return QL(D)&&dN(D)}var YL=_t||e6;function hN(D){var V=$f(D)?ui.call(D):"";return V==d||V==h}function JL(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=s}function $f(D){var V=typeof D;return!!D&&(V=="object"||V=="function")}function QL(D){return!!D&&typeof D=="object"}function py(D){return dN(D)?nd(D):TL(D)}function XL(){return[]}function e6(){return!1}e.exports=qL})(ig,ig.exports);var cq=ig.exports;const uq=bu(cq);var vw;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.Asset=4]="Asset",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(vw||(vw={}));function dq(e,t){return{type:vw.Address,version:e,hash160:t}}function hq(e){return yf.c32address(e.version,e.hash160)}const fq=e=>xS(Xr(e)),pq=e=>xe(fq(e));en.hmacSha256Sync=(e,...t)=>{const n=jl.create(Xr,e);return t.forEach(r=>n.update(r)),n.digest()};function mq(e,t="mainnet"){t=sR(t),e=typeof e=="string"?We(e):e;const n=lq(xi.P2PKH,t),r=dq(n,pq(e));return hq(r)}function gq(e,t){const n=Un.decodeToken(e),r=n.payload;if(typeof r=="string")throw new Error("Unexpected token payload type of string");if(r.hasOwnProperty("subject")&&r.subject){if(!r.subject.hasOwnProperty("publicKey"))throw new Error("Token doesn't have a subject public key")}else throw new Error("Token doesn't have a subject");if(r.hasOwnProperty("issuer")&&r.issuer){if(!r.issuer.hasOwnProperty("publicKey"))throw new Error("Token doesn't have an issuer public key")}else throw new Error("Token doesn't have an issuer");if(!r.hasOwnProperty("claim"))throw new Error("Token doesn't have a claim");const s=r.issuer.publicKey,i=mq(s);if(t!==s){if(t!==i)throw new Error("Token issuer public key does not match the verifying value")}const o=new Un.TokenVerifier(n.header.alg,s);if(!o)throw new Error("Invalid token verifier");if(!o.verify(e))throw new Error("Token verification failed");return n}function yq(e,t=null){let n;t?n=gq(e,t):n=Un.decodeToken(e);let r={};if(n.hasOwnProperty("payload")){const s=n.payload;if(typeof s=="string")throw new Error("Unexpected token payload type of string");s.hasOwnProperty("claim")&&(r=s.claim)}return r}const aE="_blockstackDidCheckEchoReply",vq="echoReply",xq="authContinuation";function wq(e){return e?(/^[?#]/.test(e)?e.slice(1):e).split("&").reduce((n,r)=>{const[s,i]=r.split("=");return n[s]=i?decodeURIComponent(i.replace(/\+/g," ")):"",n},{}):{}}function bq(){let e;if(typeof self<"u")e=self;else if(typeof window<"u")e=window;else return!1;if(!e.location||!e.localStorage)return!1;const t=e[aE];if(typeof t=="boolean")return t;const n=wq(e.location.search),r=n[vq];if(r){e[aE]=!0;const s=`echo-reply-${r}`;return e.localStorage.setItem(s,"success"),e.setTimeout(()=>{const i=n[xq];e.location.href=i},10),!0}return!1}class $h{constructor(t){let n=!0;if(typeof window>"u"&&typeof self>"u"&&(n=!1),t&&t.appConfig)this.appConfig=t.appConfig;else if(n)this.appConfig=new m0;else throw new nH("You need to specify options.appConfig");t&&t.sessionStore?this.store=t.sessionStore:n?t?this.store=new H2(t.sessionOptions):this.store=new H2:t?this.store=new V2(t.sessionOptions):this.store=new V2}makeAuthRequestToken(t,n,r,s,i,o=sH().getTime(),l={}){const c=this.appConfig;if(!c)throw new cw("Missing AppConfig");return t=t||this.generateAndStoreTransitKey(),n=n||c.redirectURI(),r=r||c.manifestURI(),s=s||c.scopes,i=i||c.appDomain,YW(t,n,r,s,i,o,l)}generateAndStoreTransitKey(){const t=this.store.getSessionData(),n=ZW();return t.transitKey=n,this.store.setSessionData(t),n}getAuthResponseToken(){var r;const t=(r=aS("location",{throwIfUnavailable:!0,usageDesc:"getAuthResponseToken"}))==null?void 0:r.search;return new URLSearchParams(t).get("authResponse")??""}isSignInPending(){try{if(bq())return ic.info("protocolEchoReply detected from isSignInPending call, the page is about to redirect."),!0}catch(t){ic.error(`Error checking for protocol echo reply isSignInPending: ${t}`)}return!!this.getAuthResponseToken()}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(t=this.getAuthResponseToken(),n=AH()){const r=this.store.getSessionData();if(r.userData)throw new lp("Existing user session found.");const s=this.store.getSessionData().transitKey;this.appConfig&&this.appConfig.coreNode;const i=Un.decodeToken(t).payload;if(typeof i=="string")throw new Error("Unexpected token payload type of string");if(!await tq(t))throw new lp("Invalid authentication response.");let l=i.private_key,c=i.core_token;if(Jy(i.version,"1.1.0"))if(s!==void 0&&s!=null){if(i.private_key!==void 0&&i.private_key!==null)try{l=await U2(s,i.private_key)}catch{if(ic.warn("Failed decryption of appPrivateKey, will try to use as given"),!en.isValidPrivateKey(i.private_key))throw new lp("Failed decrypting appPrivateKey. Usually means that the transit key has changed during login.")}if(c!=null)try{c=await U2(s,c)}catch{ic.info("Failed decryption of coreSessionToken, will try to use as given")}}else throw new lp("Authenticating with protocol > 1.1.0 requires transit key, and none found.");let u=gH,d;Jy(i.version,"1.2.0")&&i.hubUrl!==null&&i.hubUrl!==void 0&&(u=i.hubUrl),Jy(i.version,"1.3.0")&&i.associationToken!==null&&i.associationToken!==void 0&&(d=i.associationToken);const h={profile:i.profile,email:i.email,decentralizedID:i.iss,identityAddress:tR(i.iss),appPrivateKey:l,coreSessionToken:c,authResponseToken:t,hubUrl:u,appPrivateKeyFromWalletSalt:i.appPrivateKeyFromWalletSalt,coreNode:i.blockstackAPIUrl,gaiaAssociationToken:d},f=i.profile_url;if(!h.profile&&f){const p=await n(f);if(!p.ok)h.profile=Object.assign({},X7);else{const x=await p.text(),m=JSON.parse(x);h.profile=yq(m[0].token)}}else h.profile=i.profile;return r.userData=h,this.store.setSessionData(r),h}loadUserData(){const t=this.store.getSessionData().userData;if(!t)throw new cw("No user data found. Did the user sign in?");return t}encryptContent(t,n){const r=Object.assign({},n);return r.privateKey||(r.privateKey=this.loadUserData().appPrivateKey),xW(t,r)}decryptContent(t,n){const r=Object.assign({},n);return r.privateKey||(r.privateKey=this.loadUserData().appPrivateKey),wW(t,r)}signUserOut(t){this.store.deleteSessionData(),t&&typeof location<"u"&&location.href&&(location.href=t)}}$h.prototype.makeAuthRequest=$h.prototype.makeAuthRequestToken;const Sq=()=>typeof window>"u"?[]:window.webbtc_stx_providers?window.webbtc_stx_providers:[],jq=(e=[])=>{if(typeof window>"u")return[];const t=Sq(),n=e.filter(r=>t.find(i=>i.id===r.id)?!1:!!cR(r.id));return t.concat(n)},cR=e=>e==null?void 0:e.split(".").reduce((t,n)=>t==null?void 0:t[n],window),uR="STX_PROVIDER",dR=()=>typeof window>"u"?null:window.localStorage.getItem(uR),Pme=e=>{typeof window<"u"&&window.localStorage.setItem(uR,e)};(function(){(function(e){(function(t){var n=typeof globalThis<"u"&&globalThis||typeof e<"u"&&e||typeof ze<"u"&&ze||{},r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function s($){return $&&DataView.prototype.isPrototypeOf($)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function($){return $&&i.indexOf(Object.prototype.toString.call($))>-1};function l($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||$==="")throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function c($){return typeof $!="string"&&($=String($)),$}function u($){var F={next:function(){var U=$.shift();return{done:U===void 0,value:U}}};return r.iterable&&(F[Symbol.iterator]=function(){return F}),F}function d($){this.map={},$ instanceof d?$.forEach(function(F,U){this.append(U,F)},this):Array.isArray($)?$.forEach(function(F){if(F.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+F.length);this.append(F[0],F[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(F){this.append(F,$[F])},this)}d.prototype.append=function($,F){$=l($),F=c(F);var U=this.map[$];this.map[$]=U?U+", "+F:F},d.prototype.delete=function($){delete this.map[l($)]},d.prototype.get=function($){return $=l($),this.has($)?this.map[$]:null},d.prototype.has=function($){return this.map.hasOwnProperty(l($))},d.prototype.set=function($,F){this.map[l($)]=c(F)},d.prototype.forEach=function($,F){for(var U in this.map)this.map.hasOwnProperty(U)&&$.call(F,this.map[U],U,this)},d.prototype.keys=function(){var $=[];return this.forEach(function(F,U){$.push(U)}),u($)},d.prototype.values=function(){var $=[];return this.forEach(function(F){$.push(F)}),u($)},d.prototype.entries=function(){var $=[];return this.forEach(function(F,U){$.push([U,F])}),u($)},r.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function h($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}}function f($){return new Promise(function(F,U){$.onload=function(){F($.result)},$.onerror=function(){U($.error)}})}function p($){var F=new FileReader,U=f(F);return F.readAsArrayBuffer($),U}function x($){var F=new FileReader,U=f(F),P=/charset=([A-Za-z0-9_-]+)/.exec($.type),v=P?P[1]:"utf-8";return F.readAsText($,v),U}function m($){for(var F=new Uint8Array($),U=new Array(F.length),P=0;P<F.length;P++)U[P]=String.fromCharCode(F[P]);return U.join("")}function y($){if($.slice)return $.slice(0);var F=new Uint8Array($.byteLength);return F.set(new Uint8Array($)),F.buffer}function b(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:r.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:r.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:r.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():r.arrayBuffer&&r.blob&&s($)?(this._bodyArrayBuffer=y($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||o($))?this._bodyArrayBuffer=y($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var $=h(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=h(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(r.blob)return this.blob().then(p);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var $=h(this);if($)return $;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w($){var F=$.toUpperCase();return g.indexOf(F)>-1?F:$}function j($,F){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');F=F||{};var U=F.body;if($ instanceof j){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,F.headers||(this.headers=new d($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!U&&$._bodyInit!=null&&(U=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=F.credentials||this.credentials||"same-origin",(F.headers||!this.headers)&&(this.headers=new d(F.headers)),this.method=w(F.method||this.method||"GET"),this.mode=F.mode||this.mode||null,this.signal=F.signal||this.signal||function(){if("AbortController"in n){var _=new AbortController;return _.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(U),(this.method==="GET"||this.method==="HEAD")&&(F.cache==="no-store"||F.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var v=/\?/;this.url+=(v.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function E($){var F=new FormData;return $.trim().split("&").forEach(function(U){if(U){var P=U.split("="),v=P.shift().replace(/\+/g," "),_=P.join("=").replace(/\+/g," ");F.append(decodeURIComponent(v),decodeURIComponent(_))}}),F}function M($){var F=new d,U=$.replace(/\r?\n[\t ]+/g," ");return U.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var v=P.split(":"),_=v.shift().trim();if(_){var A=v.join(":").trim();try{F.append(_,A)}catch(k){console.warn("Response "+k.message)}}}),F}b.call(j.prototype);function O($,F){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(F||(F={}),this.type="default",this.status=F.status===void 0?200:F.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=F.statusText===void 0?"":""+F.statusText,this.headers=new d(F.headers),this.url=F.url||"",this._initBody($)}b.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},O.error=function(){var $=new O(null,{status:200,statusText:""});return $.ok=!1,$.status=0,$.type="error",$};var B=[301,302,303,307,308];O.redirect=function($,F){if(B.indexOf(F)===-1)throw new RangeError("Invalid status code");return new O(null,{status:F,headers:{location:$}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function(F,U){this.message=F,this.name=U;var P=Error(F);this.stack=P.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function z($,F){return new Promise(function(U,P){var v=new j($,F);if(v.signal&&v.signal.aborted)return P(new t.DOMException("Aborted","AbortError"));var _=new XMLHttpRequest;function A(){_.abort()}_.onload=function(){var T={statusText:_.statusText,headers:M(_.getAllResponseHeaders()||"")};v.url.indexOf("file://")===0&&(_.status<200||_.status>599)?T.status=200:T.status=_.status,T.url="responseURL"in _?_.responseURL:T.headers.get("X-Request-URL");var L="response"in _?_.response:_.responseText;setTimeout(function(){U(new O(L,T))},0)},_.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},_.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request timed out"))},0)},_.onabort=function(){setTimeout(function(){P(new t.DOMException("Aborted","AbortError"))},0)};function k(T){try{return T===""&&n.location.href?n.location.href:T}catch{return T}}if(_.open(v.method,k(v.url),!0),v.credentials==="include"?_.withCredentials=!0:v.credentials==="omit"&&(_.withCredentials=!1),"responseType"in _&&(r.blob?_.responseType="blob":r.arrayBuffer&&(_.responseType="arraybuffer")),F&&typeof F.headers=="object"&&!(F.headers instanceof d||n.Headers&&F.headers instanceof n.Headers)){var C=[];Object.getOwnPropertyNames(F.headers).forEach(function(T){C.push(l(T)),_.setRequestHeader(T,c(F.headers[T]))}),v.headers.forEach(function(T,L){C.indexOf(L)===-1&&_.setRequestHeader(L,T)})}else v.headers.forEach(function(T,L){_.setRequestHeader(L,T)});v.signal&&(v.signal.addEventListener("abort",A),_.onreadystatechange=function(){_.readyState===4&&v.signal.removeEventListener("abort",A)}),_.send(typeof v._bodyInit>"u"?null:v._bodyInit)})}return z.polyfill=!0,n.fetch||(n.fetch=z,n.Headers=d,n.Request=j,n.Response=O),t.Headers=d,t.Request=j,t.Response=O,t.fetch=z,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:ze)})();const Nq={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function _q(e,t){const n={};return Object.assign(n,Nq,t),await fetch(e,n)}function Eq(e){let t=_q,n=[];return e.length>0&&typeof e[0]=="function"&&(t=e.shift()),e.length>0&&(n=e),{fetchLib:t,middlewares:n}}function Aq(...e){const{fetchLib:t,middlewares:n}=Eq(e);return async(s,i)=>{let o={url:s,init:i??{}};for(const c of n)typeof c.pre=="function"&&(o=await Promise.resolve(c.pre({fetch:t,...o}))??o);let l=await t(o.url,o.init);for(const c of n)typeof c.post=="function"&&(l=await Promise.resolve(c.post({fetch:t,url:o.url,init:o.init,response:(l==null?void 0:l.clone())??l}))??l);return l}}var lu;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(lu||(lu={}));var Qa;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(Qa||(Qa={}));var lE;(function(e){e[e.Mainnet=385875968]="Mainnet",e[e.Testnet=4278190080]="Testnet"})(lE||(lE={}));const Cq="https://api.mainnet.hiro.so",kq="https://api.testnet.hiro.so",Tq="http://localhost:3999",Pq=["mainnet","testnet","devnet","mocknet"];let Xa=class{constructor(t){this.version=Qa.Mainnet,this.chainId=lu.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===Qa.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=n=>`${this.coreApiUrl}${this.accountEndpoint}/${n}?proof=0`,this.getAccountExtendedBalancesApiUrl=n=>`${this.coreApiUrl}/extended/v1/address/${n}/balances`,this.getAbiApiUrl=(n,r)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${n}/${r}`,this.getReadOnlyFunctionCallApiUrl=(n,r,s)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${n}/${r}/${encodeURIComponent(s)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(n,r)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}`;return r&&(s=`${s}?limit=${r.limit}&offset=${r.offset}`),s},this.getRewardsTotalUrl=n=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}/total`,this.getRewardHoldersUrl=(n,r)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${n}`;return r&&(s=`${s}?limit=${r.limit}&offset=${r.offset}`),s},this.getStackerInfoUrl=(n,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${n}/${r}/get-stacker-info`,this.getDataVarUrl=(n,r,s)=>`${this.coreApiUrl}/v2/data_var/${n}/${r}/${s}?proof=0`,this.getMapEntryUrl=(n,r,s)=>`${this.coreApiUrl}/v2/map_entry/${n}/${r}/${s}?proof=0`,this.coreApiUrl=t.url,this.fetchFn=t.fetchFn??Aq()}getNameInfo(t){const n=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetchFn(n).then(r=>{if(r.status===404)throw new Error("Name not found");if(r.status!==200)throw new Error(`Bad response status: ${r.status}`);return r.json()}).then(r=>r.address?Object.assign({},r,{address:r.address}):r)}};Xa.fromName=e=>{switch(e){case"mainnet":return new xw;case"testnet":return new ww;case"devnet":return new Iq;case"mocknet":return new hR;default:throw new Error(`Invalid network name provided. Must be one of the following: ${Pq.join(", ")}`)}};Xa.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:Xa.fromName(e);let xw=class extends Xa{constructor(t){super({url:(t==null?void 0:t.url)??Cq,fetchFn:t==null?void 0:t.fetchFn}),this.version=Qa.Mainnet,this.chainId=lu.Mainnet}},ww=class extends Xa{constructor(t){super({url:(t==null?void 0:t.url)??kq,fetchFn:t==null?void 0:t.fetchFn}),this.version=Qa.Testnet,this.chainId=lu.Testnet}},hR=class extends Xa{constructor(t){super({url:(t==null?void 0:t.url)??Tq,fetchFn:t==null?void 0:t.fetchFn}),this.version=Qa.Testnet,this.chainId=lu.Testnet}};const Iq=hR;var el;(function(e){e[e.Mainnet=1]="Mainnet",e[e.Testnet=2147483648]="Testnet"})(el||(el={}));var og;(function(e){e[e.Mainnet=385875968]="Mainnet",e[e.Testnet=4278190080]="Testnet"})(og||(og={}));el.Mainnet;var tl;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(tl||(tl={}));var nl;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(nl||(nl={}));tl.Mainnet;const Mq={chainId:el.Mainnet,transactionVersion:tl.Mainnet,peerNetworkId:og.Mainnet,magicBytes:"X2",bootAddress:"SP000000000000000000002Q6VF78",addressVersion:{singleSig:nl.MainnetSingleSig,multiSig:nl.MainnetMultiSig},client:{baseUrl:uO}},bw={chainId:el.Testnet,transactionVersion:tl.Testnet,peerNetworkId:og.Testnet,magicBytes:"T2",bootAddress:"ST000000000000000000002AMW42H",addressVersion:{singleSig:nl.TestnetSingleSig,multiSig:nl.TestnetMultiSig},client:{baseUrl:dO}},im={...bw,addressVersion:{...bw.addressVersion},magicBytes:"id",client:{baseUrl:hO}},Oq={...im,addressVersion:{...im.addressVersion},client:{...im.client}};function Rq(e){switch(e){case"mainnet":return Mq;case"testnet":return bw;case"devnet":return im;case"mocknet":return Oq;default:throw new Error(`Unknown network name: ${e}`)}}function Dq(e){return typeof e=="string"?Rq(e):e}function $q(e){const t=Object.values(e).filter(r=>typeof r=="number"),n=new Set(t);return r=>n.has(r)}const cE=new Map;function fR(e,t){const n=cE.get(e);if(n!==void 0)return n(t);const r=$q(e);return cE.set(e,r),fR(e,t)}class St{constructor(t){this.consumed=0,this.source=typeof t=="string"?We(t):t}readBytes(t){const n=this.source.subarray(this.consumed,this.consumed+t);return this.consumed+=t,n}readUInt32BE(){return jH(this.readBytes(4),0)}readUInt8(){return bH(this.readBytes(1),0)}readUInt16BE(){return xH(this.readBytes(2),0)}readBigUIntLE(t){const n=this.readBytes(t).slice().reverse(),r=xe(n);return BigInt(`0x${r}`)}readBigUIntBE(t){const n=this.readBytes(t),r=xe(n);return BigInt(`0x${r}`)}get readOffset(){return this.consumed}set readOffset(t){this.consumed=t}get internalBytes(){return this.source}readUInt8Enum(t,n){const r=this.readUInt8();if(fR(t,r))return r;throw n(r)}}const Lq=128,Bq=128,pR=16,Da=32,Sw=80,N0=65,Fq=32,Uq=64,ag=34,zq=1+16*1024*1024,Vq=165,Hq=16,Kq=16,Wq=20,qq=Kq+2+Wq,Gq=qq+4,Zq=zq+(Vq+Hq*Gq);var st;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(st||(st={}));var jw;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3"})(jw||(jw={}));var wr;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(wr||(wr={}));const rv=["onChainOnly","offChainOnly","any"];rv[0]+"",wr.OnChainOnly,rv[1]+"",wr.OffChainOnly,rv[2]+"",wr.Any,wr.OnChainOnly+"",wr.OnChainOnly,wr.OffChainOnly+"",wr.OffChainOnly,wr.Any+"",wr.Any;var lg;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(lg||(lg={}));var En;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(En||(En={}));var Yt;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(Yt||(Yt={}));var mt;(function(e){e[e.P2PKH=0]="P2PKH",e[e.P2SH=1]="P2SH",e[e.P2WPKH=2]="P2WPKH",e[e.P2WSH=3]="P2WSH",e[e.P2SHNonSequential=5]="P2SHNonSequential",e[e.P2WSHNonSequential=7]="P2WSHNonSequential"})(mt||(mt={}));var Dt;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(Dt||(Dt={}));var cg;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(cg||(cg={}));var Nw;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(Nw||(Nw={}));var Tr;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(Tr||(Tr={}));var uE;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(uE||(uE={}));var _w;(function(e){e[e.BlockFound=0]="BlockFound",e[e.Extended=1]="Extended"})(_w||(_w={}));var vs;(function(e){e[e.PublicKeyCompressed=0]="PublicKeyCompressed",e[e.PublicKeyUncompressed=1]="PublicKeyUncompressed",e[e.SignatureCompressed=2]="SignatureCompressed",e[e.SignatureUncompressed=3]="SignatureUncompressed"})(vs||(vs={}));var dE;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.ServerFailureDatabase="ServerFailureDatabase",e.ServerFailureOther="ServerFailureOther"})(dE||(dE={}));let _0=class extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},oc=class extends _0{constructor(t){super(t)}};class _r extends _0{constructor(t){super(t)}}class ug extends _0{constructor(t){super(t)}}class Sa extends _0{constructor(t){super(t)}}var Fe;(function(e){e.Int="int",e.UInt="uint",e.Buffer="buffer",e.BoolTrue="true",e.BoolFalse="false",e.PrincipalStandard="address",e.PrincipalContract="contract",e.ResponseOk="ok",e.ResponseErr="err",e.OptionalNone="none",e.OptionalSome="some",e.List="list",e.Tuple="tuple",e.StringASCII="ascii",e.StringUTF8="utf8"})(Fe||(Fe={}));var dn;(function(e){e[e.int=0]="int",e[e.uint=1]="uint",e[e.buffer=2]="buffer",e[e.true=3]="true",e[e.false=4]="false",e[e.address=5]="address",e[e.contract=6]="contract",e[e.ok=7]="ok",e[e.err=8]="err",e[e.none=9]="none",e[e.some=10]="some",e[e.list=11]="list",e[e.tuple=12]="tuple",e[e.ascii=13]="ascii",e[e.utf8=14]="utf8"})(dn||(dn={}));function SS(e){return dn[e]}const Yq=()=>({type:Fe.BoolTrue}),Jq=()=>({type:Fe.BoolFalse}),Qq=e=>{if(e.byteLength>1048576)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:Fe.Buffer,value:xe(e)}},hE=BigInt("0xffffffffffffffffffffffffffffffff"),Xq=BigInt(0),fE=BigInt("0x7fffffffffffffffffffffffffffffff"),pE=BigInt("-170141183460469231731687303715884105728"),eG=e=>{typeof e=="string"&&e.toLowerCase().startsWith("0x")&&(e=dw(We(e))),mr(e,Uint8Array)&&(e=dw(e));const t=Qn(e);if(t>fE)throw new RangeError(`Cannot construct clarity integer from value greater than ${fE}`);if(t<pE)throw new RangeError(`Cannot construct clarity integer form value less than ${pE}`);return{type:Fe.Int,value:t}},tG=e=>{const t=Qn(e);if(t<Xq)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>hE)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${hE}`);return{type:Fe.UInt,value:t}};function nG(e){return{type:Fe.List,value:e}}function mR(){return{type:Fe.OptionalNone}}function gR(e){return{type:Fe.OptionalSome,value:e}}var le;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.Asset=4]="Asset",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(le||(le={}));function rG(){return{type:le.Address,version:nl.MainnetSingleSig,hash160:"0".repeat(40)}}function mE(e){if(e&&_R(e,ag))throw new Error(`Memo exceeds maximum length of ${ag} bytes`);return{type:le.MemoString,content:e}}function jS(e,t){return{type:le.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}function Ew(e){if(We(e).byteLength!=N0)throw Error("Invalid signature");return{type:le.MessageSignature,data:e}}function sG(e,t,n){return typeof e=="string"&&(e=wG(e)),typeof n=="string"&&(n=mE(n)),{type:le.Payload,payloadType:st.TokenTransfer,recipient:e,amount:Qn(t),memo:n??mE("")}}function iG(e,t,n,r){return typeof t=="string"&&(t=Es(t)),typeof n=="string"&&(n=Es(n)),{type:le.Payload,payloadType:st.ContractCall,contractAddress:typeof e=="string"?Zo(e):e,contractName:t,functionName:n,functionArgs:r}}function oG(e){return Es(e,4,1e5)}function gE(e,t,n){return typeof e=="string"&&(e=Es(e)),typeof t=="string"&&(t=oG(t)),typeof n=="number"?{type:le.Payload,payloadType:st.VersionedSmartContract,clarityVersion:n,contractName:e,codeBody:t}:{type:le.Payload,payloadType:st.SmartContract,contractName:e,codeBody:t}}function aG(){return{type:le.Payload,payloadType:st.PoisonMicroblock}}function yE(e,t){if(e.byteLength!=Da)throw Error(`Coinbase buffer size must be ${Da} bytes`);return t!=null?{type:le.Payload,payloadType:st.CoinbaseToAltRecipient,coinbaseBytes:e,recipient:t}:{type:le.Payload,payloadType:st.Coinbase,coinbaseBytes:e}}function lG(e,t,n){if(e.byteLength!=Da)throw Error(`Coinbase buffer size must be ${Da} bytes`);if(n.byteLength!=Sw)throw Error(`VRF proof buffer size must be ${Sw} bytes`);return{type:le.Payload,payloadType:st.NakamotoCoinbase,coinbaseBytes:e,recipient:t.type===Fe.OptionalSome?t.value:void 0,vrfProof:n}}function cG(e,t,n,r,s,i,o){return{type:le.Payload,payloadType:st.TenureChange,tenureHash:e,previousTenureHash:t,burnViewHash:n,previousTenureEnd:r,previousTenureBlocks:s,cause:i,publicKeyHash:o}}function Es(e,t,n){const r=t||1,s=n||Lq;if(_R(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:le.LengthPrefixedString,content:e,lengthPrefixBytes:r,maxLengthBytes:s}}function uG(e,t,n){return{type:le.Asset,address:Zo(e),contractName:Es(t),assetName:Es(n)}}function Zo(e){const t=yf.c32addressDecode(e);return{type:le.Address,version:t[0],hash160:t[1]}}function dG(e,t){const n=Zo(e),r=Es(t);return{type:le.Principal,prefix:Tr.Contract,address:n,contractName:r}}function hG(e){const t=Zo(e);return{type:le.Principal,prefix:Tr.Standard,address:t}}function ac(e,t){return{pubKeyEncoding:e,type:le.TransactionAuthField,contents:t}}function mi(e){switch(e.type){case le.Address:return vf(e);case le.Principal:return yR(e);case le.LengthPrefixedString:return uu(e);case le.MemoString:return pG(e);case le.Asset:return xR(e);case le.PostCondition:return bR(e);case le.PublicKey:return kw(e);case le.LengthPrefixedList:return NS(e);case le.Payload:return SR(e);case le.TransactionAuthField:return xG(e);case le.MessageSignature:return _S(e)}}function vf(e){const t=[];return t.push(We(pf(e.version,1))),t.push(We(e.hash160)),tn(t)}function cu(e){const t=mr(e,St)?e:new St(e),n=p0(xe(t.readBytes(1))),r=xe(t.readBytes(20));return{type:le.Address,version:n,hash160:r}}function yR(e){const t=[];return t.push(e.prefix),(e.prefix===Tr.Standard||e.prefix===Tr.Contract)&&t.push(vf(e.address)),e.prefix===Tr.Contract&&t.push(uu(e.contractName)),tn(t)}function fG(e){const t=mr(e,St)?e:new St(e),n=t.readUInt8Enum(Tr,i=>{throw new _r(`Unexpected Principal payload type: ${i}`)});if(n===Tr.Origin)return{type:le.Principal,prefix:n};const r=cu(t);if(n===Tr.Standard)return{type:le.Principal,prefix:n,address:r};const s=Wr(t);return{type:le.Principal,prefix:n,address:r,contractName:s}}function uu(e){const t=[],n=bl(e.content),r=n.byteLength;return t.push(We(pf(r,e.lengthPrefixBytes))),t.push(n),tn(t)}function Wr(e,t,n){t=t||1;const r=mr(e,St)?e:new St(e),s=p0(xe(r.readBytes(t))),i=mf(r.readBytes(s));return Es(i,t,n??128)}function pG(e){const t=[],n=bl(e.content),r=VG(xe(n),ag*2);return t.push(We(r)),tn(t)}function vR(e){const t=mr(e,St)?e:new St(e);let n=mf(t.readBytes(ag));return n=n.replace(/\u0000*$/,""),{type:le.MemoString,content:n}}function xR(e){const t=[];return t.push(vf(e.address)),t.push(uu(e.contractName)),t.push(uu(e.assetName)),tn(t)}function Aw(e){const t=mr(e,St)?e:new St(e);return{type:le.Asset,address:cu(t),contractName:Wr(t),assetName:Wr(t)}}function NS(e){const t=e.values,n=[];n.push(We(pf(t.length,e.lengthPrefixBytes)));for(const r of t)n.push(mi(r));return tn(n)}function wR(e,t,n){const r=mr(e,St)?e:new St(e),s=p0(xe(r.readBytes(4))),i=[];for(let o=0;o<s;o++)switch(t){case le.Address:i.push(cu(r));break;case le.LengthPrefixedString:i.push(Wr(r));break;case le.MemoString:i.push(vR(r));break;case le.Asset:i.push(Aw(r));break;case le.PostCondition:i.push(gG(r));break;case le.PublicKey:i.push(Tw(r));break;case le.TransactionAuthField:i.push(vG(r));break}return jS(i,n)}function mG(e){return xe(bR(e))}function bR(e){const t=[];if(t.push(e.conditionType),t.push(yR(e.principal)),(e.conditionType===En.Fungible||e.conditionType===En.NonFungible)&&t.push(xR(e.asset)),e.conditionType===En.NonFungible&&t.push(Ws(e.assetName)),t.push(e.conditionCode),e.conditionType===En.STX||e.conditionType===En.Fungible){if(e.amount>BigInt("0xffffffffffffffff"))throw new oc("The post-condition amount may not be larger than 8 bytes");t.push(Fo(e.amount,8))}return tn(t)}function gG(e){const t=mr(e,St)?e:new St(e),n=t.readUInt8Enum(En,l=>{throw new _r(`Could not read ${l} as PostConditionType`)}),r=fG(t);let s,i,o;switch(n){case En.STX:return s=t.readUInt8Enum(cg,c=>{throw new _r(`Could not read ${c} as FungibleConditionCode`)}),o=BigInt(`0x${xe(t.readBytes(8))}`),{type:le.PostCondition,conditionType:En.STX,principal:r,conditionCode:s,amount:o};case En.Fungible:return i=Aw(t),s=t.readUInt8Enum(cg,c=>{throw new _r(`Could not read ${c} as FungibleConditionCode`)}),o=BigInt(`0x${xe(t.readBytes(8))}`),{type:le.PostCondition,conditionType:En.Fungible,principal:r,conditionCode:s,amount:o,asset:i};case En.NonFungible:i=Aw(t);const l=zs(t);return s=t.readUInt8Enum(Nw,c=>{throw new _r(`Could not read ${c} as FungibleConditionCode`)}),{type:le.PostCondition,conditionType:En.NonFungible,principal:r,conditionCode:s,asset:i,assetName:l}}}function SR(e){const t=[];switch(t.push(e.payloadType),e.payloadType){case st.TokenTransfer:t.push(Ws(e.recipient)),t.push(Fo(e.amount,8)),t.push(mi(e.memo));break;case st.ContractCall:t.push(mi(e.contractAddress)),t.push(mi(e.contractName)),t.push(mi(e.functionName));const n=new Uint8Array(4);qa(n,e.functionArgs.length,0),t.push(n),e.functionArgs.forEach(r=>{t.push(Ws(r))});break;case st.SmartContract:t.push(mi(e.contractName)),t.push(mi(e.codeBody));break;case st.VersionedSmartContract:t.push(e.clarityVersion),t.push(mi(e.contractName)),t.push(mi(e.codeBody));break;case st.PoisonMicroblock:break;case st.Coinbase:t.push(e.coinbaseBytes);break;case st.CoinbaseToAltRecipient:t.push(e.coinbaseBytes),t.push(Ws(e.recipient));break;case st.NakamotoCoinbase:t.push(e.coinbaseBytes),t.push(Ws(e.recipient?gR(e.recipient):mR())),t.push(e.vrfProof);break;case st.TenureChange:t.push(We(e.tenureHash)),t.push(We(e.previousTenureHash)),t.push(We(e.burnViewHash)),t.push(We(e.previousTenureEnd)),t.push(qa(new Uint8Array(4),e.previousTenureBlocks)),t.push(SH(new Uint8Array(1),e.cause)),t.push(We(e.publicKeyHash));break}return tn(t)}function yG(e){const t=mr(e,St)?e:new St(e);switch(t.readUInt8Enum(st,r=>{throw new Error(`Cannot recognize PayloadType: ${r}`)})){case st.TokenTransfer:const r=zs(t),s=Qn(t.readBytes(8)),i=vR(t);return sG(r,s,i);case st.ContractCall:const o=cu(t),l=Wr(t),c=Wr(t),u=[],d=t.readUInt32BE();for(let j=0;j<d;j++){const E=zs(t);u.push(E)}return iG(o,l,c,u);case st.SmartContract:const h=Wr(t),f=Wr(t,4,1e5);return gE(h,f);case st.VersionedSmartContract:{const j=t.readUInt8Enum(jw,O=>{throw new Error(`Cannot recognize ClarityVersion: ${O}`)}),E=Wr(t),M=Wr(t,4,Zq);return gE(E,M,j)}case st.PoisonMicroblock:return aG();case st.Coinbase:{const j=t.readBytes(Da);return yE(j)}case st.CoinbaseToAltRecipient:{const j=t.readBytes(Da),E=zs(t);return yE(j,E)}case st.NakamotoCoinbase:{const j=t.readBytes(Da),E=zs(t),M=t.readBytes(Sw);return lG(j,E,M)}case st.TenureChange:const p=xe(t.readBytes(20)),x=xe(t.readBytes(20)),m=xe(t.readBytes(20)),y=xe(t.readBytes(32)),b=t.readUInt32BE(),g=t.readUInt8Enum(_w,j=>{throw new Error(`Cannot recognize TenureChangeCause: ${j}`)}),w=xe(t.readBytes(20));return cG(p,x,m,y,b,g,w)}}function Cw(e){const t=mr(e,St)?e:new St(e);return Ew(xe(t.readBytes(N0)))}function vG(e){const t=mr(e,St)?e:new St(e),n=t.readUInt8Enum(vs,r=>{throw new _r(`Could not read ${r} as AuthFieldType`)});switch(n){case vs.PublicKeyCompressed:return ac(Dt.Compressed,Tw(t));case vs.PublicKeyUncompressed:return ac(Dt.Uncompressed,Ru(eZ(Tw(t).data)));case vs.SignatureCompressed:return ac(Dt.Compressed,Cw(t));case vs.SignatureUncompressed:return ac(Dt.Uncompressed,Cw(t));default:throw new Error(`Unknown auth field type: ${JSON.stringify(n)}`)}}function _S(e){return We(e.data)}function xG(e){const t=[];switch(e.contents.type){case le.PublicKey:t.push(e.pubKeyEncoding===Dt.Compressed?vs.PublicKeyCompressed:vs.PublicKeyUncompressed),t.push(We(XG(e.contents.data)));break;case le.MessageSignature:t.push(e.pubKeyEncoding===Dt.Compressed?vs.SignatureCompressed:vs.SignatureUncompressed),t.push(_S(e.contents));break}return tn(t)}function kw(e){return e.data.slice()}function Tw(e){const t=mr(e,St)?e:new St(e),n=t.readUInt8(),r=n===4?Uq:Fq;return Ru(tn([n,t.readBytes(r)]))}function ES(e,t,n,r){if(r.length===0)throw Error("Invalid number of public keys");if((t===mt.P2PKH||t===mt.P2WPKH)&&(r.length!==1||n!==1))throw Error("Invalid number of public keys or signatures");if((t===mt.P2WPKH||t===mt.P2WSH||t===mt.P2WSHNonSequential)&&!r.map(s=>s.data).every(Du))throw Error("Public keys must be compressed for segwit");switch(t){case mt.P2PKH:return vp(e,HG(r[0].data));case mt.P2WPKH:return vp(e,KG(r[0].data));case mt.P2SH:case mt.P2SHNonSequential:return vp(e,WG(n,r.map(kw)));case mt.P2WSH:case mt.P2WSHNonSequential:return vp(e,qG(n,r.map(kw)))}}function vp(e,t){return{type:le.Address,version:e,hash160:t}}function AS(e){return yf.c32address(e.version,e.hash160)}function vE(e){const[t,n,r]=e.split(/\.|::/);return uG(t,n,r)}function sv(e){if(e.includes(".")){const[t,n]=e.split(".");return dG(t,n)}else return hG(e)}function wG(e){if(e.includes(".")){const[t,n]=e.split(".");return jG(t,n)}else return bG(e)}function bG(e){const t=Zo(e);return{type:Fe.PrincipalStandard,value:AS(t)}}function SG(e){return{type:Fe.PrincipalStandard,value:AS(e)}}function jG(e,t){const n=Zo(e),r=Es(t);return jR(n,r)}function jR(e,t){if(bl(t.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:Fe.PrincipalContract,value:`${AS(e)}.${t.content}`}}function NG(e){return{type:Fe.ResponseErr,value:e}}function _G(e){return{type:Fe.ResponseOk,value:e}}const EG=e=>({type:Fe.StringASCII,value:e}),AG=e=>({type:Fe.StringUTF8,value:e});function CG(e){for(const t in e)if(!GG(t))throw new Error(`"${t}" is not a valid Clarity name`);return{type:Fe.Tuple,value:e}}function zs(e){let t;if(typeof e=="string"){const r=e.slice(0,2).toLowerCase()==="0x";t=new St(We(r?e.slice(2):e))}else e instanceof Uint8Array?t=new St(e):t=e;switch(t.readUInt8Enum(dn,r=>{throw new _r(`Cannot recognize Clarity Type: ${r}`)})){case dn.int:return eG(dw(t.readBytes(16)));case dn.uint:return tG(t.readBytes(16));case dn.buffer:const r=t.readUInt32BE();return Qq(t.readBytes(r));case dn.true:return Yq();case dn.false:return Jq();case dn.address:const s=cu(t);return SG(s);case dn.contract:const i=cu(t),o=Wr(t);return jR(i,o);case dn.ok:return _G(zs(t));case dn.err:return NG(zs(t));case dn.none:return mR();case dn.some:return gR(zs(t));case dn.list:const l=t.readUInt32BE(),c=[];for(let m=0;m<l;m++)c.push(zs(t));return nG(c);case dn.tuple:const u=t.readUInt32BE(),d={};for(let m=0;m<u;m++){const y=Wr(t).content;if(y===void 0)throw new _r('"content" is undefined');d[y]=zs(t)}return CG(d);case dn.ascii:const h=t.readUInt32BE(),f=pH(t.readBytes(h));return EG(f);case dn.utf8:const p=t.readUInt32BE(),x=mf(t.readBytes(p));return AG(x);default:throw new _r("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}function li(e,t){return tn([SS(e),t])}function kG(e){return new Uint8Array([SS(e.type)])}function TG(e){return e.type===Fe.OptionalNone?new Uint8Array([SS(e.type)]):li(e.type,Ws(e.value))}function PG(e){const t=new Uint8Array(4);return qa(t,Math.ceil(e.value.length/2),0),li(e.type,ni(t,We(e.value)))}function IG(e){const t=lS(cH(BigInt(e.value),BigInt(Bq)),pR);return li(e.type,t)}function MG(e){const t=lS(BigInt(e.value),pR);return li(e.type,t)}function OG(e){return li(e.type,vf(Zo(e.value)))}function RG(e){const[t,n]=ZG(e.value);return li(e.type,ni(vf(Zo(t)),uu(Es(n))))}function DG(e){return li(e.type,Ws(e.value))}function $G(e){const t=[],n=new Uint8Array(4);qa(n,e.value.length,0),t.push(n);for(const r of e.value){const s=Ws(r);t.push(s)}return li(e.type,tn(t))}function LG(e){const t=[],n=new Uint8Array(4);qa(n,Object.keys(e.value).length,0),t.push(n);const r=Object.keys(e.value).sort((s,i)=>s.localeCompare(i));for(const s of r){const i=Es(s);t.push(uu(i));const o=Ws(e.value[s]);t.push(o)}return li(e.type,tn(t))}function NR(e,t){const n=[],r=t=="ascii"?fH(e.value):bl(e.value),s=new Uint8Array(4);return qa(s,r.length,0),n.push(s),n.push(r),li(e.type,tn(n))}function BG(e){return NR(e,"ascii")}function FG(e){return NR(e,"utf8")}function UG(e){return xe(Ws(e))}function Ws(e){switch(e.type){case Fe.BoolTrue:case Fe.BoolFalse:return kG(e);case Fe.OptionalNone:case Fe.OptionalSome:return TG(e);case Fe.Buffer:return PG(e);case Fe.UInt:return MG(e);case Fe.Int:return IG(e);case Fe.PrincipalStandard:return OG(e);case Fe.PrincipalContract:return RG(e);case Fe.ResponseOk:case Fe.ResponseErr:return DG(e);case Fe.List:return $G(e);case Fe.Tuple:return LG(e);case Fe.StringASCII:return BG(e);case Fe.StringUTF8:return FG(e);default:throw new oc("Unable to serialize. Invalid Clarity Value.")}}const zG=e=>e.length%2?`0${e}`:e,VG=(e,t)=>e.padEnd(t,"0"),_R=(e,t)=>e?bl(e).length>t:!1;function Pw(e){return uq(e)}const Lh=e=>xS(Xr(e)),CS=e=>xe(oW(e)),HG=e=>xe(Lh(e)),KG=e=>{const t=Lh(e),n=ni(new Uint8Array([0]),new Uint8Array([t.length]),t),r=Lh(n);return xe(r)},WG=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");const n=[];n.push(80+e),t.forEach(i=>{n.push(i.length),n.push(i)}),n.push(80+t.length),n.push(174);const r=tn(n),s=Lh(r);return xe(s)},qG=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");const n=[];n.push(80+e),t.forEach(c=>{n.push(c.length),n.push(c)}),n.push(80+t.length),n.push(174);const r=tn(n),s=Xr(r),i=[];i.push(0),i.push(s.length),i.push(s);const o=tn(i),l=Lh(o);return xe(l)};function GG(e){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(e)&&e.length<128}function ZG(e){const[t,n]=e.split(".");if(!t||!n)throw new Error(`Invalid contract identifier: ${e}`);return[t,n]}en.hmacSha256Sync=(e,...t)=>{const n=jl.create(Xr,e);return t.forEach(r=>n.update(r)),n.digest()};function Ru(e){return e=typeof e=="string"?We(e):e,{type:le.PublicKey,data:e}}function YG(e,t,n=Dt.Compressed){const r=vH(t),s=new Ss(j2(r.r),j2(r.s)),i=De.fromSignature(e,s,r.recoveryId),o=n===Dt.Compressed;return i.toHex(o)}function JG(e){return typeof e=="string"?e:xe(e)}const kS=JG;function ER(e){return(typeof e=="string"?e.length/2:e.byteLength)===yH}function Du(e){return!kS(e).startsWith("04")}function QG(e){e=cS(e);const t=ER(e);return xe(g0(e.slice(0,32),t))}function XG(e){return De.fromHex(kS(e)).toHex(!0)}function eZ(e){return De.fromHex(kS(e)).toHex(!1)}function tZ(e,t){e=cS(e);const[n,r]=gS(t,e.slice(0,32),{canonical:!0,recovered:!0});if(r==null)throw new Error("No signature recoveryId received");return pf(r,1)+Ss.fromHex(n).toCompactHex()}function TS(){return{type:le.MessageSignature,data:xe(new Uint8Array(N0))}}function AR(e,t,n,r){const s=ES(0,e,1,[Ru(t)]).hash160,i=Du(t)?Dt.Compressed:Dt.Uncompressed;return{hashMode:e,signer:s,nonce:Qn(n),fee:Qn(r),keyEncoding:i,signature:TS()}}function Bh(e){return"signature"in e}function xE(e){return e===mt.P2SH||e===mt.P2WSH}function nZ(e){return e===mt.P2SHNonSequential||e===mt.P2WSHNonSequential}function wE(e){const t=Pw(e);return t.nonce=0,t.fee=0,Bh(t)?t.signature=TS():t.fields=[],{...t,nonce:BigInt(0),fee:BigInt(0)}}function rZ(e){const t=[e.hashMode,We(e.signer),Fo(e.nonce,8),Fo(e.fee,8),e.keyEncoding,_S(e.signature)];return tn(t)}function sZ(e){const t=[e.hashMode,We(e.signer),Fo(e.nonce,8),Fo(e.fee,8)],n=jS(e.fields);t.push(NS(n));const r=new Uint8Array(2);return wH(r,e.signaturesRequired,0),t.push(r),tn(t)}function iZ(e,t){const n=xe(t.readBytes(20)),r=BigInt(`0x${xe(t.readBytes(8))}`),s=BigInt(`0x${xe(t.readBytes(8))}`),i=t.readUInt8Enum(Dt,l=>{throw new _r(`Could not parse ${l} as PubKeyEncoding`)});if(e===mt.P2WPKH&&i!=Dt.Compressed)throw new _r("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");const o=Cw(t);return{hashMode:e,signer:n,nonce:r,fee:s,keyEncoding:i,signature:o}}function oZ(e,t){const n=xe(t.readBytes(20)),r=BigInt("0x"+xe(t.readBytes(8))),s=BigInt("0x"+xe(t.readBytes(8))),i=wR(t,le.TransactionAuthField).values;let o=!1,l=0;for(const u of i)switch(u.contents.type){case le.PublicKey:Du(u.contents.data)||(o=!0);break;case le.MessageSignature:if(u.pubKeyEncoding===Dt.Uncompressed&&(o=!0),l+=1,l===65536)throw new Sa("Failed to parse multisig spending condition: too many signatures");break}const c=t.readUInt16BE();if(o&&(e===mt.P2WSH||e===mt.P2WSHNonSequential))throw new Sa("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:n,nonce:r,fee:s,fields:i,signaturesRequired:c}}function iv(e){return Bh(e)?rZ(e):sZ(e)}function ov(e){const t=e.readUInt8Enum(mt,n=>{throw new _r(`Could not parse ${n} as AddressHashMode`)});return t===mt.P2PKH||t===mt.P2WPKH?iZ(t,e):oZ(t,e)}function CR(e,t,n,r){const i=e+xe(new Uint8Array([t]))+xe(Fo(n,8))+xe(Fo(r,8));if(We(i).byteLength!==49)throw Error("Invalid signature hash length");return CS(We(i))}function kR(e,t,n){const r=33+N0,s=Du(t.data)?Dt.Compressed:Dt.Uncompressed,i=e+zG(s.toString(16))+n,o=We(i);if(o.byteLength>r)throw Error("Invalid signature hash length");return CS(o)}function aZ(e,t,n,r,s){const i=CR(e,t,n,r),o=tZ(s,i),l=Ru(QG(s)),c=kR(i,l,o);return{nextSig:o,nextSigHash:c}}function TR(e,t,n,r,s,i){const o=CR(e,t,n,r),l=Ru(YG(o,i,s)),c=kR(o,l,i);return{pubKey:l,nextSigHash:c}}function lZ(){const e=AR(mt.P2PKH,"",0,0);return e.signer=rG().hash160,e.keyEncoding=Dt.Compressed,e.signature=TS(),e}function bE(e,t,n){return Bh(e)?cZ(e,t,n):uZ(e,t,n)}function cZ(e,t,n){const{pubKey:r,nextSigHash:s}=TR(t,n,e.fee,e.nonce,e.keyEncoding,e.signature.data),i=ES(0,e.hashMode,1,[r]).hash160;if(i!==e.signer)throw new Sa(`Signer hash does not equal hash of public key(s): ${i} != ${e.signer}`);return s}function uZ(e,t,n){const r=[];let s=t,i=!1,o=0;for(const c of e.fields)switch(c.contents.type){case le.PublicKey:Du(c.contents.data)||(i=!0),r.push(c.contents);break;case le.MessageSignature:c.pubKeyEncoding===Dt.Uncompressed&&(i=!0);const{pubKey:u,nextSigHash:d}=TR(s,n,e.fee,e.nonce,c.pubKeyEncoding,c.contents.data);if(xE(e.hashMode)&&(s=d),r.push(u),o+=1,o===65536)throw new Sa("Too many signatures");break}if(xE(e.hashMode)&&o!==e.signaturesRequired||nZ(e.hashMode)&&o<e.signaturesRequired)throw new Sa("Incorrect number of signatures");if(i&&(e.hashMode===mt.P2WSH||e.hashMode===mt.P2WSHNonSequential))throw new Sa("Uncompressed keys are not allowed in this hash mode");const l=ES(0,e.hashMode,e.signaturesRequired,r).hash160;if(l!==e.signer)throw new Sa(`Signer hash does not equal hash of public key(s): ${l} != ${e.signer}`);return s}function PR(e){return{authType:Yt.Standard,spendingCondition:e}}function IR(e,t){return{authType:Yt.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||AR(mt.P2PKH,"0".repeat(66),0,0)}}function SE(e){if(e.spendingCondition)switch(e.authType){case Yt.Standard:return PR(wE(e.spendingCondition));case Yt.Sponsored:return IR(wE(e.spendingCondition),lZ());default:throw new ug("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}function dZ(e,t){switch(e.authType){case Yt.Standard:return bE(e.spendingCondition,t,Yt.Standard);case Yt.Sponsored:return bE(e.spendingCondition,t,Yt.Standard);default:throw new ug("Invalid origin auth type")}}function hZ(e,t){switch(e.authType){case Yt.Standard:const n={...e.spendingCondition,fee:Qn(t)};return{...e,spendingCondition:n};case Yt.Sponsored:const r={...e.sponsorSpendingCondition,fee:Qn(t)};return{...e,sponsorSpendingCondition:r}}}function fZ(e,t){const n={...e.spendingCondition,nonce:Qn(t)};return{...e,spendingCondition:n}}function pZ(e,t){const n={...e.sponsorSpendingCondition,nonce:Qn(t)};return{...e,sponsorSpendingCondition:n}}function mZ(e,t){const n={...t,nonce:Qn(t.nonce),fee:Qn(t.fee)};return{...e,sponsorSpendingCondition:n}}function gZ(e){const t=[];switch(t.push(e.authType),e.authType){case Yt.Standard:t.push(iv(e.spendingCondition));break;case Yt.Sponsored:t.push(iv(e.spendingCondition)),t.push(iv(e.sponsorSpendingCondition));break}return tn(t)}function yZ(e){const t=e.readUInt8Enum(Yt,r=>{throw new _r(`Could not parse ${r} as AuthType`)});let n;switch(t){case Yt.Standard:return n=ov(e),PR(n);case Yt.Sponsored:n=ov(e);const r=ov(e);return IR(n,r)}}class vZ{constructor({auth:t,payload:n,postConditions:r=jS([]),postConditionMode:s=lg.Deny,transactionVersion:i,chainId:o,network:l="mainnet"}){l=Dq(l),this.transactionVersion=i??l.transactionVersion,this.chainId=o??l.chainId,this.auth=t,"amount"in n?this.payload={...n,amount:Qn(n.amount)}:this.payload=n,this.postConditionMode=s,this.postConditions=r,this.anchorMode=wr.Any}signBegin(){const t=Pw(this);return t.auth=SE(t.auth),t.txid()}verifyBegin(){const t=Pw(this);return t.auth=SE(t.auth),t.txid()}verifyOrigin(){return dZ(this.auth,this.verifyBegin())}signNextOrigin(t,n){if(this.auth.spendingCondition===void 0)throw new Error('"auth.spendingCondition" is undefined');if(this.auth.authType===void 0)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,t,Yt.Standard,n)}signNextSponsor(t,n){if(this.auth.authType===Yt.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,t,Yt.Sponsored,n);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(t){const n=typeof t=="object"&&"type"in t?t:Ru(t),r=this.auth.spendingCondition;if(r&&!Bh(r)){const s=Du(n.data);r.fields.push(ac(s?Dt.Compressed:Dt.Uncompressed,n))}else throw new Error("Can't append public key to a singlesig condition")}signAndAppend(t,n,r,s){const{nextSig:i,nextSigHash:o}=aZ(n,r,t.fee,t.nonce,s);if(Bh(t))t.signature=Ew(i);else{const l=ER(s);t.fields.push(ac(l?Dt.Compressed:Dt.Uncompressed,Ew(i)))}return o}txid(){const t=this.serializeBytes();return CS(t)}setSponsor(t){if(this.auth.authType!=Yt.Sponsored)throw new ug("Cannot sponsor sign a non-sponsored transaction");this.auth=mZ(this.auth,t)}setFee(t){this.auth=hZ(this.auth,t)}setNonce(t){this.auth=fZ(this.auth,t)}setSponsorNonce(t){if(this.auth.authType!=Yt.Sponsored)throw new ug("Cannot sponsor sign a non-sponsored transaction");this.auth=pZ(this.auth,t)}serialize(){return xe(this.serializeBytes())}serializeBytes(){if(this.transactionVersion===void 0)throw new oc('"transactionVersion" is undefined');if(this.chainId===void 0)throw new oc('"chainId" is undefined');if(this.auth===void 0)throw new oc('"auth" is undefined');if(this.payload===void 0)throw new oc('"payload" is undefined');const t=[];t.push(this.transactionVersion);const n=new Uint8Array(4);return qa(n,this.chainId,0),t.push(n),t.push(gZ(this.auth)),t.push(this.anchorMode),t.push(this.postConditionMode),t.push(NS(this.postConditions)),t.push(SR(this.payload)),tn(t)}}function xZ(e){const t=mr(e,St)?e:new St(e),n=t.readUInt8Enum(tl,d=>{throw new Error(`Could not parse ${d} as TransactionVersion`)}),r=t.readUInt32BE(),s=yZ(t),i=t.readUInt8Enum(wr,d=>{throw new Error(`Could not parse ${d} as AnchorMode`)}),o=t.readUInt8Enum(lg,d=>{throw new Error(`Could not parse ${d} as PostConditionMode`)}),l=wR(t,le.PostCondition),c=yG(t),u=new vZ({transactionVersion:n,chainId:r,auth:s,payload:c,postConditions:l,postConditionMode:o});return u.anchorMode=i,u}var Iw;(function(e){e[e.eq=1]="eq",e[e.gt=2]="gt",e[e.lt=4]="lt",e[e.gte=3]="gte",e[e.lte=5]="lte",e[e.sent=16]="sent",e[e["not-sent"]=17]="not-sent"})(Iw||(Iw={}));function wZ(e){switch(e.type){case"stx-postcondition":return{type:le.PostCondition,conditionType:En.STX,principal:e.address==="origin"?{type:le.Principal,prefix:Tr.Origin}:sv(e.address),conditionCode:av(e.condition),amount:BigInt(e.amount)};case"ft-postcondition":return{type:le.PostCondition,conditionType:En.Fungible,principal:e.address==="origin"?{type:le.Principal,prefix:Tr.Origin}:sv(e.address),conditionCode:av(e.condition),amount:BigInt(e.amount),asset:vE(e.asset)};case"nft-postcondition":return{type:le.PostCondition,conditionType:En.NonFungible,principal:e.address==="origin"?{type:le.Principal,prefix:Tr.Origin}:sv(e.address),conditionCode:av(e.condition),asset:vE(e.asset),assetName:e.assetId};default:throw new Error("Invalid post condition type")}}function av(e){return Iw[e]}function MR(e){const t=wZ(e);return mG(t)}function bZ(e,t,n){return IS(OR(e),n)}function OR(e,t){let n=e;if(typeof n=="number"){if(!Number.isInteger(n))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(n>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(n)}if(typeof n=="string")if(n.toLowerCase().startsWith("0x")){let r=n.slice(2);r=r.padStart(r.length+r.length%2,"0"),n=Fh(r)}else try{return BigInt(n)}catch(r){if(r instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${n}' is not finite.`)}if(typeof n=="bigint")return n;if(n instanceof Uint8Array)return BigInt(`0x${NZ(n)}`);if(n!=null&&typeof n=="object"&&n.constructor.name==="BN")return BigInt(n.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}function PS(e,t=8){return(typeof e=="bigint"?e:OR(e)).toString(16).padStart(t*2,"0")}function IS(e,t=16){const n=PS(e,t);return Fh(n)}function SZ(e,t){if(e<-(BigInt(1)<<t-BigInt(1))||(BigInt(1)<<t-BigInt(1))-BigInt(1)<e)throw`Unable to represent integer in width: ${t}`;return e>=BigInt(0)?BigInt(e):e+(BigInt(1)<<t)}const jZ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function NZ(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(const n of e)t+=jZ[n];return t}function Fh(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);e=e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e;const t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function MS(e){return new TextEncoder().encode(e)}function _Z(e){const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n)&255);return new Uint8Array(t)}function EZ(e){return!Number.isInteger(e)||e<0||e>255}function jE(e){if(e.some(EZ))throw new Error("Some values are invalid bytes.");return new Uint8Array(e)}function OS(...e){if(!e.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((r,s)=>r+s.length,0),n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}function Bi(e){return OS(...e.map(t=>typeof t=="number"?jE([t]):t instanceof Array?jE(t):t))}function E0(e,t,n=0){return e[n+3]=t,t>>>=8,e[n+2]=t,t>>>=8,e[n+1]=t,t>>>=8,e[n]=t,e}var Mw;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(Mw||(Mw={}));Mw.Mainnet;const AZ=128,CZ=128,RR=16;var Ow;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(Ow||(Ow={}));var NE;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(NE||(NE={}));var _E;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3"})(_E||(_E={}));var as;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(as||(as={}));const lv=["onChainOnly","offChainOnly","any"];lv[0]+"",as.OnChainOnly,lv[1]+"",as.OffChainOnly,lv[2]+"",as.Any,as.OnChainOnly+"",as.OnChainOnly,as.OffChainOnly+"",as.OffChainOnly,as.Any+"",as.Any;var Rw;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(Rw||(Rw={}));Rw.Mainnet;var EE;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(EE||(EE={}));var pa;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(pa||(pa={}));var AE;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(AE||(AE={}));var CE;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH",e[e.SerializeP2SHNonSequential=5]="SerializeP2SHNonSequential",e[e.SerializeP2WSHNonSequential=7]="SerializeP2WSHNonSequential"})(CE||(CE={}));var kE;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(kE||(kE={}));var TE;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(TE||(TE={}));var PE;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(PE||(PE={}));var IE;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(IE||(IE={}));var Dw;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(Dw||(Dw={}));var ME;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(ME||(ME={}));var OE;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.TooMuchChaining="TooMuchChaining",e.ConflictingNonceInMempool="ConflictingNonceInMempool",e.BadTransactionVersion="BadTransactionVersion",e.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",e.TransferAmountMustBePositive="TransferAmountMustBePositive",e.ServerFailureDatabase="ServerFailureDatabase",e.EstimatorError="EstimatorError",e.TemporarilyBlacklisted="TemporarilyBlacklisted",e.ServerFailureOther="ServerFailureOther"})(OE||(OE={}));function kZ(e,t,n){const s=AZ;if(KZ(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:Ow.LengthPrefixedString,content:e,lengthPrefixBytes:1,maxLengthBytes:s}}var mn;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(mn||(mn={}));class TZ extends Error{constructor(t){super(t),this.message=t,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class DR extends TZ{constructor(t){super(t)}}function A0(e){const t=[];return t.push(Fh(PS(e.version,1))),t.push(Fh(e.hash160)),Bi(t)}function PZ(e){const t=[];return t.push(e.prefix),t.push(A0(e.address)),e.prefix===Dw.Contract&&t.push(Uh(e.contractName)),Bi(t)}function Uh(e){const t=[],n=MS(e.content),r=n.byteLength;return t.push(Fh(PS(r,e.lengthPrefixBytes))),t.push(n),Bi(t)}function IZ(e){const t=[];return t.push(A0(e.address)),t.push(Uh(e.contractName)),t.push(Uh(e.assetName)),Bi(t)}function $R(e){const t=[];if(t.push(e.conditionType),t.push(PZ(e.principal)),(e.conditionType===pa.Fungible||e.conditionType===pa.NonFungible)&&t.push(IZ(e.assetInfo)),e.conditionType===pa.NonFungible&&t.push($u(e.assetName)),t.push(e.conditionCode),e.conditionType===pa.STX||e.conditionType===pa.Fungible){if(e.amount>BigInt("0xffffffffffffffff"))throw new DR("The post-condition amount may not be larger than 8 bytes");t.push(bZ(e.amount,!1,8))}return Bi(t)}function ci(e,t){return Bi([e,t])}function MZ(e){return new Uint8Array([e.type])}function OZ(e){return e.type===mn.OptionalNone?new Uint8Array([e.type]):ci(e.type,$u(e.value))}function RZ(e){const t=new Uint8Array(4);return E0(t,e.buffer.length,0),ci(e.type,OS(t,e.buffer))}function DZ(e){const t=IS(SZ(e.value,BigInt(CZ)),RR);return ci(e.type,t)}function $Z(e){const t=IS(e.value,RR);return ci(e.type,t)}function LZ(e){return ci(e.type,A0(e.address))}function BZ(e){return ci(e.type,OS(A0(e.address),Uh(e.contractName)))}function FZ(e){return ci(e.type,$u(e.value))}function UZ(e){const t=[],n=new Uint8Array(4);E0(n,e.list.length,0),t.push(n);for(const r of e.list){const s=$u(r);t.push(s)}return ci(e.type,Bi(t))}function zZ(e){const t=[],n=new Uint8Array(4);E0(n,Object.keys(e.data).length,0),t.push(n);const r=Object.keys(e.data).sort((s,i)=>s.localeCompare(i));for(const s of r){const i=kZ(s);t.push(Uh(i));const o=$u(e.data[s]);t.push(o)}return ci(e.type,Bi(t))}function LR(e,t){const n=[],r=t=="ascii"?_Z(e.data):MS(e.data),s=new Uint8Array(4);return E0(s,r.length,0),n.push(s),n.push(r),ci(e.type,Bi(n))}function VZ(e){return LR(e,"ascii")}function HZ(e){return LR(e,"utf8")}function $u(e){switch(e.type){case mn.BoolTrue:case mn.BoolFalse:return MZ(e);case mn.OptionalNone:case mn.OptionalSome:return OZ(e);case mn.Buffer:return RZ(e);case mn.UInt:return $Z(e);case mn.Int:return DZ(e);case mn.PrincipalStandard:return LZ(e);case mn.PrincipalContract:return BZ(e);case mn.ResponseOk:case mn.ResponseErr:return FZ(e);case mn.List:return UZ(e);case mn.Tuple:return zZ(e);case mn.StringASCII:return VZ(e);case mn.StringUTF8:return HZ(e);default:throw new DR("Unable to serialize. Invalid Clarity Value.")}}const KZ=(e,t)=>e?MS(e).length>t:!1,WZ={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function qZ(e,t){const n={};return Object.assign(n,WZ,t),await fetch(e,n)}function GZ(e){let t=qZ,n=[];return e.length>0&&typeof e[0]=="function"&&(t=e.shift()),e.length>0&&(n=e),{fetchLib:t,middlewares:n}}function ZZ(...e){const{fetchLib:t,middlewares:n}=GZ(e);return async(s,i)=>{let o={url:s,init:i??{}};for(const c of n)typeof c.pre=="function"&&(o=await Promise.resolve(c.pre({fetch:t,...o}))??o);let l=await t(o.url,o.init);for(const c of n)typeof c.post=="function"&&(l=await Promise.resolve(c.post({fetch:t,url:o.url,init:o.init,response:(l==null?void 0:l.clone())??l}))??l);return l}}var du;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(du||(du={}));var rl;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(rl||(rl={}));var RE;(function(e){e[e.Mainnet=385875968]="Mainnet",e[e.Testnet=4278190080]="Testnet"})(RE||(RE={}));const YZ="https://api.mainnet.hiro.so",JZ="https://api.testnet.hiro.so",QZ="http://localhost:3999",XZ=["mainnet","testnet","devnet","mocknet"];class hu{constructor(t){this.version=rl.Mainnet,this.chainId=du.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===rl.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=n=>`${this.coreApiUrl}${this.accountEndpoint}/${n}?proof=0`,this.getAccountExtendedBalancesApiUrl=n=>`${this.coreApiUrl}/extended/v1/address/${n}/balances`,this.getAbiApiUrl=(n,r)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${n}/${r}`,this.getReadOnlyFunctionCallApiUrl=(n,r,s)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${n}/${r}/${encodeURIComponent(s)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(n,r)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}`;return r&&(s=`${s}?limit=${r.limit}&offset=${r.offset}`),s},this.getRewardsTotalUrl=n=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${n}/total`,this.getRewardHoldersUrl=(n,r)=>{let s=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${n}`;return r&&(s=`${s}?limit=${r.limit}&offset=${r.offset}`),s},this.getStackerInfoUrl=(n,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${n}/${r}/get-stacker-info`,this.getDataVarUrl=(n,r,s)=>`${this.coreApiUrl}/v2/data_var/${n}/${r}/${s}?proof=0`,this.getMapEntryUrl=(n,r,s)=>`${this.coreApiUrl}/v2/map_entry/${n}/${r}/${s}?proof=0`,this.coreApiUrl=t.url,this.fetchFn=t.fetchFn??ZZ()}getNameInfo(t){const n=`${this.bnsLookupUrl}/v1/names/${t}`;return this.fetchFn(n).then(r=>{if(r.status===404)throw new Error("Name not found");if(r.status!==200)throw new Error(`Bad response status: ${r.status}`);return r.json()}).then(r=>r.address?Object.assign({},r,{address:r.address}):r)}}hu.fromName=e=>{switch(e){case"mainnet":return new eY;case"testnet":return new BR;case"devnet":return new tY;case"mocknet":return new FR;default:throw new Error(`Invalid network name provided. Must be one of the following: ${XZ.join(", ")}`)}};hu.fromNameOrNetwork=e=>typeof e!="string"&&"version"in e?e:hu.fromName(e);class eY extends hu{constructor(t){super({url:(t==null?void 0:t.url)??YZ,fetchFn:t==null?void 0:t.fetchFn}),this.version=rl.Mainnet,this.chainId=du.Mainnet}}class BR extends hu{constructor(t){super({url:(t==null?void 0:t.url)??JZ,fetchFn:t==null?void 0:t.fetchFn}),this.version=rl.Testnet,this.chainId=du.Testnet}}class FR extends hu{constructor(t){super({url:(t==null?void 0:t.url)??QZ,fetchFn:t==null?void 0:t.fetchFn}),this.version=rl.Testnet,this.chainId=du.Testnet}}const tY=FR,nY="modulepreload",rY=function(e,t){return new URL(e,t).href},DE={},sl=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=rY(u,r),u in DE)return;DE[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(!!r)for(let x=o.length-1;x>=0;x--){const m=o[x];if(m.href===u&&(!d||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":nY,d||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),d)return new Promise((x,m)=>{p.addEventListener("load",x),p.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},sY="connect-ui";let om,UR,Sr=!1,$w=!1;const Di=(e,t="")=>()=>{},iY=(e,t)=>()=>{},oY="{visibility:hidden}.hydrated{visibility:inherit}",$E={},aY="http://www.w3.org/2000/svg",lY="http://www.w3.org/1999/xhtml",cY=e=>e!=null,RS=e=>(e=typeof e,e==="object"||e==="function");function zR(e){var t,n,r;return(r=(n=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&r!==void 0?r:void 0}const uY=(e,t,...n)=>{let r=null,s=!1,i=!1;const o=[],l=u=>{for(let d=0;d<u.length;d++)r=u[d],Array.isArray(r)?l(r):r!=null&&typeof r!="boolean"&&((s=typeof e!="function"&&!RS(r))&&(r=String(r)),s&&i?o[o.length-1].$text$+=r:o.push(s?Lw(null,r):r),i=s)};if(l(n),t){const u=t.className||t.class;u&&(t.class=typeof u!="object"?u:Object.keys(u).filter(d=>u[d]).join(" "))}const c=Lw(e,null);return c.$attrs$=t,o.length>0&&(c.$children$=o),c},Lw=(e,t)=>{const n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n},dY={},hY=e=>e&&e.$tag$===dY,fY=(e,t)=>e!=null&&!RS(e)&&t&4?e==="false"?!1:e===""||!!e:e,Lme=e=>Lu(e).$hostElement$,pY=(e,t,n)=>{const r=Dn.ce(t,n);return e.dispatchEvent(r),r},LE=new WeakMap,mY=(e,t,n)=>{let r=dg.get(e);OY&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,dg.set(e,r)},gY=(e,t,n,r)=>{var s;let i=VR(t);const o=dg.get(i);if(e=e.nodeType===11?e:qs,o)if(typeof o=="string"){e=e.head||e;let l=LE.get(e),c;if(l||LE.set(e,l=new Set),!l.has(i)){{c=qs.createElement("style"),c.innerHTML=o;const u=(s=Dn.$nonce$)!==null&&s!==void 0?s:zR(qs);u!=null&&c.setAttribute("nonce",u),e.insertBefore(c,e.querySelector("link"))}l&&l.add(i)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,o]);return i},yY=e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,s=Di("attachStyles",t.$tagName$),i=gY(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);r&10&&(n["s-sc"]=i,n.classList.add(i+"-h")),s()},VR=(e,t)=>"sc-"+e.$tagName$,BE=(e,t,n,r,s,i)=>{if(n!==r){let o=UE(e,t),l=t.toLowerCase();if(t==="class"){const c=e.classList,u=FE(n),d=FE(r);c.remove(...u.filter(h=>h&&!d.includes(h))),c.add(...d.filter(h=>h&&!u.includes(h)))}else if(!o&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):UE(C0,l)?t=l.slice(2):t=l[2]+t.slice(3),n&&Dn.rel(e,t,n,!1),r&&Dn.ael(e,t,r,!1);else{const c=RS(r);if((o||c&&r!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{const u=r??"";t==="list"?o=!1:(n==null||e[t]!=u)&&(e[t]=u)}}catch{}r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!o||i&4||s)&&!c&&(r=r===!0?"":r,e.setAttribute(t,r))}}},vY=/\s/,FE=e=>e?e.split(vY):[],HR=(e,t,n,r)=>{const s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,i=e&&e.$attrs$||$E,o=t.$attrs$||$E;for(r in i)r in o||BE(s,r,i[r],void 0,n,t.$flags$);for(r in o)BE(s,r,i[r],o[r],n,t.$flags$)},DS=(e,t,n,r)=>{const s=t.$children$[n];let i=0,o,l;if(s.$text$!==null)o=s.$elm$=qs.createTextNode(s.$text$);else{if(Sr||(Sr=s.$tag$==="svg"),o=s.$elm$=qs.createElementNS(Sr?aY:lY,s.$tag$),Sr&&s.$tag$==="foreignObject"&&(Sr=!1),HR(null,s,Sr),cY(om)&&o["s-si"]!==om&&o.classList.add(o["s-si"]=om),s.$children$)for(i=0;i<s.$children$.length;++i)l=DS(e,s,i),l&&o.appendChild(l);s.$tag$==="svg"?Sr=!1:o.tagName==="foreignObject"&&(Sr=!0)}return o},KR=(e,t,n,r,s,i)=>{let o=e,l;for(o.shadowRoot&&o.tagName===UR&&(o=o.shadowRoot);s<=i;++s)r[s]&&(l=DS(null,n,s),l&&(r[s].$elm$=l,o.insertBefore(l,t)))},WR=(e,t,n,r,s)=>{for(;t<=n;++t)(r=e[t])&&(s=r.$elm$,s.remove())},xY=(e,t,n,r)=>{let s=0,i=0,o=t.length-1,l=t[0],c=t[o],u=r.length-1,d=r[0],h=r[u],f;for(;s<=o&&i<=u;)l==null?l=t[++s]:c==null?c=t[--o]:d==null?d=r[++i]:h==null?h=r[--u]:xp(l,d)?(Cd(l,d),l=t[++s],d=r[++i]):xp(c,h)?(Cd(c,h),c=t[--o],h=r[--u]):xp(l,h)?(Cd(l,h),e.insertBefore(l.$elm$,c.$elm$.nextSibling),l=t[++s],h=r[--u]):xp(c,d)?(Cd(c,d),e.insertBefore(c.$elm$,l.$elm$),c=t[--o],d=r[++i]):(f=DS(t&&t[i],n,i),d=r[++i],f&&l.$elm$.parentNode.insertBefore(f,l.$elm$));s>o?KR(e,r[u+1]==null?null:r[u+1].$elm$,n,r,i,u):i>u&&WR(t,s,o)},xp=(e,t)=>e.$tag$===t.$tag$,Cd=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,s=t.$children$,i=t.$tag$,o=t.$text$;o===null?(Sr=i==="svg"?!0:i==="foreignObject"?!1:Sr,HR(e,t,Sr),r!==null&&s!==null?xY(n,r,t,s):s!==null?(e.$text$!==null&&(n.textContent=""),KR(n,null,t,s,0,s.length-1)):r!==null&&WR(r,0,r.length-1),Sr&&i==="svg"&&(Sr=!1)):e.$text$!==o&&(n.data=o)},wY=(e,t)=>{const n=e.$hostElement$,r=e.$vnode$||Lw(null,null),s=hY(t)?t:uY(null,null,t);UR=n.tagName,s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=r.$elm$=n.shadowRoot||n,om=n["s-sc"],Cd(r,s)},qR=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(n=>e.$onRenderResolve$=n))},$S=(e,t)=>{if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}return qR(e,e.$ancestorComponent$),DY(()=>bY(e,t))},bY=(e,t)=>{const n=Di("scheduleUpdate",e.$cmpMeta$.$tagName$),r=e.$lazyInstance$;let s;return n(),_Y(s,()=>SY(e,r,t))},SY=async(e,t,n)=>{const r=e.$hostElement$,s=Di("update",e.$cmpMeta$.$tagName$),i=r["s-rc"];n&&yY(e);const o=Di("render",e.$cmpMeta$.$tagName$);jY(e,t),i&&(i.map(l=>l()),r["s-rc"]=void 0),o(),s();{const l=r["s-p"],c=()=>NY(e);l.length===0?c():(Promise.all(l).then(c),e.$flags$|=4,l.length=0)}},jY=(e,t,n)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,wY(e,t)}catch(r){zh(r,e.$hostElement$)}return null},NY=e=>{const t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,r=Di("postUpdate",t),s=e.$ancestorComponent$;e.$flags$&64?r():(e.$flags$|=64,ZR(n),r(),e.$onReadyResolve$(n),s||GR()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&BS(()=>$S(e,!1)),e.$flags$&=-517},GR=e=>{ZR(qs.documentElement),BS(()=>pY(C0,"appload",{detail:{namespace:sY}}))},_Y=(e,t)=>e&&e.then?e.then(t):t(),ZR=e=>e.classList.add("hydrated"),EY=(e,t)=>Lu(e).$instanceValues$.get(t),AY=(e,t,n,r)=>{const s=Lu(e),i=s.$instanceValues$.get(t),o=s.$flags$,l=s.$lazyInstance$;n=fY(n,r.$members$[t][0]);const c=Number.isNaN(i)&&Number.isNaN(n),u=n!==i&&!c;(!(o&8)||i===void 0)&&u&&(s.$instanceValues$.set(t,n),l&&(o&18)===2&&$S(s,!1))},YR=(e,t,n)=>{if(t.$members$){const r=Object.entries(t.$members$),s=e.prototype;if(r.map(([i,[o]])=>{(o&31||n&2&&o&32)&&Object.defineProperty(s,i,{get(){return EY(this,i)},set(l){AY(this,i,l,t)},configurable:!0,enumerable:!0})}),n&1){const i=new Map;s.attributeChangedCallback=function(o,l,c){Dn.jmp(()=>{const u=i.get(o);if(this.hasOwnProperty(u))c=this[u],delete this[u];else if(s.hasOwnProperty(u)&&typeof this[u]=="number"&&this[u]==c)return;this[u]=c===null&&typeof this[u]=="boolean"?!1:c})},e.observedAttributes=r.filter(([o,l])=>l[0]&15).map(([o,l])=>{const c=l[1]||o;return i.set(c,o),c})}}return e},CY=async(e,t,n,r,s)=>{if(!(t.$flags$&32)){{if(t.$flags$|=32,s=MY(n),s.then){const c=iY();s=await s,c()}s.isProxied||(YR(s,n,2),s.isProxied=!0);const l=Di("createInstance",n.$tagName$);t.$flags$|=8;try{new s(t)}catch(c){zh(c)}t.$flags$&=-9,l()}if(s.style){let l=s.style;const c=VR(n);if(!dg.has(c)){const u=Di("registerStyles",n.$tagName$);mY(c,l,!!(n.$flags$&1)),u()}}}const i=t.$ancestorComponent$,o=()=>$S(t,!0);i&&i["s-rc"]?i["s-rc"].push(o):o()},kY=e=>{if(!(Dn.$flags$&1)){const t=Lu(e),n=t.$cmpMeta$,r=Di("connectedCallback",n.$tagName$);if(!(t.$flags$&1)){t.$flags$|=1;{let s=e;for(;s=s.parentNode||s.host;)if(s["s-p"]){qR(t,t.$ancestorComponent$=s);break}}n.$members$&&Object.entries(n.$members$).map(([s,[i]])=>{if(i&31&&e.hasOwnProperty(s)){const o=e[s];delete e[s],e[s]=o}}),CY(e,t,n)}r()}},TY=e=>{Dn.$flags$&1||Lu(e)},PY=(e,t={})=>{var n;const r=Di(),s=[],i=t.exclude||[],o=C0.customElements,l=qs.head,c=l.querySelector("meta[charset]"),u=qs.createElement("style"),d=[];let h,f=!0;Object.assign(Dn,t),Dn.$resourcesUrl$=new URL(t.resourcesUrl||"./",qs.baseURI).href,e.map(p=>{p[1].map(x=>{const m={$flags$:x[0],$tagName$:x[1],$members$:x[2],$listeners$:x[3]};m.$members$=x[2];const y=m.$tagName$,b=class extends HTMLElement{constructor(g){super(g),g=this,IY(g,m),m.$flags$&1&&g.attachShadow({mode:"open"})}connectedCallback(){h&&(clearTimeout(h),h=null),f?d.push(this):Dn.jmp(()=>kY(this))}disconnectedCallback(){Dn.jmp(()=>TY(this))}componentOnReady(){return Lu(this).$onReadyPromise$}};m.$lazyBundleId$=p[0],!i.includes(y)&&!o.get(y)&&(s.push(y),o.define(y,YR(b,m,1)))})});{u.innerHTML=s+oY,u.setAttribute("data-styles","");const p=(n=Dn.$nonce$)!==null&&n!==void 0?n:zR(qs);p!=null&&u.setAttribute("nonce",p),l.insertBefore(u,c?c.nextSibling:l.firstChild)}f=!1,d.length?d.map(p=>p.connectedCallback()):Dn.jmp(()=>h=setTimeout(GR,30)),r()},LS=new WeakMap,Lu=e=>LS.get(e),Bme=(e,t)=>LS.set(t.$lazyInstance$=e,t),IY=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onReadyPromise$=new Promise(r=>n.$onReadyResolve$=r),e["s-p"]=[],e["s-rc"]=[],LS.set(e,n)},UE=(e,t)=>t in e,zh=(e,t)=>(0,console.error)(e,t),cv=new Map,MY=(e,t,n)=>{const r=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,i=cv.get(s);if(i)return i[r];{const o=l=>(cv.set(s,l),l[r]);switch(s){case"connect-modal":return sl(()=>import("./connect-modal.entry-Czqk5_Y2.js"),[],import.meta.url).then(o,zh)}}return sl(()=>import(`./${s}.entry.js`),[],import.meta.url).then(o=>(cv.set(s,o),o[r]),zh)},dg=new Map,C0=typeof window<"u"?window:{},qs=C0.document||{head:{}},Dn={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},JR=e=>Promise.resolve(e),OY=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),zE=[],QR=[],RY=(e,t)=>n=>{e.push(n),$w||($w=!0,Dn.$flags$&4?BS(Bw):Dn.raf(Bw))},VE=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){zh(n)}e.length=0},Bw=()=>{VE(zE),VE(QR),($w=zE.length>0)&&Dn.raf(Bw)},BS=e=>JR().then(e),DY=RY(QR),$Y=()=>JR(),LY=(e,t)=>typeof window>"u"?Promise.resolve():$Y().then(()=>PY([["connect-modal",[[1,"connect-modal",{defaultProviders:[16],installedProviders:[16],persistSelection:[4,"persist-selection"],callback:[16],cancelCallback:[16]}]]]],t));(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();var BY=Object.defineProperty,FY=Object.defineProperties,UY=Object.getOwnPropertyDescriptors,hg=Object.getOwnPropertySymbols,XR=Object.prototype.hasOwnProperty,eD=Object.prototype.propertyIsEnumerable,HE=(e,t,n)=>t in e?BY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,si=(e,t)=>{for(var n in t||(t={}))XR.call(t,n)&&HE(e,n,t[n]);if(hg)for(var n of hg(t))eD.call(t,n)&&HE(e,n,t[n]);return e},Uo=(e,t)=>FY(e,UY(t)),zY=(e,t)=>{var n={};for(var r in e)XR.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&hg)for(var r of hg(e))t.indexOf(r)<0&&eD.call(e,r)&&(n[r]=e[r]);return n};function FS(){return cR(dR())||window.StacksProvider||window.BlockstackProvider}function US(e){return e?typeof e=="string"?Xa.fromName(e):"version"in e?e:"url"in e?new xw({url:e.url}):e.transactionVersion===tl.Mainnet?new xw({url:e.client.baseUrl}):new ww({url:e.client.baseUrl}):new ww}typeof window<"u"&&(window.__CONNECT_VERSION__="__VERSION__");var VY=e=>{if(!e){let t=new m0(["store_write"],document.location.href);e=new $h({appConfig:t})}return e},HY=async(e,t=FS())=>{if(!t)throw new Error("[Connect] No installed Stacks wallet found");let{redirectTo:n="/",manifestPath:r,onFinish:s,onCancel:i,sendToSignIn:o=!1,userSession:l,appDetails:c}=e,u=VY(l);u.isUserSignedIn()&&u.signUserOut();let d=u.generateAndStoreTransitKey(),h=u.makeAuthRequest(d,`${document.location.origin}${n}`,`${document.location.origin}${r}`,u.appConfig.scopes,void 0,void 0,{sendToSignIn:o,appDetails:c,connectVersion:"__VERSION__"});try{let f=await t.authenticationRequest(h);await u.handlePendingSignIn(f);let p=Un.decodeToken(f),x=p==null?void 0:p.payload;s==null||s({authResponse:f,authResponsePayload:x,userSession:u})}catch(f){console.error("[Connect] Error during auth request",f),i==null||i()}},KY=(e=>(e.ContractCall="contract_call",e.ContractDeploy="smart_contract",e.STXTransfer="token_transfer",e))(KY||{}),WY=(e=>(e.BUFFER="buffer",e.UINT="uint",e.INT="int",e.PRINCIPAL="principal",e.BOOL="bool",e))(WY||{}),zS=e=>{let t=e;if(!t){let n=new m0(["store_write"],document.location.href);t=new $h({appConfig:n})}return t};function qY(e){try{return zS(e).loadUserData().appPrivateKey}catch{return!1}}var GY=e=>{let t=zS(e).loadUserData().appPrivateKey,n=Un.SECP256K1Client.derivePublicKey(t);return{privateKey:t,publicKey:n}};function ZY(e){var t;let{stxAddress:n,userSession:r,network:s}=e;if(n)return n;if(!r||!s)return;let i=(t=r==null?void 0:r.loadUserData().profile)==null?void 0:t.stxAddress,o={[el.Mainnet]:"mainnet",[el.Testnet]:"testnet"},l=US(s);return i==null?void 0:i[o[l.chainId]]}function YY(e){let t=US(e.network),n=zS(e.userSession),r=Uo(si({},e),{network:t,userSession:n});return si({stxAddress:ZY(r)},r)}async function JY(e,t){let{postConditions:n}=e;return n&&n.length>0&&typeof n[0]!="string"&&(typeof n[0].type=="string"?n=n.map(MR):n=n.map(r=>xe($R(r)))),new Un.TokenSigner("ES256k",t).signAsync(Uo(si({},e),{postConditions:n}))}function QY(e){let{postConditions:t}=e;return t&&t.length>0&&typeof t[0]!="string"&&(typeof t[0].type=="string"?t=t.map(MR):t=t.map(n=>xe($R(n)))),Un.createUnsecuredToken(Uo(si({},e),{postConditions:t}))}var XY=async({token:e,options:t},n)=>{var r,s,i;try{let o=await n.transactionRequest(e),{txRaw:l}=o,c=We(l.replace(/^0x/,"")),u=xZ(c);if("sponsored"in t&&t.sponsored){(r=t.onFinish)==null||r.call(t,Uo(si({},o),{stacksTransaction:u}));return}(s=t.onFinish)==null||s.call(t,Uo(si({},o),{stacksTransaction:u}))}catch(o){console.error("[Connect] Error during transaction request",o),(i=t.onCancel)==null||i.call(t)}},eJ=async e=>{let t=e,{functionArgs:n,appDetails:r,userSession:s}=t,i=zY(t,["functionArgs","appDetails","userSession"]),o=n.map(c=>typeof c=="string"?c:typeof c.type=="string"?UG(c):xe($u(c)));if(qY(s)){let{privateKey:c,publicKey:u}=GY(s),d=Uo(si({},i),{functionArgs:o,txType:"contract_call",publicKey:u});return r&&(d.appDetails=r),JY(d,c)}let l=Uo(si({},i),{functionArgs:o,txType:"contract_call"});return r&&(l.appDetails=r),QY(l)};async function tJ(e,t,n){let r=await t(Uo(si(si({},YY(e)),e),{network:US(e.network)}));return XY({token:r,options:e},n)}function k0(e,t=FS()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return tJ(e,eJ,t)}var nJ=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALL=1]="ALL",e[e.NONE=2]="NONE",e[e.SINGLE=3]="SINGLE",e[e.ANYONECANPAY=128]="ANYONECANPAY",e))(nJ||{}),tD="asigna-stx",KE=(e,t)=>new Promise(n=>{function r(s){s.data.source===tD&&s.data[t]&&(n(s.data[t]),window.removeEventListener("message",r))}window.addEventListener("message",r),window.top.postMessage(sJ(e,t),"*")}),rJ={authenticationRequest:async e=>KE(e,"authenticationRequest"),transactionRequest:async e=>KE(e,"transactionRequest")},sJ=(e,t)=>({source:tD,[t]:e}),iJ=()=>{typeof window>"u"||window.top!==window.self&&(window.AsignaProvider=rJ)};iJ();var oJ=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.StacksProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna Multisig",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://stx.asigna.io/"}];function aJ(e,t=!0){return function(n,r){var s;if(r)return e(n,r);let i=dR(),o=FS();if(i&&o)return e(n,o);if(typeof window>"u")return;LY();let l=(s=n==null?void 0:n.defaultProviders)!=null?s:oJ,c=jq(l),u=document.createElement("connect-modal");u.defaultProviders=l,u.installedProviders=c,u.persistSelection=t;let d=document.body.style.overflow;document.body.style.overflow="hidden";let h=()=>{u.remove(),document.body.style.overflow=d};u.callback=p=>{h(),e(n,p)},u.cancelCallback=()=>{var p;h(),(p=n.onCancel)==null||p.call(n)},document.body.appendChild(u);let f=p=>{p.key==="Escape"&&(document.removeEventListener("keydown",f),u.remove())};document.addEventListener("keydown",f)}}var lJ=aJ(HY,!1);function nD(e,t){let n=e;if(typeof n=="number"){if(!Number.isInteger(n))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(n>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(n)}if(typeof n=="string")if(n.toLowerCase().startsWith("0x")){let r=n.slice(2);r=r.padStart(r.length+r.length%2,"0"),n=dJ(r)}else try{return BigInt(n)}catch(r){if(r instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${n}' is not finite.`)}if(typeof n=="bigint")return n;if(n instanceof Uint8Array)return BigInt(`0x${uJ(n)}`);if(n!=null&&typeof n=="object"&&n.constructor.name==="BN")return BigInt(n.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}const cJ=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function uJ(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(const n of e)t+=cJ[n];return t}function dJ(e){if(typeof e!="string")throw new TypeError(`hexToBytes: expected string, got ${typeof e}`);e=e.startsWith("0x")||e.startsWith("0X")?e.slice(2):e;const t=e.length%2?`0${e}`:e,n=new Uint8Array(t.length/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function hJ(e){return new TextEncoder().encode(e)}var Fw;(function(e){e[e.Testnet=2147483648]="Testnet",e[e.Mainnet=1]="Mainnet"})(Fw||(Fw={}));Fw.Mainnet;const fJ=128;var il;(function(e){e[e.Address=0]="Address",e[e.Principal=1]="Principal",e[e.LengthPrefixedString=2]="LengthPrefixedString",e[e.MemoString=3]="MemoString",e[e.AssetInfo=4]="AssetInfo",e[e.PostCondition=5]="PostCondition",e[e.PublicKey=6]="PublicKey",e[e.LengthPrefixedList=7]="LengthPrefixedList",e[e.Payload=8]="Payload",e[e.MessageSignature=9]="MessageSignature",e[e.StructuredDataSignature=10]="StructuredDataSignature",e[e.TransactionAuthField=11]="TransactionAuthField"})(il||(il={}));var WE;(function(e){e[e.TokenTransfer=0]="TokenTransfer",e[e.SmartContract=1]="SmartContract",e[e.VersionedSmartContract=6]="VersionedSmartContract",e[e.ContractCall=2]="ContractCall",e[e.PoisonMicroblock=3]="PoisonMicroblock",e[e.Coinbase=4]="Coinbase",e[e.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",e[e.TenureChange=7]="TenureChange",e[e.NakamotoCoinbase=8]="NakamotoCoinbase"})(WE||(WE={}));var qE;(function(e){e[e.Clarity1=1]="Clarity1",e[e.Clarity2=2]="Clarity2",e[e.Clarity3=3]="Clarity3"})(qE||(qE={}));var Wn;(function(e){e[e.OnChainOnly=1]="OnChainOnly",e[e.OffChainOnly=2]="OffChainOnly",e[e.Any=3]="Any"})(Wn||(Wn={}));const uv=["onChainOnly","offChainOnly","any"];uv[0]+"",Wn.OnChainOnly,uv[1]+"",Wn.OffChainOnly,uv[2]+"",Wn.Any,Wn.OnChainOnly+"",Wn.OnChainOnly,Wn.OffChainOnly+"",Wn.OffChainOnly,Wn.Any+"",Wn.Any;var Uw;(function(e){e[e.Mainnet=0]="Mainnet",e[e.Testnet=128]="Testnet"})(Uw||(Uw={}));Uw.Mainnet;var fu;(function(e){e[e.Allow=1]="Allow",e[e.Deny=2]="Deny"})(fu||(fu={}));var zw;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(zw||(zw={}));var GE;(function(e){e[e.Standard=4]="Standard",e[e.Sponsored=5]="Sponsored"})(GE||(GE={}));var ZE;(function(e){e[e.SerializeP2PKH=0]="SerializeP2PKH",e[e.SerializeP2SH=1]="SerializeP2SH",e[e.SerializeP2WPKH=2]="SerializeP2WPKH",e[e.SerializeP2WSH=3]="SerializeP2WSH",e[e.SerializeP2SHNonSequential=5]="SerializeP2SHNonSequential",e[e.SerializeP2WSHNonSequential=7]="SerializeP2WSHNonSequential"})(ZE||(ZE={}));var YE;(function(e){e[e.MainnetSingleSig=22]="MainnetSingleSig",e[e.MainnetMultiSig=20]="MainnetMultiSig",e[e.TestnetSingleSig=26]="TestnetSingleSig",e[e.TestnetMultiSig=21]="TestnetMultiSig"})(YE||(YE={}));var JE;(function(e){e[e.Compressed=0]="Compressed",e[e.Uncompressed=1]="Uncompressed"})(JE||(JE={}));var fg;(function(e){e[e.Equal=1]="Equal",e[e.Greater=2]="Greater",e[e.GreaterEqual=3]="GreaterEqual",e[e.Less=4]="Less",e[e.LessEqual=5]="LessEqual"})(fg||(fg={}));var QE;(function(e){e[e.Sends=16]="Sends",e[e.DoesNotSend=17]="DoesNotSend"})(QE||(QE={}));var pg;(function(e){e[e.Origin=1]="Origin",e[e.Standard=2]="Standard",e[e.Contract=3]="Contract"})(pg||(pg={}));var XE;(function(e){e[e.STX=0]="STX",e[e.Fungible=1]="Fungible",e[e.NonFungible=2]="NonFungible"})(XE||(XE={}));var eA;(function(e){e.Serialization="Serialization",e.Deserialization="Deserialization",e.SignatureValidation="SignatureValidation",e.FeeTooLow="FeeTooLow",e.BadNonce="BadNonce",e.NotEnoughFunds="NotEnoughFunds",e.NoSuchContract="NoSuchContract",e.NoSuchPublicFunction="NoSuchPublicFunction",e.BadFunctionArgument="BadFunctionArgument",e.ContractAlreadyExists="ContractAlreadyExists",e.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",e.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",e.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",e.BadAddressVersionByte="BadAddressVersionByte",e.NoCoinbaseViaMempool="NoCoinbaseViaMempool",e.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",e.TooMuchChaining="TooMuchChaining",e.ConflictingNonceInMempool="ConflictingNonceInMempool",e.BadTransactionVersion="BadTransactionVersion",e.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",e.TransferAmountMustBePositive="TransferAmountMustBePositive",e.ServerFailureDatabase="ServerFailureDatabase",e.EstimatorError="EstimatorError",e.TemporarilyBlacklisted="TemporarilyBlacklisted",e.ServerFailureOther="ServerFailureOther"})(eA||(eA={}));function pJ(e,t,n){const r=t||1,s=n||fJ;if(vJ(e,s))throw new Error(`String length exceeds maximum bytes ${s}`);return{type:il.LengthPrefixedString,content:e,lengthPrefixBytes:r,maxLengthBytes:s}}function VS(e){const t=yf.c32addressDecode(e);return{type:il.Address,version:t[0],hash160:t[1]}}function mJ(e){if(e.includes(".")){const[t,n]=e.split(".");return gJ(t,n)}else return rD(e)}function gJ(e,t){const n=VS(e),r=pJ(t);return{type:il.Principal,prefix:pg.Contract,address:n,contractName:r}}function rD(e){const t=VS(e);return{type:il.Principal,prefix:pg.Standard,address:t}}var mg;(function(e){e[e.Int=0]="Int",e[e.UInt=1]="UInt",e[e.Buffer=2]="Buffer",e[e.BoolTrue=3]="BoolTrue",e[e.BoolFalse=4]="BoolFalse",e[e.PrincipalStandard=5]="PrincipalStandard",e[e.PrincipalContract=6]="PrincipalContract",e[e.ResponseOk=7]="ResponseOk",e[e.ResponseErr=8]="ResponseErr",e[e.OptionalNone=9]="OptionalNone",e[e.OptionalSome=10]="OptionalSome",e[e.List=11]="List",e[e.Tuple=12]="Tuple",e[e.StringASCII=13]="StringASCII",e[e.StringUTF8=14]="StringUTF8"})(mg||(mg={}));function th(e){const t=VS(e);return{type:mg.PrincipalStandard,address:t}}const tA=BigInt("0xffffffffffffffffffffffffffffffff"),yJ=BigInt(0);BigInt("0x7fffffffffffffffffffffffffffffff");BigInt("-170141183460469231731687303715884105728");const Ac=e=>{const t=nD(e);if(t<yJ)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(t>tA)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${tA}`);return{type:mg.UInt,value:t}},vJ=(e,t)=>e?hJ(e).length>t:!1;function xJ(e,t,n){return typeof e=="string"&&(e=mJ(e)),{type:il.PostCondition,conditionType:zw.STX,principal:e,conditionCode:t,amount:nD(n)}}function sD(e,t,n){return xJ(rD(e),t,n)}const wJ=new m0(["store_write","publish_data"]),Vh=new $h({appConfig:wJ}),bJ=e=>{lJ({appDetails:{name:"BitMind Smart Invoice",icon:window.location.origin+"/logo.png"},redirectTo:"/",onFinish:()=>{const n=Vh.loadUserData().profile.stxAddress.testnet;e(n)},userSession:Vh})},SJ=()=>{Vh.signUserOut("/")},Hh=()=>{const{isConnected:e,userAddress:t,setConnected:n,setDisconnected:r}=ai(),[s,i]=S.useState(!0),o=oS(),l=xl();S.useEffect(()=>{(()=>{try{if(Vh.isUserSignedIn()){const h=Vh.loadUserData(),f=h.profile.stxAddress.testnet||h.profile.stxAddress.mainnet;f&&f!==t&&(console.log(" Found existing wallet session:",f),n(f),l.pathname==="/landing"&&(console.log(" Redirecting from landing page to app"),o("/")))}else e&&(console.log(" Session expired, clearing wallet state"),r())}catch(h){console.error("Error checking wallet session:",h),e&&r()}finally{i(!1)}})()},[n,r,t,e,o,l.pathname]);const c=()=>{bJ(d=>{console.log(" Wallet connected:",d),n(d),l.pathname==="/landing"&&(console.log(" Redirecting to app after connection"),o("/"))})},u=()=>{console.log(" Disconnecting wallet"),SJ(),r()};return s?a.jsxs(Y,{disabled:!0,variant:"outline",children:[a.jsx(dr,{className:"w-4 h-4 mr-2"}),"Checking..."]}):a.jsx("div",{className:"flex items-center gap-4",children:e?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-secondary rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx(dr,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-mono",children:[t==null?void 0:t.slice(0,6),"...",t==null?void 0:t.slice(-4)]})]}),a.jsx(Y,{variant:"outline",size:"sm",onClick:u,children:"Disconnect"})]}):a.jsxs(Y,{onClick:c,className:"bg-gradient-to-r from-orange-500 to-purple-600 hover:from-orange-600 hover:to-purple-700",children:[a.jsx(dr,{className:"w-4 h-4 mr-2"}),"Connect Wallet"]})})},Vn=({children:e})=>{const{isConnected:t}=ai();return t?a.jsx(a.Fragment,{children:e}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center p-4",children:a.jsxs(K,{className:"max-w-lg w-full shadow-2xl",children:[a.jsxs(se,{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-orange-500 to-purple-600 rounded-full flex items-center justify-center mb-4 shadow-lg",children:a.jsx(AF,{className:"w-10 h-10 text-white"})}),a.jsx(ie,{className:"text-3xl mb-2",children:"Wallet Connection Required"}),a.jsx(je,{className:"text-base",children:"This page requires a connected Stacks wallet"})]}),a.jsxs(q,{className:"space-y-6",children:[a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("p",{className:"text-sm text-blue-900 text-center",children:[" ",a.jsx("strong",{children:"BitMindAI"})," uses wallet-based authentication for secure access to blockchain features."]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-700",children:"Supported Wallets:"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-center",children:[a.jsxs("div",{className:"p-2 border rounded-lg hover:bg-gray-50",children:[a.jsx(dr,{className:"w-6 h-6 mx-auto mb-1 text-orange-600"}),a.jsx("span",{children:"Hiro Wallet"})]}),a.jsxs("div",{className:"p-2 border rounded-lg hover:bg-gray-50",children:[a.jsx(dr,{className:"w-6 h-6 mx-auto mb-1 text-purple-600"}),a.jsx("span",{children:"Leather"})]}),a.jsxs("div",{className:"p-2 border rounded-lg hover:bg-gray-50",children:[a.jsx(dr,{className:"w-6 h-6 mx-auto mb-1 text-blue-600"}),a.jsx("span",{children:"Xverse"})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(Hh,{})}),a.jsx(Ce,{to:"/landing",className:"w-full",children:a.jsxs(Y,{variant:"outline",className:"w-full",children:[a.jsx(U1,{className:"w-4 h-4 mr-2"}),"Back to Landing Page"]})})]})]})]})})},jJ=n0("inline-flex items-center rounded-full border border-border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pe({className:e,variant:t,...n}){return a.jsx("div",{className:Ie(jJ({variant:t}),e),...n})}async function NJ(e){const t=await fetch(`https://api.github.com/users/${e}`);if(!t.ok)throw new Error(`GitHub API error: ${t.statusText}`);return await t.json()}const _J=[{name:"ipfs.io",url:"https://ipfs.io/ipfs/"},{name:"cloudflare",url:"https://cloudflare-ipfs.com/ipfs/"},{name:"pinata",url:"https://gateway.pinata.cloud/ipfs/"},{name:"dweb.link",url:"https://dweb.link/ipfs/"}];async function EJ(e){let t=null;for(const n of _J)try{const r=`${n.url}${e}`,s=await fetch(r,{signal:AbortSignal.timeout(1e4)});if(!s.ok)throw new Error(`HTTP ${s.status}`);const i=await s.json();return console.log(` IPFS fetch successful via ${n.name}`),i}catch(r){console.warn(` Failed to fetch from ${n.name}:`,r),t=r;continue}throw new Error(`Failed to fetch from IPFS: ${(t==null?void 0:t.message)||"All gateways failed"}`)}async function iD(e="usd"){const t=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=${e}`);if(!t.ok)throw new Error(`CoinGecko API error: ${t.statusText}`);return(await t.json()).bitcoin[e]}async function AJ(e="usd"){const t=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=blockstack&vs_currencies=${e}`);if(!t.ok)throw new Error(`CoinGecko API error: ${t.statusText}`);return(await t.json()).blockstack[e]}async function CJ(e,t=["usd"]){const n=e.join(","),r=t.join(","),s=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${n}&vs_currencies=${r}&include_24hr_change=true`);if(!s.ok)throw new Error(`CoinGecko API error: ${s.statusText}`);return await s.json()}async function kJ(e){const t=await iD();return e/t}function TJ(e){return Math.floor(e*1e8)}async function PJ(e){const t=await kJ(e);return TJ(t)}function nA(e,t="USD"){return t==="BTC"?`${e.toFixed(8)}`:t==="sats"?`${e.toLocaleString()} sats`:new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}class IJ{constructor(){Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"defaultTTL",{enumerable:!0,configurable:!0,writable:!0,value:6e4})}get(t,n){const r=this.cache.get(t);if(!r)return null;const s=Date.now()-r.timestamp,i=n||this.defaultTTL;return s>i?(this.cache.delete(t),null):r.data}set(t,n){this.cache.set(t,{data:n,timestamp:Date.now()})}clear(){this.cache.clear()}}const gg=new IJ;async function MJ(){const e=gg.get("btc-price");if(e!==null)return e;const t=await iD();return gg.set("btc-price",t),t}async function OJ(){const e=gg.get("stx-price");if(e!==null)return e;const t=await AJ();return gg.set("stx-price",t),t}function RJ(e=!0,t=6e4){const[n,r]=S.useState({btc:null,stx:null}),[s,i]=S.useState(!0),[o,l]=S.useState(null),c=async()=>{try{i(!0),l(null);const[u,d]=await Promise.all([MJ(),OJ()]);r({btc:u,stx:d})}catch(u){l(u instanceof Error?u.message:"Failed to fetch prices"),console.error("Price fetch error:",u)}finally{i(!1)}};return S.useEffect(()=>{if(e){c();const u=setInterval(c,t);return()=>clearInterval(u)}},[e,t]),{prices:n,loading:s,error:o,refetch:c}}const DJ=()=>{const e=[{title:"AI Demo",description:"See AI invoice parsing in action with real-time extraction",icon:a.jsx(Bn,{className:"w-8 h-8"}),path:"/demo",color:"from-orange-500 to-purple-600",badge:"Popular"},{title:"Interactive Demo",description:"Full demo playground with simulations and production data",icon:a.jsx(Bn,{className:"w-8 h-8"}),path:"/interactive-demo",color:"from-pink-500 to-rose-600",badge:"Featured"},{title:"Create Invoice",description:"Generate a new smart contract invoice with milestone tracking",icon:a.jsx(YI,{className:"w-8 h-8"}),path:"/create",color:"from-blue-500 to-cyan-600"},{title:"Manage Invoices",description:"View and manage all your active and completed invoices",icon:a.jsx(Jn,{className:"w-8 h-8"}),path:"/invoices",color:"from-purple-500 to-pink-600"},{title:"API Demo",description:"Explore live API integration with CoinGecko and public data",icon:a.jsx(H1,{className:"w-8 h-8"}),path:"/api-demo",color:"from-green-500 to-emerald-600"},{title:"Analytics",description:"Track performance metrics and payment statistics",icon:a.jsx(z1,{className:"w-8 h-8"}),path:"/analytics",color:"from-indigo-500 to-blue-600"},{title:"Discord Notifications",description:"Real-time DAO notifications with Discord webhooks",icon:a.jsx(Ch,{className:"w-8 h-8"}),path:"/discord-notifications",color:"from-purple-500 to-violet-600",badge:"New"},{title:"Live Monitor",description:"Real-time blockchain monitoring via Hiro WebSocket",icon:a.jsx(Eh,{className:"w-8 h-8"}),path:"/realtime-monitor",color:"from-orange-500 to-red-600",badge:"Live"},{title:"Documentation",description:"Learn how to use BitMindAI and integrate with your DAO",icon:a.jsx(qI,{className:"w-8 h-8"}),path:"/help",color:"from-gray-500 to-slate-600"}];return a.jsxs("div",{className:"mb-12",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Quick Navigation"}),a.jsx("p",{className:"text-muted-foreground",children:"Jump to key features and start exploring"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(t=>a.jsx(Ce,{to:t.path,className:"group",children:a.jsx(K,{className:"h-full hover:shadow-lg transition-all duration-300 border-2 hover:border-blue-200 group-hover:scale-[1.02]",children:a.jsx(q,{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${t.color} text-white flex-shrink-0 group-hover:scale-110 transition-transform`,children:t.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-bold",children:t.title}),t.badge&&a.jsx("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-800 text-xs font-semibold rounded-full",children:t.badge})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),a.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-medium group-hover:translate-x-1 transition-transform",children:["Explore",a.jsx($o,{className:"w-4 h-4 ml-1"})]})]})]})})})},t.path))})]})},es=()=>{const e=xl(),[t,n]=S.useState(!1),[r,s]=S.useState(!1),{isConnected:i}=ai(),o=f=>e.pathname===f||e.pathname.startsWith(f+"/"),l=e.pathname==="/"||e.pathname==="/landing",c=[{label:"Home",path:"/app",icon:a.jsx(Yd,{className:"w-4 h-4"}),description:"Main dashboard"},{label:"Dashboard",path:"/dashboard",icon:a.jsx(EF,{className:"w-4 h-4"}),description:"Overview & metrics"},{label:"Invoices",path:"/invoices",icon:a.jsx(Jn,{className:"w-4 h-4"}),description:"Manage invoices"},{label:"Analytics",path:"/analytics",icon:a.jsx(z1,{className:"w-4 h-4"}),description:"Performance metrics"}],u=[{label:"AI Demo",path:"/demo",icon:a.jsx(Bn,{className:"w-4 h-4"}),badge:"New",description:"AI invoice parsing"},{label:"API Demo",path:"/api-demo",icon:a.jsx(H1,{className:"w-4 h-4"}),description:"Live API integration"}],d=[{label:"NFT Marketplace",path:"/nft-marketplace",icon:a.jsx(OF,{className:"w-4 h-4"}),description:"Trade invoice NFTs"},{label:"Cross-Chain Swap",path:"/cross-chain-swap",icon:a.jsx(PF,{className:"w-4 h-4"}),description:"Multi-chain swaps"},{label:"Treasury",path:"/treasury",icon:a.jsx(dr,{className:"w-4 h-4"}),description:"Multisig treasury"},{label:"Yield Optimizer",path:"/yield-optimizer",icon:a.jsx(pr,{className:"w-4 h-4"}),description:"Optimize yields"}],h=[{label:"Create Invoice",path:"/create",icon:a.jsx(YI,{className:"w-4 h-4"}),description:"New invoice"},{label:"Help",path:"/help",icon:a.jsx(qI,{className:"w-4 h-4"}),description:"Documentation"}];return l?null:a.jsx("nav",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs(Ce,{to:"/app",className:"flex items-center space-x-3 group",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-purple-600 rounded-xl flex items-center justify-center transform group-hover:scale-105 transition-transform",children:a.jsx(Xs,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent",children:"BitMindAI"}),a.jsx("span",{className:"text-xs text-gray-500 -mt-1 hidden sm:block",children:"Bitcoin-native smart invoices"})]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-1",children:[c.map(f=>a.jsxs(Ce,{to:f.path,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${o(f.path)?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[f.icon,f.label,f.badge&&a.jsx(pe,{variant:"secondary",className:"ml-1 text-xs",children:f.badge})]},f.path)),a.jsxs("div",{className:"relative group",children:[a.jsxs("button",{className:"px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 text-gray-700 hover:bg-gray-50 hover:text-gray-900",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[a.jsx(Bn,{className:"w-4 h-4"}),"Demos",a.jsx(V1,{className:"w-3 h-3"})]}),r&&a.jsxs("div",{className:"absolute left-0 mt-1 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[u.map(f=>a.jsxs(Ce,{to:f.path,className:`flex items-center gap-3 px-4 py-2.5 hover:bg-gray-50 transition-colors ${o(f.path)?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[f.icon,a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-sm",children:f.label}),f.badge&&a.jsx(pe,{variant:"secondary",className:"text-xs",children:f.badge})]}),f.description&&a.jsx("span",{className:"text-xs text-gray-500",children:f.description})]})]},f.path)),a.jsx("div",{className:"my-2 border-t border-gray-100"}),a.jsx("div",{className:"px-4 py-1",children:a.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase",children:"DeFi Features"})}),d.map(f=>a.jsxs(Ce,{to:f.path,className:`flex items-center gap-3 px-4 py-2.5 hover:bg-gray-50 transition-colors ${o(f.path)?"bg-blue-50 text-blue-600":"text-gray-700"}`,children:[f.icon,a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-sm",children:f.label}),f.badge&&a.jsx(pe,{variant:"secondary",className:"text-xs",children:f.badge})]}),f.description&&a.jsx("span",{className:"text-xs text-gray-500",children:f.description})]})]},f.path))]})]}),h.map(f=>a.jsxs(Ce,{to:f.path,className:`px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${o(f.path)?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[f.icon,f.label]},f.path)),a.jsx(Ce,{to:"/landing",className:"px-3 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 text-gray-500 hover:bg-gray-50 hover:text-gray-700 border-l border-gray-200 ml-2",title:"Back to Landing Page",children:a.jsx(Yd,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"hidden lg:block",children:a.jsx(Hh,{})}),a.jsx("button",{className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:()=>n(!t),children:t?a.jsx(Eu,{className:"w-6 h-6"}):a.jsx(GI,{className:"w-6 h-6"})})]})]}),t&&a.jsx("div",{className:"lg:hidden pb-4 border-t border-gray-100 mt-2 pt-4",children:a.jsxs("div",{className:"space-y-1",children:[c.map(f=>a.jsxs(Ce,{to:f.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${o(f.path)?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>n(!1),children:[f.icon,a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f.label,f.badge&&a.jsx(pe,{variant:"secondary",className:"text-xs",children:f.badge})]}),f.description&&a.jsx("span",{className:"text-xs text-gray-500",children:f.description})]})]},f.path)),a.jsx("div",{className:"pt-2 pb-1 px-3",children:a.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Demos"})}),u.map(f=>a.jsxs(Ce,{to:f.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${o(f.path)?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>n(!1),children:[f.icon,a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f.label,f.badge&&a.jsx(pe,{variant:"secondary",className:"text-xs bg-green-100 text-green-800",children:f.badge})]}),f.description&&a.jsx("span",{className:"text-xs text-gray-500",children:f.description})]})]},f.path)),a.jsx("div",{className:"pt-2 pb-1 px-3",children:a.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"DeFi Features"})}),d.map(f=>a.jsxs(Ce,{to:f.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${o(f.path)?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>n(!1),children:[f.icon,a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[f.label,f.badge&&a.jsx(pe,{variant:"secondary",className:"text-xs",children:f.badge})]}),f.description&&a.jsx("span",{className:"text-xs text-gray-500",children:f.description})]})]},f.path)),a.jsx("div",{className:"pt-2 pb-1 px-3",children:a.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})}),h.map(f=>a.jsxs(Ce,{to:f.path,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all ${o(f.path)?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700 hover:bg-gray-50"}`,onClick:()=>n(!1),children:[f.icon,f.label]},f.path)),a.jsx("div",{className:"pt-2 pb-1 px-3",children:a.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Quick Links"})}),a.jsxs(Ce,{to:"/landing",className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all text-gray-700 hover:bg-gray-50",onClick:()=>n(!1),children:[a.jsx(Yd,{className:"w-4 h-4"}),"Back to Landing Page"]}),a.jsx("div",{className:"pt-4 px-3",children:a.jsx(Hh,{})})]})})]})})},yn={alice:"ST3PF13W7Z0RRM42A8VZRVFQ75SV1K26RXEP8YGKJ",bob:"ST3NBRSFKX28FQ2ZJ1MAKX58HKHSDGNV5N7R21XCP",charlie:"ST1R1061ZT6KPJXQ7PAXPFB6ZAZ6ZWW28GBQA1W0F",neutral_arbiter:"ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",trusted_mediator:"ST2DS4MSWSGJ3W9FBC6BVT0Y92S345HY8N3T6AV4R",sbtc_token:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.sbtc-token"},yg=[{invoice_id:2025300,payee:yn.alice,amount:85e6,amount_display:"0.85 sBTC ($52,300)",token_contract:yn.sbtc_token,arbiter:yn.neutral_arbiter,deadline:"2025-12-31",milestone_description:"Smart contract security audit + comprehensive security review for DeFi protocol",dao_name:"DeFi Protocol DAO"},{invoice_id:2025299,payee:yn.bob,amount:42e6,amount_display:"0.42 sBTC ($25,800)",token_contract:yn.sbtc_token,arbiter:yn.trusted_mediator,deadline:"2025-11-30",milestone_description:"Complete website redesign with mobile-responsive layout and modern UI",dao_name:"NFT Marketplace Collective"},{invoice_id:2025298,payee:yn.charlie,amount:65e6,amount_display:"0.65 sBTC ($39,900)",token_contract:yn.sbtc_token,arbiter:yn.neutral_arbiter,deadline:"2025-10-31",milestone_description:"Educational tutorial series: 10 comprehensive Bitcoin development guides",dao_name:"Web3 Education Guild"},{invoice_id:2025297,payee:yn.alice,amount:28e6,amount_display:"0.28 sBTC ($17,200)",token_contract:yn.sbtc_token,arbiter:yn.trusted_mediator,deadline:"2025-09-30",milestone_description:"Token economics modeling and game theory analysis for gaming platform",dao_name:"Gaming DAO Treasury"}],rA=`Invoice #2025-042

FROM: BitDev Studio
TO: Alice (${yn.alice})

Services Provided:
Complete smart contract security audit for DeFi protocol including:
- Comprehensive code review
- Vulnerability assessment
- Gas optimization analysis
- Final security report

Amount: 0.85 Bitcoin (sBTC on Stacks)

Payment Terms:
- 100% upon completion and report delivery
- Escrowed via BitMind smart contract

Delivery Date: December 31, 2025
Arbiter: ${yn.neutral_arbiter}

Notes: All work to be verified on-chain with IPFS-stored evidence.
`;function $J(){const e=Math.floor(Math.random()*yg.length);return yg[e]}const LJ=1e8;function oD(e){return e/LJ}function BJ(e,t=!0){const r=oD(e).toFixed(8).replace(/\.?0+$/,"");return t?`${r} sBTC`:r}function FJ(e,t=61500){const r=oD(e)*t;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r)}var dv="focusScope.autoFocusOnMount",hv="focusScope.autoFocusOnUnmount",sA={bubbles:!1,cancelable:!0},UJ="FocusScope",HS=S.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=S.useState(null),u=Qr(s),d=Qr(i),h=S.useRef(null),f=bt(t,m=>c(m)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let m=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:Qi(h.current,{select:!0})},y=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||Qi(h.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const E of w)E.removedNodes.length>0&&Qi(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const g=new MutationObserver(b);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),g.disconnect()}}},[r,l,p.paused]),S.useEffect(()=>{if(l){oA.add(p);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(dv,sA);l.addEventListener(dv,u),l.dispatchEvent(b),b.defaultPrevented||(zJ(qJ(aD(l)),{select:!0}),document.activeElement===m&&Qi(l))}return()=>{l.removeEventListener(dv,u),setTimeout(()=>{const b=new CustomEvent(hv,sA);l.addEventListener(hv,d),l.dispatchEvent(b),b.defaultPrevented||Qi(m??document.body,{select:!0}),l.removeEventListener(hv,d),oA.remove(p)},0)}}},[l,u,d,p]);const x=S.useCallback(m=>{if(!n&&!r||p.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(y&&b){const g=m.currentTarget,[w,j]=VJ(g);w&&j?!m.shiftKey&&b===j?(m.preventDefault(),n&&Qi(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),n&&Qi(j,{select:!0})):b===g&&m.preventDefault()}},[n,r,p.paused]);return a.jsx(ke.div,{tabIndex:-1,...o,ref:f,onKeyDown:x})});HS.displayName=UJ;function zJ(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Qi(r,{select:t}),document.activeElement!==n)return}function VJ(e){const t=aD(e),n=iA(t,e),r=iA(t.reverse(),e);return[n,r]}function aD(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function iA(e,t){for(const n of e)if(!HJ(n,{upTo:t}))return n}function HJ(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function KJ(e){return e instanceof HTMLInputElement&&"select"in e}function Qi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&KJ(e)&&t&&e.select()}}var oA=WJ();function WJ(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=aA(e,t),e.unshift(t)},remove(t){var n;e=aA(e,t),(n=e[0])==null||n.resume()}}}function aA(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function qJ(e){return e.filter(t=>t.tagName!=="A")}var fv=0;function lD(){S.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lA()),document.body.insertAdjacentElement("beforeend",e[1]??lA()),fv++,()=>{fv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fv--}},[])}function lA(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Vs=function(){return Vs=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Vs.apply(this,arguments)};function cD(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function GJ(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var am="right-scroll-bar-position",lm="width-before-scroll-bar",ZJ="with-scroll-bars-hidden",YJ="--removed-body-scroll-bar-size";function pv(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function JJ(e,t){var n=S.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var QJ=typeof window<"u"?S.useLayoutEffect:S.useEffect,cA=new WeakMap;function XJ(e,t){var n=JJ(null,function(r){return e.forEach(function(s){return pv(s,r)})});return QJ(function(){var r=cA.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(l){i.has(l)||pv(l,null)}),i.forEach(function(l){s.has(l)||pv(l,o)})}cA.set(n,e)},[e]),n}function eQ(e){return e}function tQ(e,t){t===void 0&&(t=eQ);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function nQ(e){e===void 0&&(e={});var t=tQ(null);return t.options=Vs({async:!0,ssr:!1},e),t}var uD=function(e){var t=e.sideCar,n=cD(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Vs({},n))};uD.isSideCarExport=!0;function rQ(e,t){return e.useMedium(t),uD}var dD=nQ(),mv=function(){},T0=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:mv,onWheelCapture:mv,onTouchMoveCapture:mv}),s=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noRelative,x=e.noIsolation,m=e.inert,y=e.allowPinchZoom,b=e.as,g=b===void 0?"div":b,w=e.gapMode,j=cD(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,M=XJ([n,t]),O=Vs(Vs({},j),s);return S.createElement(S.Fragment,null,d&&S.createElement(E,{sideCar:dD,removeScrollBar:u,shards:h,noRelative:p,noIsolation:x,inert:m,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:w}),o?S.cloneElement(S.Children.only(l),Vs(Vs({},O),{ref:M})):S.createElement(g,Vs({},O,{className:c,ref:M}),l))});T0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};T0.classNames={fullWidth:lm,zeroRight:am};var sQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iQ(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sQ();return t&&e.setAttribute("nonce",t),e}function oQ(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aQ(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var lQ=function(){var e=0,t=null;return{add:function(n){e==0&&(t=iQ())&&(oQ(t,n),aQ(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},cQ=function(){var e=lQ();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hD=function(){var e=cQ(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},uQ={left:0,top:0,right:0,gap:0},gv=function(e){return parseInt(e||"",10)||0},dQ=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[gv(n),gv(r),gv(s)]},hQ=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return uQ;var t=dQ(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},fQ=hD(),Cc="data-scroll-locked",pQ=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZJ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Cc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(am,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(lm,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(am," .").concat(am,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(lm," .").concat(lm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cc,`] {
    `).concat(YJ,": ").concat(l,`px;
  }
`)},uA=function(){var e=parseInt(document.body.getAttribute(Cc)||"0",10);return isFinite(e)?e:0},mQ=function(){S.useEffect(function(){return document.body.setAttribute(Cc,(uA()+1).toString()),function(){var e=uA()-1;e<=0?document.body.removeAttribute(Cc):document.body.setAttribute(Cc,e.toString())}},[])},gQ=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;mQ();var i=S.useMemo(function(){return hQ(s)},[s]);return S.createElement(fQ,{styles:pQ(i,!t,s,n?"":"!important")})},Vw=!1;if(typeof window<"u")try{var wp=Object.defineProperty({},"passive",{get:function(){return Vw=!0,!0}});window.addEventListener("test",wp,wp),window.removeEventListener("test",wp,wp)}catch{Vw=!1}var Ol=Vw?{passive:!1}:!1,yQ=function(e){return e.tagName==="TEXTAREA"},fD=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!yQ(e)&&n[t]==="visible")},vQ=function(e){return fD(e,"overflowY")},xQ=function(e){return fD(e,"overflowX")},dA=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pD(e,r);if(s){var i=mD(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},bQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},pD=function(e,t){return e==="v"?vQ(t):xQ(t)},mD=function(e,t){return e==="v"?wQ(t):bQ(t)},SQ=function(e,t){return e==="h"&&t==="rtl"?-1:1},jQ=function(e,t,n,r,s){var i=SQ(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,h=0,f=0;do{if(!l)break;var p=mD(e,l),x=p[0],m=p[1],y=p[2],b=m-y-i*x;(x||b)&&pD(e,l)&&(h+=b,f+=x);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(f)<1)&&(u=!0),u},bp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hA=function(e){return[e.deltaX,e.deltaY]},fA=function(e){return e&&"current"in e?e.current:e},NQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_Q=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EQ=0,Rl=[];function AQ(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),s=S.useState(EQ++)[0],i=S.useState(hD)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=GJ([e.lockRef.current],(e.shards||[]).map(fA),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=S.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=bp(m),g=n.current,w="deltaX"in m?m.deltaX:g[0]-b[0],j="deltaY"in m?m.deltaY:g[1]-b[1],E,M=m.target,O=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&O==="h"&&M.type==="range")return!1;var B=dA(O,M);if(!B)return!0;if(B?E=O:(E=O==="v"?"h":"v",B=dA(O,M)),!B)return!1;if(!r.current&&"changedTouches"in m&&(w||j)&&(r.current=E),!E)return!0;var z=r.current||E;return jQ(z,y,m,z==="h"?w:j)},[]),c=S.useCallback(function(m){var y=m;if(!(!Rl.length||Rl[Rl.length-1]!==i)){var b="deltaY"in y?hA(y):bp(y),g=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&NQ(E.delta,b)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var w=(o.current.shards||[]).map(fA).filter(Boolean).filter(function(E){return E.contains(y.target)}),j=w.length>0?l(y,w[0]):!o.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),u=S.useCallback(function(m,y,b,g){var w={name:m,delta:y,target:b,should:g,shadowParent:CQ(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=S.useCallback(function(m){n.current=bp(m),r.current=void 0},[]),h=S.useCallback(function(m){u(m.type,hA(m),m.target,l(m,e.lockRef.current))},[]),f=S.useCallback(function(m){u(m.type,bp(m),m.target,l(m,e.lockRef.current))},[]);S.useEffect(function(){return Rl.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ol),document.addEventListener("touchmove",c,Ol),document.addEventListener("touchstart",d,Ol),function(){Rl=Rl.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Ol),document.removeEventListener("touchmove",c,Ol),document.removeEventListener("touchstart",d,Ol)}},[]);var p=e.removeScrollBar,x=e.inert;return S.createElement(S.Fragment,null,x?S.createElement(i,{styles:_Q(s)}):null,p?S.createElement(gQ,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function CQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kQ=rQ(dD,AQ);var KS=S.forwardRef(function(e,t){return S.createElement(T0,Vs({},e,{ref:t,sideCar:kQ}))});KS.classNames=T0.classNames;var TQ=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dl=new WeakMap,Sp=new WeakMap,jp={},yv=0,gD=function(e){return e&&(e.host||gD(e.parentNode))},PQ=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=gD(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},IQ=function(e,t,n,r){var s=PQ(t,Array.isArray(e)?e:[e]);jp[n]||(jp[n]=new WeakMap);var i=jp[n],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(r),x=p!==null&&p!=="false",m=(Dl.get(f)||0)+1,y=(i.get(f)||0)+1;Dl.set(f,m),i.set(f,y),o.push(f),m===1&&x&&Sp.set(f,!0),y===1&&f.setAttribute(n,"true"),x||f.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",f,b)}})};return d(t),l.clear(),yv++,function(){o.forEach(function(h){var f=Dl.get(h)-1,p=i.get(h)-1;Dl.set(h,f),i.set(h,p),f||(Sp.has(h)||h.removeAttribute(r),Sp.delete(h)),p||h.removeAttribute(n)}),yv--,yv||(Dl=new WeakMap,Dl=new WeakMap,Sp=new WeakMap,jp={})}},yD=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=TQ(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),IQ(r,s,n,"aria-hidden")):function(){return null}},P0="Dialog",[vD]=qo(P0),[MQ,As]=vD(P0),xD=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=S.useRef(null),c=S.useRef(null),[u,d]=Gc({prop:r,defaultProp:s??!1,onChange:i,caller:P0});return a.jsx(MQ,{scope:t,triggerRef:l,contentRef:c,contentId:ko(),titleId:ko(),descriptionId:ko(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};xD.displayName=P0;var wD="DialogTrigger",bD=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(wD,n),i=bt(t,s.triggerRef);return a.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GS(s.open),...r,ref:i,onClick:ve(e.onClick,s.onOpenToggle)})});bD.displayName=wD;var WS="DialogPortal",[OQ,SD]=vD(WS,{forceMount:void 0}),jD=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=As(WS,t);return a.jsx(OQ,{scope:t,forceMount:n,children:S.Children.map(r,o=>a.jsx(yl,{present:n||i.open,children:a.jsx(Xg,{asChild:!0,container:s,children:o})}))})};jD.displayName=WS;var vg="DialogOverlay",ND=S.forwardRef((e,t)=>{const n=SD(vg,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=As(vg,e.__scopeDialog);return i.modal?a.jsx(yl,{present:r||i.open,children:a.jsx(DQ,{...s,ref:t})}):null});ND.displayName=vg;var RQ=qc("DialogOverlay.RemoveScroll"),DQ=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(vg,n);return a.jsx(KS,{as:RQ,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ke.div,{"data-state":GS(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ol="DialogContent",_D=S.forwardRef((e,t)=>{const n=SD(ol,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=As(ol,e.__scopeDialog);return a.jsx(yl,{present:r||i.open,children:i.modal?a.jsx($Q,{...s,ref:t}):a.jsx(LQ,{...s,ref:t})})});_D.displayName=ol;var $Q=S.forwardRef((e,t)=>{const n=As(ol,e.__scopeDialog),r=S.useRef(null),s=bt(t,n.contentRef,r);return S.useEffect(()=>{const i=r.current;if(i)return yD(i)},[]),a.jsx(ED,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ve(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ve(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ve(e.onFocusOutside,i=>i.preventDefault())})}),LQ=S.forwardRef((e,t)=>{const n=As(ol,e.__scopeDialog),r=S.useRef(!1),s=S.useRef(!1);return a.jsx(ED,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ED=S.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=As(ol,n),c=S.useRef(null),u=bt(t,c);return lD(),a.jsxs(a.Fragment,{children:[a.jsx(HS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(uf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":GS(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(BQ,{titleId:l.titleId}),a.jsx(UQ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qS="DialogTitle",AD=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(qS,n);return a.jsx(ke.h2,{id:s.titleId,...r,ref:t})});AD.displayName=qS;var CD="DialogDescription",kD=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(CD,n);return a.jsx(ke.p,{id:s.descriptionId,...r,ref:t})});kD.displayName=CD;var TD="DialogClose",PD=S.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=As(TD,n);return a.jsx(ke.button,{type:"button",...r,ref:t,onClick:ve(e.onClick,()=>s.onOpenChange(!1))})});PD.displayName=TD;function GS(e){return e?"open":"closed"}var ID="DialogTitleWarning",[Fme,MD]=A8(ID,{contentName:ol,titleName:qS,docsSlug:"dialog"}),BQ=({titleId:e})=>{const t=MD(ID),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},FQ="DialogDescriptionWarning",UQ=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MD(FQ).contentName}}.`;return S.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},zQ=xD,VQ=bD,HQ=jD,OD=ND,RD=_D,DD=AD,$D=kD,KQ=PD;const WQ=zQ,qQ=VQ,GQ=HQ,LD=S.forwardRef(({className:e,...t},n)=>a.jsx(OD,{ref:n,className:Ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));LD.displayName=OD.displayName;const BD=S.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(GQ,{children:[a.jsx(LD,{}),a.jsxs(RD,{ref:r,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(KQ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Eu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));BD.displayName=RD.displayName;const FD=({className:e,...t})=>a.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});FD.displayName="DialogHeader";const UD=S.forwardRef(({className:e,...t},n)=>a.jsx(DD,{ref:n,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));UD.displayName=DD.displayName;const zD=S.forwardRef(({className:e,...t},n)=>a.jsx($D,{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));zD.displayName=$D.displayName;const ZQ=({onLoadDemo:e,variant:t="button"})=>{const[n,r]=S.useState(null),[s,i]=S.useState(yg[0]),{toast:o}=Cu(),l=(d,h)=>{navigator.clipboard.writeText(d),r(h),o({title:" Copied to clipboard",description:`${h} copied successfully`}),setTimeout(()=>r(null),2e3)},c=(d=s)=>{e&&e(d),o({title:" Demo Loaded",description:`Invoice #${d.invoice_id} loaded successfully`})},u=()=>{const d=$J();i(d),c(d)};return t==="card"?a.jsxs(K,{className:"border-2 border-purple-300 bg-gradient-to-br from-purple-50 to-blue-50",children:[a.jsx(se,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Mr,{className:"w-5 h-5 text-purple-600"}),"One-Click Demo Mode"]}),a.jsx(je,{children:"Instantly load realistic test data for quick evaluation"})]}),a.jsx(pe,{variant:"secondary",className:"bg-purple-600 text-white",children:"Hackathon Feature"})]})}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs(Y,{onClick:u,className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[a.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Load Random Invoice"]}),a.jsxs(WQ,{children:[a.jsx(qQ,{asChild:!0,children:a.jsxs(Y,{variant:"outline",children:[a.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Choose Demo"]})}),a.jsxs(BD,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(FD,{children:[a.jsx(UD,{children:"Select Demo Invoice"}),a.jsx(zD,{children:"Choose from pre-configured realistic invoices"})]}),a.jsx("div",{className:"space-y-3 mt-4",children:yg.map(d=>a.jsx(K,{className:`cursor-pointer transition-all hover:shadow-lg ${s.invoice_id===d.invoice_id?"border-2 border-purple-600 bg-purple-50":"border-gray-200"}`,onClick:()=>{i(d),c(d)},children:a.jsx(q,{className:"pt-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(pe,{variant:"outline",children:["#",d.invoice_id]}),a.jsx("span",{className:"text-sm font-semibold",children:d.dao_name})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:d.milestone_description}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(dr,{className:"w-3 h-3"}),"Payee: ",d.payee.slice(0,10),"..."]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-bold text-purple-600",children:BJ(d.amount)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:FJ(d.amount)})]})]})})},d.invoice_id))})]})]})]}),a.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[a.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[a.jsx(Ar,{className:"w-4 h-4"}),"Demo Addresses (Testnet)"]}),a.jsxs("div",{className:"space-y-1 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Sample Payee (Alice):"}),a.jsxs("button",{onClick:()=>l(yn.alice,"Address"),className:"flex items-center gap-1 hover:text-purple-600 font-mono",children:[yn.alice.slice(0,12),"...",n==="Address"?a.jsx(Gd,{className:"w-3 h-3 text-green-600"}):a.jsx(Qp,{className:"w-3 h-3"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Sample Arbiter:"}),a.jsxs("button",{onClick:()=>l(yn.neutral_arbiter,"Arbiter"),className:"flex items-center gap-1 hover:text-purple-600 font-mono",children:[yn.neutral_arbiter.slice(0,12),"...",n==="Arbiter"?a.jsx(Gd,{className:"w-3 h-3 text-green-600"}):a.jsx(Qp,{className:"w-3 h-3"})]})]})]})]}),a.jsxs("div",{className:"p-3 bg-white rounded-lg border",children:[a.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Sample Invoice Text (for AI Demo)"}),a.jsxs("div",{className:"relative",children:[a.jsxs("pre",{className:"text-xs p-2 bg-gray-50 rounded overflow-x-auto whitespace-pre-wrap",children:[rA.slice(0,200),"..."]}),a.jsx(Y,{size:"sm",variant:"ghost",className:"absolute top-2 right-2",onClick:()=>l(rA,"Invoice text"),children:n==="Invoice text"?a.jsx(Gd,{className:"w-3 h-3 text-green-600"}):a.jsx(Qp,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Y,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open("https://explorer.stacks.co/sandbox/faucet?chain=testnet","_blank"),children:[a.jsx(Ra,{className:"w-3 h-3 mr-1"}),"Get Testnet STX"]}),a.jsxs(Y,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>window.open("https://docs.stacks.co","_blank"),children:[a.jsx(Ra,{className:"w-3 h-3 mr-1"}),"Stacks Docs"]})]})]})})]}):a.jsxs(Y,{onClick:u,className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[a.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Load Demo Data"]})},pA=(e,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),mA=()=>{const{isConnected:e}=ai(),{prices:t,loading:n,refetch:r}=RJ();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("section",{className:"mb-12 text-center",children:[a.jsx("h1",{className:"text-5xl font-bold mb-4 text-foreground",children:"BitMindAI: Neural Network for Bitcoin's Real-World Economy"}),a.jsx("p",{className:"text-muted-foreground text-xl mb-6 max-w-3xl mx-auto",children:"AI-powered invoice parsing + Clarity smart contracts + Bitcoin-native sBTC settlement"}),a.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[a.jsx(pe,{variant:"secondary",className:"bg-green-100 text-green-800 px-4 py-2 text-sm",children:" 95%+ AI Accuracy"}),a.jsx(pe,{variant:"secondary",className:"bg-blue-100 text-blue-800 px-4 py-2 text-sm",children:" Sub-2s Processing"}),a.jsx(pe,{variant:"secondary",className:"bg-purple-100 text-purple-800 px-4 py-2 text-sm",children:" Bitcoin-Native Settlement"}),a.jsx(pe,{variant:"secondary",className:"bg-orange-100 text-orange-800 px-4 py-2 text-sm",children:" Post-Condition Security"})]}),e?a.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[a.jsx(Ce,{to:"/demo",children:a.jsxs(Y,{className:"bg-gradient-to-r from-orange-500 to-purple-600",children:[a.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Try AI Demo"]})}),a.jsx(Ce,{to:"/create",children:a.jsxs(Y,{variant:"outline",children:[a.jsx(K1,{className:"w-4 h-4 mr-2"}),"Create Invoice"]})})]}):a.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:a.jsx(K,{className:"bg-gradient-to-r from-orange-50 to-purple-50 border-2 border-orange-200",children:a.jsxs(q,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(dr,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Connect Your Wallet to Get Started"})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Connect your Stacks wallet to create invoices, access DeFi features, and manage your smart contracts."}),a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:'Look for the "Connect Wallet" button in the navigation bar above '})})]})})}),e&&a.jsx("div",{className:"mt-8",children:a.jsx(ZQ,{variant:"card"})})]}),a.jsx(K,{className:"mb-8 bg-gradient-to-r from-purple-100 via-blue-100 to-green-100 border-purple-300",children:a.jsxs(q,{className:"pt-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(pe,{className:"bg-gradient-to-r from-purple-600 to-pink-600 mb-3",children:" Advanced DeFi Features - Hackathon Special"}),a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Next-Generation DeFi Primitives"}),a.jsx("p",{className:"text-muted-foreground",children:"Unlocking liquidity, governance, and capital efficiency for Bitcoin DAOs"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ce,{to:"/nft-marketplace",children:a.jsx(K,{className:"hover:shadow-xl transition-all cursor-pointer bg-white border-2 hover:border-purple-400",children:a.jsxs(q,{className:"pt-6 text-center",children:[a.jsx(WI,{className:"w-12 h-12 mx-auto mb-3 text-purple-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Invoice NFTs"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Tokenize & trade receivables for instant liquidity"}),a.jsx(pe,{variant:"outline",className:"text-xs",children:"$2.4M Volume"})]})})}),a.jsx(Ce,{to:"/treasury",children:a.jsx(K,{className:"hover:shadow-xl transition-all cursor-pointer bg-white border-2 hover:border-blue-400",children:a.jsxs(q,{className:"pt-6 text-center",children:[a.jsx(Jc,{className:"w-12 h-12 mx-auto mb-3 text-blue-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"MultiSig Treasury"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"3-of-5 approval workflows for secure DAO funding"}),a.jsx(pe,{variant:"outline",className:"text-xs",children:"247 Proposals"})]})})}),a.jsx(Ce,{to:"/yield-optimizer",children:a.jsx(K,{className:"hover:shadow-xl transition-all cursor-pointer bg-white border-2 hover:border-green-400",children:a.jsxs(q,{className:"pt-6 text-center",children:[a.jsx(Mr,{className:"w-12 h-12 mx-auto mb-3 text-green-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"Yield Optimizer"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Earn 7-25% APY on escrowed funds"}),a.jsx(pe,{variant:"outline",className:"text-xs",children:"$760K TVL"})]})})}),a.jsx(Ce,{to:"/analytics",children:a.jsx(K,{className:"hover:shadow-xl transition-all cursor-pointer bg-white border-2 hover:border-orange-400",children:a.jsxs(q,{className:"pt-6 text-center",children:[a.jsx(Xs,{className:"w-12 h-12 mx-auto mb-3 text-orange-600"}),a.jsx("h3",{className:"font-bold mb-2",children:"AI Analytics"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Risk scoring, fraud detection & predictions"}),a.jsx(pe,{variant:"outline",className:"text-xs",children:"94% Accuracy"})]})})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(Ce,{to:"/cross-chain-swap",children:a.jsxs(Y,{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600",children:[a.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Explore Cross-Chain Swaps"]})})})]})}),a.jsx(K,{className:"mb-6 bg-gradient-to-r from-orange-50 via-orange-100 to-yellow-50 border-2 border-orange-300",children:a.jsxs(q,{className:"pt-6",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx(pe,{className:"bg-orange-600 mb-2",children:" Powered by Bitcoin via Stacks"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Why sBTC on Stacks?"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Unlocking Bitcoin's $1.3T economy for real-world utility"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center mb-3 mx-auto",children:a.jsx(Ar,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"font-bold text-center mb-2",children:"Bitcoin Security"}),a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Every transaction is anchored to Bitcoin blocks, inheriting Bitcoin's security model and finality guarantees"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center mb-3 mx-auto",children:a.jsx(Mr,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"font-bold text-center mb-2",children:"Smart Contract Layer"}),a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Clarity brings programmability to Bitcoin without modifying the base layerno reentrancy, decidable execution"})]}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-200",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center mb-3 mx-auto",children:a.jsx(Zd,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"font-bold text-center mb-2",children:"1:1 Bitcoin Peg"}),a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"sBTC is backed 1:1 by real BTC, enabling Bitcoin-native DeFi without bridging to other chains"})]})]}),a.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-orange-200",children:a.jsxs("p",{className:"text-sm text-center",children:[a.jsx("strong",{children:"Real-World Impact:"})," DAOs can now pay contractors in Bitcoin with trustless escrow, unlocking ",a.jsx("strong",{children:"$1.3 trillion"})," of Bitcoin liquidity for productive economic activity."]})})]})}),a.jsx(K,{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(Bn,{className:"w-6 h-6 text-white"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-2",children:"AI Invoice Parsing"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"BERT-based NLP transforms plain-English invoices into structured JSON-LD with 95.2% F1 score"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center",children:a.jsx(Ar,{className:"w-6 h-6 text-white"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-2",children:"Clarity Smart Contracts"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Formal verification ensures state transitions through createdfundedverifiedreleased"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-lg flex items-center justify-center",children:a.jsx(dr,{className:"w-6 h-6 text-white"})})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-2",children:"Bitcoin-Native Settlement"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"sBTC escrow eliminates counter-party risk with cryptographically enforced payment release"})]})]})]})})}),a.jsx(K,{className:"mb-6 bg-gradient-to-r from-orange-50 to-purple-50 border-orange-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx(pr,{className:"w-8 h-8 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold mb-1",children:"Live Market Prices"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time data from CoinGecko API"})]}),a.jsx("div",{className:"flex gap-6 ml-8",children:n?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ka,{className:"w-4 h-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Loading..."})]}):a.jsxs(a.Fragment,{children:[t.btc&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Bitcoin (BTC)"}),a.jsx("p",{className:"text-xl font-bold text-orange-600",children:pA(t.btc)})]}),t.stx&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-600",children:"Stacks (STX)"}),a.jsx("p",{className:"text-xl font-bold text-purple-600",children:pA(t.stx)})]})]})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Y,{variant:"outline",size:"sm",onClick:r,children:[a.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Refresh"]}),a.jsx(Ce,{to:"/api-demo",children:a.jsx(Y,{variant:"outline",size:"sm",children:"View API Demo"})}),a.jsx(Ce,{to:"/supabase-test",children:a.jsx(Y,{variant:"outline",size:"sm",children:"Test Supabase"})}),a.jsx(Ce,{to:"/api-showcase",children:a.jsx(Y,{variant:"outline",size:"sm",children:"API Showcase"})}),a.jsx(Ce,{to:"/realtime-monitor",children:a.jsx(Y,{variant:"outline",size:"sm",children:"Live Monitor"})}),a.jsx(Ce,{to:"/discord-notifications",children:a.jsx(Y,{variant:"outline",size:"sm",children:"Discord Notify"})})]})]})})}),a.jsx("div",{className:"mb-8",children:a.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Core Performance Metrics"})}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[a.jsxs(K,{className:"border-green-200 bg-green-50/50",children:[a.jsxs(se,{children:[a.jsx(Bn,{className:"w-8 h-8 mb-2 text-green-600"}),a.jsx(ie,{children:"AI Accuracy"}),a.jsx(je,{children:"Key field extraction (F1 score)"})]}),a.jsxs(q,{children:[a.jsx("p",{className:"text-3xl font-bold text-green-600",children:"95.2%"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"40x improvement from 3.6%"})]})]}),a.jsxs(K,{className:"border-blue-200 bg-blue-50/50",children:[a.jsxs(se,{children:[a.jsx(pr,{className:"w-8 h-8 mb-2 text-blue-600"}),a.jsx(ie,{children:"Processing Time"}),a.jsx(je,{children:"Invoice  Smart Contract"})]}),a.jsxs(q,{children:[a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"<2s"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"99% latency reduction"})]})]}),a.jsxs(K,{className:"border-purple-200 bg-purple-50/50",children:[a.jsxs(se,{children:[a.jsx(dr,{className:"w-8 h-8 mb-2 text-purple-600"}),a.jsx(ie,{children:"Cost per Transaction"}),a.jsx(je,{children:"vs $15-20 manual processing"})]}),a.jsxs(q,{children:[a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:"$0.02"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"85% contribution margin"})]})]}),a.jsxs(K,{className:"border-orange-200 bg-orange-50/50",children:[a.jsxs(se,{children:[a.jsx(Ar,{className:"w-8 h-8 mb-2 text-orange-600"}),a.jsx(ie,{children:"Settlement Time"}),a.jsx(je,{children:"Bitcoin-native sBTC escrow"})]}),a.jsxs(q,{children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"Instant"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"From 14.6 day average"})]})]})]}),a.jsx(DJ,{}),a.jsxs(K,{className:"mb-8",children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Recent Invoices"}),a.jsx(je,{children:"AI-parsed invoices with Clarity smart contract escrow"})]}),a.jsx(q,{children:a.jsx("div",{className:"space-y-4",children:[{id:"2025-300",status:"released",amount:"0.85 sBTC",usd:"$52,300",dao:"DeFi Protocol DAO",description:"Smart contract audit + security review",milestones:"3/3 verified"},{id:"2025-299",status:"funded",amount:"0.42 sBTC",usd:"$25,800",dao:"NFT Marketplace Collective",description:"Website redesign + mobile responsive",milestones:"2/3 verified"},{id:"2025-298",status:"verified",amount:"0.65 sBTC",usd:"$39,900",dao:"Web3 Education Guild",description:"Tutorial series + documentation",milestones:"Awaiting release"},{id:"2025-297",status:"created",amount:"0.28 sBTC",usd:"$17,200",dao:"Gaming DAO Treasury",description:"Token economics modeling",milestones:"Awaiting deposit"}].map(s=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Jn,{className:"w-6 h-6 text-muted-foreground"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold",children:["#",s.id]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s.dao}),a.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold",children:s.amount}),a.jsx("p",{className:"text-xs text-muted-foreground",children:s.usd}),a.jsx("p",{className:"text-xs text-muted-foreground",children:s.milestones})]}),a.jsx(pe,{variant:s.status==="released"||s.status==="verified"?"default":s.status==="funded"?"secondary":"outline",className:s.status==="released"?"bg-green-600":s.status==="verified"?"bg-blue-600":s.status==="funded"?"bg-purple-600":"",children:s.status}),a.jsx(Ce,{to:`/invoice/${s.id}`,children:a.jsx(Y,{size:"sm",children:"View"})})]})]},s.id))})})]})]})]})},vv=[{id:"INV-001",projectTitle:"DeFi Protocol Smart Contract Development",description:"Build a comprehensive DeFi protocol with lending, borrowing, and staking features. Includes security audit and deployment.",clientAddress:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",contractorAddress:"SP3FGQ8Z7JY4C9P7NDJMM5X1EQK3RKY4S8MP9QX2V",arbitratorAddress:"SP1KFJXJ8Q9HV7YP3WGH98JN3JKZM7RQ2TKXHXF4N",totalAmount:8e3,currency:"sBTC",status:"ACTIVE",contractAddress:"0x1234...5678",milestones:[{id:"MS-001-1",invoiceId:"INV-001",amount:2400,description:"Smart contract architecture and initial development",condition:"Code review approval and testnet deployment",status:"RELEASED",sequence:1,completedAt:"2024-11-15T10:00:00Z"},{id:"MS-001-2",invoiceId:"INV-001",amount:4e3,description:"Full implementation and security audit",condition:"Security audit report with no critical issues",status:"APPROVED",sequence:2},{id:"MS-001-3",invoiceId:"INV-001",amount:1600,description:"Mainnet deployment and documentation",condition:"Successful mainnet deployment and complete docs",status:"PENDING",sequence:3}],createdAt:"2024-10-01T09:00:00Z",updatedAt:"2024-11-15T10:00:00Z",daoName:"DeFi DAO",projectType:"Smart Contract Development",timeline:"8 weeks"},{id:"INV-002",projectTitle:"DAO Website Redesign",description:"Complete redesign of DAO website with modern UI/UX, responsive design, and integration with Stacks wallet.",clientAddress:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",contractorAddress:"SP1ABCD8Z7JY4C9P7NDJMM5X1EQK3RKY4S8MPXYZ1",arbitratorAddress:"SP1KFJXJ8Q9HV7YP3WGH98JN3JKZM7RQ2TKXHXF4N",totalAmount:4500,currency:"sBTC",status:"ACTIVE",milestones:[{id:"MS-002-1",invoiceId:"INV-002",amount:1350,description:"UI/UX design mockups",condition:"Design approval from DAO governance",status:"RELEASED",sequence:1,completedAt:"2024-11-10T14:00:00Z"},{id:"MS-002-2",invoiceId:"INV-002",amount:2250,description:"Frontend development and wallet integration",condition:"Working prototype with wallet connection",status:"PENDING",sequence:2},{id:"MS-002-3",invoiceId:"INV-002",amount:900,description:"Final deployment and testing",condition:"Live website with all features working",status:"PENDING",sequence:3}],createdAt:"2024-10-15T11:00:00Z",updatedAt:"2024-11-10T14:00:00Z",daoName:"NFT Collective",projectType:"Frontend Development",timeline:"6 weeks"},{id:"INV-003",projectTitle:"Marketing Campaign Management",description:"Comprehensive marketing campaign including content creation, social media management, and community growth for Q1 2025.",clientAddress:"SP3WEB3GUILD9MP66SW86PYKKNRV9EJ7MP66SW86P",contractorAddress:"SP2MARKET1234C9P7NDJMM5X1EQK3RKY4S8MPXYZ",arbitratorAddress:"SP1KFJXJ8Q9HV7YP3WGH98JN3JKZM7RQ2TKXHXF4N",totalAmount:5e3,currency:"sBTC",status:"COMPLETED",milestones:[{id:"MS-003-1",invoiceId:"INV-003",amount:1500,description:"Campaign strategy and content calendar",condition:"Approved marketing strategy document",status:"RELEASED",sequence:1,completedAt:"2024-10-05T09:00:00Z"},{id:"MS-003-2",invoiceId:"INV-003",amount:2500,description:"Content creation and social media execution",condition:"50+ posts published with engagement metrics",status:"RELEASED",sequence:2,completedAt:"2024-11-01T16:00:00Z"},{id:"MS-003-3",invoiceId:"INV-003",amount:1e3,description:"Campaign report and analytics",condition:"Final report with ROI analysis",status:"RELEASED",sequence:3,completedAt:"2024-11-20T10:00:00Z"}],createdAt:"2024-09-15T10:00:00Z",updatedAt:"2024-11-20T10:00:00Z",daoName:"Web3 Guild",projectType:"Marketing",timeline:"10 weeks"},{id:"INV-004",projectTitle:"Smart Contract Security Audit",description:"Comprehensive security audit of Clarity smart contracts for DEX protocol, including automated testing and manual review.",clientAddress:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",contractorAddress:"SP4SECURITY1Z7JY4C9P7NDJMM5X1EQK3RKY4S8M",arbitratorAddress:"SP1KFJXJ8Q9HV7YP3WGH98JN3JKZM7RQ2TKXHXF4N",totalAmount:3500,currency:"sBTC",status:"ACTIVE",milestones:[{id:"MS-004-1",invoiceId:"INV-004",amount:1050,description:"Preliminary audit and automated testing",condition:"Initial audit report with findings",status:"RELEASED",sequence:1,completedAt:"2024-11-18T15:00:00Z"},{id:"MS-004-2",invoiceId:"INV-004",amount:2450,description:"Comprehensive manual review and final report",condition:"Final security audit report with recommendations",status:"PENDING",sequence:2}],createdAt:"2024-11-01T08:00:00Z",updatedAt:"2024-11-18T15:00:00Z",daoName:"DeFi DAO",projectType:"Security Audit",timeline:"3 weeks"},{id:"INV-005",projectTitle:"NFT Marketplace Backend Development",description:"Build robust backend infrastructure for NFT marketplace including APIs, database design, and integration with IPFS.",clientAddress:"SP3WEB3GUILD9MP66SW86PYKKNRV9EJ7MP66SW86P",contractorAddress:"SP5BACKEND123Y4C9P7NDJMM5X1EQK3RKY4S8MPX",arbitratorAddress:"SP1KFJXJ8Q9HV7YP3WGH98JN3JKZM7RQ2TKXHXF4N",totalAmount:6e3,currency:"sBTC",status:"DISPUTED",milestones:[{id:"MS-005-1",invoiceId:"INV-005",amount:1800,description:"Database schema and API design",condition:"Approved architecture document",status:"RELEASED",sequence:1,completedAt:"2024-10-20T11:00:00Z"},{id:"MS-005-2",invoiceId:"INV-005",amount:3e3,description:"Core API development and IPFS integration",condition:"Working APIs with test coverage",status:"DISPUTED",sequence:2},{id:"MS-005-3",invoiceId:"INV-005",amount:1200,description:"Performance optimization and deployment",condition:"Production-ready deployment",status:"PENDING",sequence:3}],createdAt:"2024-10-05T13:00:00Z",updatedAt:"2024-11-22T09:00:00Z",daoName:"NFT Collective",projectType:"Backend Development",timeline:"7 weeks"}],YQ=async e=>{await new Promise(o=>setTimeout(o,1500));const t=e.match(/(\d+(?:,\d+)?(?:\.\d+)?)\s*(sBTC|STX|BTC)/i),n=t?parseFloat(t[1].replace(",","")):5e3,i=["milestone","phase","payment","stage","deliverable"].some(o=>e.toLowerCase().includes(o))?[{amount:n*.3,percentage:30,description:"Initial development and setup",condition:"Project kickoff and initial deliverables",sequence:1},{amount:n*.5,percentage:50,description:"Core implementation and testing",condition:"Functional prototype with key features",sequence:2},{amount:n*.2,percentage:20,description:"Final delivery and documentation",condition:"Complete project with documentation",sequence:3}]:[{amount:n*.5,percentage:50,description:"Project development",condition:"Milestone completion approval",sequence:1},{amount:n*.5,percentage:50,description:"Final delivery",condition:"Project completion and approval",sequence:2}];return{total_amount:n,currency:(t==null?void 0:t[2])||"sBTC",parties:{client:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",contractor:"SP3FGQ8Z7JY4C9P7NDJMM5X1EQK3RKY4S8MP9QX2V"},milestones:i,arbitrator:"SP1KFJXJ8Q9HV7YP3WGH98JN3JKZM7RQ2TKXHXF4N",project_scope:e.slice(0,200),project_title:e.slice(0,60).trim()+"...",timeline:"6-8 weeks",confidence:.94}},Hw={async createSmartInvoice(e){return await new Promise(t=>setTimeout(t,2e3)),{success:!0,invoiceId:`INV-${Date.now()}`,contractAddress:`0x${Math.random().toString(16).slice(2,10)}...${Math.random().toString(16).slice(2,6)}`}},async getAIPreview(e){return YQ(e)},async getUserInvoices(e){return await new Promise(t=>setTimeout(t,500)),vv.filter(t=>t.clientAddress===e||t.contractorAddress===e)},async getInvoiceById(e){return await new Promise(t=>setTimeout(t,300)),vv.find(t=>t.id===e)||null},async releaseMilestone(e,t,n){return await new Promise(r=>setTimeout(r,1500)),{success:!0,txHash:`0x${Math.random().toString(16).slice(2)}`}},async raiseDispute(e,t,n){return await new Promise(r=>setTimeout(r,1e3)),{success:!0,disputeId:`DIS-${Date.now()}`}},async getAllInvoices(){return await new Promise(e=>setTimeout(e,400)),vv}},JQ=()=>{const e=oS(),[t,n]=S.useState(0),[r,s]=S.useState(""),[i,o]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState(""),[h,f]=S.useState(null),[p,x]=S.useState(!1),[m,y]=S.useState(null),b=[{id:0,name:"Describe",description:"Tell us about your project"},{id:1,name:"Review",description:"Check AI-generated contract"},{id:2,name:"Deploy",description:"Deploy to blockchain"},{id:3,name:"Success",description:"Invoice created"}];S.useEffect(()=>{if(r&&r.length>30&&t===0){const j=setTimeout(async()=>{try{const E=await Hw.getAIPreview(r);f(E)}catch(E){console.error("AI preview failed:",E)}},1500);return()=>clearTimeout(j)}},[r,t]);const g=()=>{if(!h||!r||!l){alert("Please fill in all required fields and wait for AI processing");return}n(1)},w=async()=>{x(!0),n(2);try{const j=await Hw.createSmartInvoice({description:r,projectTitle:i||(h==null?void 0:h.project_title)||"Untitled Project",clientWallet:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",contractorAddress:l,arbitratorAddress:u||"SP1KFJXJ8Q9HV7YP3WGH98JN3JKZM7RQ2TKXHXF4N"});y(j),n(3)}catch(j){alert(`Deployment failed: ${j.message}`),n(1)}finally{x(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-block mb-4",children:a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx(Bn,{className:"w-8 h-8 text-white"})})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Create Smart Invoice with AI"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Transform your project description into a secure, blockchain-powered smart contract"})]}),a.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:a.jsx("div",{className:"flex items-center justify-center",children:b.map((j,E)=>a.jsxs("div",{className:"flex items-center",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-sm font-semibold transition-all duration-300 ${E<t?"bg-green-500 text-white shadow-lg shadow-green-500/25":E===t?"bg-blue-600 text-white shadow-lg shadow-blue-600/25 ring-4 ring-blue-100":"bg-gray-200 text-gray-500"}`,children:E<t?a.jsx(ji,{className:"w-5 h-5"}):E+1}),a.jsxs("div",{className:"mt-3 text-center",children:[a.jsx("div",{className:`text-sm font-medium ${E<=t?"text-gray-900":"text-gray-500"}`,children:j.name}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j.description})]})]}),E<b.length-1&&a.jsx("div",{className:`flex-1 h-1 mx-4 mt-6 rounded-full transition-all duration-300 min-w-[80px] ${E<t?"bg-green-500":"bg-gray-200"}`})]},j.id))})}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx(K,{className:"shadow-xl border-2 border-gray-200",children:a.jsxs(q,{className:"p-8",children:[t===0&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Project Title ",a.jsx("span",{className:"text-orange-500",children:"*"})]}),a.jsx("input",{type:"text",value:i,onChange:j=>o(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"e.g., Website Redesign for Marketing DAO"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Describe Your Project in Detail ",a.jsx("span",{className:"text-orange-500",children:"*"})]}),a.jsx("textarea",{value:r,onChange:j=>s(j.target.value),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none",placeholder:`Example: Create a responsive website for our DAO with 3 milestones: 
1. Design approval (30% - 1,500 sBTC)
2. Frontend development (50% - 2,500 sBTC)  
3. Backend integration and launch (20% - 1,000 sBTC)
Total budget: 5,000 sBTC. Timeline: 6 weeks.`}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("div",{className:"text-sm",children:r.length<30?a.jsxs("span",{className:"text-orange-600 flex items-center gap-1",children:[a.jsx(jc,{className:"w-4 h-4"}),"Provide more details (minimum 30 characters)"]}):a.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[a.jsx(ji,{className:"w-4 h-4"}),"AI is processing your description..."]})}),a.jsxs("div",{className:"text-sm text-gray-500",children:[r.length," characters"]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Contractor Wallet Address ",a.jsx("span",{className:"text-orange-500",children:"*"})]}),a.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-mono text-sm",placeholder:"SP3FGQ8Z7JY..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arbitrator Address (Optional)"}),a.jsx("input",{type:"text",value:u,onChange:j=>d(j.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-mono text-sm",placeholder:"SP3FGQ8Z7JY... (Leave empty for default)"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"An independent third party to resolve disputes"})]}),h&&a.jsxs(K,{className:"bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-blue-200",children:[a.jsx(se,{children:a.jsxs(ie,{className:"flex items-center gap-2 text-blue-900",children:[a.jsx(Xs,{className:"w-5 h-5"}),"AI Preview",a.jsxs(pe,{className:"ml-2 bg-green-500",children:[Math.round(h.confidence*100),"% Confidence"]})]})}),a.jsxs(q,{children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Total Amount:"}),a.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[h.total_amount," ",h.currency]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Milestones:"}),a.jsxs("div",{className:"text-lg font-bold text-purple-900",children:[h.milestones.length," milestones detected"]})]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:"Project Scope:"}),a.jsx("p",{className:"text-sm text-gray-700 mt-1",children:h.project_scope})]})]})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:a.jsxs(Y,{onClick:g,disabled:!h||r.length<30||!l,size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl transition-all disabled:opacity-50",children:["Continue to Review",a.jsx($o,{className:"ml-2 w-5 h-5"})]})})]}),t===1&&h&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Contract Terms"}),a.jsx("p",{className:"text-gray-600",children:"Verify the AI-generated smart contract details"})]}),a.jsxs(K,{className:"bg-gray-50",children:[a.jsx(se,{children:a.jsx(ie,{children:"Project Overview"})}),a.jsxs(q,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Project Title:"}),a.jsx("span",{className:"font-semibold",children:i||h.project_title})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Total Budget:"}),a.jsxs("span",{className:"font-semibold",children:[h.total_amount," ",h.currency]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Timeline:"}),a.jsx("span",{className:"font-semibold",children:h.timeline})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Contractor:"}),a.jsxs("span",{className:"font-mono text-xs",children:[l.slice(0,12),"..."]})]})]})]}),a.jsxs(K,{className:"bg-gray-50",children:[a.jsx(se,{children:a.jsxs(ie,{children:["Milestones (",h.milestones.length,")"]})}),a.jsx(q,{children:a.jsx("div",{className:"space-y-4",children:h.milestones.map((j,E)=>a.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2 bg-white rounded-r-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("span",{className:"font-semibold text-gray-900",children:["Milestone ",E+1]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-blue-600 font-bold",children:[j.amount," ",h.currency]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[j.percentage,"%"]})]})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-1",children:j.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:[a.jsx("span",{className:"font-medium",children:"Condition:"})," ",j.condition]})]},E))})})]}),a.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[a.jsx(Y,{onClick:()=>n(0),variant:"outline",size:"lg",children:"Back to Edit"}),a.jsxs(Y,{onClick:w,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg hover:shadow-xl transition-all",children:[a.jsx(ji,{className:"mr-2 w-5 h-5"}),"Deploy Smart Contract"]})]})]}),t===2&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-20 h-20 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-6"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Deploying Contract"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please confirm the transaction in your wallet..."}),a.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-blue-900 font-medium",children:"Processing on Stacks blockchain"})]})]}),t===3&&m&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(ji,{className:"w-12 h-12 text-green-600"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Invoice Created Successfully!"}),a.jsx("p",{className:"text-gray-600 mb-8",children:"Your smart contract has been deployed to the Stacks blockchain"}),a.jsx(K,{className:"bg-gray-50 max-w-md mx-auto mb-8",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"space-y-3 text-left",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Invoice ID:"}),a.jsx("span",{className:"font-mono font-semibold",children:m.invoiceId})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Contract:"}),a.jsx("span",{className:"font-mono text-xs",children:m.contractAddress})]})]})})}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsxs(Y,{onClick:()=>e("/invoices"),size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600",children:[a.jsx(Jn,{className:"mr-2 w-5 h-5"}),"View All Invoices"]}),a.jsx(Y,{onClick:()=>{n(0),s(""),o(""),c(""),d(""),f(null),y(null)},variant:"outline",size:"lg",children:"Create Another"})]})]})]})})})]})})},QQ=({milestones:e,invoiceId:t})=>{const{isConnected:n}=ai(),r=async l=>{if(!n){Bs.error("Please connect your wallet first");return}try{Bs.success(`Milestone ${l} approved!`)}catch{Bs.error("Failed to approve milestone")}},s=async l=>{if(!n){Bs.error("Please connect your wallet first");return}try{Bs.success(`Payment for milestone ${l} released!`)}catch{Bs.error("Failed to release payment")}},i=l=>{switch(l){case"released":return a.jsx(Yn,{className:"w-4 h-4 text-green-600"});case"approved":return a.jsx(Yn,{className:"w-4 h-4 text-blue-600"});case"pending":return a.jsx(ei,{className:"w-4 h-4 text-yellow-600"});case"disputed":return a.jsx(_u,{className:"w-4 h-4 text-red-600"});default:return a.jsx(ei,{className:"w-4 h-4"})}},o=l=>{const c={released:"default",approved:"secondary",pending:"outline",disputed:"destructive"};return a.jsx(pe,{variant:c[l]||"outline",children:l})};return a.jsxs(K,{children:[a.jsx(se,{children:a.jsxs(ie,{children:["Milestones (",e.length,")"]})}),a.jsx(q,{children:a.jsx("div",{className:"space-y-4",children:e.map((l,c)=>a.jsxs("div",{className:"border border-border rounded-lg p-4",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[a.jsx("div",{className:"mt-1",children:i(l.status)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h4",{className:"font-semibold",children:["Milestone ",l.id]}),o(l.status)]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:l.description}),a.jsxs("p",{className:"text-lg font-bold",children:["$",l.amount.toLocaleString()]})]})]})}),l.status==="pending"&&a.jsx("div",{className:"flex gap-2 mt-3",children:a.jsx(Y,{size:"sm",onClick:()=>r(l.id),disabled:!n,children:"Approve"})}),l.status==="approved"&&a.jsx("div",{className:"flex gap-2 mt-3",children:a.jsx(Y,{size:"sm",onClick:()=>s(l.id),disabled:!n,children:"Release Payment"})}),l.status==="released"&&a.jsx("div",{className:"mt-3",children:a.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2",children:[a.jsx(Yn,{className:"w-4 h-4"}),"Payment released successfully"]})})]},l.id))})})]})},XQ=({invoiceId:e,onClose:t})=>{const[n,r]=S.useState(""),[s,i]=S.useState(!1),{isConnected:o,userAddress:l}=ai(),c=async()=>{if(!o){Bs.error("Please connect your wallet first");return}if(!n.trim()){Bs.error("Please provide a reason for the dispute");return}try{i(!0),await new Promise(u=>setTimeout(u,1500)),Bs.success("Dispute raised successfully. The arbitrator will review it."),t()}catch(u){console.error("Error raising dispute:",u),Bs.error("Failed to raise dispute")}finally{i(!1)}};return a.jsxs(K,{className:"border-destructive",children:[a.jsxs(se,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Co,{className:"w-5 h-5 text-destructive"}),a.jsx(ie,{children:"Raise a Dispute"})]}),a.jsx(Y,{variant:"ghost",size:"sm",onClick:t,children:a.jsx(Eu,{className:"w-4 h-4"})})]}),a.jsx(je,{children:"Explain the issue with this invoice. The arbitrator will review and make a decision."})]}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Dispute Reason"}),a.jsx("textarea",{className:"w-full h-32 p-3 border border-border rounded-lg bg-background resize-none focus:outline-none focus:ring-2 focus:ring-destructive",placeholder:"Describe the issue in detail...",value:n,onChange:u=>r(u.target.value),maxLength:512}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.length,"/512 characters"]})]}),a.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-destructive font-semibold mb-2",children:" Important"}),a.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Raising a dispute will pause all milestone payments"}),a.jsx("li",{children:"The arbitrator will review both parties' claims"}),a.jsx("li",{children:"The decision will be final and binding"}),a.jsx("li",{children:"False disputes may affect your reputation"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Y,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),a.jsx(Y,{variant:"destructive",onClick:c,disabled:s||!n.trim()||!o,className:"flex-1",children:s?"Submitting...":"Raise Dispute"})]})]})})]})},eX="1.0",tX="BitMind Production Demo Data - Stacks Hackathon",nX="2024-12-19",rX=[{invoice_id:"INV-2026-001",payee:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",payer:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",amount:1275e5,token_contract:"SP000000000000000000002Q6VF78.sbtc-token",currency:"sBTC",milestones:[{id:"milestone_1",title:"Design System & Wireframes",description:"Complete Figma design system with component library and responsive wireframes",amount:51e6,due_date:"2026-01-15T23:59:59Z",status:"completed",completion_proof:"QmXzg...design_proof",completed_at:"2026-01-14T15:30:00Z"},{id:"milestone_2",title:"MVP Deployment - Testnet",description:"Full-stack application deployment to Stacks testnet with core functionality",amount:51e6,due_date:"2026-01-31T23:59:59Z",status:"in_progress",completion_proof:null,completed_at:null},{id:"milestone_3",title:"Security Audit & Mainnet Launch",description:"Third-party security audit completion and mainnet deployment",amount:255e5,due_date:"2026-02-10T23:59:59Z",status:"pending",completion_proof:null,completed_at:null}],arbiter:"SP12Z0MBIE0XTXAGGH5989HV3ZG8KEHRMY1KAVWFG",deadline:"2026-02-10T23:59:59Z",status:"active",current_milestone:2,description:"2026 Q1 DAO Governance Dashboard - Full-stack development with Clarity smart contracts and React frontend",category:"development",priority:"high",tags:["web3","governance","react","clarity"],ipfs_hash:"QmQmKnVHgH8FXZ3wAhfVDg3zYJ8u7iM1DU67jBbcN9Q2HL",dispute:null,created_at:"2026-01-01T18:30:00Z",updated_at:"2026-01-14T15:35:00Z",security_hash:"a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef1234",confidence_score:.94},{invoice_id:"INV-2026-002",payee:"SP89ABD3FZTWD7NTV3DYZ48KWQDPJ3HTADACQH7XY",payer:"ST99E4SYKBRMGXFV6ZE79M2DV6JAP6FVQG7BCCNQ",amount:25e5,token_contract:"SP000000000000000000002Q6VF78.sbtc-token",currency:"sBTC",milestones:[{id:"milestone_1",title:"Frontend Implementation",description:"React frontend with wallet integration and NFT display components",amount:1e6,due_date:"2026-03-05T23:59:59Z",status:"completed",completion_proof:"QmAbC...frontend_proof",completed_at:"2026-03-04T11:20:00Z"},{id:"milestone_2",title:"Backend API & Smart Contracts",description:"Node.js backend with Clarity contracts for NFT minting and management",amount:1e6,due_date:"2026-03-15T23:59:59Z",status:"disputed",completion_proof:"QmXyZ...backend_proof",completed_at:"2026-03-14T14:45:00Z"},{id:"milestone_3",title:"Load Testing & Security Audit",description:"Performance testing and security review before mainnet launch",amount:5e5,due_date:"2026-03-20T23:59:59Z",status:"blocked",completion_proof:null,completed_at:null}],arbiter:null,deadline:"2026-03-20T23:59:59Z",status:"disputed",current_milestone:2,description:"NFT Launchpad Platform - Complete marketplace for NFT creation and trading on Stacks",category:"nft_development",priority:"medium",tags:["nft","marketplace","launchpad","stacks"],ipfs_hash:"QmT6KXz6FLMFasge34FG2ZjHif6rBa4xa7bRHLZ5GPHa2j",dispute:{id:"disp_2026_001",triggered_by:"payer",triggered_at:"2026-03-18T13:00:00Z",reason:"Backend API fails security audit - critical vulnerabilities found in access control",evidence_ipfs:"QmZ4RB97ywertgF11111121343yTGFDsvYQX",dispute_type:"security_issue",severity:"high",proposed_solution:"Refund 50% of milestone and allow 2 weeks for fixes",status:"under_review"},created_at:"2026-02-23T14:15:00Z",updated_at:"2026-03-18T13:05:00Z",security_hash:"b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef1234a1",confidence_score:.87}],sX=[{id:"standard_invoice",description:"Well-formatted professional invoice",text:`INVOICE #2026-001
Date: January 1, 2026
From: Web3 Dev Studio (SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7)
To: DeFi DAO Treasury (SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE)

Services: DAO Governance Dashboard Development
Total Amount: 1.275 sBTC

Milestone Breakdown:
- Design System: 0.51 sBTC (Due: Jan 15, 2026)
- MVP Deployment: 0.51 sBTC (Due: Jan 31, 2026) 
- Security Audit: 0.255 sBTC (Due: Feb 10, 2026)

Arbiter: LegalDAO (SP12Z0MBIE0XTXAGGH5989HV3ZG8KEHRMY1KAVWFG)
Payment in sBTC to escrow contract.`,expected_extraction:{invoice_id:"2026-001",payee:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",payer:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",amount:1275e5,currency:"sBTC",milestones:3,arbiter:"SP12Z0MBIE0XTXAGGH5989HV3ZG8KEHRMY1KAVWFG"}},{id:"minimal_invoice",description:"Minimal informal invoice text",text:"hey, for the nft site work: 0.025 btc to ST99E4SYKBRMGXFV6ZE79M2DV6JAP6FVQG7BCCNQ. frontend by mar 5, backend by mar 15, testing by mar 20. thx!",expected_extraction:{invoice_id:null,payee:"ST99E4SYKBRMGXFV6ZE79M2DV6JAP6FVQG7BCCNQ",payer:null,amount:25e5,currency:"sBTC",milestones:3,arbiter:null}},{id:"complex_multicurrency",description:"Multi-currency invoice with complex terms",text:`Q1 2026 Marketing Campaign Invoice

Recipient: GrowthDAO (SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE)
Provider: Marketing Agency (SPESKIM4X8R20C2YP5ZJFD7ZTREVEA3A7FRXZDXV)

Scope: Complete marketing strategy + execution
Total: 2.5 sBTC OR 15,000 STX (payer's choice)

Payment schedule:
- Strategy phase: 30% on approval (Feb 1)
- Execution phase: 50% on campaign launch (Feb 15) 
- Analytics phase: 20% on report delivery (Mar 1)

Terms: 14-day payment window. Dispute resolution via DAO vote.`,expected_extraction:{invoice_id:null,payee:"SPESKIM4X8R20C2YP5ZJFD7ZTREVEA3A7FRXZDXV",payer:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",amount:25e7,currency:"sBTC",milestones:3,arbiter:null}}],iX={blacklisted_addresses:["SP9SUSPECT444444444444444444444444444444444","ST2FRAUDDEADEADEADEADEADEADEADEADEADEADEAD","SP1MALICIOUS8888888888888888888888888888888"],screened_entities:[{address:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",risk_score:2,trust_level:"high",completed_invoices:15,dispute_rate:.03},{address:"ST99E4SYKBRMGXFV6ZE79M2DV6JAP6FVQG7BCCNQ",risk_score:5,trust_level:"medium",completed_invoices:8,dispute_rate:.12}]},oX=[{label:"DeFi DAO Treasury",address:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",type:"multi_sig",balance_sats:45e8,network:"testnet",role:"payer"},{label:"Web3 Development Studio",address:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",type:"single_sig",balance_sats:125e7,network:"testnet",role:"payee"},{label:"LegalDAO Arbiter Service",address:"SP12Z0MBIE0XTXAGGH5989HV3ZG8KEHRMY1KAVWFG",type:"multi_sig",balance_sats:5e8,network:"testnet",role:"arbiter"}],aX=[{event_id:"evt_001",event_type:"invoice_created",invoice_id:"INV-2026-001",block_height:253e3,tx_id:"0xc16d4a3e7d8f2b9a1c5e6d8f2b9a1c5e6d8f2b9a1c5e6d8f2b9a1c5e6d8f2b9a1",timestamp:"2026-01-01T18:35:21Z",details:{payer:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",payee:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",amount:1275e5}},{event_id:"evt_002",event_type:"escrow_funded",invoice_id:"INV-2026-001",block_height:253015,tx_id:"0xd24e5b4f8e1c7a2b6d9e1c7a2b6d9e1c7a2b6d9e1c7a2b6d9e1c7a2b6d9e1c7a2",timestamp:"2026-01-01T19:01:11Z",details:{amount:1275e5,token_contract:"SP000000000000000000002Q6VF78.sbtc-token"}},{event_id:"evt_003",event_type:"milestone_completed",invoice_id:"INV-2026-001",block_height:253800,tx_id:"0xe35f6c5a9f0d8b3c7e2a9f0d8b3c7e2a9f0d8b3c7e2a9f0d8b3c7e2a9f0d8b3c7",timestamp:"2026-01-14T15:40:00Z",details:{milestone_index:1,milestone_title:"Design System & Wireframes",amount_released:51e6}},{event_id:"evt_004",event_type:"dispute_raised",invoice_id:"INV-2026-002",block_height:254200,tx_id:"0xf4707d6b0a1e4c8d3f0b1e4c8d3f0b1e4c8d3f0b1e4c8d3f0b1e4c8d3f0b1e4c8d",timestamp:"2026-03-18T13:07:44Z",details:{raised_by:"payer",reason:"Backend API security vulnerabilities",dispute_id:"disp_2026_001"}}],lX={batch_approvals:[{batch_id:"batch_2026_q1",description:"Q1 2026 Development Budget Approval",invoices:["INV-2026-001","INV-2026-002"],total_amount:13e8,approval_threshold:2,approvals:[{org:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",approved:!0,timestamp:"2026-01-02T09:15:00Z",signature:"sig_001_abc123"},{org:"SPNFUPQZKL2HPH8MFMV04YY28G87NP0JK56AY55G",approved:!1,timestamp:"2026-01-02T10:30:00Z",reason:"Requires additional security review"},{org:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",approved:!0,timestamp:"2026-01-02T11:45:00Z",signature:"sig_002_def456"}],status:"approved",executed_at:"2026-01-02T12:00:00Z"}]},cX={version:eX,description:tX,last_updated:nX,invoices:rX,ai_test_cases:sX,security_data:iX,demo_wallets:oX,blockchain_events:aX,governance_data:lX};class ja{constructor(){Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=cX}static getInstance(){return ja.instance||(ja.instance=new ja),ja.instance}getAllInvoices(){return this.data.invoices}getInvoiceById(t){return this.data.invoices.find(n=>n.invoice_id===t)}getInvoicesByStatus(t){return this.data.invoices.filter(n=>n.status===t)}getInvoicesByPriority(t){return this.data.invoices.filter(n=>n.priority===t)}getInvoicesByCategory(t){return this.data.invoices.filter(n=>n.category===t)}getAITestCases(){return this.data.ai_test_cases}getAITestCaseById(t){return this.data.ai_test_cases.find(n=>n.id===t)}isAddressBlacklisted(t){return this.data.security_data.blacklisted_addresses.includes(t)}getAddressRiskScore(t){const n=this.data.security_data.screened_entities.find(r=>r.address===t);return(n==null?void 0:n.risk_score)||5}getAddressTrustLevel(t){const n=this.data.security_data.screened_entities.find(r=>r.address===t);return(n==null?void 0:n.trust_level)||"unknown"}getAddressReputation(t){const n=this.data.security_data.screened_entities.find(r=>r.address===t);return n?{risk_score:n.risk_score,trust_level:n.trust_level,completed_invoices:n.completed_invoices,dispute_rate:n.dispute_rate}:null}getEventsForInvoice(t){return this.data.blockchain_events.filter(n=>n.invoice_id===t)}getAllEvents(){return this.data.blockchain_events}simulateNewEvent(t,n,r){return{event_id:`evt_${Date.now()}`,event_type:n,invoice_id:t,block_height:Math.floor(Math.random()*1e3)+255e3,tx_id:`0x${Array.from({length:64},()=>Math.floor(Math.random()*16).toString(16)).join("")}`,timestamp:new Date().toISOString(),details:r||{simulated:!0}}}getDemoWallets(){return this.data.demo_wallets}getWalletByRole(t){return this.data.demo_wallets.find(n=>n.role===t)}getWalletByAddress(t){return this.data.demo_wallets.find(n=>n.address===t)}getBatchApprovals(){return this.data.governance_data.batch_approvals}getBatchApprovalById(t){return this.data.governance_data.batch_approvals.find(n=>n.batch_id===t)}getInvoiceStats(){const t=this.getAllInvoices();return{total:t.length,active:t.filter(n=>n.status==="active").length,disputed:t.filter(n=>n.status==="disputed").length,completed:t.filter(n=>n.status==="completed").length,totalValue:t.reduce((n,r)=>n+r.amount,0),averageConfidence:t.reduce((n,r)=>n+r.confidence_score,0)/t.length}}getMilestoneStats(){const n=this.getAllInvoices().flatMap(r=>r.milestones);return{total:n.length,completed:n.filter(r=>r.status==="completed").length,in_progress:n.filter(r=>r.status==="in_progress").length,pending:n.filter(r=>r.status==="pending").length,disputed:n.filter(r=>r.status==="disputed").length,blocked:n.filter(r=>r.status==="blocked").length}}}function uX(){const t=ja.getInstance().getAllInvoices(),n=[],r=/^(SP|ST)[0-9A-Z]{38,41}$/;return t.forEach(s=>{r.test(s.payee)||n.push(`Invalid payee address in invoice ${s.invoice_id}: ${s.payee}`),r.test(s.payer)||n.push(`Invalid payer address in invoice ${s.invoice_id}: ${s.payer}`),s.arbiter&&!r.test(s.arbiter)&&n.push(`Invalid arbiter address in invoice ${s.invoice_id}: ${s.arbiter}`)}),{valid:n.length===0,errors:n}}function Os(e){return`${(e/1e8).toFixed(8)} sBTC`}function gA(e){const t=e.milestones.filter(n=>n.status==="completed").length;return Math.round(t/e.milestones.length*100)}const _n=ja.getInstance(),dX=()=>{var l,c;const{id:e}=V9(),[t,n]=S.useState(!1),r={"2025-300":{id:"2025-300",status:"released",amount:"0.85 sBTC",usdAmount:"$52,300",dao:"DeFi Protocol DAO",description:"Smart contract audit + security review",issuer:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",client:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",arbitrator:"SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159",totalAmount:52300,releasedAmount:52300,createdAt:"2025-01-10",milestones:[{id:1,description:"Initial security assessment",amount:17433,status:"released"},{id:2,description:"Smart contract audit",amount:17433,status:"released"},{id:3,description:"Final security review and documentation",amount:17434,status:"released"}]},"2025-299":{id:"2025-299",status:"funded",amount:"0.42 sBTC",usdAmount:"$25,800",dao:"NFT Marketplace Collective",description:"Website redesign + mobile responsive",issuer:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",client:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",arbitrator:"SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159",totalAmount:25800,releasedAmount:17200,createdAt:"2025-01-12",milestones:[{id:1,description:"Design mockups and wireframes",amount:8600,status:"released"},{id:2,description:"Frontend implementation",amount:8600,status:"released"},{id:3,description:"Mobile responsive testing",amount:8600,status:"approved"}]},"2025-298":{id:"2025-298",status:"verified",amount:"0.65 sBTC",usdAmount:"$39,900",dao:"Web3 Education Guild",description:"Tutorial series + documentation",issuer:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",client:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",arbitrator:"SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159",totalAmount:39900,releasedAmount:0,createdAt:"2025-01-13",milestones:[{id:1,description:"Tutorial content creation",amount:13300,status:"approved"},{id:2,description:"Video production and editing",amount:13300,status:"approved"},{id:3,description:"Documentation and deployment",amount:13300,status:"approved"}]},"2025-297":{id:"2025-297",status:"created",amount:"0.28 sBTC",usdAmount:"$17,200",dao:"Gaming DAO Treasury",description:"Token economics modeling",issuer:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",client:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",arbitrator:"SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159",totalAmount:17200,releasedAmount:0,createdAt:"2025-01-14",milestones:[{id:1,description:"Economic model research",amount:5733,status:"pending"},{id:2,description:"Token mechanics design",amount:5733,status:"pending"},{id:3,description:"Simulation and testing",amount:5734,status:"pending"}]}},s=e?_n.getInvoiceById(e):null,i=s?{id:s.invoice_id,status:s.status,amount:`${(s.amount/1e8).toFixed(3)} ${s.currency}`,usdAmount:` $${Math.round(s.amount/1e8*6e4).toLocaleString()}`,dao:s.description.split("-")[0].trim(),description:s.description,issuer:s.payer,client:s.payee,arbitrator:s.arbiter||"Not assigned",totalAmount:Math.round(s.amount/1e8*6e4),releasedAmount:Math.round(s.milestones.filter(u=>u.status==="completed").reduce((u,d)=>u+d.amount,0)/1e8*6e4),createdAt:new Date(s.created_at).toLocaleDateString(),milestones:s.milestones.map((u,d)=>({id:d+1,description:u.title,amount:Math.round(u.amount/1e8*6e4),status:u.status==="completed"?"released":u.status==="in_progress"?"approved":"pending"}))}:r[e||""]||{id:e||"INV-001",status:"in-progress",amount:"$12,500",usdAmount:"$12,500",dao:"DeFi DAO",description:"General service invoice",issuer:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",client:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",arbitrator:"SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159",totalAmount:12500,releasedAmount:5e3,createdAt:"2025-01-15",milestones:[{id:1,description:"Initial design mockups",amount:5e3,status:"released"},{id:2,description:"Frontend implementation",amount:5e3,status:"approved"},{id:3,description:"Testing and deployment",amount:2500,status:"pending"}]},o=u=>{const h={released:{variant:"default",className:"bg-green-600"},verified:{variant:"default",className:"bg-blue-600"},funded:{variant:"secondary",className:"bg-purple-600"},created:{variant:"outline",className:""},completed:{variant:"default",className:"bg-green-600"},"in-progress":{variant:"secondary",className:""},pending:{variant:"outline",className:""},disputed:{variant:"destructive",className:""}}[u]||{variant:"outline",className:""};return a.jsx(pe,{variant:h.variant,className:h.className,children:u})};return a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("header",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx(Ce,{to:"/",children:a.jsxs(Y,{variant:"outline",size:"sm",children:[a.jsx(U1,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),a.jsx(Hh,{})]})}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(K,{children:[a.jsx(se,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(ie,{children:["Invoice ",i.id]}),a.jsx(je,{children:i.dao})]}),o(i.status)]})}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-4",children:[i.description&&a.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-blue-800",children:i.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Issuer"}),a.jsx("p",{className:"text-xs font-mono bg-secondary p-2 rounded",children:i.issuer})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Client"}),a.jsx("p",{className:"text-xs font-mono bg-secondary p-2 rounded",children:i.client})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Arbitrator"}),a.jsx("p",{className:"text-xs font-mono bg-secondary p-2 rounded",children:i.arbitrator})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Created"}),a.jsx("p",{className:"text-sm",children:i.createdAt})]})]})})]}),a.jsx(QQ,{milestones:i.milestones,invoiceId:i.id}),t&&a.jsx(XQ,{invoiceId:i.id,onClose:()=>n(!1)})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{children:[a.jsx(se,{children:a.jsx(ie,{className:"text-lg",children:"Payment Summary"})}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount"}),a.jsx("p",{className:"text-2xl font-bold",children:i.amount||`$${i.totalAmount.toLocaleString()}`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.usdAmount||` $${i.totalAmount.toLocaleString()}`})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Released"}),a.jsxs("p",{className:"text-xl font-semibold text-green-600",children:["$",i.releasedAmount.toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i.releasedAmount>0?` ${(i.releasedAmount/i.totalAmount*parseFloat(((l=i.amount)==null?void 0:l.replace(/[^\d.]/g,""))||"0")).toFixed(2)} sBTC`:"0 sBTC"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Remaining"}),a.jsxs("p",{className:"text-xl font-semibold",children:["$",(i.totalAmount-i.releasedAmount).toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i.totalAmount>i.releasedAmount?` ${((i.totalAmount-i.releasedAmount)/i.totalAmount*parseFloat(((c=i.amount)==null?void 0:c.replace(/[^\d.]/g,""))||"0")).toFixed(2)} sBTC`:"0 sBTC"})]}),a.jsxs("div",{className:"pt-4 border-t border-border",children:[a.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:a.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${i.releasedAmount/i.totalAmount*100}%`}})}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:[Math.round(i.releasedAmount/i.totalAmount*100),"% Complete"]})]})]})]}),a.jsxs(K,{children:[a.jsx(se,{children:a.jsx(ie,{className:"text-lg",children:"Actions"})}),a.jsxs(q,{className:"space-y-3",children:[a.jsxs(Y,{variant:"outline",className:"w-full justify-start",children:[a.jsx(Zc,{className:"w-4 h-4 mr-2"}),"Fund Invoice"]}),a.jsxs(Y,{variant:"outline",className:"w-full justify-start",onClick:()=>n(!0),children:[a.jsx(Co,{className:"w-4 h-4 mr-2"}),"Raise Dispute"]})]})]})]})]})]})})},ZS=S.createContext({});function YS(e){const t=S.useRef(null);return t.current===null&&(t.current=e()),t.current}const I0=S.createContext(null),JS=S.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class hX extends S.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function fX({children:e,isPresent:t}){const n=S.useId(),r=S.useRef(null),s=S.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=S.useContext(JS);return S.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),a.jsx(hX,{isPresent:t,childRef:r,sizeRef:s,children:S.cloneElement(e,{ref:r})})}const pX=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=YS(mX),c=S.useId(),u=S.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;r&&r()},[l,r]),d=S.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return S.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[n]),S.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(fX,{isPresent:n,children:e})),a.jsx(I0.Provider,{value:d,children:e})};function mX(){return new Map}function VD(e=!0){const t=S.useContext(I0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=S.useId();S.useEffect(()=>{e&&s(i)},[e]);const o=S.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Np=e=>e.key||"";function yA(e){const t=[];return S.Children.forEach(e,n=>{S.isValidElement(n)&&t.push(n)}),t}const QS=typeof window<"u",HD=QS?S.useLayoutEffect:S.useEffect,gX=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=VD(o),u=S.useMemo(()=>yA(e),[e]),d=o&&!l?[]:u.map(Np),h=S.useRef(!0),f=S.useRef(u),p=YS(()=>new Map),[x,m]=S.useState(u),[y,b]=S.useState(u);HD(()=>{h.current=!1,f.current=u;for(let j=0;j<y.length;j++){const E=Np(y[j]);d.includes(E)?p.delete(E):p.get(E)!==!0&&p.set(E,!1)}},[y,d.length,d.join("-")]);const g=[];if(u!==x){let j=[...u];for(let E=0;E<y.length;E++){const M=y[E],O=Np(M);d.includes(O)||(j.splice(E,0,M),g.push(M))}i==="wait"&&g.length&&(j=g),b(yA(j)),m(u);return}const{forceRender:w}=S.useContext(ZS);return a.jsx(a.Fragment,{children:y.map(j=>{const E=Np(j),M=o&&!l?!1:u===y||d.includes(E),O=()=>{if(p.has(E))p.set(E,!0);else return;let B=!0;p.forEach(z=>{z||(B=!1)}),B&&(w==null||w(),b(f.current),o&&(c==null||c()),r&&r())};return a.jsx(pX,{isPresent:M,initial:!h.current||n?void 0:!1,custom:M?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:M?void 0:O,children:j},E)})})},Pr=e=>e;let KD=Pr;function XS(e){let t;return()=>(t===void 0&&(t=e()),t)}const pu=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ai=e=>e*1e3,Ci=e=>e/1e3,yX={useManualTiming:!1};function vX(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&r?t:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const _p=["read","resolveKeyframes","update","preRender","render","postRender"],xX=40;function WD(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=_p.reduce((b,g)=>(b[g]=vX(i),b),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,p=()=>{const b=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(b-s.timestamp,xX),1),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))},x=()=>{n=!0,r=!0,s.isProcessing||e(p)};return{schedule:_p.reduce((b,g)=>{const w=o[g];return b[g]=(j,E=!1,M=!1)=>(n||x(),w.schedule(j,E,M)),b},{}),cancel:b=>{for(let g=0;g<_p.length;g++)o[_p[g]].cancel(b)},state:s,steps:o}}const{schedule:kt,cancel:zo,state:Nn,steps:xv}=WD(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0),qD=S.createContext({strict:!1}),vA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mu={};for(const e in vA)mu[e]={isEnabled:t=>vA[e].some(n=>!!t[n])};function wX(e){for(const t in e)mu[t]={...mu[t],...e[t]}}const bX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bX.has(e)}let GD=e=>!xg(e);function SX(e){e&&(GD=t=>t.startsWith("on")?!xg(t):e(t))}try{SX(require("@emotion/is-prop-valid").default)}catch{}function jX(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(GD(s)||n===!0&&xg(s)||!t&&!xg(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function NX(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const M0=S.createContext({});function Kh(e){return typeof e=="string"||Array.isArray(e)}function O0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const ej=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tj=["initial",...ej];function R0(e){return O0(e.animate)||tj.some(t=>Kh(e[t]))}function ZD(e){return!!(R0(e)||e.variants)}function _X(e,t){if(R0(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Kh(n)?n:void 0,animate:Kh(r)?r:void 0}}return e.inherit!==!1?t:{}}function EX(e){const{initial:t,animate:n}=_X(e,S.useContext(M0));return S.useMemo(()=>({initial:t,animate:n}),[xA(t),xA(n)])}function xA(e){return Array.isArray(e)?e.join(" "):e}const AX=Symbol.for("motionComponentSymbol");function lc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function CX(e,t,n){return S.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):lc(n)&&(n.current=r))},[t])}const nj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kX="framerAppearId",YD="data-"+nj(kX),{schedule:rj}=WD(queueMicrotask,!1),JD=S.createContext({});function TX(e,t,n,r,s){var i,o;const{visualElement:l}=S.useContext(M0),c=S.useContext(qD),u=S.useContext(I0),d=S.useContext(JS).reducedMotion,h=S.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,p=S.useContext(JD);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&PX(h.current,n,s,p);const x=S.useRef(!1);S.useInsertionEffect(()=>{f&&x.current&&f.update(n,u)});const m=n[YD],y=S.useRef(!!m&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return HD(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),rj.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),S.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,m)}),y.current=!1))}),f}function PX(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:QD(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&lc(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function QD(e){if(e)return e.options.allowProjection!==!1?e.projection:QD(e.parent)}function IX({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&wX(e);function l(u,d){let h;const f={...S.useContext(JS),...u,layoutId:MX(u)},{isStatic:p}=f,x=EX(u),m=r(u,p);if(!p&&QS){OX();const y=RX(f);h=y.MeasureLayout,x.visualElement=TX(s,m,f,t,y.ProjectionNode)}return a.jsxs(M0.Provider,{value:x,children:[h&&x.visualElement?a.jsx(h,{visualElement:x.visualElement,...f}):null,n(s,u,CX(m,x.visualElement,d),m,p,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const c=S.forwardRef(l);return c[AX]=s,c}function MX({layoutId:e}){const t=S.useContext(ZS).id;return t&&e!==void 0?t+"-"+e:e}function OX(e,t){S.useContext(qD).strict}function RX(e){const{drag:t,layout:n}=mu;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const DX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sj(e){return typeof e!="string"||e.includes("-")?!1:!!(DX.indexOf(e)>-1||/[A-Z]/u.test(e))}function wA(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ij(e,t,n,r){if(typeof t=="function"){const[s,i]=wA(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=wA(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const Kw=e=>Array.isArray(e),$X=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),LX=e=>Kw(e)?e[e.length-1]||0:e,Ln=e=>!!(e&&e.getVelocity);function cm(e){const t=Ln(e)?e.get():e;return $X(t)?t.toValue():t}function BX({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:FX(r,s,i,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const XD=e=>(t,n)=>{const r=S.useContext(M0),s=S.useContext(I0),i=()=>BX(e,t,r,s);return n?i():YS(i)};function FX(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=cm(i[f]);let{initial:o,animate:l}=e;const c=R0(e),u=ZD(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!O0(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const x=ij(e,f[p]);if(x){const{transitionEnd:m,transition:y,...b}=x;for(const g in b){let w=b[g];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(s[g]=w)}for(const g in m)s[g]=m[g]}}}return s}const Bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nl=new Set(Bu),e4=e=>t=>typeof t=="string"&&t.startsWith(e),t4=e4("--"),UX=e4("var(--"),oj=e=>UX(e)?zX.test(e.split("/*")[0].trim()):!1,zX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,n4=(e,t)=>t&&typeof e=="number"?t.transform(e):e,$i=(e,t,n)=>n>t?t:n<e?e:n,Fu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wh={...Fu,transform:e=>$i(0,1,e)},Ep={...Fu,default:1},xf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xi=xf("deg"),Js=xf("%"),ye=xf("px"),VX=xf("vh"),HX=xf("vw"),bA={...Js,parse:e=>Js.parse(e)/100,transform:e=>Js.transform(e*100)},KX={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye},WX={rotate:Xi,rotateX:Xi,rotateY:Xi,rotateZ:Xi,scale:Ep,scaleX:Ep,scaleY:Ep,scaleZ:Ep,skew:Xi,skewX:Xi,skewY:Xi,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Wh,originX:bA,originY:bA,originZ:ye},SA={...Fu,transform:Math.round},aj={...KX,...WX,zIndex:SA,size:ye,fillOpacity:Wh,strokeOpacity:Wh,numOctaves:SA},qX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GX=Bu.length;function ZX(e,t,n){let r="",s=!0;for(let i=0;i<GX;i++){const o=Bu[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=n4(l,aj[o]);if(!c){s=!1;const d=qX[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function lj(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Nl.has(c)){o=!0;continue}else if(t4(c)){s[c]=u;continue}else{const d=n4(u,aj[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=ZX(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const YX={offset:"stroke-dashoffset",array:"stroke-dasharray"},JX={offset:"strokeDashoffset",array:"strokeDasharray"};function QX(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?YX:JX;e[i.offset]=ye.transform(-r);const o=ye.transform(t),l=ye.transform(n);e[i.array]=`${o} ${l}`}function jA(e,t,n){return typeof e=="string"?e:ye.transform(t+n*e)}function XX(e,t,n){const r=jA(t,e.x,e.width),s=jA(n,e.y,e.height);return`${r} ${s}`}function cj(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(lj(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:x}=e;f.transform&&(x&&(p.transform=f.transform),delete f.transform),x&&(s!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=XX(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&QX(f,o,l,c,!1)}const uj=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),r4=()=>({...uj(),attrs:{}}),dj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function s4(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const i4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function o4(e,t,n,r){s4(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(i4.has(s)?s:nj(s),t.attrs[s])}const wg={};function eee(e){Object.assign(wg,e)}function a4(e,{layout:t,layoutId:n}){return Nl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wg[e]||e==="opacity")}function hj(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Ln(s[o])||t.style&&Ln(t.style[o])||a4(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function l4(e,t,n){const r=hj(e,t,n);for(const s in e)if(Ln(e[s])||Ln(t[s])){const i=Bu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function tee(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const NA=["x","y","width","height","cx","cy","r"],nee={useVisualState:XD({scrapeMotionValuesFromProps:l4,createRenderState:r4,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const l in s)if(Nl.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<NA.length;l++){const c=NA[l];e[c]!==t[c]&&(o=!0)}o&&kt.read(()=>{tee(n,r),kt.render(()=>{cj(r,s,dj(n.tagName),e.transformTemplate),o4(n,r)})})}})},ree={useVisualState:XD({scrapeMotionValuesFromProps:hj,createRenderState:uj})};function c4(e,t,n){for(const r in t)!Ln(t[r])&&!a4(r,n)&&(e[r]=t[r])}function see({transformTemplate:e},t){return S.useMemo(()=>{const n=uj();return lj(n,t,e),Object.assign({},n.vars,n.style)},[t])}function iee(e,t){const n=e.style||{},r={};return c4(r,n,e),Object.assign(r,see(e,t)),r}function oee(e,t){const n={},r=iee(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function aee(e,t,n,r){const s=S.useMemo(()=>{const i=r4();return cj(i,t,dj(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};c4(i,e.style,e),s.style={...i,...s.style}}return s}function lee(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(sj(n)?aee:oee)(r,i,o,n),u=jX(r,typeof n=="string",e),d=n!==S.Fragment?{...u,...c,ref:s}:{},{children:h}=r,f=S.useMemo(()=>Ln(h)?h.get():h,[h]);return S.createElement(n,{...d,children:f})}}function cee(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...sj(r)?nee:ree,preloadedFeatures:e,useRender:lee(s),createVisualElement:t,Component:r};return IX(o)}}function u4(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function D0(e,t,n){const r=e.getProps();return ij(r,t,n!==void 0?n:r.custom,e)}const uee=XS(()=>window.ScrollTimeline!==void 0);class dee{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(uee()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class hee extends dee{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function fj(e,t){return e?e[t]||e.default||e:void 0}const Ww=2e4;function d4(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ww;)t+=n,r=e.next(t);return t>=Ww?1/0:t}function pj(e){return typeof e=="function"}function _A(e,t){e.timeline=t,e.onfinish=null}const mj=e=>Array.isArray(e)&&typeof e[0]=="number",fee={linearEasing:void 0};function pee(e,t){const n=XS(e);return()=>{var r;return(r=fee[t])!==null&&r!==void 0?r:n()}}const bg=pee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),h4=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(pu(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function f4(e){return!!(typeof e=="function"&&bg()||!e||typeof e=="string"&&(e in qw||bg())||mj(e)||Array.isArray(e)&&e.every(f4))}const kd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,qw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kd([0,.65,.55,1]),circOut:kd([.55,0,1,.45]),backIn:kd([.31,.01,.66,-.59]),backOut:kd([.33,1.53,.69,.99])};function p4(e,t){if(e)return typeof e=="function"&&bg()?h4(e,t):mj(e)?kd(e):Array.isArray(e)?e.map(n=>p4(n,t)||qw.easeOut):qw[e]}const ls={x:!1,y:!1};function m4(){return ls.x||ls.y}function mee(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function g4(e,t){const n=mee(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function EA(e){return t=>{t.pointerType==="touch"||m4()||e(t)}}function gee(e,t,n={}){const[r,s,i]=g4(e,n),o=EA(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=EA(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const y4=(e,t)=>t?e===t?!0:y4(e,t.parentElement):!1,gj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,yee=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vee(e){return yee.has(e.tagName)||e.tabIndex!==-1}const Td=new WeakSet;function AA(e){return t=>{t.key==="Enter"&&e(t)}}function wv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const xee=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=AA(()=>{if(Td.has(n))return;wv(n,"down");const s=AA(()=>{wv(n,"up")}),i=()=>wv(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function CA(e){return gj(e)&&!m4()}function wee(e,t,n={}){const[r,s,i]=g4(e,n),o=l=>{const c=l.currentTarget;if(!CA(l)||Td.has(c))return;Td.add(c);const u=t(l),d=(p,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!CA(p)||!Td.has(c))&&(Td.delete(c),typeof u=="function"&&u(p,{success:x}))},h=p=>{d(p,n.useGlobalTarget||y4(c,p.target))},f=p=>{d(p,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(l=>{!vee(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>xee(u,s),s)}),i}function bee(e){return e==="x"||e==="y"?ls[e]?null:(ls[e]=!0,()=>{ls[e]=!1}):ls.x||ls.y?null:(ls.x=ls.y=!0,()=>{ls.x=ls.y=!1})}const v4=new Set(["width","height","top","left","right","bottom",...Bu]);let um;function See(){um=void 0}const Qs={now:()=>(um===void 0&&Qs.set(Nn.isProcessing||yX.useManualTiming?Nn.timestamp:performance.now()),um),set:e=>{um=e,queueMicrotask(See)}};function yj(e,t){e.indexOf(t)===-1&&e.push(t)}function vj(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class xj{constructor(){this.subscriptions=[]}add(t){return yj(this.subscriptions,t),()=>vj(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function x4(e,t){return t?e*(1e3/t):0}const kA=30,jee=e=>!isNaN(parseFloat(e));class Nee{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Qs.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Qs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=jee(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new xj);const r=this.events[t].add(n);return t==="change"?()=>{r(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kA);return x4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qh(e,t){return new Nee(e,t)}function _ee(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qh(n))}function Eee(e,t){const n=D0(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const l=LX(i[o]);_ee(e,o,l)}}function Aee(e){return!!(Ln(e)&&e.add)}function Gw(e,t){const n=e.getValue("willChange");if(Aee(n))return n.add(t)}function w4(e){return e.props[YD]}const b4=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Cee=1e-7,kee=12;function Tee(e,t,n,r,s){let i,o,l=0;do o=t+(n-t)/2,i=b4(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Cee&&++l<kee);return o}function wf(e,t,n,r){if(e===t&&n===r)return Pr;const s=i=>Tee(i,0,1,e,n);return i=>i===0||i===1?i:b4(s(i),t,r)}const S4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,j4=e=>t=>1-e(1-t),N4=wf(.33,1.53,.69,.99),wj=j4(N4),_4=S4(wj),E4=e=>(e*=2)<1?.5*wj(e):.5*(2-Math.pow(2,-10*(e-1))),bj=e=>1-Math.sin(Math.acos(e)),A4=j4(bj),C4=S4(bj),k4=e=>/^0[^.\s]+$/u.test(e);function Pee(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||k4(e):!0}const nh=e=>Math.round(e*1e5)/1e5,Sj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Iee(e){return e==null}const Mee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jj=(e,t)=>n=>!!(typeof n=="string"&&Mee.test(n)&&n.startsWith(e)||t&&!Iee(n)&&Object.prototype.hasOwnProperty.call(n,t)),T4=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,l]=r.match(Sj);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Oee=e=>$i(0,255,e),bv={...Fu,transform:e=>Math.round(Oee(e))},Na={test:jj("rgb","red"),parse:T4("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bv.transform(e)+", "+bv.transform(t)+", "+bv.transform(n)+", "+nh(Wh.transform(r))+")"};function Ree(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Zw={test:jj("#"),parse:Ree,transform:Na.transform},cc={test:jj("hsl","hue"),parse:T4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Js.transform(nh(t))+", "+Js.transform(nh(n))+", "+nh(Wh.transform(r))+")"},On={test:e=>Na.test(e)||Zw.test(e)||cc.test(e),parse:e=>Na.test(e)?Na.parse(e):cc.test(e)?cc.parse(e):Zw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Na.transform(e):cc.transform(e)},Dee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $ee(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Sj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Dee))===null||n===void 0?void 0:n.length)||0)>0}const P4="number",I4="color",Lee="var",Bee="var(",TA="${}",Fee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gh(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(Fee,c=>(On.test(c)?(r.color.push(i),s.push(I4),n.push(On.parse(c))):c.startsWith(Bee)?(r.var.push(i),s.push(Lee),n.push(c)):(r.number.push(i),s.push(P4),n.push(parseFloat(c))),++i,TA)).split(TA);return{values:n,split:l,indexes:r,types:s}}function M4(e){return Gh(e).values}function O4(e){const{split:t,types:n}=Gh(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const l=n[o];l===P4?i+=nh(s[o]):l===I4?i+=On.transform(s[o]):i+=s[o]}return i}}const Uee=e=>typeof e=="number"?0:e;function zee(e){const t=M4(e);return O4(e)(t.map(Uee))}const Vo={test:$ee,parse:M4,createTransformer:O4,getAnimatableNone:zee},Vee=new Set(["brightness","contrast","saturate","opacity"]);function Hee(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Sj)||[];if(!r)return e;const s=n.replace(r,"");let i=Vee.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Kee=/\b([a-z-]*)\(.*?\)/gu,Yw={...Vo,getAnimatableNone:e=>{const t=e.match(Kee);return t?t.map(Hee).join(" "):e}},Wee={...aj,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:Yw,WebkitFilter:Yw},Nj=e=>Wee[e];function R4(e,t){let n=Nj(e);return n!==Yw&&(n=Vo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qee=new Set(["auto","none","0"]);function Gee(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!qee.has(i)&&Gh(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=R4(n,s)}const PA=e=>e===Fu||e===ye,IA=(e,t)=>parseFloat(e.split(", ")[t]),MA=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return IA(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?IA(i[1],e):0}},Zee=new Set(["x","y","z"]),Yee=Bu.filter(e=>!Zee.has(e));function Jee(e){const t=[];return Yee.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const gu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:MA(4,13),y:MA(5,14)};gu.translateX=gu.x;gu.translateY=gu.y;const $a=new Set;let Jw=!1,Qw=!1;function D4(){if(Qw){const e=Array.from($a).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=Jee(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var l;(l=r.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qw=!1,Jw=!1,$a.forEach(e=>e.complete()),$a.clear()}function $4(){$a.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qw=!0)})}function Qee(){$4(),D4()}class _j{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?($a.add(this),Jw||(Jw=!0,kt.read($4),kt.resolveKeyframes(D4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$a.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$a.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const L4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Xee=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ete(e){const t=Xee.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function B4(e,t,n=1){const[r,s]=ete(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return L4(o)?parseFloat(o):o}return oj(s)?B4(s,t,n+1):s}const F4=e=>t=>t.test(e),tte={test:e=>e==="auto",parse:e=>e},U4=[Fu,ye,Js,Xi,HX,VX,tte],OA=e=>U4.find(F4(e));class z4 extends _j{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),oj(u))){const d=B4(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!v4.has(r)||t.length!==2)return;const[s,i]=t,o=OA(s),l=OA(i);if(o!==l)if(PA(o)&&PA(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)Pee(t[s])&&r.push(s);r.length&&Gee(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gu[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=gu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const RA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vo.test(e)||e==="0")&&!e.startsWith("url("));function nte(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function rte(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=RA(s,t),l=RA(i,t);return!o||!l?!1:nte(e)||(n==="spring"||pj(n))&&r}const ste=e=>e!==null;function $0(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(ste),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const ite=40;class V4{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qs.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ite?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Qee(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Qs.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!rte(t,r,s,i))if(o)this.options.duration=0;else{c&&c($0(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Rt=(e,t,n)=>e+(t-e)*n;function Sv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ote({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=Sv(c,l,e+1/3),i=Sv(c,l,e),o=Sv(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Sg(e,t){return n=>n>0?t:e}const jv=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},ate=[Zw,Na,cc],lte=e=>ate.find(t=>t.test(e));function DA(e){const t=lte(e);if(!t)return!1;let n=t.parse(e);return t===cc&&(n=ote(n)),n}const $A=(e,t)=>{const n=DA(e),r=DA(t);if(!n||!r)return Sg(e,t);const s={...n};return i=>(s.red=jv(n.red,r.red,i),s.green=jv(n.green,r.green,i),s.blue=jv(n.blue,r.blue,i),s.alpha=Rt(n.alpha,r.alpha,i),Na.transform(s))},cte=(e,t)=>n=>t(e(n)),bf=(...e)=>e.reduce(cte),Xw=new Set(["none","hidden"]);function ute(e,t){return Xw.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function dte(e,t){return n=>Rt(e,t,n)}function Ej(e){return typeof e=="number"?dte:typeof e=="string"?oj(e)?Sg:On.test(e)?$A:pte:Array.isArray(e)?H4:typeof e=="object"?On.test(e)?$A:hte:Sg}function H4(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Ej(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function hte(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Ej(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function fte(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[i]=c,s[o]++}return r}const pte=(e,t)=>{const n=Vo.createTransformer(t),r=Gh(e),s=Gh(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Xw.has(e)&&!s.values.length||Xw.has(t)&&!r.values.length?ute(e,t):bf(H4(fte(r,s),s.values),n):Sg(e,t)};function K4(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Rt(e,t,n):Ej(e)(e,t)}const mte=5;function W4(e,t,n){const r=Math.max(t-mte,0);return x4(n-e(r),t-r)}const qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nv=.001;function gte({duration:e=qt.duration,bounce:t=qt.bounce,velocity:n=qt.velocity,mass:r=qt.mass}){let s,i,o=1-t;o=$i(qt.minDamping,qt.maxDamping,o),e=$i(qt.minDuration,qt.maxDuration,Ci(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,p=eb(u,o),x=Math.exp(-h);return Nv-f/p*x},i=u=>{const h=u*o*e,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),m=eb(Math.pow(u,2),o);return(-s(u)+Nv>0?-1:1)*((f-p)*x)/m}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-Nv+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=vte(s,i,l);if(e=Ai(e),isNaN(c))return{stiffness:qt.stiffness,damping:qt.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const yte=12;function vte(e,t,n){let r=n;for(let s=1;s<yte;s++)r=r-e(r)/t(r);return r}function eb(e,t){return e*Math.sqrt(1-t*t)}const xte=["duration","bounce"],wte=["stiffness","damping","mass"];function LA(e,t){return t.some(n=>e[n]!==void 0)}function bte(e){let t={velocity:qt.velocity,stiffness:qt.stiffness,damping:qt.damping,mass:qt.mass,isResolvedFromDuration:!1,...e};if(!LA(e,wte)&&LA(e,xte))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*$i(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:qt.mass,stiffness:s,damping:i}}else{const n=gte(e);t={...t,...n,mass:qt.mass},t.isResolvedFromDuration=!0}return t}function q4(e=qt.visualDuration,t=qt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=bte({...n,velocity:-Ci(n.velocity||0)}),x=f||0,m=u/(2*Math.sqrt(c*d)),y=o-i,b=Ci(Math.sqrt(c/d)),g=Math.abs(y)<5;r||(r=g?qt.restSpeed.granular:qt.restSpeed.default),s||(s=g?qt.restDelta.granular:qt.restDelta.default);let w;if(m<1){const E=eb(b,m);w=M=>{const O=Math.exp(-m*b*M);return o-O*((x+m*b*y)/E*Math.sin(E*M)+y*Math.cos(E*M))}}else if(m===1)w=E=>o-Math.exp(-b*E)*(y+(x+b*y)*E);else{const E=b*Math.sqrt(m*m-1);w=M=>{const O=Math.exp(-m*b*M),B=Math.min(E*M,300);return o-O*((x+m*b*y)*Math.sinh(B)+E*y*Math.cosh(B))/E}}const j={calculatedDuration:p&&h||null,next:E=>{const M=w(E);if(p)l.done=E>=h;else{let O=0;m<1&&(O=E===0?Ai(x):W4(w,E,M));const B=Math.abs(O)<=r,z=Math.abs(o-M)<=s;l.done=B&&z}return l.value=l.done?o:M,l},toString:()=>{const E=Math.min(d4(j),Ww),M=h4(O=>j.next(E*O).value,E,30);return E+"ms "+M}};return j}function BA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},p=B=>l!==void 0&&B<l||c!==void 0&&B>c,x=B=>l===void 0?c:c===void 0||Math.abs(l-B)<Math.abs(c-B)?l:c;let m=n*t;const y=h+m,b=o===void 0?y:o(y);b!==y&&(m=b-h);const g=B=>-m*Math.exp(-B/r),w=B=>b+g(B),j=B=>{const z=g(B),$=w(B);f.done=Math.abs(z)<=u,f.value=f.done?b:$};let E,M;const O=B=>{p(f.value)&&(E=B,M=q4({keyframes:[f.value,x(f.value)],velocity:W4(w,B,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:B=>{let z=!1;return!M&&E===void 0&&(z=!0,j(B),O(B)),E!==void 0&&B>=E?M.next(B-E):(!z&&j(B),f)}}}const Ste=wf(.42,0,1,1),jte=wf(0,0,.58,1),G4=wf(.42,0,.58,1),Nte=e=>Array.isArray(e)&&typeof e[0]!="number",_te={linear:Pr,easeIn:Ste,easeInOut:G4,easeOut:jte,circIn:bj,circInOut:C4,circOut:A4,backIn:wj,backInOut:_4,backOut:N4,anticipate:E4},FA=e=>{if(mj(e)){KD(e.length===4);const[t,n,r,s]=e;return wf(t,n,r,s)}else if(typeof e=="string")return _te[e];return e};function Ete(e,t,n){const r=[],s=n||K4,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||Pr:t;l=bf(c,l)}r.push(l)}return r}function Ate(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(KD(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ete(t,r,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=pu(e[h],e[h+1],d);return l[h](f)};return n?d=>u($i(e[0],e[i-1],d)):u}function Cte(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=pu(0,t,r);e.push(Rt(n,1,s))}}function kte(e){const t=[0];return Cte(t,e.length-1),t}function Tte(e,t){return e.map(n=>n*t)}function Pte(e,t){return e.map(()=>t||G4).splice(0,e.length-1)}function jg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=Nte(r)?r.map(FA):FA(r),i={done:!1,value:t[0]},o=Tte(n&&n.length===t.length?n:kte(t),e),l=Ate(o,t,{ease:Array.isArray(s)?s:Pte(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Ite=e=>{const t=({timestamp:n})=>e(n);return{start:()=>kt.update(t,!0),stop:()=>zo(t),now:()=>Nn.isProcessing?Nn.timestamp:Qs.now()}},Mte={decay:BA,inertia:BA,tween:jg,keyframes:jg,spring:q4},Ote=e=>e/100;class Aj extends V4{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||_j,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=pj(n)?n:Mte[n]||jg;let c,u;l!==jg&&typeof t[0]!="number"&&(c=bf(Ote,K4(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=d4(d));const{calculatedDuration:h}=d,f=h+s,p=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:B}=this.options;return{done:!0,value:B[B.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:p,repeatType:x,repeatDelay:m,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,j=i;if(p){const B=Math.min(this.currentTime,d)/h;let z=Math.floor(B),$=B%1;!$&&B>=1&&($=1),$===1&&z--,z=Math.min(z,p+1),!!(z%2)&&(x==="reverse"?($=1-$,m&&($-=m/h)):x==="mirror"&&(j=o)),w=$i(0,1,$)*h}const E=g?{done:!1,value:c[0]}:j.next(w);l&&(E.value=l(E.value));let{done:M}=E;!g&&u!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return O&&s!==void 0&&(E.value=$0(c,this.options,s)),y&&y(E.value),O&&this.finish(),E}get duration(){const{resolved:t}=this;return t?Ci(t.calculatedDuration):0}get time(){return Ci(this.currentTime)}set time(t){t=Ai(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Ite,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Rte=new Set(["opacity","clipPath","filter","transform"]);function Dte(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=p4(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const $te=XS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ng=10,Lte=2e4;function Bte(e){return pj(e.type)||e.type==="spring"||!f4(e.ease)}function Fte(e,t){const n=new Aj({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<Lte;)r=n.sample(i),s.push(r.value),i+=Ng;return{times:void 0,keyframes:s,duration:i-Ng,ease:"linear"}}const Z4={anticipate:E4,backInOut:_4,circInOut:C4};function Ute(e){return e in Z4}class UA extends V4{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new z4(i,(o,l)=>this.onKeyframesResolved(o,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&bg()&&Ute(i)&&(i=Z4[i]),Bte(this.options)){const{onComplete:h,onUpdate:f,motionValue:p,element:x,...m}=this.options,y=Fte(t,m);t=y.keyframes,t.length===1&&(t[1]=t[0]),r=y.duration,s=y.times,i=y.ease,o="keyframes"}const d=Dte(l.owner.current,c,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(_A(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set($0(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ci(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ci(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ai(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Pr;const{animation:r}=n;_A(r,t)}return Pr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...p}=this.options,x=new Aj({...p,keyframes:r,duration:s,type:i,ease:o,times:l,isGenerator:!0}),m=Ai(this.time);u.setWithVelocity(x.sample(m-Ng).value,x.sample(m).value,Ng)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return $te()&&r&&Rte.has(r)&&!c&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const zte={type:"spring",stiffness:500,damping:25,restSpeed:10},Vte=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Hte={type:"keyframes",duration:.8},Kte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wte=(e,{keyframes:t})=>t.length>2?Hte:Nl.has(e)?e.startsWith("scale")?Vte(t[1]):zte:Kte;function qte({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Cj=(e,t,n,r={},s,i)=>o=>{const l=fj(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ai(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};qte(l)||(d={...d,...Wte(e,d)}),d.duration&&(d.duration=Ai(d.duration)),d.repeatDelay&&(d.repeatDelay=Ai(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=$0(d.keyframes,l);if(f!==void 0)return kt.update(()=>{d.onUpdate(f),d.onComplete()}),new hee([])}return!i&&UA.supports(d)?new UA(d):new Aj(d)};function Gte({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Y4(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&Gte(d,h))continue;const x={delay:n,...fj(o||{},h)};let m=!1;if(window.MotionHandoffAnimation){const b=w4(e);if(b){const g=window.MotionHandoffAnimation(b,h,kt);g!==null&&(x.startTime=g,m=!0)}}Gw(e,h),f.start(Cj(h,f,p,e.shouldReduceMotion&&v4.has(h)?{type:!1}:x,e,m));const y=f.animation;y&&u.push(y)}return l&&Promise.all(u).then(()=>{kt.update(()=>{l&&Eee(e,l)})}),u}function tb(e,t,n={}){var r;const s=D0(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Y4(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return Zte(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function Zte(e,t,n=0,r=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(Yte).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(tb(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Yte(e,t){return e.sortNodePosition(t)}function Jte(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>tb(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=tb(e,t,n);else{const s=typeof t=="function"?D0(e,t,n.custom):t;r=Promise.all(Y4(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const Qte=tj.length;function J4(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?J4(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Qte;n++){const r=tj[n],s=e.props[r];(Kh(s)||s===!1)&&(t[r]=s)}return t}const Xte=[...ej].reverse(),ene=ej.length;function tne(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Jte(e,n,r)))}function nne(e){let t=tne(e),n=zA(),r=!0;const s=c=>(u,d)=>{var h;const f=D0(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:x,...m}=f;u={...u,...m,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=J4(e.parent)||{},h=[],f=new Set;let p={},x=1/0;for(let y=0;y<ene;y++){const b=Xte[y],g=n[b],w=u[b]!==void 0?u[b]:d[b],j=Kh(w),E=b===c?g.isActive:null;E===!1&&(x=y);let M=w===d[b]&&w!==u[b]&&j;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),g.protectedKeys={...p},!g.isActive&&E===null||!w&&!g.prevProp||O0(w)||typeof w=="boolean")continue;const O=rne(g.prevProp,w);let B=O||b===c&&g.isActive&&!M&&j||y>x&&j,z=!1;const $=Array.isArray(w)?w:[w];let F=$.reduce(s(b),{});E===!1&&(F={});const{prevResolvedValues:U={}}=g,P={...U,...F},v=k=>{B=!0,f.has(k)&&(z=!0,f.delete(k)),g.needsAnimating[k]=!0;const C=e.getValue(k);C&&(C.liveStyle=!1)};for(const k in P){const C=F[k],T=U[k];if(p.hasOwnProperty(k))continue;let L=!1;Kw(C)&&Kw(T)?L=!u4(C,T):L=C!==T,L?C!=null?v(k):f.add(k):C!==void 0&&f.has(k)?v(k):g.protectedKeys[k]=!0}g.prevProp=w,g.prevResolvedValues=F,g.isActive&&(p={...p,...F}),r&&e.blockInitialAnimation&&(B=!1),B&&(!(M&&O)||z)&&h.push(...$.map(k=>({animation:k,options:{type:b}})))}if(f.size){const y={};f.forEach(b=>{const g=e.getBaseTarget(b),w=e.getValue(b);w&&(w.liveStyle=!0),y[b]=g??null}),h.push({animation:y})}let m=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),r=!1,m?t(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=o(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=zA(),r=!0}}}function rne(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!u4(t,e):!1}function oa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zA(){return{animate:oa(!0),whileInView:oa(),whileHover:oa(),whileTap:oa(),whileDrag:oa(),whileFocus:oa(),exit:oa()}}class Yo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sne extends Yo{constructor(t){super(t),t.animationState||(t.animationState=nne(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();O0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ine=0;class one extends Yo{constructor(){super(...arguments),this.id=ine++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ane={animation:{Feature:sne},exit:{Feature:one}};function Zh(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Sf(e){return{point:{x:e.pageX,y:e.pageY}}}const lne=e=>t=>gj(t)&&e(t,Sf(t));function rh(e,t,n,r){return Zh(e,t,lne(n),r)}const VA=(e,t)=>Math.abs(e-t);function cne(e,t){const n=VA(e.x,t.x),r=VA(e.y,t.y);return Math.sqrt(n**2+r**2)}class Q4{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ev(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=cne(h.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:x}=h,{timestamp:m}=Nn;this.history.push({...x,timestamp:m});const{onStart:y,onMove:b}=this.handlers;f||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_v(f,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ev(h.type==="pointercancel"?this.lastMoveEventInfo:_v(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),x&&x(h,y)},!gj(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Sf(t),l=_v(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Nn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Ev(l,this.history)),this.removeListeners=bf(rh(this.contextWindow,"pointermove",this.handlePointerMove),rh(this.contextWindow,"pointerup",this.handlePointerUp),rh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zo(this.updatePoint)}}function _v(e,t){return t?{point:t(e.point)}:e}function HA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ev({point:e},t){return{point:e,delta:HA(e,X4(t)),offset:HA(e,une(t)),velocity:dne(t,.1)}}function une(e){return e[0]}function X4(e){return e[e.length-1]}function dne(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=X4(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ai(t)));)n--;if(!r)return{x:0,y:0};const i=Ci(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const e3=1e-4,hne=1-e3,fne=1+e3,t3=.01,pne=0-t3,mne=0+t3;function Or(e){return e.max-e.min}function gne(e,t,n){return Math.abs(e-t)<=n}function KA(e,t,n,r=.5){e.origin=r,e.originPoint=Rt(t.min,t.max,e.origin),e.scale=Or(n)/Or(t),e.translate=Rt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=hne&&e.scale<=fne||isNaN(e.scale))&&(e.scale=1),(e.translate>=pne&&e.translate<=mne||isNaN(e.translate))&&(e.translate=0)}function sh(e,t,n,r){KA(e.x,t.x,n.x,r?r.originX:void 0),KA(e.y,t.y,n.y,r?r.originY:void 0)}function WA(e,t,n){e.min=n.min+t.min,e.max=e.min+Or(t)}function yne(e,t,n){WA(e.x,t.x,n.x),WA(e.y,t.y,n.y)}function qA(e,t,n){e.min=t.min-n.min,e.max=e.min+Or(t)}function ih(e,t,n){qA(e.x,t.x,n.x),qA(e.y,t.y,n.y)}function vne(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Rt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Rt(n,e,r.max):Math.min(e,n)),e}function GA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function xne(e,{top:t,left:n,bottom:r,right:s}){return{x:GA(e.x,n,s),y:GA(e.y,t,r)}}function ZA(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function wne(e,t){return{x:ZA(e.x,t.x),y:ZA(e.y,t.y)}}function bne(e,t){let n=.5;const r=Or(e),s=Or(t);return s>r?n=pu(t.min,t.max-r,e.min):r>s&&(n=pu(e.min,e.max-s,t.min)),$i(0,1,n)}function Sne(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const nb=.35;function jne(e=nb){return e===!1?e=0:e===!0&&(e=nb),{x:YA(e,"left","right"),y:YA(e,"top","bottom")}}function YA(e,t,n){return{min:JA(e,t),max:JA(e,n)}}function JA(e,t){return typeof e=="number"?e:e[t]||0}const QA=()=>({translate:0,scale:1,origin:0,originPoint:0}),uc=()=>({x:QA(),y:QA()}),XA=()=>({min:0,max:0}),Qt=()=>({x:XA(),y:XA()});function Fr(e){return[e("x"),e("y")]}function n3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Nne({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _ne(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Av(e){return e===void 0||e===1}function rb({scale:e,scaleX:t,scaleY:n}){return!Av(e)||!Av(t)||!Av(n)}function da(e){return rb(e)||r3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function r3(e){return eC(e.x)||eC(e.y)}function eC(e){return e&&e!=="0%"}function _g(e,t,n){const r=e-n,s=t*r;return n+s}function tC(e,t,n,r,s){return s!==void 0&&(e=_g(e,s,r)),_g(e,n,r)+t}function sb(e,t=0,n=1,r,s){e.min=tC(e.min,t,n,r,s),e.max=tC(e.max,t,n,r,s)}function s3(e,{x:t,y:n}){sb(e.x,t.translate,t.scale,t.originPoint),sb(e.y,n.translate,n.scale,n.originPoint)}const nC=.999999999999,rC=1.0000000000001;function Ene(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hc(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,s3(e,o)),r&&da(i.latestValues)&&hc(e,i.latestValues))}t.x<rC&&t.x>nC&&(t.x=1),t.y<rC&&t.y>nC&&(t.y=1)}function dc(e,t){e.min=e.min+t,e.max=e.max+t}function sC(e,t,n,r,s=.5){const i=Rt(e.min,e.max,s);sb(e,t,n,i,r)}function hc(e,t){sC(e.x,t.x,t.scaleX,t.scale,t.originX),sC(e.y,t.y,t.scaleY,t.scale,t.originY)}function i3(e,t){return n3(_ne(e.getBoundingClientRect(),t))}function Ane(e,t,n){const r=i3(e,n),{scroll:s}=t;return s&&(dc(r.x,s.offset.x),dc(r.y,s.offset.y)),r}const o3=({current:e})=>e?e.ownerDocument.defaultView:null,Cne=new WeakMap;class kne{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sf(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:p,onDragStart:x}=this.getProps();if(f&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bee(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(y=>{let b=this.getAxisMotionValue(y).get()||0;if(Js.test(b)){const{projection:g}=this.visualElement;if(g&&g.layout){const w=g.layout.layoutBox[y];w&&(b=Or(w)*(parseFloat(b)/100))}}this.originPoint[y]=b}),x&&kt.postRender(()=>x(d,h)),Gw(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:x,onDrag:m}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=Tne(y),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),m&&m(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Fr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Q4(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:o3(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&kt.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Ap(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vne(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&lc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=xne(s.layoutBox,n):this.constraints=!1,this.elastic=jne(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Sne(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!lc(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Ane(r,s.root,this.visualElement.getTransformPagePoint());let o=wne(s.layout.layoutBox,i);if(n){const l=n(Nne(o));this.hasMutatedConstraints=!!l,l&&(o=n3(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Fr(d=>{if(!Ap(d,n,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,p=s?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Gw(this.visualElement,t),r.start(Cj(t,r,0,n,this.visualElement,!1))}stopAnimation(){Fr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fr(n=>{const{drag:r}=this.getProps();if(!Ap(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[n];i.set(t[n]-Rt(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fr(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=bne({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fr(o=>{if(!Ap(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Rt(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Cne.set(this.visualElement,this);const t=this.visualElement.current,n=rh(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();lc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),kt.read(r);const o=Zh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fr(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=nb,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Ap(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Tne(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Pne extends Yo{constructor(t){super(t),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new kne(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const iC=e=>(t,n)=>{e&&kt.postRender(()=>e(t,n))};class Ine extends Yo{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(t){this.session=new Q4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:iC(t),onStart:iC(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&kt.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=rh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oC(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ye.test(e))e=parseFloat(e);else return e;const n=oC(e,t.target.x),r=oC(e,t.target.y);return`${n}% ${r}%`}},Mne={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Vo.parse(e);if(s.length>5)return r;const i=Vo.createTransformer(e),o=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=Rt(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class One extends S.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;eee(Rne),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||kt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),rj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function a3(e){const[t,n]=VD(),r=S.useContext(ZS);return a.jsx(One,{...e,layoutGroup:r,switchLayoutGroup:S.useContext(JD),isPresent:t,safeToRemove:n})}const Rne={borderRadius:{...xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xd,borderTopRightRadius:xd,borderBottomLeftRadius:xd,borderBottomRightRadius:xd,boxShadow:Mne};function Dne(e,t,n){const r=Ln(e)?e:qh(e);return r.start(Cj("",r,t,n)),r.animation}function $ne(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Lne=(e,t)=>e.depth-t.depth;class Bne{constructor(){this.children=[],this.isDirty=!1}add(t){yj(this.children,t),this.isDirty=!0}remove(t){vj(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Lne),this.isDirty=!1,this.children.forEach(t)}}function Fne(e,t){const n=Qs.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(zo(r),e(i-t))};return kt.read(r,!0),()=>zo(r)}const l3=["TopLeft","TopRight","BottomLeft","BottomRight"],Une=l3.length,aC=e=>typeof e=="string"?parseFloat(e):e,lC=e=>typeof e=="number"||ye.test(e);function zne(e,t,n,r,s,i){s?(e.opacity=Rt(0,n.opacity!==void 0?n.opacity:1,Vne(r)),e.opacityExit=Rt(t.opacity!==void 0?t.opacity:1,0,Hne(r))):i&&(e.opacity=Rt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Une;o++){const l=`border${l3[o]}Radius`;let c=cC(t,l),u=cC(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||lC(c)===lC(u)?(e[l]=Math.max(Rt(aC(c),aC(u),r),0),(Js.test(u)||Js.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Rt(t.rotate||0,n.rotate||0,r))}function cC(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Vne=c3(0,.5,A4),Hne=c3(.5,.95,Pr);function c3(e,t,n){return r=>r<e?0:r>t?1:n(pu(e,t,r))}function uC(e,t){e.min=t.min,e.max=t.max}function Br(e,t){uC(e.x,t.x),uC(e.y,t.y)}function dC(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hC(e,t,n,r,s){return e-=t,e=_g(e,1/n,r),s!==void 0&&(e=_g(e,1/s,r)),e}function Kne(e,t=0,n=1,r=.5,s,i=e,o=e){if(Js.test(t)&&(t=parseFloat(t),t=Rt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Rt(i.min,i.max,r);e===i&&(l-=t),e.min=hC(e.min,t,n,l,s),e.max=hC(e.max,t,n,l,s)}function fC(e,t,[n,r,s],i,o){Kne(e,t[n],t[r],t[s],t.scale,i,o)}const Wne=["x","scaleX","originX"],qne=["y","scaleY","originY"];function pC(e,t,n,r){fC(e.x,t,Wne,n?n.x:void 0,r?r.x:void 0),fC(e.y,t,qne,n?n.y:void 0,r?r.y:void 0)}function mC(e){return e.translate===0&&e.scale===1}function u3(e){return mC(e.x)&&mC(e.y)}function gC(e,t){return e.min===t.min&&e.max===t.max}function Gne(e,t){return gC(e.x,t.x)&&gC(e.y,t.y)}function yC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function d3(e,t){return yC(e.x,t.x)&&yC(e.y,t.y)}function vC(e){return Or(e.x)/Or(e.y)}function xC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Zne{constructor(){this.members=[]}add(t){yj(this.members,t),t.scheduleRender()}remove(t){if(vj(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yne(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:p,skewY:x}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const ha={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pd=typeof window<"u"&&window.MotionDebug!==void 0,Cv=["","X","Y","Z"],Jne={visibility:"hidden"},wC=1e3;let Qne=0;function kv(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function h3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=w4(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",kt,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&h3(r)}function f3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Qne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pd&&(ha.totalNodes=ha.resolvedTargetDeltas=ha.recalculatedProjection=0),this.nodes.forEach(tre),this.nodes.forEach(ore),this.nodes.forEach(are),this.nodes.forEach(nre),Pd&&window.MotionDebug.record(ha)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bne)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new xj),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=$ne(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Fne(f,250),dm.hasAnimatedSinceResize&&(dm.hasAnimatedSinceResize=!1,this.nodes.forEach(SC))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||hre,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=d.getProps(),g=!this.targetLayout||!d3(this.targetLayout,x)||p,w=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const j={...fj(m,"layout"),onPlay:y,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else f||SC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&h3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bC);return}this.isUpdating||this.nodes.forEach(sre),this.isUpdating=!1,this.nodes.forEach(ire),this.nodes.forEach(Xne),this.nodes.forEach(ere),this.clearAllSnapshots();const l=Qs.now();Nn.delta=$i(0,1e3/60,l-Nn.timestamp),Nn.timestamp=l,Nn.isProcessing=!0,xv.update.process(Nn),xv.preRender.process(Nn),xv.render.process(Nn),Nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rre),this.sharedNodes.forEach(cre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!u3(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||da(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),fre(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Qt();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(pre))){const{scroll:d}=this.root;d&&(dc(c.x,d.offset.x),dc(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Qt();if(Br(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Br(c,o),dc(c.x,h.offset.x),dc(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=Qt();Br(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&hc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),da(d.latestValues)&&hc(c,d.latestValues)}return da(this.latestValues)&&hc(c,this.latestValues),c}removeTransform(o){const l=Qt();Br(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!da(u.latestValues))continue;rb(u.latestValues)&&u.updateSnapshot();const d=Qt(),h=u.measurePageBox();Br(d,h),pC(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return da(this.latestValues)&&pC(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Nn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),ih(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Br(this.target,this.layout.layoutBox),s3(this.target,this.targetDelta)):Br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),ih(this.relativeTargetOrigin,this.target,p.target),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pd&&ha.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rb(this.parent.latestValues)||r3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Nn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Br(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Ene(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Qt());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dC(this.prevProjectionDelta.x,this.projectionDelta.x),dC(this.prevProjectionDelta.y,this.projectionDelta.y)),sh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!xC(this.projectionDelta.x,this.prevProjectionDelta.x)||!xC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Pd&&ha.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uc(),this.projectionDelta=uc(),this.projectionDeltaWithTransform=uc()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=uc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Qt(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,m=p!==x,y=this.getStack(),b=!y||y.members.length<=1,g=!!(m&&!b&&this.options.crossfade===!0&&!this.path.some(dre));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const E=j/1e3;jC(h.x,o.x,E),jC(h.y,o.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ih(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ure(this.relativeTarget,this.relativeTargetOrigin,f,E),w&&Gne(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Qt()),Br(w,this.relativeTarget)),m&&(this.animationValues=d,zne(d,u,this.latestValues,E,g,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{dm.hasAnimatedSinceResize=!0,this.currentAnimation=Dne(0,wC,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&p3(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Qt();const h=Or(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Or(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Br(l,c),hc(l,d),sh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Zne),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&kv("z",o,u,this.animationValues);for(let d=0;d<Cv.length;d++)kv(`rotate${Cv[d]}`,o,u,this.animationValues),kv(`skew${Cv[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Jne;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=cm(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=cm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!da(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Yne(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in wg){if(f[m]===void 0)continue;const{correct:y,applyTo:b}=wg[m],g=u.transform==="none"?f[m]:y(f[m],h);if(b){const w=b.length;for(let j=0;j<w;j++)u[b[j]]=g}else u[m]=g}return this.options.layoutId&&(u.pointerEvents=h===this?cm(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(bC),this.root.sharedNodes.clear()}}}function Xne(e){e.updateLayout()}function ere(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Fr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Or(f);f.min=r[h].min,f.max=f.min+p}):p3(i,n.layoutBox,r)&&Fr(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=Or(r[h]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=uc();sh(l,r,n.layoutBox);const c=uc();o?sh(c,e.applyTransform(s,!0),n.measuredBox):sh(c,r,n.layoutBox);const u=!u3(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const x=Qt();ih(x,n.layoutBox,f.layoutBox);const m=Qt();ih(m,r,p.layoutBox),d3(x,m)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function tre(e){Pd&&ha.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nre(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rre(e){e.clearSnapshot()}function bC(e){e.clearMeasurements()}function sre(e){e.isLayoutDirty=!1}function ire(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function SC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ore(e){e.resolveTargetDelta()}function are(e){e.calcProjection()}function lre(e){e.resetSkewAndRotation()}function cre(e){e.removeLeadSnapshot()}function jC(e,t,n){e.translate=Rt(t.translate,0,n),e.scale=Rt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function NC(e,t,n,r){e.min=Rt(t.min,n.min,r),e.max=Rt(t.max,n.max,r)}function ure(e,t,n,r){NC(e.x,t.x,n.x,r),NC(e.y,t.y,n.y,r)}function dre(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hre={duration:.45,ease:[.4,0,.1,1]},_C=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),EC=_C("applewebkit/")&&!_C("chrome/")?Math.round:Pr;function AC(e){e.min=EC(e.min),e.max=EC(e.max)}function fre(e){AC(e.x),AC(e.y)}function p3(e,t,n){return e==="position"||e==="preserve-aspect"&&!gne(vC(t),vC(n),.2)}function pre(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const mre=f3({attachResizeListener:(e,t)=>Zh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tv={current:void 0},m3=f3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Tv.current){const e=new mre({});e.mount(window),e.setOptions({layoutScroll:!0}),Tv.current=e}return Tv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),gre={pan:{Feature:Ine},drag:{Feature:Pne,ProjectionNode:m3,MeasureLayout:a3}};function CC(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&kt.postRender(()=>i(t,Sf(t)))}class yre extends Yo{mount(){const{current:t}=this.node;t&&(this.unmount=gee(t,n=>(CC(this.node,n,"Start"),r=>CC(this.node,r,"End"))))}unmount(){}}class vre extends Yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bf(Zh(this.node.current,"focus",()=>this.onFocus()),Zh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kC(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&kt.postRender(()=>i(t,Sf(t)))}class xre extends Yo{mount(){const{current:t}=this.node;t&&(this.unmount=wee(t,n=>(kC(this.node,n,"Start"),(r,{success:s})=>kC(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ib=new WeakMap,Pv=new WeakMap,wre=e=>{const t=ib.get(e.target);t&&t(e)},bre=e=>{e.forEach(wre)};function Sre({root:e,...t}){const n=e||document;Pv.has(n)||Pv.set(n,{});const r=Pv.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(bre,{root:e,...t})),r[s]}function jre(e,t,n){const r=Sre(t);return ib.set(e,n),r.observe(e),()=>{ib.delete(e),r.unobserve(e)}}const Nre={some:0,all:1};class _re extends Yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Nre[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return jre(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ere(t,n))&&this.startObserver()}unmount(){}}function Ere({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Are={inView:{Feature:_re},tap:{Feature:xre},focus:{Feature:vre},hover:{Feature:yre}},Cre={layout:{ProjectionNode:m3,MeasureLayout:a3}},ob={current:null},g3={current:!1};function kre(){if(g3.current=!0,!!QS)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ob.current=e.matches;e.addListener(t),t()}else ob.current=!1}const Tre=[...U4,On,Vo],Pre=e=>Tre.find(F4(e)),TC=new WeakMap;function Ire(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ln(s))e.addValue(r,s);else if(Ln(i))e.addValue(r,qh(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,qh(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const PC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mre{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_j,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Qs.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,kt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=R0(n),this.isVariantNode=ZD(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const x=f[p];c[p]!==void 0&&Ln(x)&&x.set(c[p],!1)}}mount(t){this.current=t,TC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),g3.current||kre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ob.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TC.delete(this.current),this.projection&&this.projection.unmount(),zo(this.notifyUpdate),zo(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Nl.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mu){const n=mu[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<PC.length;r++){const s=PC[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Ire(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=qh(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(L4(s)||k4(s))?s=parseFloat(s):!Pre(s)&&Vo.test(n)&&(s=R4(t,n)),this.setBaseTarget(t,Ln(s)?s.get():s)),Ln(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=ij(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ln(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new xj),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class y3 extends Mre{constructor(){super(...arguments),this.KeyframeResolver=z4}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ln(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ore(e){return window.getComputedStyle(e)}class Rre extends y3{constructor(){super(...arguments),this.type="html",this.renderInstance=s4}readValueFromInstance(t,n){if(Nl.has(n)){const r=Nj(n);return r&&r.default||0}else{const r=Ore(t),s=(t4(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return i3(t,n)}build(t,n,r){lj(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return hj(t,n,r)}}class Dre extends y3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Nl.has(n)){const r=Nj(n);return r&&r.default||0}return n=i4.has(n)?n:nj(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return l4(t,n,r)}build(t,n,r){cj(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){o4(t,n,r,s)}mount(t){this.isSVGTag=dj(t.tagName),super.mount(t)}}const $re=(e,t)=>sj(e)?new Dre(t):new Rre(t,{allowProjection:e!==S.Fragment}),Lre=cee({...ane,...Are,...gre,...Cre},$re),sn=NX(Lre);function Bre(){return a.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[a.jsx(sn.div,{className:"absolute top-1/4 -left-10 w-72 h-72 bg-purple-300 rounded-full mix-blend-multiply filter blur-xl opacity-20",animate:{x:[0,100,0],y:[0,-50,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),a.jsx(sn.div,{className:"absolute top-1/2 -right-10 w-72 h-72 bg-yellow-300 rounded-full mix-blend-multiply filter blur-xl opacity-20",animate:{x:[0,-100,0],y:[0,50,0]},transition:{duration:15,repeat:1/0,ease:"easeInOut"}}),a.jsx(sn.div,{className:"absolute bottom-1/4 left-1/2 w-72 h-72 bg-blue-300 rounded-full mix-blend-multiply filter blur-xl opacity-20",animate:{x:[0,50,0],y:[0,-100,0]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}})]})}function Fre(){return a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-20 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[a.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[a.jsxs(sn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"inline-flex items-center rounded-full bg-white/80 px-4 py-2 text-sm font-medium text-gray-700 ring-1 ring-gray-200 backdrop-blur-sm mb-8",children:[a.jsx(Mr,{className:"w-4 h-4 mr-2 text-yellow-500"})," Built for Stacks Vibe Coding Hackathon 2025"]}),a.jsxs(sn.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl sm:text-6xl lg:text-7xl font-bold tracking-tight mb-6",children:[a.jsx("span",{className:"block text-gray-900",children:"AI-Powered"}),a.jsx("span",{className:"block bg-gradient-to-r from-blue-600 via-purple-600 to-orange-500 text-gradient",children:"Smart Invoices"})]}),a.jsx(sn.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl sm:text-2xl text-gray-600 max-w-4xl mx-auto mb-10 leading-relaxed",children:"Transform natural language into secure, Bitcoin-native contracts. Automate DAO contractor payments with AI-generated Clarity contracts on Stacks."}),a.jsxs(sn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-2xl mx-auto text-gray-700 mb-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"10x"}),a.jsx("div",{className:"text-gray-600",children:"Faster Contract Creation"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"100%"}),a.jsx("div",{className:"text-gray-600",children:"Clarity Security"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:"$0"}),a.jsx("div",{className:"text-gray-600",children:"Dispute Costs"})]})]}),a.jsxs(sn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-16",children:[a.jsx(Ce,{to:"/app",children:a.jsxs(Y,{size:"lg",className:"group bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 h-14 px-10 text-lg",children:[" Try Live Demo",a.jsx($o,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),a.jsx(Y,{size:"lg",variant:"outline",className:"group h-14 px-10 text-lg",asChild:!0,children:a.jsxs("a",{href:"#demo",children:[a.jsx(ZI,{className:"mr-2 w-5 h-5"}),"Watch Demo Video"]})}),a.jsx(Y,{size:"lg",variant:"outline",className:"group h-14 px-10 text-lg",asChild:!0,children:a.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Yc,{className:"mr-2 w-5 h-5"}),"View on GitHub"]})})]}),a.jsx(sn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex flex-wrap justify-center gap-4",children:["Stacks","Clarity","sBTC","AI","Bitcoin","DAO"].map(e=>a.jsx("div",{className:"px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full text-sm font-medium text-gray-700 ring-1 ring-gray-200",children:e},e))})]}),a.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:[a.jsx(sn.div,{className:"absolute top-1/4 left-1/4 w-4 h-4 bg-orange-500 rounded-full",animate:{y:[0,-20,0],opacity:[.5,1,.5]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),a.jsx(sn.div,{className:"absolute top-1/3 right-1/4 w-6 h-6 bg-blue-500 rounded-full",animate:{y:[0,20,0],opacity:[.7,1,.7]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:1}}),a.jsx(sn.div,{className:"absolute bottom-1/4 left-1/3 w-3 h-3 bg-purple-500 rounded-full",animate:{y:[0,-15,0],opacity:[.3,.8,.3]},transition:{duration:2.5,repeat:1/0,ease:"easeInOut",delay:.5}})]})]})}const Ure=[{icon:Xs,title:"AI-Powered Development",description:"NLP converts project descriptions into production-ready Clarity smart contracts with security checks and parameterization.",color:"from-blue-500 to-cyan-500"},{icon:Ar,title:"Bank-Grade Security",description:"Leverages Clarity's decidability, no reentrancy, predictable gas, and optional formal verification for escrow contracts.",color:"from-green-500 to-emerald-500"},{icon:Vm,title:"Bitcoin-Native",description:"Settle invoices in sBTC, unlocking Bitcoin as a payments rail for DAOs and real-world services.",color:"from-orange-500 to-yellow-500"},{icon:Mr,title:"Instant Deployment",description:"One-click deployment to Stacks testnet/mainnet with automated contract verification and optimization.",color:"from-purple-500 to-pink-500"},{icon:ei,title:"Time-Saving Automation",description:"Reduce invoice processing time from weeks to minutes with automated milestone tracking and payment releases.",color:"from-red-500 to-rose-500"},{icon:Jc,title:"DAO-Ready",description:"Built for decentralized organizations with multi-sig support, voting mechanisms, and transparent treasury management.",color:"from-indigo-500 to-blue-500"}];function zre(){return a.jsx("section",{id:"features",className:"py-20 px-4 sm:px-6 lg:px-8 bg-white/50 backdrop-blur-sm",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(sn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose BitMind?"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Built for DAOs: AIClaritysBTC  secure, auditable, and automated."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Ure.map((e,t)=>a.jsx(sn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:t*.1},whileHover:{scale:1.05},className:"group relative",children:a.jsxs("div",{className:"relative bg-white rounded-3xl p-8 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[a.jsx("div",{className:`w-14 h-14 bg-gradient-to-r ${e.color} rounded-2xl flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-300`,children:a.jsx(e.icon,{className:"w-7 h-7"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description}),a.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-r opacity-0 group-hover:opacity-5 transition-opacity duration-300 from-gray-900 to-gray-700"})]})},e.title))})]})})}const Vre=[{number:"1",title:"Describe Your Project",description:"Use natural language to describe scope, milestones, and budget."},{number:"2",title:"AI Generates Contract",description:"AI processes text and generates a secure Clarity contract ready for deployment."},{number:"3",title:"Deploy & Fund Escrow",description:"Deploy to Stacks testnet and fund the escrow with sBTC or STX."},{number:"4",title:"Automated Payments",description:"Milestones trigger automatic payments. Disputes go to pre-selected arbitrators."}];function Hre(){return a.jsx("section",{id:"demo",className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 text-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(sn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4",children:"See It In Action"}),a.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Experience the complete AI-to-blockchain workflow  no blockchain knowledge required."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"space-y-8",children:[Vre.map((e,t)=>a.jsxs(sn.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:t*.1},className:"flex items-start space-x-6 group",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg group-hover:scale-110 transition-transform duration-300",children:e.number}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-semibold mb-2",children:e.title}),a.jsx("p",{className:"text-gray-300",children:e.description})]})]},e.number)),a.jsx(sn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"pt-6",children:a.jsx(Ce,{to:"/app",children:a.jsxs(Y,{size:"lg",className:"group bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",children:[" Launch Interactive Demo",a.jsx($o,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})})]}),a.jsx(sn.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"relative",children:a.jsxs("div",{className:"bg-gray-800 rounded-3xl p-8 shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),a.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),a.jsx("div",{className:"text-sm text-gray-400",children:"AI Invoice Generator"})]}),a.jsxs("div",{className:"bg-gray-900 rounded-2xl p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[a.jsx(Yn,{className:"w-5 h-5"}),a.jsx("span",{className:"font-mono text-sm",children:"AI: Analyzing invoice description..."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 font-mono text-sm text-gray-300",children:[a.jsx("div",{className:"text-green-400",children:"$ Invoice: Website redesign"}),a.jsx("div",{className:"text-blue-400",children:"$ Amount: 0.05 sBTC"}),a.jsx("div",{className:"text-purple-400",children:"$ Milestones: 2"}),a.jsx("div",{className:"text-yellow-400",children:"$ Deadline: 2025-10-20"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-blue-400",children:[a.jsx(Yn,{className:"w-5 h-5"}),a.jsx("span",{className:"font-mono text-sm",children:"Generating Clarity contract..."})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[a.jsx("div",{className:"text-green-400 text-sm mb-2",children:"Contract deployed successfully!"}),a.jsx("div",{className:"text-xs text-gray-400 break-all",children:"ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.smart-invoice-v1"})]})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(Ce,{to:"/demo",children:a.jsx(Y,{size:"lg",className:"rounded-full w-16 h-16 p-0 opacity-90 hover:opacity-100 transition-opacity bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:a.jsx(ZI,{className:"w-6 h-6 ml-1"})})})})]})})]})]})})}function Kre(){return a.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-blue-600 via-purple-600 to-orange-500 text-white",children:a.jsx("div",{className:"max-w-4xl mx-auto text-center",children:a.jsxs(sn.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-6",children:"Ready to Transform DAO Payments?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join the future of decentralized finance with AI-powered, Bitcoin-native smart invoices."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-8",children:[a.jsx(Ce,{to:"/app",children:a.jsxs(Y,{size:"lg",className:"group bg-white text-gray-900 hover:bg-gray-100 h-14 px-10 text-lg",children:[" Launch DApp",a.jsx($o,{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),a.jsx(Y,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10 h-14 px-10 text-lg",asChild:!0,children:a.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Yc,{className:"mr-2 w-5 h-5"}),"Star on GitHub"]})})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:"$25K+"}),a.jsx("div",{className:"text-blue-200 text-sm",children:"Prize Pool"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:"476"}),a.jsx("div",{className:"text-blue-200 text-sm",children:"Hackers"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:"4"}),a.jsx("div",{className:"text-blue-200 text-sm",children:"Days Left"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:"1st"}),a.jsx("div",{className:"text-blue-200 text-sm",children:"Place Goal"})]})]})]})})})}function v3(){return a.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"col-span-1 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-blue-600 rounded-xl flex items-center justify-center",children:a.jsx(Xs,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xl font-bold",children:"BitMind"}),a.jsx("div",{className:"text-sm text-gray-400",children:"Where Bitcoin learns to think"})]})]}),a.jsx("p",{className:"text-gray-400 max-w-md",children:"AI-powered smart invoicing for DAOs on Stacks. Transform natural language into Bitcoin-backed Clarity smart contracts."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#features",className:"hover:text-white transition-colors",children:"Features"})}),a.jsx("li",{children:a.jsx("a",{href:"#demo",className:"hover:text-white transition-colors",children:"Demo"})}),a.jsx("li",{children:a.jsx("a",{href:"/help",className:"hover:text-white transition-colors",children:"Documentation"})}),a.jsx("li",{children:a.jsx("a",{href:"/dashboard",className:"hover:text-white transition-colors",children:"Dashboard"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Community"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"https://github.com",className:"hover:text-white transition-colors",children:"GitHub"})}),a.jsx("li",{children:a.jsx("a",{href:"https://twitter.com",className:"hover:text-white transition-colors",children:"Twitter"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Discord"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Telegram"})})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsx("div",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:" 2025 BitMind. Built for Stacks Vibe Coding Hackathon."}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"https://github.com",className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(Yc,{className:"w-5 h-5"})}),a.jsx("a",{href:"https://twitter.com",className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(RF,{className:"w-5 h-5"})}),a.jsx("a",{href:"mailto:contact@bitmind.app",className:"text-gray-400 hover:text-white transition-colors",children:a.jsx(CF,{className:"w-5 h-5"})})]})]})]})})}function Wre(){const[e,t]=S.useState(!1);return a.jsxs("nav",{className:"fixed top-0 w-full z-50 glass-effect border-b border-gray-200/20",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs(Ce,{to:"/landing",className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-blue-600 rounded-xl flex items-center justify-center",children:a.jsx(Xs,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 text-gradient",children:"BitMind"}),a.jsx("span",{className:"text-xs text-gray-500 -mt-1 hidden sm:block",children:"Where Bitcoin learns to think"})]})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[a.jsx("a",{href:"#features",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Features"}),a.jsx("a",{href:"#demo",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Demo"}),a.jsx(Ce,{to:"/",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Dashboard"}),a.jsx(Ce,{to:"/help",className:"text-gray-700 hover:text-gray-900 font-medium transition-colors",children:"Help"})]}),a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.jsx(Y,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Yc,{className:"mr-2 w-4 h-4"}),"GitHub"]})}),a.jsx(Ce,{to:"/",children:a.jsx(Y,{size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",children:"Launch App"})})]}),a.jsx("button",{className:"md:hidden p-2",onClick:()=>t(!e),children:e?a.jsx(Eu,{className:"w-6 h-6"}):a.jsx(GI,{className:"w-6 h-6"})})]})}),a.jsx(gX,{children:e&&a.jsx(sn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white/95 backdrop-blur-lg border-b border-gray-200",children:a.jsxs("div",{className:"px-4 py-4 space-y-4",children:[a.jsx("a",{href:"#features",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>t(!1),children:"Features"}),a.jsx("a",{href:"#demo",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>t(!1),children:"Demo"}),a.jsx(Ce,{to:"/",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>t(!1),children:"Dashboard"}),a.jsx(Ce,{to:"/help",className:"block text-gray-700 hover:text-gray-900 font-medium",onClick:()=>t(!1),children:"Help"}),a.jsxs("div",{className:"pt-4 space-y-2",children:[a.jsx(Y,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Yc,{className:"mr-2 w-4 h-4"}),"GitHub"]})}),a.jsx(Ce,{to:"/",children:a.jsx(Y,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700",children:"Launch App"})})]})]})})})]})}const qre=()=>a.jsxs("div",{className:"relative min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[a.jsx(Bre,{}),a.jsx(Wre,{}),a.jsx(Fre,{}),a.jsx(zre,{}),a.jsx(Hre,{}),a.jsx(Kre,{}),a.jsx(v3,{})]}),Gre=()=>a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[a.jsx(es,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("header",{className:"mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-2 text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Monitor your DAO's invoice activities and treasury metrics"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[a.jsxs(K,{className:"border-l-4 border-l-blue-500 hover:shadow-lg transition-shadow",children:[a.jsxs(se,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Jn,{className:"w-8 h-8 text-blue-600"}),a.jsx(pr,{className:"w-5 h-5 text-green-500"})]}),a.jsx(ie,{className:"text-lg",children:"Active Invoices"}),a.jsx(je,{children:"Current ongoing deals"})]}),a.jsxs(q,{children:[a.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"12"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"+3 this month"})]})]}),a.jsxs(K,{className:"border-l-4 border-l-purple-500 hover:shadow-lg transition-shadow",children:[a.jsxs(se,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(dr,{className:"w-8 h-8 text-purple-600"}),a.jsx(Zc,{className:"w-5 h-5 text-purple-500"})]}),a.jsx(ie,{className:"text-lg",children:"Total Value"}),a.jsx(je,{children:"Locked in escrow"})]}),a.jsxs(q,{children:[a.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"$45.2K"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Across 12 deals"})]})]}),a.jsxs(K,{className:"border-l-4 border-l-green-500 hover:shadow-lg transition-shadow",children:[a.jsxs(se,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx($_,{className:"w-8 h-8 text-green-600"}),a.jsx(ei,{className:"w-5 h-5 text-green-500"})]}),a.jsx(ie,{className:"text-lg",children:"Milestones"}),a.jsx(je,{children:"Completed this month"})]}),a.jsxs(q,{children:[a.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"24"}),a.jsx("p",{className:"text-sm text-green-600 mt-1",children:"96% on time"})]})]}),a.jsxs(K,{className:"border-l-4 border-l-orange-500 hover:shadow-lg transition-shadow",children:[a.jsxs(se,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ar,{className:"w-8 h-8 text-orange-600"}),a.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-semibold",children:"ACTIVE"})]}),a.jsx(ie,{className:"text-lg",children:"Disputes"}),a.jsx(je,{children:"Currently active"})]}),a.jsxs(q,{children:[a.jsx("p",{className:"text-4xl font-bold text-gray-900",children:"2"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"1 pending review"})]})]})]}),a.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(K,{className:"shadow-md",children:[a.jsx(se,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ie,{className:"text-2xl",children:"Recent Invoices"}),a.jsx(je,{children:"Your latest invoice activities"})]}),a.jsx(Y,{variant:"outline",size:"sm",children:"View All"})]})}),a.jsx(q,{children:a.jsx("div",{className:"space-y-4",children:[{id:"INV-001",status:"funded",amount:"$12,500",dao:"DeFi DAO",progress:75,contractor:"Alice Johnson",dueDate:"Dec 31, 2024"},{id:"INV-002",status:"pending",amount:"$8,300",dao:"NFT Collective",progress:0,contractor:"Bob Smith",dueDate:"Jan 15, 2025"},{id:"INV-003",status:"completed",amount:"$15,000",dao:"Web3 Guild",progress:100,contractor:"Carol White",dueDate:"Dec 20, 2024"},{id:"INV-004",status:"funded",amount:"$9,200",dao:"DAO Builders",progress:40,contractor:"David Lee",dueDate:"Jan 10, 2025"}].map(e=>a.jsxs("div",{className:"flex items-center justify-between p-5 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:shadow-md transition-all",children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx(Jn,{className:"w-8 h-8 text-gray-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("p",{className:"font-bold text-lg",children:e.id}),a.jsx(pe,{variant:e.status==="completed"?"default":e.status==="funded"?"secondary":"outline",children:e.status})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[e.dao,"  ",e.contractor]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 max-w-xs",children:a.jsx("div",{className:`h-2 rounded-full ${e.status==="completed"?"bg-green-500":e.status==="funded"?"bg-blue-500":"bg-gray-300"}`,style:{width:`${e.progress}%`}})}),a.jsxs("span",{className:"text-xs text-gray-500",children:[e.progress,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-xl text-gray-900",children:e.amount}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",e.dueDate]})]}),a.jsx(Y,{size:"sm",variant:"outline",children:"View"})]})]},e.id))})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(K,{className:"shadow-md",children:[a.jsx(se,{children:a.jsx(ie,{className:"text-xl",children:"Quick Actions"})}),a.jsxs(q,{className:"space-y-3",children:[a.jsxs(Y,{className:"w-full justify-start",size:"lg",children:[a.jsx(Jn,{className:"mr-2 w-5 h-5"}),"Create New Invoice"]}),a.jsxs(Y,{variant:"outline",className:"w-full justify-start",size:"lg",children:[a.jsx(dr,{className:"mr-2 w-5 h-5"}),"Fund Escrow"]}),a.jsxs(Y,{variant:"outline",className:"w-full justify-start",size:"lg",children:[a.jsx($_,{className:"mr-2 w-5 h-5"}),"Review Milestone"]}),a.jsxs(Y,{variant:"outline",className:"w-full justify-start",size:"lg",children:[a.jsx(Ar,{className:"mr-2 w-5 h-5"}),"View Disputes"]})]})]}),a.jsxs(K,{className:"shadow-md bg-gradient-to-br from-blue-50 to-indigo-50",children:[a.jsxs(se,{children:[a.jsx(ie,{className:"text-xl",children:"Treasury Health"}),a.jsx(je,{children:"Overall DAO metrics"})]}),a.jsxs(q,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium",children:"Success Rate"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:"98.5%"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium",children:"Avg. Completion"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:"12 days"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium",children:"Total Paid"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:"$342K"})]})]})]})]})]})]})]}),Zre=()=>{const[e,t]=S.useState("all"),[n,r]=S.useState([]),[s,i]=S.useState(!0),[o,l]=S.useState("");S.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0);const p=await Hw.getAllInvoices();r(p)}catch(p){console.error("Failed to load invoices:",p)}finally{i(!1)}},u=n.filter(p=>{var y;const x=e==="all"||p.status.toLowerCase()===e,m=o===""||p.projectTitle.toLowerCase().includes(o.toLowerCase())||p.id.toLowerCase().includes(o.toLowerCase())||((y=p.daoName)==null?void 0:y.toLowerCase().includes(o.toLowerCase()));return x&&m}),d=p=>{const x=p.milestones.filter(m=>m.status==="RELEASED").length;return Math.round(x/p.milestones.length*100)};if(s)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Loading invoices..."})]})});const h=p=>{switch(p){case"completed":return a.jsx(ji,{className:"w-5 h-5 text-green-500"});case"funded":return a.jsx(ei,{className:"w-5 h-5 text-blue-500"});case"pending":return a.jsx(jc,{className:"w-5 h-5 text-yellow-500"});case"dispute":return a.jsx(jc,{className:"w-5 h-5 text-red-500"});default:return null}},f=p=>({completed:"default",funded:"secondary",pending:"outline",dispute:"destructive"})[p]||"outline";return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Invoice Manager"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Create, track, and manage all your DAO invoices"})]}),a.jsxs(Y,{size:"lg",className:"shadow-lg",children:[a.jsx(Bn,{className:"mr-2 w-5 h-5"}),"Create with AI"]})]})}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[a.jsx(K,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Invoices"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.length})]}),a.jsx(Jn,{className:"w-10 h-10 text-blue-500"})]})})}),a.jsx(K,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.filter(p=>p.status==="ACTIVE").length})]}),a.jsx(ei,{className:"w-10 h-10 text-blue-500"})]})})}),a.jsx(K,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.filter(p=>p.status==="COMPLETED").length})]}),a.jsx(ji,{className:"w-10 h-10 text-green-500"})]})})}),a.jsx(K,{className:"bg-white shadow-md hover:shadow-lg transition-shadow",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Disputes"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:n.filter(p=>p.status==="DISPUTED").length})]}),a.jsx(jc,{className:"w-10 h-10 text-red-500"})]})})})]}),a.jsx(K,{className:"mb-8 shadow-md",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(MF,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",value:o,onChange:p=>l(p.target.value),placeholder:"Search invoices by ID, DAO, or project title...",className:"w-full pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{variant:e==="all"?"default":"outline",onClick:()=>t("all"),size:"sm",children:"All"}),a.jsx(Y,{variant:e==="pending"?"default":"outline",onClick:()=>t("pending"),size:"sm",children:"Pending"}),a.jsx(Y,{variant:e==="funded"?"default":"outline",onClick:()=>t("funded"),size:"sm",children:"Active"}),a.jsx(Y,{variant:e==="completed"?"default":"outline",onClick:()=>t("completed"),size:"sm",children:"Completed"}),a.jsx(Y,{variant:e==="dispute"?"default":"outline",onClick:()=>t("dispute"),size:"sm",children:"Disputes"})]})]})})}),a.jsx("div",{className:"space-y-4",children:u.map(p=>a.jsx(K,{className:"shadow-md hover:shadow-xl transition-all border-l-4 border-l-blue-500",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:a.jsx(Jn,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:p.id}),a.jsx(pe,{variant:f(p.status),children:p.status.toUpperCase()}),h(p.status)]}),a.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:p.projectTitle}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(DF,{className:"w-4 h-4"}),a.jsxs("span",{children:[p.contractorAddress.slice(0,8),"..."]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Zc,{className:"w-4 h-4"}),a.jsx("span",{children:p.daoName||"DAO"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(SF,{className:"w-4 h-4"}),a.jsxs("span",{children:["Timeline: ",p.timeline||"N/A"]})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:["Milestones: ",p.milestones.filter(x=>x.status==="RELEASED").length,"/",p.milestones.length]}),a.jsxs("span",{className:"font-semibold text-gray-900",children:[d(p),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full transition-all ${p.status==="COMPLETED"?"bg-green-500":p.status==="ACTIVE"?"bg-blue-500":p.status==="DISPUTED"?"bg-red-500":"bg-gray-400"}`,style:{width:`${d(p)}%`}})})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-4 lg:min-w-[200px]",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount"}),a.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[p.totalAmount," ",p.currency]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{variant:"outline",size:"sm",children:"View Details"}),p.status==="ACTIVE"&&a.jsx(Y,{size:"sm",className:"bg-gradient-to-r from-green-600 to-emerald-600",children:"Release Payment"}),p.status==="DISPUTED"&&a.jsx(Y,{size:"sm",variant:"destructive",children:"View Dispute"})]})]})]})})},p.id))}),u.length===0&&a.jsx(K,{className:"shadow-md",children:a.jsxs(q,{className:"py-16 text-center",children:[a.jsx(Jn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No invoices found"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Try adjusting your filters or create a new invoice"}),a.jsxs(Y,{children:[a.jsx(K1,{className:"mr-2 w-5 h-5"}),"Create New Invoice"]})]})})]})})},Yre=()=>{const e=[{icon:a.jsx(Mr,{className:"w-8 h-8 text-blue-600"}),title:"AI-Powered Invoice Creation",description:"Use natural language to create invoices. Just describe what you need, and our AI will generate the smart contract.",steps:["Click 'Create New Invoice'","Describe your project in plain English","Review the generated milestones and terms","Submit for DAO approval"]},{icon:a.jsx(Vm,{className:"w-8 h-8 text-orange-600"}),title:"Escrow & Payment",description:"Secure Bitcoin-native escrow using Stacks blockchain and sBTC for trustless milestone payments.",steps:["DAO approves and funds the invoice","Funds locked in smart contract escrow","Contractor completes milestones","Payments released automatically"]},{icon:a.jsx(Jn,{className:"w-8 h-8 text-purple-600"}),title:"Milestone Management",description:"Track progress with granular milestones. Each milestone has its own deliverables and payment amounts.",steps:["Define clear milestone deliverables","Submit proof of completion","DAO reviews and approves","Funds released to contractor"]},{icon:a.jsx(Ar,{className:"w-8 h-8 text-red-600"}),title:"Dispute Resolution",description:"Fair and transparent dispute handling with decentralized arbitrators when disagreements arise.",steps:["Either party initiates dispute","Evidence submitted on-chain","Arbitrators review and vote","Binding resolution executed"]}],t=[{question:"What is BitMind?",answer:"BitMind is an AI-powered invoice escrow platform for DAOs built on the Stacks blockchain. It automates contractor payments using smart contracts and milestone-based releases."},{question:"How does the escrow system work?",answer:"When a DAO funds an invoice, the payment is locked in a Clarity smart contract. As contractors complete milestones, the DAO reviews and approves, triggering automatic payment releases."},{question:"What happens during a dispute?",answer:"Either party can initiate a dispute. Both sides submit evidence, and selected arbitrators review the case and vote on a resolution. The smart contract automatically executes the decision."},{question:"What assets are supported?",answer:"BitMind supports sBTC (Stacks Bitcoin), STX tokens, and various bridged assets. Multi-asset invoices allow flexible payment structures."},{question:"How are arbitrators selected?",answer:"Arbitrators are randomly selected from a pool of verified community members with good reputation scores. They stake tokens to ensure honest voting."},{question:"Can I cancel an invoice?",answer:"Yes, invoices can be cancelled before being funded. After funding, both parties must agree to cancellation, or a dispute resolution process is required."}];return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Help & Documentation"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to know about using BitMind for your DAO's invoice management"})]}),a.jsxs(K,{className:"mb-12 shadow-lg border-2 border-blue-200",children:[a.jsx(se,{className:"bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(M_,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{children:[a.jsx(ie,{className:"text-3xl",children:"Quick Start Guide"}),a.jsx(je,{className:"text-base",children:"Get up and running in 5 minutes"})]})]})}),a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-blue-600 font-bold text-xl",children:"1"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Connect Wallet"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Link your Stacks wallet to get started"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-purple-600 font-bold text-xl",children:"2"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Create Invoice"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Use AI to generate smart contract terms"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"bg-orange-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-orange-600 font-bold text-xl",children:"3"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Fund Escrow"}),a.jsx("p",{className:"text-sm text-gray-600",children:"DAO approves and funds the contract"})]}),a.jsxs("div",{className:"text-center p-4",children:[a.jsx("div",{className:"bg-green-100 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-green-600 font-bold text-xl",children:"4"})}),a.jsx("h3",{className:"font-semibold mb-2",children:"Complete & Get Paid"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Finish milestones and receive payments"})]})]})})]}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Core Features"}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:e.map((n,r)=>a.jsxs(K,{className:"shadow-md hover:shadow-xl transition-all",children:[a.jsx(se,{children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 p-3 rounded-lg",children:n.icon}),a.jsxs("div",{children:[a.jsx(ie,{className:"text-xl mb-2",children:n.title}),a.jsx(je,{className:"text-base",children:n.description})]})]})}),a.jsxs(q,{children:[a.jsx("h4",{className:"font-semibold text-sm text-gray-700 mb-3",children:"How it works:"}),a.jsx("ol",{className:"space-y-2",children:n.steps.map((s,i)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:i+1}),a.jsx("span",{className:"text-sm text-gray-600",children:s})]},i))})]})]},r))})]}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Frequently Asked Questions"}),a.jsx("div",{className:"space-y-4",children:t.map((n,r)=>a.jsxs(K,{className:"shadow-md hover:shadow-lg transition-all",children:[a.jsx(se,{children:a.jsxs(ie,{className:"text-lg flex items-start gap-2",children:[a.jsx(ji,{className:"w-5 h-5 text-green-500 mt-1 flex-shrink-0"}),n.question]})}),a.jsx(q,{children:a.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.answer})})]},r))})]}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Developer Resources"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs(K,{className:"shadow-md hover:shadow-xl transition-all border-t-4 border-t-blue-500",children:[a.jsxs(se,{children:[a.jsx(H1,{className:"w-10 h-10 text-blue-600 mb-3"}),a.jsx(ie,{children:"Smart Contracts"}),a.jsx(je,{children:"Explore our open-source Clarity contracts"})]}),a.jsx(q,{children:a.jsxs(Y,{variant:"outline",className:"w-full",children:["View on GitHub",a.jsx(Ra,{className:"ml-2 w-4 h-4"})]})})]}),a.jsxs(K,{className:"shadow-md hover:shadow-xl transition-all border-t-4 border-t-purple-500",children:[a.jsxs(se,{children:[a.jsx(M_,{className:"w-10 h-10 text-purple-600 mb-3"}),a.jsx(ie,{children:"API Documentation"}),a.jsx(je,{children:"Integrate BitMind into your app"})]}),a.jsx(q,{children:a.jsxs(Y,{variant:"outline",className:"w-full",children:["Read Docs",a.jsx(Ra,{className:"ml-2 w-4 h-4"})]})})]}),a.jsxs(K,{className:"shadow-md hover:shadow-xl transition-all border-t-4 border-t-green-500",children:[a.jsxs(se,{children:[a.jsx(Jc,{className:"w-10 h-10 text-green-600 mb-3"}),a.jsx(ie,{children:"Community"}),a.jsx(je,{children:"Join our Discord for support"})]}),a.jsx(q,{children:a.jsxs(Y,{variant:"outline",className:"w-full",children:["Join Discord",a.jsx(Ra,{className:"ml-2 w-4 h-4"})]})})]})]})]}),a.jsx(K,{className:"shadow-xl bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:a.jsxs(q,{className:"py-12 text-center",children:[a.jsx(kF,{className:"w-16 h-16 mx-auto mb-6 opacity-90"}),a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Still Have Questions?"}),a.jsx("p",{className:"text-lg text-blue-100 mb-8 max-w-2xl mx-auto",children:"Our support team is here to help. Get in touch and we'll respond within 24 hours."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(Y,{size:"lg",variant:"secondary",className:"font-semibold",children:["Contact Support",a.jsx($o,{className:"ml-2 w-5 h-5"})]}),a.jsx(Y,{size:"lg",variant:"outline",className:"font-semibold bg-transparent text-white border-white hover:bg-white hover:text-blue-600",children:"Schedule Demo"})]})]})})]})})};function Jre(){const[e,t]=S.useState("octocat"),[n,r]=S.useState(null),[s,i]=S.useState(!1),[o,l]=S.useState(null),[c,u]=S.useState(null),[d,h]=S.useState(!1),[f,p]=S.useState("QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"),[x,m]=S.useState(null),[y,b]=S.useState(!1),[g,w]=S.useState("100"),[j,E]=S.useState(null),[M,O]=S.useState(!1),B=async()=>{i(!0);try{const U=await NJ(e);r(U)}catch(U){console.error("GitHub fetch error:",U),alert("Failed to fetch GitHub user")}finally{i(!1)}},z=async()=>{h(!0);try{const U=await CJ(["bitcoin","blockstack"],["usd"]);l(U.bitcoin.usd),u(U.blockstack.usd)}catch(U){console.error("Crypto fetch error:",U),alert("Failed to fetch crypto prices")}finally{h(!1)}},$=async()=>{b(!0);try{const U=await EJ(f);m(U)}catch(U){console.error("IPFS fetch error:",U),alert("Failed to fetch from IPFS")}finally{b(!1)}},F=async()=>{O(!0);try{const U=await PJ(parseFloat(g));E(U)}catch(U){console.error("Conversion error:",U),alert("Failed to convert USD to satoshis")}finally{O(!1)}};return a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Public API Integrations"}),a.jsx("p",{className:"text-gray-600",children:"No authentication required - Free and open APIs"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(K,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Yc,{className:"w-6 h-6"}),a.jsx("h3",{className:"text-xl font-bold",children:"GitHub API"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:e,onChange:U=>t(U.target.value),placeholder:"GitHub username",onKeyDown:U=>U.key==="Enter"&&B()}),a.jsx(Y,{onClick:B,disabled:s,children:s?a.jsx(wa,{className:"w-4 h-4 animate-spin"}):"Fetch"})]}),n&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-16 h-16 rounded-full"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold",children:n.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["@",n.login]})]})]}),n.bio&&a.jsx("p",{className:"text-sm",children:n.bio}),a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs("span",{children:[" ",n.public_repos," repos"]}),a.jsxs("span",{children:[" ",n.followers," followers"]})]}),n.location&&a.jsxs("p",{className:"text-sm",children:[" ",n.location]})]})]})]}),a.jsxs(K,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(pr,{className:"w-6 h-6"}),a.jsx("h3",{className:"text-xl font-bold",children:"Crypto Prices"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Y,{onClick:z,disabled:d,className:"w-full",children:[d?a.jsx(wa,{className:"w-4 h-4 animate-spin mr-2"}):a.jsx(Vm,{className:"w-4 h-4 mr-2"}),"Fetch Live Prices"]}),(o||c)&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:[o&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"Bitcoin (BTC)"}),a.jsx("span",{className:"text-lg font-bold text-orange-600",children:nA(o)})]}),c&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-semibold",children:"Stacks (STX)"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:nA(c)})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Powered by CoinGecko API"})]})]})]}),a.jsxs(K,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Ah,{className:"w-6 h-6"}),a.jsx("h3",{className:"text-xl font-bold",children:"IPFS Storage"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:f,onChange:U=>p(U.target.value),placeholder:"IPFS hash (Qm... or bafy...)"}),a.jsx(Y,{onClick:$,disabled:y,children:y?a.jsx(wa,{className:"w-4 h-4 animate-spin"}):"Fetch"})]}),x&&a.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-auto",children:a.jsx("pre",{className:"text-xs",children:JSON.stringify(x,null,2)})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Try: QmYwAPJzv5CZsnA625s3Xf2nemtYgPpHdWEz79ojWnPbdG"})]})]}),a.jsxs(K,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Vm,{className:"w-6 h-6"}),a.jsx("h3",{className:"text-xl font-bold",children:"USD  Satoshis"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",type:"number",value:g,onChange:U=>w(U.target.value),placeholder:"USD amount"}),a.jsx(Y,{onClick:F,disabled:M,children:M?a.jsx(wa,{className:"w-4 h-4 animate-spin"}):"Convert"})]}),j!==null&&a.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 p-6 rounded-lg text-center",children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["$",g," USD ="]}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:j.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"satoshis"})]})]})]})]}),a.jsxs(K,{className:"p-6 bg-blue-50 border-blue-200",children:[a.jsx("h3",{className:"text-lg font-bold mb-3",children:" No API Keys Required!"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"GitHub API"}),a.jsx("p",{className:"text-gray-600",children:"Access public profile data, repositories, and more without authentication."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"CoinGecko API"}),a.jsx("p",{className:"text-gray-600",children:"Real-time cryptocurrency prices and market data, completely free."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-1",children:"IPFS Gateways"}),a.jsx("p",{className:"text-gray-600",children:"Decentralized file storage accessible through public gateways."})]})]})]})]})}const Qre=()=>a.jsx("div",{className:"min-h-screen bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx(Ce,{to:"/",children:a.jsxs(Y,{variant:"outline",className:"mb-4",children:[a.jsx(U1,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]})}),a.jsx("h1",{className:"text-4xl font-bold mb-2 text-foreground",children:"Public API Integrations Demo"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Explore free, open APIs with no authentication required"})]}),a.jsx(Jre,{})]})}),kj=S.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));kj.displayName="Textarea";const Zt=S.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Zt.displayName="Input";const Xre=n0("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),x3=S.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:Ie(Xre({variant:t}),e),...n}));x3.displayName="Alert";const ese=S.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:Ie("mb-1 font-medium leading-none tracking-tight",e),...t}));ese.displayName="AlertTitle";const w3=S.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Ie("text-sm [&_p]:leading-relaxed",e),...t}));w3.displayName="AlertDescription";function G(e,t,n){function r(l,c){var u;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(u=l._zod).traits??(u.traits=new Set),l._zod.traits.add(e),t(l,c);for(const d in o.prototype)d in l||Object.defineProperty(l,d,{value:o.prototype[d].bind(l)});l._zod.constr=o,l._zod.def=c}const s=(n==null?void 0:n.Parent)??Object;class i extends s{}Object.defineProperty(i,"name",{value:e});function o(l){var c;const u=n!=null&&n.Parent?new i:this;r(u,l),(c=u._zod).deferred??(c.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var c,u;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(u=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class kc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class b3 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const S3={};function al(e){return S3}function tse(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function ab(e,t){return typeof t=="bigint"?t.toString():t}function Tj(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Pj(e){return e==null}function Ij(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function nse(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c!=null&&c[1]&&(s=Number.parseInt(c[1]))}const i=n>s?n:s,o=Number.parseInt(e.toFixed(i).replace(".","")),l=Number.parseInt(t.toFixed(i).replace(".",""));return o%l/10**i}const IC=Symbol("evaluating");function wt(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==IC)return r===void 0&&(r=IC,r=n()),r},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function _l(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function El(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function MC(e){return JSON.stringify(e)}const j3="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Eg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const rse=Tj(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Yh(e){if(Eg(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(Eg(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function N3(e){return Yh(e)?{...e}:Array.isArray(e)?[...e]:e}const sse=new Set(["string","number","symbol"]);function L0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Jo(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function me(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function ise(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const ose={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function ase(e,t){const n=e._zod.def,r=El(e._zod.def,{get shape(){const s={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(s[i]=n.shape[i])}return _l(this,"shape",s),s},checks:[]});return Jo(e,r)}function lse(e,t){const n=e._zod.def,r=El(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete s[i]}return _l(this,"shape",s),s},checks:[]});return Jo(e,r)}function cse(e,t){if(!Yh(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const s=El(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return _l(this,"shape",i),i},checks:[]});return Jo(e,s)}function use(e,t){if(!Yh(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return _l(this,"shape",r),r},checks:e._zod.def.checks};return Jo(e,n)}function dse(e,t){const n=El(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return _l(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Jo(e,n)}function hse(e,t,n){const r=El(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=e?new e({type:"optional",innerType:s[o]}):s[o])}else for(const o in s)i[o]=e?new e({type:"optional",innerType:s[o]}):s[o];return _l(this,"shape",i),i},checks:[]});return Jo(t,r)}function fse(e,t,n){const r=El(t._zod.def,{get shape(){const s=t._zod.def.shape,i={...s};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new e({type:"nonoptional",innerType:s[o]}))}else for(const o in s)i[o]=new e({type:"nonoptional",innerType:s[o]});return _l(this,"shape",i),i},checks:[]});return Jo(t,r)}function fc(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function _3(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Cp(e){return typeof e=="string"?e:e==null?void 0:e.message}function ll(e,t,n){var s,i,o,l,c,u;const r={...e,path:e.path??[]};if(!e.message){const d=Cp((o=(i=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:i.error)==null?void 0:o.call(i,e))??Cp((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??Cp((c=n.customError)==null?void 0:c.call(n,e))??Cp((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Mj(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Jh(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const E3=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ab,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},A3=G("$ZodError",E3),C3=G("$ZodError",E3,{Parent:Error});function pse(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function mse(e,t=n=>n.message){const n={_errors:[]},r=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>r({issues:o}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let o=n,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(t(i))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return r(e),n}const Oj=e=>(t,n,r,s)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new kc;if(o.issues.length){const l=new((s==null?void 0:s.Err)??e)(o.issues.map(c=>ll(c,i,al())));throw j3(l,s==null?void 0:s.callee),l}return o.value},Rj=e=>async(t,n,r,s)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((s==null?void 0:s.Err)??e)(o.issues.map(c=>ll(c,i,al())));throw j3(l,s==null?void 0:s.callee),l}return o.value},B0=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new kc;return i.issues.length?{success:!1,error:new(e??A3)(i.issues.map(o=>ll(o,s,al())))}:{success:!0,data:i.value}},gse=B0(C3),F0=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>ll(o,s,al())))}:{success:!0,data:i.value}},yse=F0(C3),vse=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Oj(e)(t,n,s)},xse=e=>(t,n,r)=>Oj(e)(t,n,r),wse=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Rj(e)(t,n,s)},bse=e=>async(t,n,r)=>Rj(e)(t,n,r),Sse=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return B0(e)(t,n,s)},jse=e=>(t,n,r)=>B0(e)(t,n,r),Nse=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return F0(e)(t,n,s)},_se=e=>async(t,n,r)=>F0(e)(t,n,r),Ese=/^[cC][^\s-]{8,}$/,Ase=/^[0-9a-z]+$/,Cse=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,kse=/^[0-9a-vA-V]{20}$/,Tse=/^[A-Za-z0-9]{27}$/,Pse=/^[a-zA-Z0-9_-]{21}$/,Ise=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Mse=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,OC=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Ose=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Rse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Dse(){return new RegExp(Rse,"u")}const $se=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Lse=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,Bse=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Fse=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Use=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,k3=/^[A-Za-z0-9_-]*$/,zse=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Vse=/^\+(?:[0-9]){6,14}[0-9]$/,T3="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Hse=new RegExp(`^${T3}$`);function P3(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Kse(e){return new RegExp(`^${P3(e)}$`)}function Wse(e){const t=P3({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${T3}T(?:${r})$`)}const qse=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Gse=/^-?\d+$/,Zse=/^-?\d+(?:\.\d+)?/,Yse=/^[^A-Z]*$/,Jse=/^[^a-z]*$/,gr=G("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),I3={number:"number",bigint:"bigint",object:"date"},M3=G("$ZodCheckLessThan",(e,t)=>{gr.init(e,t);const n=I3[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,i=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),O3=G("$ZodCheckGreaterThan",(e,t)=>{gr.init(e,t);const n=I3[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,i=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Qse=G("$ZodCheckMultipleOf",(e,t)=>{gr.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):nse(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Xse=G("$ZodCheckNumberFormat",(e,t)=>{var o;gr.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),r=n?"int":"number",[s,i]=ose[t.format];e._zod.onattach.push(l=>{const c=l._zod.bag;c.format=t.format,c.minimum=s,c.maximum=i,n&&(c.pattern=Gse)}),e._zod.check=l=>{const c=l.value;if(n){if(!Number.isInteger(c)){l.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}c<s&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>i&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),eie=G("$ZodCheckMaxLength",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Pj(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const o=Mj(s);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),tie=G("$ZodCheckMinLength",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Pj(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const o=Mj(s);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),nie=G("$ZodCheckLengthEquals",(e,t)=>{var n;gr.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!Pj(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,i=s.length;if(i===t.length)return;const o=Mj(s),l=i>t.length;r.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),U0=G("$ZodCheckStringFormat",(e,t)=>{var n,r;gr.init(e,t),e._zod.onattach.push(s=>{const i=s._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),rie=G("$ZodCheckRegex",(e,t)=>{U0.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),sie=G("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Yse),U0.init(e,t)}),iie=G("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Jse),U0.init(e,t)}),oie=G("$ZodCheckIncludes",(e,t)=>{gr.init(e,t);const n=L0(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),aie=G("$ZodCheckStartsWith",(e,t)=>{gr.init(e,t);const n=new RegExp(`^${L0(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),lie=G("$ZodCheckEndsWith",(e,t)=>{gr.init(e,t);const n=new RegExp(`.*${L0(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),cie=G("$ZodCheckOverwrite",(e,t)=>{gr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class uie{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),s=Math.min(...r.map(o=>o.length-o.trimStart().length)),i=r.map(o=>o.slice(s)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,s.join(`
`))}}const die={major:4,minor:1,patch:12},cn=G("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=die;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const o of i._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const i=(l,c,u)=>{let d=fc(l),h;for(const f of c){if(f._zod.def.when){if(!f._zod.def.when(l))continue}else if(d)continue;const p=l.issues.length,x=f._zod.check(l);if(x instanceof Promise&&(u==null?void 0:u.async)===!1)throw new kc;if(h||x instanceof Promise)h=(h??Promise.resolve()).then(async()=>{await x,l.issues.length!==p&&(d||(d=fc(l,p)))});else{if(l.issues.length===p)continue;d||(d=fc(l,p))}}return h?h.then(()=>l):l},o=(l,c,u)=>{if(fc(l))return l.aborted=!0,l;const d=i(c,r,u);if(d instanceof Promise){if(u.async===!1)throw new kc;return d.then(h=>e._zod.parse(h,u))}return e._zod.parse(d,u)};e._zod.run=(l,c)=>{if(c.skipChecks)return e._zod.parse(l,c);if(c.direction==="backward"){const d=e._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return d instanceof Promise?d.then(h=>o(h,l,c)):o(d,l,c)}const u=e._zod.parse(l,c);if(u instanceof Promise){if(c.async===!1)throw new kc;return u.then(d=>i(d,r,c))}return i(u,r,c)}}e["~standard"]={validate:i=>{var o;try{const l=gse(e,i);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return yse(e,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),Dj=G("$ZodString",(e,t)=>{var n;cn.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??qse(e._zod.bag),e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Mt=G("$ZodStringFormat",(e,t)=>{U0.init(e,t),Dj.init(e,t)}),hie=G("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Mse),Mt.init(e,t)}),fie=G("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=OC(r))}else t.pattern??(t.pattern=OC());Mt.init(e,t)}),pie=G("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Ose),Mt.init(e,t)}),mie=G("$ZodURL",(e,t)=>{Mt.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:zse.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),gie=G("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Dse()),Mt.init(e,t)}),yie=G("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Pse),Mt.init(e,t)}),vie=G("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ese),Mt.init(e,t)}),xie=G("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Ase),Mt.init(e,t)}),wie=G("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Cse),Mt.init(e,t)}),bie=G("$ZodXID",(e,t)=>{t.pattern??(t.pattern=kse),Mt.init(e,t)}),Sie=G("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Tse),Mt.init(e,t)}),jie=G("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Wse(t)),Mt.init(e,t)}),Nie=G("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Hse),Mt.init(e,t)}),_ie=G("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Kse(t)),Mt.init(e,t)}),Eie=G("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Ise),Mt.init(e,t)}),Aie=G("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=$se),Mt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Cie=G("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Lse),Mt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),kie=G("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Bse),Mt.init(e,t)}),Tie=G("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Fse),Mt.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,i]=r;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function R3(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Pie=G("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Use),Mt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{R3(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Iie(e){if(!k3.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return R3(n)}const Mie=G("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=k3),Mt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Iie(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Oie=G("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Vse),Mt.init(e,t)});function Rie(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Die=G("$ZodJWT",(e,t)=>{Mt.init(e,t),e._zod.check=n=>{Rie(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),D3=G("$ZodNumber",(e,t)=>{cn.init(e,t),e._zod.pattern=e._zod.bag.pattern??Zse,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const i=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...i?{received:i}:{}}),n}}),$ie=G("$ZodNumber",(e,t)=>{Xse.init(e,t),D3.init(e,t)}),Lie=G("$ZodUnknown",(e,t)=>{cn.init(e,t),e._zod.parse=n=>n}),Bie=G("$ZodNever",(e,t)=>{cn.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function RC(e,t,n){e.issues.length&&t.issues.push(..._3(n,e.issues)),t.value[n]=e.value}const Fie=G("$ZodArray",(e,t)=>{cn.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const i=[];for(let o=0;o<s.length;o++){const l=s[o],c=t.element._zod.run({value:l,issues:[]},r);c instanceof Promise?i.push(c.then(u=>RC(u,n,o))):RC(c,n,o)}return i.length?Promise.all(i).then(()=>n):n}});function Ag(e,t,n,r){e.issues.length&&t.issues.push(..._3(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function $3(e){var r,s,i,o;const t=Object.keys(e.shape);for(const l of t)if(!((o=(i=(s=(r=e.shape)==null?void 0:r[l])==null?void 0:s._zod)==null?void 0:i.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=ise(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function L3(e,t,n,r,s,i){const o=[],l=s.keySet,c=s.catchall._zod,u=c.def.type;for(const d of Object.keys(t)){if(l.has(d))continue;if(u==="never"){o.push(d);continue}const h=c.run({value:t[d],issues:[]},r);h instanceof Promise?e.push(h.then(f=>Ag(f,n,d,t))):Ag(h,n,d,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const Uie=G("$ZodObject",(e,t)=>{cn.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...l};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=Tj(()=>$3(t));wt(e._zod,"propValues",()=>{const l=t.shape,c={};for(const u in l){const d=l[u]._zod;if(d.values){c[u]??(c[u]=new Set);for(const h of d.values)c[u].add(h)}}return c});const s=Eg,i=t.catchall;let o;e._zod.parse=(l,c)=>{o??(o=r.value);const u=l.value;if(!s(u))return l.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),l;l.value={};const d=[],h=o.shape;for(const f of o.keys){const x=h[f]._zod.run({value:u[f],issues:[]},c);x instanceof Promise?d.push(x.then(m=>Ag(m,l,f,u))):Ag(x,l,f,u)}return i?L3(d,u,l,c,r.value,e):d.length?Promise.all(d).then(()=>l):l}}),zie=G("$ZodObjectJIT",(e,t)=>{Uie.init(e,t);const n=e._zod.parse,r=Tj(()=>$3(t)),s=f=>{const p=new uie(["shape","payload","ctx"]),x=r.value,m=w=>{const j=MC(w);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};p.write("const input = payload.value;");const y=Object.create(null);let b=0;for(const w of x.keys)y[w]=`key_${b++}`;p.write("const newResult = {};");for(const w of x.keys){const j=y[w],E=MC(w);p.write(`const ${j} = ${m(w)};`),p.write(`
        if (${j}.issues.length) {
          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${E}, ...iss.path] : [${E}]
          })));
        }
        
        
        if (${j}.value === undefined) {
          if (${E} in input) {
            newResult[${E}] = undefined;
          }
        } else {
          newResult[${E}] = ${j}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const g=p.compile();return(w,j)=>g(f,w,j)};let i;const o=Eg,l=!S3.jitless,u=l&&rse.value,d=t.catchall;let h;e._zod.parse=(f,p)=>{h??(h=r.value);const x=f.value;return o(x)?l&&u&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(i||(i=s(t.shape)),f=i(f,p),d?L3([],x,f,p,h,e):f):n(f,p):(f.issues.push({expected:"object",code:"invalid_type",input:x,inst:e}),f)}});function DC(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const s=e.filter(i=>!fc(i));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(o=>ll(o,r,al())))}),t)}const Vie=G("$ZodUnion",(e,t)=>{cn.init(e,t),wt(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),wt(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),wt(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),wt(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${s.map(i=>Ij(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(n)return r(s,i);let o=!1;const l=[];for(const c of t.options){const u=c._zod.run({value:s.value,issues:[]},i);if(u instanceof Promise)l.push(u),o=!0;else{if(u.issues.length===0)return u;l.push(u)}}return o?Promise.all(l).then(c=>DC(c,s,e,i)):DC(l,s,e,i)}}),Hie=G("$ZodIntersection",(e,t)=>{cn.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,i=t.left._zod.run({value:s,issues:[]},r),o=t.right._zod.run({value:s,issues:[]},r);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([c,u])=>$C(n,c,u)):$C(n,i,o)}});function lb(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Yh(e)&&Yh(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),s={...e,...t};for(const i of r){const o=lb(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};s[i]=o.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r],o=lb(s,i);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function $C(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),fc(e))return e;const r=lb(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Kie=G("$ZodEnum",(e,t)=>{cn.init(e,t);const n=tse(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(s=>sse.has(typeof s)).map(s=>typeof s=="string"?L0(s):s.toString()).join("|")})$`),e._zod.parse=(s,i)=>{const o=s.value;return r.has(o)||s.issues.push({code:"invalid_value",values:n,input:o,inst:e}),s}}),Wie=G("$ZodTransform",(e,t)=>{cn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new b3(e.constructor.name);const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(o=>(n.value=o,n));if(s instanceof Promise)throw new kc;return n.value=s,n}});function LC(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const qie=G("$ZodOptional",(e,t)=>{cn.init(e,t),e._zod.optin="optional",e._zod.optout="optional",wt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),wt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Ij(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>LC(i,n.value)):LC(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),Gie=G("$ZodNullable",(e,t)=>{cn.init(e,t),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),wt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Ij(n.source)}|null)$`):void 0}),wt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Zie=G("$ZodDefault",(e,t)=>{cn.init(e,t),e._zod.optin="optional",wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>BC(i,t)):BC(s,t)}});function BC(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Yie=G("$ZodPrefault",(e,t)=>{cn.init(e,t),e._zod.optin="optional",wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Jie=G("$ZodNonOptional",(e,t)=>{cn.init(e,t),wt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>FC(i,e)):FC(s,e)}});function FC(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Qie=G("$ZodCatch",(e,t)=>{cn.init(e,t),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),wt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>ll(o,r,al()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(i=>ll(i,r,al()))},input:n.value}),n.issues=[]),n)}}),Xie=G("$ZodPipe",(e,t)=>{cn.init(e,t),wt(e._zod,"values",()=>t.in._zod.values),wt(e._zod,"optin",()=>t.in._zod.optin),wt(e._zod,"optout",()=>t.out._zod.optout),wt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(o=>kp(o,t.in,r)):kp(i,t.in,r)}const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(i=>kp(i,t.out,r)):kp(s,t.out,r)}});function kp(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const eoe=G("$ZodReadonly",(e,t)=>{cn.init(e,t),wt(e._zod,"propValues",()=>t.innerType._zod.propValues),wt(e._zod,"values",()=>t.innerType._zod.values),wt(e._zod,"optin",()=>t.innerType._zod.optin),wt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(UC):UC(s)}});function UC(e){return e.value=Object.freeze(e.value),e}const toe=G("$ZodCustom",(e,t)=>{gr.init(e,t),cn.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(i=>zC(i,n,r,e));zC(s,n,r,e)}});function zC(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(Jh(s))}}class noe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function roe(){return new noe}const Tp=roe();function soe(e,t){return new e({type:"string",...me(t)})}function ioe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...me(t)})}function VC(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...me(t)})}function ooe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...me(t)})}function aoe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...me(t)})}function loe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...me(t)})}function coe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...me(t)})}function uoe(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...me(t)})}function doe(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...me(t)})}function hoe(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...me(t)})}function foe(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...me(t)})}function poe(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...me(t)})}function moe(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...me(t)})}function goe(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...me(t)})}function yoe(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...me(t)})}function voe(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...me(t)})}function xoe(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...me(t)})}function woe(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...me(t)})}function boe(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...me(t)})}function Soe(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...me(t)})}function joe(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...me(t)})}function Noe(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...me(t)})}function _oe(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...me(t)})}function Eoe(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...me(t)})}function Aoe(e,t){return new e({type:"string",format:"date",check:"string_format",...me(t)})}function Coe(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...me(t)})}function koe(e,t){return new e({type:"string",format:"duration",check:"string_format",...me(t)})}function Toe(e,t){return new e({type:"number",checks:[],...me(t)})}function Poe(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...me(t)})}function Ioe(e){return new e({type:"unknown"})}function Moe(e,t){return new e({type:"never",...me(t)})}function HC(e,t){return new M3({check:"less_than",...me(t),value:e,inclusive:!1})}function Iv(e,t){return new M3({check:"less_than",...me(t),value:e,inclusive:!0})}function KC(e,t){return new O3({check:"greater_than",...me(t),value:e,inclusive:!1})}function Mv(e,t){return new O3({check:"greater_than",...me(t),value:e,inclusive:!0})}function WC(e,t){return new Qse({check:"multiple_of",...me(t),value:e})}function B3(e,t){return new eie({check:"max_length",...me(t),maximum:e})}function Cg(e,t){return new tie({check:"min_length",...me(t),minimum:e})}function F3(e,t){return new nie({check:"length_equals",...me(t),length:e})}function Ooe(e,t){return new rie({check:"string_format",format:"regex",...me(t),pattern:e})}function Roe(e){return new sie({check:"string_format",format:"lowercase",...me(e)})}function Doe(e){return new iie({check:"string_format",format:"uppercase",...me(e)})}function $oe(e,t){return new oie({check:"string_format",format:"includes",...me(t),includes:e})}function Loe(e,t){return new aie({check:"string_format",format:"starts_with",...me(t),prefix:e})}function Boe(e,t){return new lie({check:"string_format",format:"ends_with",...me(t),suffix:e})}function jf(e){return new cie({check:"overwrite",tx:e})}function Foe(e){return jf(t=>t.normalize(e))}function Uoe(){return jf(e=>e.trim())}function zoe(){return jf(e=>e.toLowerCase())}function Voe(){return jf(e=>e.toUpperCase())}function Hoe(e,t,n){return new e({type:"array",element:t,...me(n)})}function Koe(e,t,n){return new e({type:"custom",check:"custom",fn:t,...me(n)})}function Woe(e){const t=qoe(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Jh(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Jh(s))}},e(n.value,n)));return t}function qoe(e,t){const n=new gr({check:"custom",...me(t)});return n._zod.check=e,n}const Goe=G("ZodISODateTime",(e,t)=>{jie.init(e,t),Bt.init(e,t)});function Zoe(e){return Eoe(Goe,e)}const Yoe=G("ZodISODate",(e,t)=>{Nie.init(e,t),Bt.init(e,t)});function Joe(e){return Aoe(Yoe,e)}const Qoe=G("ZodISOTime",(e,t)=>{_ie.init(e,t),Bt.init(e,t)});function Xoe(e){return Coe(Qoe,e)}const eae=G("ZodISODuration",(e,t)=>{Eie.init(e,t),Bt.init(e,t)});function tae(e){return koe(eae,e)}const nae=(e,t)=>{A3.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>mse(e,n)},flatten:{value:n=>pse(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,ab,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,ab,2)}},isEmpty:{get(){return e.issues.length===0}}})},ts=G("ZodError",nae,{Parent:Error}),rae=Oj(ts),sae=Rj(ts),iae=B0(ts),oae=F0(ts),aae=vse(ts),lae=xse(ts),cae=wse(ts),uae=bse(ts),dae=Sse(ts),hae=jse(ts),fae=Nse(ts),pae=_se(ts),pn=G("ZodType",(e,t)=>(cn.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(El(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>Jo(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>rae(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>iae(e,n,r),e.parseAsync=async(n,r)=>sae(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>oae(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>aae(e,n,r),e.decode=(n,r)=>lae(e,n,r),e.encodeAsync=async(n,r)=>cae(e,n,r),e.decodeAsync=async(n,r)=>uae(e,n,r),e.safeEncode=(n,r)=>dae(e,n,r),e.safeDecode=(n,r)=>hae(e,n,r),e.safeEncodeAsync=async(n,r)=>fae(e,n,r),e.safeDecodeAsync=async(n,r)=>pae(e,n,r),e.refine=(n,r)=>e.check(ole(n,r)),e.superRefine=n=>e.check(ale(n)),e.overwrite=n=>e.check(jf(n)),e.optional=()=>YC(e),e.nullable=()=>JC(e),e.nullish=()=>YC(JC(e)),e.nonoptional=n=>Xae(e,n),e.array=()=>Lae(e),e.or=n=>zae([e,n]),e.and=n=>Hae(e,n),e.transform=n=>QC(e,qae(n)),e.default=n=>Yae(e,n),e.prefault=n=>Qae(e,n),e.catch=n=>tle(e,n),e.pipe=n=>QC(e,n),e.readonly=()=>sle(e),e.describe=n=>{const r=e.clone();return Tp.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Tp.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Tp.get(e);const r=e.clone();return Tp.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),U3=G("_ZodString",(e,t)=>{Dj.init(e,t),pn.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Ooe(...r)),e.includes=(...r)=>e.check($oe(...r)),e.startsWith=(...r)=>e.check(Loe(...r)),e.endsWith=(...r)=>e.check(Boe(...r)),e.min=(...r)=>e.check(Cg(...r)),e.max=(...r)=>e.check(B3(...r)),e.length=(...r)=>e.check(F3(...r)),e.nonempty=(...r)=>e.check(Cg(1,...r)),e.lowercase=r=>e.check(Roe(r)),e.uppercase=r=>e.check(Doe(r)),e.trim=()=>e.check(Uoe()),e.normalize=(...r)=>e.check(Foe(...r)),e.toLowerCase=()=>e.check(zoe()),e.toUpperCase=()=>e.check(Voe())}),mae=G("ZodString",(e,t)=>{Dj.init(e,t),U3.init(e,t),e.email=n=>e.check(ioe(gae,n)),e.url=n=>e.check(uoe(yae,n)),e.jwt=n=>e.check(_oe(Iae,n)),e.emoji=n=>e.check(doe(vae,n)),e.guid=n=>e.check(VC(qC,n)),e.uuid=n=>e.check(ooe(Pp,n)),e.uuidv4=n=>e.check(aoe(Pp,n)),e.uuidv6=n=>e.check(loe(Pp,n)),e.uuidv7=n=>e.check(coe(Pp,n)),e.nanoid=n=>e.check(hoe(xae,n)),e.guid=n=>e.check(VC(qC,n)),e.cuid=n=>e.check(foe(wae,n)),e.cuid2=n=>e.check(poe(bae,n)),e.ulid=n=>e.check(moe(Sae,n)),e.base64=n=>e.check(Soe(kae,n)),e.base64url=n=>e.check(joe(Tae,n)),e.xid=n=>e.check(goe(jae,n)),e.ksuid=n=>e.check(yoe(Nae,n)),e.ipv4=n=>e.check(voe(_ae,n)),e.ipv6=n=>e.check(xoe(Eae,n)),e.cidrv4=n=>e.check(woe(Aae,n)),e.cidrv6=n=>e.check(boe(Cae,n)),e.e164=n=>e.check(Noe(Pae,n)),e.datetime=n=>e.check(Zoe(n)),e.date=n=>e.check(Joe(n)),e.time=n=>e.check(Xoe(n)),e.duration=n=>e.check(tae(n))});function wd(e){return soe(mae,e)}const Bt=G("ZodStringFormat",(e,t)=>{Mt.init(e,t),U3.init(e,t)}),gae=G("ZodEmail",(e,t)=>{pie.init(e,t),Bt.init(e,t)}),qC=G("ZodGUID",(e,t)=>{hie.init(e,t),Bt.init(e,t)}),Pp=G("ZodUUID",(e,t)=>{fie.init(e,t),Bt.init(e,t)}),yae=G("ZodURL",(e,t)=>{mie.init(e,t),Bt.init(e,t)}),vae=G("ZodEmoji",(e,t)=>{gie.init(e,t),Bt.init(e,t)}),xae=G("ZodNanoID",(e,t)=>{yie.init(e,t),Bt.init(e,t)}),wae=G("ZodCUID",(e,t)=>{vie.init(e,t),Bt.init(e,t)}),bae=G("ZodCUID2",(e,t)=>{xie.init(e,t),Bt.init(e,t)}),Sae=G("ZodULID",(e,t)=>{wie.init(e,t),Bt.init(e,t)}),jae=G("ZodXID",(e,t)=>{bie.init(e,t),Bt.init(e,t)}),Nae=G("ZodKSUID",(e,t)=>{Sie.init(e,t),Bt.init(e,t)}),_ae=G("ZodIPv4",(e,t)=>{Aie.init(e,t),Bt.init(e,t)}),Eae=G("ZodIPv6",(e,t)=>{Cie.init(e,t),Bt.init(e,t)}),Aae=G("ZodCIDRv4",(e,t)=>{kie.init(e,t),Bt.init(e,t)}),Cae=G("ZodCIDRv6",(e,t)=>{Tie.init(e,t),Bt.init(e,t)}),kae=G("ZodBase64",(e,t)=>{Pie.init(e,t),Bt.init(e,t)}),Tae=G("ZodBase64URL",(e,t)=>{Mie.init(e,t),Bt.init(e,t)}),Pae=G("ZodE164",(e,t)=>{Oie.init(e,t),Bt.init(e,t)}),Iae=G("ZodJWT",(e,t)=>{Die.init(e,t),Bt.init(e,t)}),z3=G("ZodNumber",(e,t)=>{D3.init(e,t),pn.init(e,t),e.gt=(r,s)=>e.check(KC(r,s)),e.gte=(r,s)=>e.check(Mv(r,s)),e.min=(r,s)=>e.check(Mv(r,s)),e.lt=(r,s)=>e.check(HC(r,s)),e.lte=(r,s)=>e.check(Iv(r,s)),e.max=(r,s)=>e.check(Iv(r,s)),e.int=r=>e.check(GC(r)),e.safe=r=>e.check(GC(r)),e.positive=r=>e.check(KC(0,r)),e.nonnegative=r=>e.check(Mv(0,r)),e.negative=r=>e.check(HC(0,r)),e.nonpositive=r=>e.check(Iv(0,r)),e.multipleOf=(r,s)=>e.check(WC(r,s)),e.step=(r,s)=>e.check(WC(r,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Ov(e){return Toe(z3,e)}const Mae=G("ZodNumberFormat",(e,t)=>{$ie.init(e,t),z3.init(e,t)});function GC(e){return Poe(Mae,e)}const Oae=G("ZodUnknown",(e,t)=>{Lie.init(e,t),pn.init(e,t)});function ZC(){return Ioe(Oae)}const Rae=G("ZodNever",(e,t)=>{Bie.init(e,t),pn.init(e,t)});function Dae(e){return Moe(Rae,e)}const $ae=G("ZodArray",(e,t)=>{Fie.init(e,t),pn.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Cg(n,r)),e.nonempty=n=>e.check(Cg(1,n)),e.max=(n,r)=>e.check(B3(n,r)),e.length=(n,r)=>e.check(F3(n,r)),e.unwrap=()=>e.element});function Lae(e,t){return Hoe($ae,e,t)}const Bae=G("ZodObject",(e,t)=>{zie.init(e,t),pn.init(e,t),wt(e,"shape",()=>t.shape),e.keyof=()=>Kae(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ZC()}),e.loose=()=>e.clone({...e._zod.def,catchall:ZC()}),e.strict=()=>e.clone({...e._zod.def,catchall:Dae()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>cse(e,n),e.safeExtend=n=>use(e,n),e.merge=n=>dse(e,n),e.pick=n=>ase(e,n),e.omit=n=>lse(e,n),e.partial=(...n)=>hse(V3,e,n[0]),e.required=(...n)=>fse(H3,e,n[0])});function Fae(e,t){const n={type:"object",shape:e??{},...me(t)};return new Bae(n)}const Uae=G("ZodUnion",(e,t)=>{Vie.init(e,t),pn.init(e,t),e.options=t.options});function zae(e,t){return new Uae({type:"union",options:e,...me(t)})}const Vae=G("ZodIntersection",(e,t)=>{Hie.init(e,t),pn.init(e,t)});function Hae(e,t){return new Vae({type:"intersection",left:e,right:t})}const cb=G("ZodEnum",(e,t)=>{Kie.init(e,t),pn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const i={};for(const o of r)if(n.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new cb({...t,checks:[],...me(s),entries:i})},e.exclude=(r,s)=>{const i={...t.entries};for(const o of r)if(n.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new cb({...t,checks:[],...me(s),entries:i})}});function Kae(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new cb({type:"enum",entries:n,...me(t)})}const Wae=G("ZodTransform",(e,t)=>{Wie.init(e,t),pn.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new b3(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Jh(i,n.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(Jh(o))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(i=>(n.value=i,n)):(n.value=s,n)}});function qae(e){return new Wae({type:"transform",transform:e})}const V3=G("ZodOptional",(e,t)=>{qie.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function YC(e){return new V3({type:"optional",innerType:e})}const Gae=G("ZodNullable",(e,t)=>{Gie.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function JC(e){return new Gae({type:"nullable",innerType:e})}const Zae=G("ZodDefault",(e,t)=>{Zie.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Yae(e,t){return new Zae({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():N3(t)}})}const Jae=G("ZodPrefault",(e,t)=>{Yie.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Qae(e,t){return new Jae({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():N3(t)}})}const H3=G("ZodNonOptional",(e,t)=>{Jie.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Xae(e,t){return new H3({type:"nonoptional",innerType:e,...me(t)})}const ele=G("ZodCatch",(e,t)=>{Qie.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function tle(e,t){return new ele({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const nle=G("ZodPipe",(e,t)=>{Xie.init(e,t),pn.init(e,t),e.in=t.in,e.out=t.out});function QC(e,t){return new nle({type:"pipe",in:e,out:t})}const rle=G("ZodReadonly",(e,t)=>{eoe.init(e,t),pn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function sle(e){return new rle({type:"readonly",innerType:e})}const ile=G("ZodCustom",(e,t)=>{toe.init(e,t),pn.init(e,t)});function ole(e,t={}){return Koe(ile,e,t)}function ale(e){return Woe(e)}const lle=Fae({invoice_id:Ov().positive(),payee:wd().regex(/^(SP|ST)[0-9A-Z]{38,41}$/i,"Invalid Stacks address"),amount:Ov().positive(),token_contract:wd().nullable(),arbiter:wd().nullable(),deadline:wd().datetime(),milestone_description:wd(),confidence_score:Ov().min(0).max(1)});async function cle(e,t,n){const r=K3(e);return JSON.stringify({...r,confidence_score:.81})}async function ule(e,t="openai"){const n=`
		Extract invoice data with HIGH confidence. Output JSON with confidence_score field.
		For addresses, use placeholder format: "SP[PLACEHOLDER]" if unclear.
		Return confidence_score between 0-1 based on extraction certainty.
	`;try{const r=await cle(e,n,t),s=JSON.parse(r),i=lle.parse(s);if(i.confidence_score<.8)throw new Error(`Low confidence score: ${i.confidence_score}`);return i}catch{return K3(e)}}function K3(e){const t=e.match(/(\d+\.?\d*)\s*(BTC|sBTC|STX)/i),n=e.match(/(SP|ST)[0-9A-Z]{38,41}/i);return{invoice_id:Date.now(),payee:(n==null?void 0:n[0])??"SP[PLACEHOLDER]",amount:t?Math.floor(parseFloat(t[1])*1e8):0,token_contract:"SP000000000000000000002Q6VF78.sbtc-token",arbiter:null,deadline:new Date(Date.now()+30*24*60*60*1e3).toISOString(),milestone_description:e.substring(0,100),confidence_score:.6}}const W3="You are an assistant that extracts structured invoice variables from free-form invoice text for an on-chain Clarity escrow contract. The output must be STRICT JSON only (no explanation, no prose). Validate and normalize dates to ISO 8601 (YYYY-MM-DD). Normalize monetary amounts to integers (in token base units). If currency symbol is BTC or sBTC assume 8 decimal places (multiply BTC value by 1e8 and output integer). For other currencies, assume 2 decimals and multiply by 100. If a field is missing, set it to null. Fields required: invoice_id (uint), payee (principal string, e.g., 'SP2...'), amount (integer in token base units), token_contract (principal string or null), arbiter (principal string or null), deadline (ISO date or null), milestone_description (string), payer (principal or null). Use the invoice text to infer reasonable invoice_id (prefer a numeric invoice number if present; else hash the invoice shortid as unsigned int). Output only valid JSON.";function q3(e){return`EXAMPLE:
Invoice text:
"Invoice #4592
To: alice.stacks
From: dao: ExampleDAO (treasury)
Amount: 0.125 sBTC for website redesign
Milestone: Deliver final static site + handover (due 2025-10-20)
Arbiter: arbiter.stacks"

Desired JSON output (example):
{
  "invoice_id": 4592,
  "payee": "alice.stacks",
  "payer": "SP3EXAMPLEDAO...", 
  "amount": 12500000,
  "token_contract": "SP000000000000000000002Q6VF78.sbtc-token",
  "arbiter": "arbiter.stacks",
  "deadline": "2025-10-20",
  "milestone_description": "Deliver final static site + handover"
}

NOW PROCESS:
Extract the variables from the following invoice text (do NOT include any extra text). Provide strict JSON only.

--- INVOICE START ---
${e}
--- INVOICE END ---`}async function dle(e,t){const n=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-4",messages:[{role:"system",content:W3},{role:"user",content:q3(e)}],temperature:.1,max_tokens:500})});if(!n.ok)throw new Error(`OpenAI API error: ${n.statusText}`);const s=(await n.json()).choices[0].message.content;try{return JSON.parse(s)}catch{throw new Error("Failed to parse AI response as JSON")}}async function hle(e,t){const n=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":t,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-5-sonnet-20241022",max_tokens:500,system:W3,messages:[{role:"user",content:q3(e)}]})});if(!n.ok)throw new Error(`Anthropic API error: ${n.statusText}`);const s=(await n.json()).content[0].text;try{return JSON.parse(s)}catch{throw new Error("Failed to parse AI response as JSON")}}function fle(e){const t=[];if((!e.invoice_id||e.invoice_id<=0)&&t.push("invoice_id must be a positive integer"),(!e.amount||e.amount<=0)&&t.push("amount must be a positive integer"),e.deadline){const n=new Date(e.deadline);isNaN(n.getTime())&&t.push("deadline must be a valid ISO 8601 date")}return{valid:t.length===0,errors:t}}var $j={exports:{}};$j.exports;(function(e){(function(t,n){function r(P,v){if(!P)throw new Error(v||"Assertion failed")}function s(P,v){P.super_=v;var _=function(){};_.prototype=v.prototype,P.prototype=new _,P.prototype.constructor=P}function i(P,v,_){if(i.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((v==="le"||v==="be")&&(_=v,v=10),this._init(P||0,v||10,_||"be"))}typeof t=="object"?t.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=XO.Buffer}catch{}i.isBN=function(v){return v instanceof i?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===i.wordSize&&Array.isArray(v.words)},i.max=function(v,_){return v.cmp(_)>0?v:_},i.min=function(v,_){return v.cmp(_)<0?v:_},i.prototype._init=function(v,_,A){if(typeof v=="number")return this._initNumber(v,_,A);if(typeof v=="object")return this._initArray(v,_,A);_==="hex"&&(_=16),r(_===(_|0)&&_>=2&&_<=36),v=v.toString().replace(/\s+/g,"");var k=0;v[0]==="-"&&(k++,this.negative=1),k<v.length&&(_===16?this._parseHex(v,k,A):(this._parseBase(v,_,k),A==="le"&&this._initArray(this.toArray(),_,A)))},i.prototype._initNumber=function(v,_,A){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(r(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),A==="le"&&this._initArray(this.toArray(),_,A)},i.prototype._initArray=function(v,_,A){if(r(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var C,T,L=0;if(A==="be")for(k=v.length-1,C=0;k>=0;k-=3)T=v[k]|v[k-1]<<8|v[k-2]<<16,this.words[C]|=T<<L&67108863,this.words[C+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,C++);else if(A==="le")for(k=0,C=0;k<v.length;k+=3)T=v[k]|v[k+1]<<8|v[k+2]<<16,this.words[C]|=T<<L&67108863,this.words[C+1]=T>>>26-L&67108863,L+=24,L>=26&&(L-=26,C++);return this._strip()};function l(P,v){var _=P.charCodeAt(v);if(_>=48&&_<=57)return _-48;if(_>=65&&_<=70)return _-55;if(_>=97&&_<=102)return _-87;r(!1,"Invalid character in "+P)}function c(P,v,_){var A=l(P,_);return _-1>=v&&(A|=l(P,_-1)<<4),A}i.prototype._parseHex=function(v,_,A){this.length=Math.ceil((v.length-_)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var C=0,T=0,L;if(A==="be")for(k=v.length-1;k>=_;k-=2)L=c(v,_,k)<<C,this.words[T]|=L&67108863,C>=18?(C-=18,T+=1,this.words[T]|=L>>>26):C+=8;else{var I=v.length-_;for(k=I%2===0?_+1:_;k<v.length;k+=2)L=c(v,_,k)<<C,this.words[T]|=L&67108863,C>=18?(C-=18,T+=1,this.words[T]|=L>>>26):C+=8}this._strip()};function u(P,v,_,A){for(var k=0,C=0,T=Math.min(P.length,_),L=v;L<T;L++){var I=P.charCodeAt(L)-48;k*=A,I>=49?C=I-49+10:I>=17?C=I-17+10:C=I,r(I>=0&&C<A,"Invalid character"),k+=C}return k}i.prototype._parseBase=function(v,_,A){this.words=[0],this.length=1;for(var k=0,C=1;C<=67108863;C*=_)k++;k--,C=C/_|0;for(var T=v.length-A,L=T%k,I=Math.min(T,T-L)+A,N=0,R=A;R<I;R+=k)N=u(v,R,R+k,_),this.imuln(C),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N);if(L!==0){var J=1;for(N=u(v,R,v.length,_),R=0;R<L;R++)J*=_;this.imuln(J),this.words[0]+N<67108864?this.words[0]+=N:this._iaddn(N)}this._strip()},i.prototype.copy=function(v){v.words=new Array(this.length);for(var _=0;_<this.length;_++)v.words[_]=this.words[_];v.length=this.length,v.negative=this.negative,v.red=this.red};function d(P,v){P.words=v.words,P.length=v.length,P.negative=v.negative,P.red=v.red}if(i.prototype._move=function(v){d(v,this)},i.prototype.clone=function(){var v=new i(null);return this.copy(v),v},i.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{i.prototype.inspect=h}else i.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(v,_){v=v||10,_=_|0||1;var A;if(v===16||v==="hex"){A="";for(var k=0,C=0,T=0;T<this.length;T++){var L=this.words[T],I=((L<<k|C)&16777215).toString(16);C=L>>>24-k&16777215,k+=2,k>=26&&(k-=26,T--),C!==0||T!==this.length-1?A=f[6-I.length]+I+A:A=I+A}for(C!==0&&(A=C.toString(16)+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}if(v===(v|0)&&v>=2&&v<=36){var N=p[v],R=x[v];A="";var J=this.clone();for(J.negative=0;!J.isZero();){var te=J.modrn(R).toString(v);J=J.idivn(R),J.isZero()?A=te+A:A=f[N-te.length]+te+A}for(this.isZero()&&(A="0"+A);A.length%_!==0;)A="0"+A;return this.negative!==0&&(A="-"+A),A}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(v,_){return this.toArrayLike(o,v,_)}),i.prototype.toArray=function(v,_){return this.toArrayLike(Array,v,_)};var m=function(v,_){return v.allocUnsafe?v.allocUnsafe(_):new v(_)};i.prototype.toArrayLike=function(v,_,A){this._strip();var k=this.byteLength(),C=A||Math.max(1,k);r(k<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var T=m(v,C),L=_==="le"?"LE":"BE";return this["_toArrayLike"+L](T,k),T},i.prototype._toArrayLikeLE=function(v,_){for(var A=0,k=0,C=0,T=0;C<this.length;C++){var L=this.words[C]<<T|k;v[A++]=L&255,A<v.length&&(v[A++]=L>>8&255),A<v.length&&(v[A++]=L>>16&255),T===6?(A<v.length&&(v[A++]=L>>24&255),k=0,T=0):(k=L>>>24,T+=2)}if(A<v.length)for(v[A++]=k;A<v.length;)v[A++]=0},i.prototype._toArrayLikeBE=function(v,_){for(var A=v.length-1,k=0,C=0,T=0;C<this.length;C++){var L=this.words[C]<<T|k;v[A--]=L&255,A>=0&&(v[A--]=L>>8&255),A>=0&&(v[A--]=L>>16&255),T===6?(A>=0&&(v[A--]=L>>24&255),k=0,T=0):(k=L>>>24,T+=2)}if(A>=0)for(v[A--]=k;A>=0;)v[A--]=0},Math.clz32?i.prototype._countBits=function(v){return 32-Math.clz32(v)}:i.prototype._countBits=function(v){var _=v,A=0;return _>=4096&&(A+=13,_>>>=13),_>=64&&(A+=7,_>>>=7),_>=8&&(A+=4,_>>>=4),_>=2&&(A+=2,_>>>=2),A+_},i.prototype._zeroBits=function(v){if(v===0)return 26;var _=v,A=0;return _&8191||(A+=13,_>>>=13),_&127||(A+=7,_>>>=7),_&15||(A+=4,_>>>=4),_&3||(A+=2,_>>>=2),_&1||A++,A},i.prototype.bitLength=function(){var v=this.words[this.length-1],_=this._countBits(v);return(this.length-1)*26+_};function y(P){for(var v=new Array(P.bitLength()),_=0;_<v.length;_++){var A=_/26|0,k=_%26;v[_]=P.words[A]>>>k&1}return v}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,_=0;_<this.length;_++){var A=this._zeroBits(this.words[_]);if(v+=A,A!==26)break}return v},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},i.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var _=0;_<v.length;_++)this.words[_]=this.words[_]|v.words[_];return this._strip()},i.prototype.ior=function(v){return r((this.negative|v.negative)===0),this.iuor(v)},i.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},i.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},i.prototype.iuand=function(v){var _;this.length>v.length?_=v:_=this;for(var A=0;A<_.length;A++)this.words[A]=this.words[A]&v.words[A];return this.length=_.length,this._strip()},i.prototype.iand=function(v){return r((this.negative|v.negative)===0),this.iuand(v)},i.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},i.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},i.prototype.iuxor=function(v){var _,A;this.length>v.length?(_=this,A=v):(_=v,A=this);for(var k=0;k<A.length;k++)this.words[k]=_.words[k]^A.words[k];if(this!==_)for(;k<_.length;k++)this.words[k]=_.words[k];return this.length=_.length,this._strip()},i.prototype.ixor=function(v){return r((this.negative|v.negative)===0),this.iuxor(v)},i.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},i.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},i.prototype.inotn=function(v){r(typeof v=="number"&&v>=0);var _=Math.ceil(v/26)|0,A=v%26;this._expand(_),A>0&&_--;for(var k=0;k<_;k++)this.words[k]=~this.words[k]&67108863;return A>0&&(this.words[k]=~this.words[k]&67108863>>26-A),this._strip()},i.prototype.notn=function(v){return this.clone().inotn(v)},i.prototype.setn=function(v,_){r(typeof v=="number"&&v>=0);var A=v/26|0,k=v%26;return this._expand(A+1),_?this.words[A]=this.words[A]|1<<k:this.words[A]=this.words[A]&~(1<<k),this._strip()},i.prototype.iadd=function(v){var _;if(this.negative!==0&&v.negative===0)return this.negative=0,_=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,_=this.isub(v),v.negative=1,_._normSign();var A,k;this.length>v.length?(A=this,k=v):(A=v,k=this);for(var C=0,T=0;T<k.length;T++)_=(A.words[T]|0)+(k.words[T]|0)+C,this.words[T]=_&67108863,C=_>>>26;for(;C!==0&&T<A.length;T++)_=(A.words[T]|0)+C,this.words[T]=_&67108863,C=_>>>26;if(this.length=A.length,C!==0)this.words[this.length]=C,this.length++;else if(A!==this)for(;T<A.length;T++)this.words[T]=A.words[T];return this},i.prototype.add=function(v){var _;return v.negative!==0&&this.negative===0?(v.negative=0,_=this.sub(v),v.negative^=1,_):v.negative===0&&this.negative!==0?(this.negative=0,_=v.sub(this),this.negative=1,_):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},i.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var _=this.iadd(v);return v.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var A=this.cmp(v);if(A===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,C;A>0?(k=this,C=v):(k=v,C=this);for(var T=0,L=0;L<C.length;L++)_=(k.words[L]|0)-(C.words[L]|0)+T,T=_>>26,this.words[L]=_&67108863;for(;T!==0&&L<k.length;L++)_=(k.words[L]|0)+T,T=_>>26,this.words[L]=_&67108863;if(T===0&&L<k.length&&k!==this)for(;L<k.length;L++)this.words[L]=k.words[L];return this.length=Math.max(this.length,L),k!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(v){return this.clone().isub(v)};function b(P,v,_){_.negative=v.negative^P.negative;var A=P.length+v.length|0;_.length=A,A=A-1|0;var k=P.words[0]|0,C=v.words[0]|0,T=k*C,L=T&67108863,I=T/67108864|0;_.words[0]=L;for(var N=1;N<A;N++){for(var R=I>>>26,J=I&67108863,te=Math.min(N,v.length-1),re=Math.max(0,N-P.length+1);re<=te;re++){var X=N-re|0;k=P.words[X]|0,C=v.words[re]|0,T=k*C+J,R+=T/67108864|0,J=T&67108863}_.words[N]=J|0,I=R|0}return I!==0?_.words[N]=I|0:_.length--,_._strip()}var g=function(v,_,A){var k=v.words,C=_.words,T=A.words,L=0,I,N,R,J=k[0]|0,te=J&8191,re=J>>>13,X=k[1]|0,he=X&8191,we=X>>>13,Oe=k[2]|0,ue=Oe&8191,fe=Oe>>>13,Jt=k[3]|0,Re=Jt&8191,qe=Jt>>>13,zn=k[4]|0,Ge=zn&8191,lt=zn>>>13,ns=k[5]|0,ct=ns&8191,Xe=ns>>>13,Fi=k[6]|0,Ze=Fi&8191,Ye=Fi>>>13,ui=k[7]|0,$e=ui&8191,et=ui>>>13,na=k[8]|0,jt=na&8191,ht=na>>>13,Cl=k[9]|0,Nt=Cl&8191,gt=Cl>>>13,$r=C[0]|0,_t=$r&8191,it=$r>>>13,Ui=C[1]|0,ut=Ui&8191,ft=Ui>>>13,di=C[2]|0,yt=di&8191,tt=di>>>13,yr=C[3]|0,Tt=yr&8191,oe=yr>>>13,He=C[4]|0,be=He&8191,Le=He>>>13,bn=C[5]|0,Pe=bn&8191,nt=bn>>>13,Tn=C[6]|0,Je=Tn&8191,Ft=Tn>>>13,Mf=C[7]|0,rt=Mf&8191,Ut=Mf>>>13,Of=C[8]|0,zt=Of&8191,Vt=Of>>>13,Rf=C[9]|0,pt=Rf&8191,Ht=Rf>>>13;A.negative=v.negative^_.negative,A.length=19,I=Math.imul(te,_t),N=Math.imul(te,it),N=N+Math.imul(re,_t)|0,R=Math.imul(re,it);var qu=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(qu>>>26)|0,qu&=67108863,I=Math.imul(he,_t),N=Math.imul(he,it),N=N+Math.imul(we,_t)|0,R=Math.imul(we,it),I=I+Math.imul(te,ut)|0,N=N+Math.imul(te,ft)|0,N=N+Math.imul(re,ut)|0,R=R+Math.imul(re,ft)|0;var Gu=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,I=Math.imul(ue,_t),N=Math.imul(ue,it),N=N+Math.imul(fe,_t)|0,R=Math.imul(fe,it),I=I+Math.imul(he,ut)|0,N=N+Math.imul(he,ft)|0,N=N+Math.imul(we,ut)|0,R=R+Math.imul(we,ft)|0,I=I+Math.imul(te,yt)|0,N=N+Math.imul(te,tt)|0,N=N+Math.imul(re,yt)|0,R=R+Math.imul(re,tt)|0;var Zu=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,I=Math.imul(Re,_t),N=Math.imul(Re,it),N=N+Math.imul(qe,_t)|0,R=Math.imul(qe,it),I=I+Math.imul(ue,ut)|0,N=N+Math.imul(ue,ft)|0,N=N+Math.imul(fe,ut)|0,R=R+Math.imul(fe,ft)|0,I=I+Math.imul(he,yt)|0,N=N+Math.imul(he,tt)|0,N=N+Math.imul(we,yt)|0,R=R+Math.imul(we,tt)|0,I=I+Math.imul(te,Tt)|0,N=N+Math.imul(te,oe)|0,N=N+Math.imul(re,Tt)|0,R=R+Math.imul(re,oe)|0;var Yu=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,I=Math.imul(Ge,_t),N=Math.imul(Ge,it),N=N+Math.imul(lt,_t)|0,R=Math.imul(lt,it),I=I+Math.imul(Re,ut)|0,N=N+Math.imul(Re,ft)|0,N=N+Math.imul(qe,ut)|0,R=R+Math.imul(qe,ft)|0,I=I+Math.imul(ue,yt)|0,N=N+Math.imul(ue,tt)|0,N=N+Math.imul(fe,yt)|0,R=R+Math.imul(fe,tt)|0,I=I+Math.imul(he,Tt)|0,N=N+Math.imul(he,oe)|0,N=N+Math.imul(we,Tt)|0,R=R+Math.imul(we,oe)|0,I=I+Math.imul(te,be)|0,N=N+Math.imul(te,Le)|0,N=N+Math.imul(re,be)|0,R=R+Math.imul(re,Le)|0;var ks=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(ks>>>26)|0,ks&=67108863,I=Math.imul(ct,_t),N=Math.imul(ct,it),N=N+Math.imul(Xe,_t)|0,R=Math.imul(Xe,it),I=I+Math.imul(Ge,ut)|0,N=N+Math.imul(Ge,ft)|0,N=N+Math.imul(lt,ut)|0,R=R+Math.imul(lt,ft)|0,I=I+Math.imul(Re,yt)|0,N=N+Math.imul(Re,tt)|0,N=N+Math.imul(qe,yt)|0,R=R+Math.imul(qe,tt)|0,I=I+Math.imul(ue,Tt)|0,N=N+Math.imul(ue,oe)|0,N=N+Math.imul(fe,Tt)|0,R=R+Math.imul(fe,oe)|0,I=I+Math.imul(he,be)|0,N=N+Math.imul(he,Le)|0,N=N+Math.imul(we,be)|0,R=R+Math.imul(we,Le)|0,I=I+Math.imul(te,Pe)|0,N=N+Math.imul(te,nt)|0,N=N+Math.imul(re,Pe)|0,R=R+Math.imul(re,nt)|0;var Ju=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,I=Math.imul(Ze,_t),N=Math.imul(Ze,it),N=N+Math.imul(Ye,_t)|0,R=Math.imul(Ye,it),I=I+Math.imul(ct,ut)|0,N=N+Math.imul(ct,ft)|0,N=N+Math.imul(Xe,ut)|0,R=R+Math.imul(Xe,ft)|0,I=I+Math.imul(Ge,yt)|0,N=N+Math.imul(Ge,tt)|0,N=N+Math.imul(lt,yt)|0,R=R+Math.imul(lt,tt)|0,I=I+Math.imul(Re,Tt)|0,N=N+Math.imul(Re,oe)|0,N=N+Math.imul(qe,Tt)|0,R=R+Math.imul(qe,oe)|0,I=I+Math.imul(ue,be)|0,N=N+Math.imul(ue,Le)|0,N=N+Math.imul(fe,be)|0,R=R+Math.imul(fe,Le)|0,I=I+Math.imul(he,Pe)|0,N=N+Math.imul(he,nt)|0,N=N+Math.imul(we,Pe)|0,R=R+Math.imul(we,nt)|0,I=I+Math.imul(te,Je)|0,N=N+Math.imul(te,Ft)|0,N=N+Math.imul(re,Je)|0,R=R+Math.imul(re,Ft)|0;var Qu=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,I=Math.imul($e,_t),N=Math.imul($e,it),N=N+Math.imul(et,_t)|0,R=Math.imul(et,it),I=I+Math.imul(Ze,ut)|0,N=N+Math.imul(Ze,ft)|0,N=N+Math.imul(Ye,ut)|0,R=R+Math.imul(Ye,ft)|0,I=I+Math.imul(ct,yt)|0,N=N+Math.imul(ct,tt)|0,N=N+Math.imul(Xe,yt)|0,R=R+Math.imul(Xe,tt)|0,I=I+Math.imul(Ge,Tt)|0,N=N+Math.imul(Ge,oe)|0,N=N+Math.imul(lt,Tt)|0,R=R+Math.imul(lt,oe)|0,I=I+Math.imul(Re,be)|0,N=N+Math.imul(Re,Le)|0,N=N+Math.imul(qe,be)|0,R=R+Math.imul(qe,Le)|0,I=I+Math.imul(ue,Pe)|0,N=N+Math.imul(ue,nt)|0,N=N+Math.imul(fe,Pe)|0,R=R+Math.imul(fe,nt)|0,I=I+Math.imul(he,Je)|0,N=N+Math.imul(he,Ft)|0,N=N+Math.imul(we,Je)|0,R=R+Math.imul(we,Ft)|0,I=I+Math.imul(te,rt)|0,N=N+Math.imul(te,Ut)|0,N=N+Math.imul(re,rt)|0,R=R+Math.imul(re,Ut)|0;var Xu=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,I=Math.imul(jt,_t),N=Math.imul(jt,it),N=N+Math.imul(ht,_t)|0,R=Math.imul(ht,it),I=I+Math.imul($e,ut)|0,N=N+Math.imul($e,ft)|0,N=N+Math.imul(et,ut)|0,R=R+Math.imul(et,ft)|0,I=I+Math.imul(Ze,yt)|0,N=N+Math.imul(Ze,tt)|0,N=N+Math.imul(Ye,yt)|0,R=R+Math.imul(Ye,tt)|0,I=I+Math.imul(ct,Tt)|0,N=N+Math.imul(ct,oe)|0,N=N+Math.imul(Xe,Tt)|0,R=R+Math.imul(Xe,oe)|0,I=I+Math.imul(Ge,be)|0,N=N+Math.imul(Ge,Le)|0,N=N+Math.imul(lt,be)|0,R=R+Math.imul(lt,Le)|0,I=I+Math.imul(Re,Pe)|0,N=N+Math.imul(Re,nt)|0,N=N+Math.imul(qe,Pe)|0,R=R+Math.imul(qe,nt)|0,I=I+Math.imul(ue,Je)|0,N=N+Math.imul(ue,Ft)|0,N=N+Math.imul(fe,Je)|0,R=R+Math.imul(fe,Ft)|0,I=I+Math.imul(he,rt)|0,N=N+Math.imul(he,Ut)|0,N=N+Math.imul(we,rt)|0,R=R+Math.imul(we,Ut)|0,I=I+Math.imul(te,zt)|0,N=N+Math.imul(te,Vt)|0,N=N+Math.imul(re,zt)|0,R=R+Math.imul(re,Vt)|0;var ed=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(ed>>>26)|0,ed&=67108863,I=Math.imul(Nt,_t),N=Math.imul(Nt,it),N=N+Math.imul(gt,_t)|0,R=Math.imul(gt,it),I=I+Math.imul(jt,ut)|0,N=N+Math.imul(jt,ft)|0,N=N+Math.imul(ht,ut)|0,R=R+Math.imul(ht,ft)|0,I=I+Math.imul($e,yt)|0,N=N+Math.imul($e,tt)|0,N=N+Math.imul(et,yt)|0,R=R+Math.imul(et,tt)|0,I=I+Math.imul(Ze,Tt)|0,N=N+Math.imul(Ze,oe)|0,N=N+Math.imul(Ye,Tt)|0,R=R+Math.imul(Ye,oe)|0,I=I+Math.imul(ct,be)|0,N=N+Math.imul(ct,Le)|0,N=N+Math.imul(Xe,be)|0,R=R+Math.imul(Xe,Le)|0,I=I+Math.imul(Ge,Pe)|0,N=N+Math.imul(Ge,nt)|0,N=N+Math.imul(lt,Pe)|0,R=R+Math.imul(lt,nt)|0,I=I+Math.imul(Re,Je)|0,N=N+Math.imul(Re,Ft)|0,N=N+Math.imul(qe,Je)|0,R=R+Math.imul(qe,Ft)|0,I=I+Math.imul(ue,rt)|0,N=N+Math.imul(ue,Ut)|0,N=N+Math.imul(fe,rt)|0,R=R+Math.imul(fe,Ut)|0,I=I+Math.imul(he,zt)|0,N=N+Math.imul(he,Vt)|0,N=N+Math.imul(we,zt)|0,R=R+Math.imul(we,Vt)|0,I=I+Math.imul(te,pt)|0,N=N+Math.imul(te,Ht)|0,N=N+Math.imul(re,pt)|0,R=R+Math.imul(re,Ht)|0;var td=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(td>>>26)|0,td&=67108863,I=Math.imul(Nt,ut),N=Math.imul(Nt,ft),N=N+Math.imul(gt,ut)|0,R=Math.imul(gt,ft),I=I+Math.imul(jt,yt)|0,N=N+Math.imul(jt,tt)|0,N=N+Math.imul(ht,yt)|0,R=R+Math.imul(ht,tt)|0,I=I+Math.imul($e,Tt)|0,N=N+Math.imul($e,oe)|0,N=N+Math.imul(et,Tt)|0,R=R+Math.imul(et,oe)|0,I=I+Math.imul(Ze,be)|0,N=N+Math.imul(Ze,Le)|0,N=N+Math.imul(Ye,be)|0,R=R+Math.imul(Ye,Le)|0,I=I+Math.imul(ct,Pe)|0,N=N+Math.imul(ct,nt)|0,N=N+Math.imul(Xe,Pe)|0,R=R+Math.imul(Xe,nt)|0,I=I+Math.imul(Ge,Je)|0,N=N+Math.imul(Ge,Ft)|0,N=N+Math.imul(lt,Je)|0,R=R+Math.imul(lt,Ft)|0,I=I+Math.imul(Re,rt)|0,N=N+Math.imul(Re,Ut)|0,N=N+Math.imul(qe,rt)|0,R=R+Math.imul(qe,Ut)|0,I=I+Math.imul(ue,zt)|0,N=N+Math.imul(ue,Vt)|0,N=N+Math.imul(fe,zt)|0,R=R+Math.imul(fe,Vt)|0,I=I+Math.imul(he,pt)|0,N=N+Math.imul(he,Ht)|0,N=N+Math.imul(we,pt)|0,R=R+Math.imul(we,Ht)|0;var nd=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(nd>>>26)|0,nd&=67108863,I=Math.imul(Nt,yt),N=Math.imul(Nt,tt),N=N+Math.imul(gt,yt)|0,R=Math.imul(gt,tt),I=I+Math.imul(jt,Tt)|0,N=N+Math.imul(jt,oe)|0,N=N+Math.imul(ht,Tt)|0,R=R+Math.imul(ht,oe)|0,I=I+Math.imul($e,be)|0,N=N+Math.imul($e,Le)|0,N=N+Math.imul(et,be)|0,R=R+Math.imul(et,Le)|0,I=I+Math.imul(Ze,Pe)|0,N=N+Math.imul(Ze,nt)|0,N=N+Math.imul(Ye,Pe)|0,R=R+Math.imul(Ye,nt)|0,I=I+Math.imul(ct,Je)|0,N=N+Math.imul(ct,Ft)|0,N=N+Math.imul(Xe,Je)|0,R=R+Math.imul(Xe,Ft)|0,I=I+Math.imul(Ge,rt)|0,N=N+Math.imul(Ge,Ut)|0,N=N+Math.imul(lt,rt)|0,R=R+Math.imul(lt,Ut)|0,I=I+Math.imul(Re,zt)|0,N=N+Math.imul(Re,Vt)|0,N=N+Math.imul(qe,zt)|0,R=R+Math.imul(qe,Vt)|0,I=I+Math.imul(ue,pt)|0,N=N+Math.imul(ue,Ht)|0,N=N+Math.imul(fe,pt)|0,R=R+Math.imul(fe,Ht)|0;var kl=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(kl>>>26)|0,kl&=67108863,I=Math.imul(Nt,Tt),N=Math.imul(Nt,oe),N=N+Math.imul(gt,Tt)|0,R=Math.imul(gt,oe),I=I+Math.imul(jt,be)|0,N=N+Math.imul(jt,Le)|0,N=N+Math.imul(ht,be)|0,R=R+Math.imul(ht,Le)|0,I=I+Math.imul($e,Pe)|0,N=N+Math.imul($e,nt)|0,N=N+Math.imul(et,Pe)|0,R=R+Math.imul(et,nt)|0,I=I+Math.imul(Ze,Je)|0,N=N+Math.imul(Ze,Ft)|0,N=N+Math.imul(Ye,Je)|0,R=R+Math.imul(Ye,Ft)|0,I=I+Math.imul(ct,rt)|0,N=N+Math.imul(ct,Ut)|0,N=N+Math.imul(Xe,rt)|0,R=R+Math.imul(Xe,Ut)|0,I=I+Math.imul(Ge,zt)|0,N=N+Math.imul(Ge,Vt)|0,N=N+Math.imul(lt,zt)|0,R=R+Math.imul(lt,Vt)|0,I=I+Math.imul(Re,pt)|0,N=N+Math.imul(Re,Ht)|0,N=N+Math.imul(qe,pt)|0,R=R+Math.imul(qe,Ht)|0;var zi=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(zi>>>26)|0,zi&=67108863,I=Math.imul(Nt,be),N=Math.imul(Nt,Le),N=N+Math.imul(gt,be)|0,R=Math.imul(gt,Le),I=I+Math.imul(jt,Pe)|0,N=N+Math.imul(jt,nt)|0,N=N+Math.imul(ht,Pe)|0,R=R+Math.imul(ht,nt)|0,I=I+Math.imul($e,Je)|0,N=N+Math.imul($e,Ft)|0,N=N+Math.imul(et,Je)|0,R=R+Math.imul(et,Ft)|0,I=I+Math.imul(Ze,rt)|0,N=N+Math.imul(Ze,Ut)|0,N=N+Math.imul(Ye,rt)|0,R=R+Math.imul(Ye,Ut)|0,I=I+Math.imul(ct,zt)|0,N=N+Math.imul(ct,Vt)|0,N=N+Math.imul(Xe,zt)|0,R=R+Math.imul(Xe,Vt)|0,I=I+Math.imul(Ge,pt)|0,N=N+Math.imul(Ge,Ht)|0,N=N+Math.imul(lt,pt)|0,R=R+Math.imul(lt,Ht)|0;var rd=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(rd>>>26)|0,rd&=67108863,I=Math.imul(Nt,Pe),N=Math.imul(Nt,nt),N=N+Math.imul(gt,Pe)|0,R=Math.imul(gt,nt),I=I+Math.imul(jt,Je)|0,N=N+Math.imul(jt,Ft)|0,N=N+Math.imul(ht,Je)|0,R=R+Math.imul(ht,Ft)|0,I=I+Math.imul($e,rt)|0,N=N+Math.imul($e,Ut)|0,N=N+Math.imul(et,rt)|0,R=R+Math.imul(et,Ut)|0,I=I+Math.imul(Ze,zt)|0,N=N+Math.imul(Ze,Vt)|0,N=N+Math.imul(Ye,zt)|0,R=R+Math.imul(Ye,Vt)|0,I=I+Math.imul(ct,pt)|0,N=N+Math.imul(ct,Ht)|0,N=N+Math.imul(Xe,pt)|0,R=R+Math.imul(Xe,Ht)|0;var ra=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(ra>>>26)|0,ra&=67108863,I=Math.imul(Nt,Je),N=Math.imul(Nt,Ft),N=N+Math.imul(gt,Je)|0,R=Math.imul(gt,Ft),I=I+Math.imul(jt,rt)|0,N=N+Math.imul(jt,Ut)|0,N=N+Math.imul(ht,rt)|0,R=R+Math.imul(ht,Ut)|0,I=I+Math.imul($e,zt)|0,N=N+Math.imul($e,Vt)|0,N=N+Math.imul(et,zt)|0,R=R+Math.imul(et,Vt)|0,I=I+Math.imul(Ze,pt)|0,N=N+Math.imul(Ze,Ht)|0,N=N+Math.imul(Ye,pt)|0,R=R+Math.imul(Ye,Ht)|0;var sd=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(sd>>>26)|0,sd&=67108863,I=Math.imul(Nt,rt),N=Math.imul(Nt,Ut),N=N+Math.imul(gt,rt)|0,R=Math.imul(gt,Ut),I=I+Math.imul(jt,zt)|0,N=N+Math.imul(jt,Vt)|0,N=N+Math.imul(ht,zt)|0,R=R+Math.imul(ht,Vt)|0,I=I+Math.imul($e,pt)|0,N=N+Math.imul($e,Ht)|0,N=N+Math.imul(et,pt)|0,R=R+Math.imul(et,Ht)|0;var id=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(id>>>26)|0,id&=67108863,I=Math.imul(Nt,zt),N=Math.imul(Nt,Vt),N=N+Math.imul(gt,zt)|0,R=Math.imul(gt,Vt),I=I+Math.imul(jt,pt)|0,N=N+Math.imul(jt,Ht)|0,N=N+Math.imul(ht,pt)|0,R=R+Math.imul(ht,Ht)|0;var od=(L+I|0)+((N&8191)<<13)|0;L=(R+(N>>>13)|0)+(od>>>26)|0,od&=67108863,I=Math.imul(Nt,pt),N=Math.imul(Nt,Ht),N=N+Math.imul(gt,pt)|0,R=Math.imul(gt,Ht);var ad=(L+I|0)+((N&8191)<<13)|0;return L=(R+(N>>>13)|0)+(ad>>>26)|0,ad&=67108863,T[0]=qu,T[1]=Gu,T[2]=Zu,T[3]=Yu,T[4]=ks,T[5]=Ju,T[6]=Qu,T[7]=Xu,T[8]=ed,T[9]=td,T[10]=nd,T[11]=kl,T[12]=zi,T[13]=rd,T[14]=ra,T[15]=sd,T[16]=id,T[17]=od,T[18]=ad,L!==0&&(T[19]=L,A.length++),A};Math.imul||(g=b);function w(P,v,_){_.negative=v.negative^P.negative,_.length=P.length+v.length;for(var A=0,k=0,C=0;C<_.length-1;C++){var T=k;k=0;for(var L=A&67108863,I=Math.min(C,v.length-1),N=Math.max(0,C-P.length+1);N<=I;N++){var R=C-N,J=P.words[R]|0,te=v.words[N]|0,re=J*te,X=re&67108863;T=T+(re/67108864|0)|0,X=X+L|0,L=X&67108863,T=T+(X>>>26)|0,k+=T>>>26,T&=67108863}_.words[C]=L,A=T,T=k}return A!==0?_.words[C]=A:_.length--,_._strip()}function j(P,v,_){return w(P,v,_)}i.prototype.mulTo=function(v,_){var A,k=this.length+v.length;return this.length===10&&v.length===10?A=g(this,v,_):k<63?A=b(this,v,_):k<1024?A=w(this,v,_):A=j(this,v,_),A},i.prototype.mul=function(v){var _=new i(null);return _.words=new Array(this.length+v.length),this.mulTo(v,_)},i.prototype.mulf=function(v){var _=new i(null);return _.words=new Array(this.length+v.length),j(this,v,_)},i.prototype.imul=function(v){return this.clone().mulTo(v,this)},i.prototype.imuln=function(v){var _=v<0;_&&(v=-v),r(typeof v=="number"),r(v<67108864);for(var A=0,k=0;k<this.length;k++){var C=(this.words[k]|0)*v,T=(C&67108863)+(A&67108863);A>>=26,A+=C/67108864|0,A+=T>>>26,this.words[k]=T&67108863}return A!==0&&(this.words[k]=A,this.length++),this.length=v===0?1:this.length,_?this.ineg():this},i.prototype.muln=function(v){return this.clone().imuln(v)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(v){var _=y(v);if(_.length===0)return new i(1);for(var A=this,k=0;k<_.length&&_[k]===0;k++,A=A.sqr());if(++k<_.length)for(var C=A.sqr();k<_.length;k++,C=C.sqr())_[k]!==0&&(A=A.mul(C));return A},i.prototype.iushln=function(v){r(typeof v=="number"&&v>=0);var _=v%26,A=(v-_)/26,k=67108863>>>26-_<<26-_,C;if(_!==0){var T=0;for(C=0;C<this.length;C++){var L=this.words[C]&k,I=(this.words[C]|0)-L<<_;this.words[C]=I|T,T=L>>>26-_}T&&(this.words[C]=T,this.length++)}if(A!==0){for(C=this.length-1;C>=0;C--)this.words[C+A]=this.words[C];for(C=0;C<A;C++)this.words[C]=0;this.length+=A}return this._strip()},i.prototype.ishln=function(v){return r(this.negative===0),this.iushln(v)},i.prototype.iushrn=function(v,_,A){r(typeof v=="number"&&v>=0);var k;_?k=(_-_%26)/26:k=0;var C=v%26,T=Math.min((v-C)/26,this.length),L=67108863^67108863>>>C<<C,I=A;if(k-=T,k=Math.max(0,k),I){for(var N=0;N<T;N++)I.words[N]=this.words[N];I.length=T}if(T!==0)if(this.length>T)for(this.length-=T,N=0;N<this.length;N++)this.words[N]=this.words[N+T];else this.words[0]=0,this.length=1;var R=0;for(N=this.length-1;N>=0&&(R!==0||N>=k);N--){var J=this.words[N]|0;this.words[N]=R<<26-C|J>>>C,R=J&L}return I&&R!==0&&(I.words[I.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(v,_,A){return r(this.negative===0),this.iushrn(v,_,A)},i.prototype.shln=function(v){return this.clone().ishln(v)},i.prototype.ushln=function(v){return this.clone().iushln(v)},i.prototype.shrn=function(v){return this.clone().ishrn(v)},i.prototype.ushrn=function(v){return this.clone().iushrn(v)},i.prototype.testn=function(v){r(typeof v=="number"&&v>=0);var _=v%26,A=(v-_)/26,k=1<<_;if(this.length<=A)return!1;var C=this.words[A];return!!(C&k)},i.prototype.imaskn=function(v){r(typeof v=="number"&&v>=0);var _=v%26,A=(v-_)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=A)return this;if(_!==0&&A++,this.length=Math.min(A,this.length),_!==0){var k=67108863^67108863>>>_<<_;this.words[this.length-1]&=k}return this._strip()},i.prototype.maskn=function(v){return this.clone().imaskn(v)},i.prototype.iaddn=function(v){return r(typeof v=="number"),r(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},i.prototype._iaddn=function(v){this.words[0]+=v;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},i.prototype.isubn=function(v){if(r(typeof v=="number"),r(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},i.prototype.addn=function(v){return this.clone().iaddn(v)},i.prototype.subn=function(v){return this.clone().isubn(v)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(v,_,A){var k=v.length+A,C;this._expand(k);var T,L=0;for(C=0;C<v.length;C++){T=(this.words[C+A]|0)+L;var I=(v.words[C]|0)*_;T-=I&67108863,L=(T>>26)-(I/67108864|0),this.words[C+A]=T&67108863}for(;C<this.length-A;C++)T=(this.words[C+A]|0)+L,L=T>>26,this.words[C+A]=T&67108863;if(L===0)return this._strip();for(r(L===-1),L=0,C=0;C<this.length;C++)T=-(this.words[C]|0)+L,L=T>>26,this.words[C]=T&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(v,_){var A=this.length-v.length,k=this.clone(),C=v,T=C.words[C.length-1]|0,L=this._countBits(T);A=26-L,A!==0&&(C=C.ushln(A),k.iushln(A),T=C.words[C.length-1]|0);var I=k.length-C.length,N;if(_!=="mod"){N=new i(null),N.length=I+1,N.words=new Array(N.length);for(var R=0;R<N.length;R++)N.words[R]=0}var J=k.clone()._ishlnsubmul(C,1,I);J.negative===0&&(k=J,N&&(N.words[I]=1));for(var te=I-1;te>=0;te--){var re=(k.words[C.length+te]|0)*67108864+(k.words[C.length+te-1]|0);for(re=Math.min(re/T|0,67108863),k._ishlnsubmul(C,re,te);k.negative!==0;)re--,k.negative=0,k._ishlnsubmul(C,1,te),k.isZero()||(k.negative^=1);N&&(N.words[te]=re)}return N&&N._strip(),k._strip(),_!=="div"&&A!==0&&k.iushrn(A),{div:N||null,mod:k}},i.prototype.divmod=function(v,_,A){if(r(!v.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var k,C,T;return this.negative!==0&&v.negative===0?(T=this.neg().divmod(v,_),_!=="mod"&&(k=T.div.neg()),_!=="div"&&(C=T.mod.neg(),A&&C.negative!==0&&C.iadd(v)),{div:k,mod:C}):this.negative===0&&v.negative!==0?(T=this.divmod(v.neg(),_),_!=="mod"&&(k=T.div.neg()),{div:k,mod:T.mod}):this.negative&v.negative?(T=this.neg().divmod(v.neg(),_),_!=="div"&&(C=T.mod.neg(),A&&C.negative!==0&&C.isub(v)),{div:T.div,mod:C}):v.length>this.length||this.cmp(v)<0?{div:new i(0),mod:this}:v.length===1?_==="div"?{div:this.divn(v.words[0]),mod:null}:_==="mod"?{div:null,mod:new i(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new i(this.modrn(v.words[0]))}:this._wordDiv(v,_)},i.prototype.div=function(v){return this.divmod(v,"div",!1).div},i.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},i.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},i.prototype.divRound=function(v){var _=this.divmod(v);if(_.mod.isZero())return _.div;var A=_.div.negative!==0?_.mod.isub(v):_.mod,k=v.ushrn(1),C=v.andln(1),T=A.cmp(k);return T<0||C===1&&T===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},i.prototype.modrn=function(v){var _=v<0;_&&(v=-v),r(v<=67108863);for(var A=(1<<26)%v,k=0,C=this.length-1;C>=0;C--)k=(A*k+(this.words[C]|0))%v;return _?-k:k},i.prototype.modn=function(v){return this.modrn(v)},i.prototype.idivn=function(v){var _=v<0;_&&(v=-v),r(v<=67108863);for(var A=0,k=this.length-1;k>=0;k--){var C=(this.words[k]|0)+A*67108864;this.words[k]=C/v|0,A=C%v}return this._strip(),_?this.ineg():this},i.prototype.divn=function(v){return this.clone().idivn(v)},i.prototype.egcd=function(v){r(v.negative===0),r(!v.isZero());var _=this,A=v.clone();_.negative!==0?_=_.umod(v):_=_.clone();for(var k=new i(1),C=new i(0),T=new i(0),L=new i(1),I=0;_.isEven()&&A.isEven();)_.iushrn(1),A.iushrn(1),++I;for(var N=A.clone(),R=_.clone();!_.isZero();){for(var J=0,te=1;!(_.words[0]&te)&&J<26;++J,te<<=1);if(J>0)for(_.iushrn(J);J-- >0;)(k.isOdd()||C.isOdd())&&(k.iadd(N),C.isub(R)),k.iushrn(1),C.iushrn(1);for(var re=0,X=1;!(A.words[0]&X)&&re<26;++re,X<<=1);if(re>0)for(A.iushrn(re);re-- >0;)(T.isOdd()||L.isOdd())&&(T.iadd(N),L.isub(R)),T.iushrn(1),L.iushrn(1);_.cmp(A)>=0?(_.isub(A),k.isub(T),C.isub(L)):(A.isub(_),T.isub(k),L.isub(C))}return{a:T,b:L,gcd:A.iushln(I)}},i.prototype._invmp=function(v){r(v.negative===0),r(!v.isZero());var _=this,A=v.clone();_.negative!==0?_=_.umod(v):_=_.clone();for(var k=new i(1),C=new i(0),T=A.clone();_.cmpn(1)>0&&A.cmpn(1)>0;){for(var L=0,I=1;!(_.words[0]&I)&&L<26;++L,I<<=1);if(L>0)for(_.iushrn(L);L-- >0;)k.isOdd()&&k.iadd(T),k.iushrn(1);for(var N=0,R=1;!(A.words[0]&R)&&N<26;++N,R<<=1);if(N>0)for(A.iushrn(N);N-- >0;)C.isOdd()&&C.iadd(T),C.iushrn(1);_.cmp(A)>=0?(_.isub(A),k.isub(C)):(A.isub(_),C.isub(k))}var J;return _.cmpn(1)===0?J=k:J=C,J.cmpn(0)<0&&J.iadd(v),J},i.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var _=this.clone(),A=v.clone();_.negative=0,A.negative=0;for(var k=0;_.isEven()&&A.isEven();k++)_.iushrn(1),A.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;A.isEven();)A.iushrn(1);var C=_.cmp(A);if(C<0){var T=_;_=A,A=T}else if(C===0||A.cmpn(1)===0)break;_.isub(A)}while(!0);return A.iushln(k)},i.prototype.invm=function(v){return this.egcd(v).a.umod(v)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(v){return this.words[0]&v},i.prototype.bincn=function(v){r(typeof v=="number");var _=v%26,A=(v-_)/26,k=1<<_;if(this.length<=A)return this._expand(A+1),this.words[A]|=k,this;for(var C=k,T=A;C!==0&&T<this.length;T++){var L=this.words[T]|0;L+=C,C=L>>>26,L&=67108863,this.words[T]=L}return C!==0&&(this.words[T]=C,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(v){var _=v<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var A;if(this.length>1)A=1;else{_&&(v=-v),r(v<=67108863,"Number is too big");var k=this.words[0]|0;A=k===v?0:k<v?-1:1}return this.negative!==0?-A|0:A},i.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var _=this.ucmp(v);return this.negative!==0?-_|0:_},i.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var _=0,A=this.length-1;A>=0;A--){var k=this.words[A]|0,C=v.words[A]|0;if(k!==C){k<C?_=-1:k>C&&(_=1);break}}return _},i.prototype.gtn=function(v){return this.cmpn(v)===1},i.prototype.gt=function(v){return this.cmp(v)===1},i.prototype.gten=function(v){return this.cmpn(v)>=0},i.prototype.gte=function(v){return this.cmp(v)>=0},i.prototype.ltn=function(v){return this.cmpn(v)===-1},i.prototype.lt=function(v){return this.cmp(v)===-1},i.prototype.lten=function(v){return this.cmpn(v)<=0},i.prototype.lte=function(v){return this.cmp(v)<=0},i.prototype.eqn=function(v){return this.cmpn(v)===0},i.prototype.eq=function(v){return this.cmp(v)===0},i.red=function(v){return new F(v)},i.prototype.toRed=function(v){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(v){return this.red=v,this},i.prototype.forceRed=function(v){return r(!this.red,"Already a number in reduction context"),this._forceRed(v)},i.prototype.redAdd=function(v){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},i.prototype.redIAdd=function(v){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},i.prototype.redSub=function(v){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},i.prototype.redISub=function(v){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},i.prototype.redShl=function(v){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},i.prototype.redMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},i.prototype.redIMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(v){return r(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var E={k256:null,p224:null,p192:null,p25519:null};function M(P,v){this.name=P,this.p=new i(v,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var v=new i(null);return v.words=new Array(Math.ceil(this.n/13)),v},M.prototype.ireduce=function(v){var _=v,A;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),A=_.bitLength();while(A>this.n);var k=A<this.n?-1:_.ucmp(this.p);return k===0?(_.words[0]=0,_.length=1):k>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},M.prototype.split=function(v,_){v.iushrn(this.n,0,_)},M.prototype.imulK=function(v){return v.imul(this.k)};function O(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(O,M),O.prototype.split=function(v,_){for(var A=4194303,k=Math.min(v.length,9),C=0;C<k;C++)_.words[C]=v.words[C];if(_.length=k,v.length<=9){v.words[0]=0,v.length=1;return}var T=v.words[9];for(_.words[_.length++]=T&A,C=10;C<v.length;C++){var L=v.words[C]|0;v.words[C-10]=(L&A)<<4|T>>>22,T=L}T>>>=22,v.words[C-10]=T,T===0&&v.length>10?v.length-=10:v.length-=9},O.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var _=0,A=0;A<v.length;A++){var k=v.words[A]|0;_+=k*977,v.words[A]=_&67108863,_=k*64+(_/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function B(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(B,M);function z(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(z,M);function $(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s($,M),$.prototype.imulK=function(v){for(var _=0,A=0;A<v.length;A++){var k=(v.words[A]|0)*19+_,C=k&67108863;k>>>=26,v.words[A]=C,_=k}return _!==0&&(v.words[v.length++]=_),v},i._prime=function(v){if(E[v])return E[v];var _;if(v==="k256")_=new O;else if(v==="p224")_=new B;else if(v==="p192")_=new z;else if(v==="p25519")_=new $;else throw new Error("Unknown prime "+v);return E[v]=_,_};function F(P){if(typeof P=="string"){var v=i._prime(P);this.m=v.p,this.prime=v}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}F.prototype._verify1=function(v){r(v.negative===0,"red works only with positives"),r(v.red,"red works only with red numbers")},F.prototype._verify2=function(v,_){r((v.negative|_.negative)===0,"red works only with positives"),r(v.red&&v.red===_.red,"red works only with red numbers")},F.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(d(v,v.umod(this.m)._forceRed(this)),v)},F.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},F.prototype.add=function(v,_){this._verify2(v,_);var A=v.add(_);return A.cmp(this.m)>=0&&A.isub(this.m),A._forceRed(this)},F.prototype.iadd=function(v,_){this._verify2(v,_);var A=v.iadd(_);return A.cmp(this.m)>=0&&A.isub(this.m),A},F.prototype.sub=function(v,_){this._verify2(v,_);var A=v.sub(_);return A.cmpn(0)<0&&A.iadd(this.m),A._forceRed(this)},F.prototype.isub=function(v,_){this._verify2(v,_);var A=v.isub(_);return A.cmpn(0)<0&&A.iadd(this.m),A},F.prototype.shl=function(v,_){return this._verify1(v),this.imod(v.ushln(_))},F.prototype.imul=function(v,_){return this._verify2(v,_),this.imod(v.imul(_))},F.prototype.mul=function(v,_){return this._verify2(v,_),this.imod(v.mul(_))},F.prototype.isqr=function(v){return this.imul(v,v.clone())},F.prototype.sqr=function(v){return this.mul(v,v)},F.prototype.sqrt=function(v){if(v.isZero())return v.clone();var _=this.m.andln(3);if(r(_%2===1),_===3){var A=this.m.add(new i(1)).iushrn(2);return this.pow(v,A)}for(var k=this.m.subn(1),C=0;!k.isZero()&&k.andln(1)===0;)C++,k.iushrn(1);r(!k.isZero());var T=new i(1).toRed(this),L=T.redNeg(),I=this.m.subn(1).iushrn(1),N=this.m.bitLength();for(N=new i(2*N*N).toRed(this);this.pow(N,I).cmp(L)!==0;)N.redIAdd(L);for(var R=this.pow(N,k),J=this.pow(v,k.addn(1).iushrn(1)),te=this.pow(v,k),re=C;te.cmp(T)!==0;){for(var X=te,he=0;X.cmp(T)!==0;he++)X=X.redSqr();r(he<re);var we=this.pow(R,new i(1).iushln(re-he-1));J=J.redMul(we),R=we.redSqr(),te=te.redMul(R),re=he}return J},F.prototype.invm=function(v){var _=v._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},F.prototype.pow=function(v,_){if(_.isZero())return new i(1).toRed(this);if(_.cmpn(1)===0)return v.clone();var A=4,k=new Array(1<<A);k[0]=new i(1).toRed(this),k[1]=v;for(var C=2;C<k.length;C++)k[C]=this.mul(k[C-1],v);var T=k[0],L=0,I=0,N=_.bitLength()%26;for(N===0&&(N=26),C=_.length-1;C>=0;C--){for(var R=_.words[C],J=N-1;J>=0;J--){var te=R>>J&1;if(T!==k[0]&&(T=this.sqr(T)),te===0&&L===0){I=0;continue}L<<=1,L|=te,I++,!(I!==A&&(C!==0||J!==0))&&(T=this.mul(T,k[L]),I=0,L=0)}N=26}return T},F.prototype.convertTo=function(v){var _=v.umod(this.m);return _===v?_.clone():_},F.prototype.convertFrom=function(v){var _=v.clone();return _.red=null,_},i.mont=function(v){return new U(v)};function U(P){F.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(U,F),U.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},U.prototype.convertFrom=function(v){var _=this.imod(v.mul(this.rinv));return _.red=null,_},U.prototype.imul=function(v,_){if(v.isZero()||_.isZero())return v.words[0]=0,v.length=1,v;var A=v.imul(_),k=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=A.isub(k).iushrn(this.shift),T=C;return C.cmp(this.m)>=0?T=C.isub(this.m):C.cmpn(0)<0&&(T=C.iadd(this.m)),T._forceRed(this)},U.prototype.mul=function(v,_){if(v.isZero()||_.isZero())return new i(0)._forceRed(this);var A=v.mul(_),k=A.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=A.isub(k).iushrn(this.shift),T=C;return C.cmp(this.m)>=0?T=C.isub(this.m):C.cmpn(0)<0&&(T=C.iadd(this.m)),T._forceRed(this)},U.prototype.invm=function(v){var _=this.imod(v._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(e,ze)})($j);var ple=$j.exports;const G3=bu(ple),Qh="ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",yu=new BR,z0="escrow",mle="mock-token";async function gle(e,t,n,r,s,i,o){var f,p,x,m;const l=o.loadUserData(),c=((p=(f=l==null?void 0:l.profile)==null?void 0:f.stxAddress)==null?void 0:p.testnet)||((m=(x=l==null?void 0:l.profile)==null?void 0:x.stxAddress)==null?void 0:m.mainnet);if(!c)throw new Error("Wallet address not found. Please reconnect your wallet.");const u=[sD(c,fg.LessEqual,new G3(1e5))],d=[Ac(e),th(t),Ac(n),th(r),th(s),Ac(i)],h={contractAddress:Qh,contractName:z0,functionName:"create-invoice",functionArgs:d,postConditions:u,postConditionMode:fu.Deny,network:yu,anchorMode:Wn.Any,onFinish:y=>(console.log(" Invoice created:",y),console.log(` View on Explorer: https://explorer.stacks.co/txid/${y.txId}?chain=${yu.isMainnet()?"mainnet":"testnet"}`),y),onCancel:()=>{console.log(" Invoice creation cancelled")}};await k0(h)}async function yle(e,t,n){const r=`${Qh}.${z0}`,s=[Ac(e),th(t),th(r)],i={contractAddress:Qh,contractName:mle,functionName:"transfer",functionArgs:s,network:yu,anchorMode:Wn.Any,postConditionMode:fu.Deny,onFinish:o=>(console.log(" Tokens transferred to escrow:",o),o),onCancel:()=>{console.log(" Token transfer cancelled")}};await k0(i)}async function vle(e,t){const n=[Ac(e)],r={contractAddress:Qh,contractName:z0,functionName:"ack-deposit",functionArgs:n,network:yu,anchorMode:Wn.Any,postConditionMode:fu.Deny,onFinish:s=>(console.log(" Deposit acknowledged:",s),s),onCancel:()=>{console.log(" Deposit acknowledgement cancelled")}};await k0(r)}async function xle(e,t,n){var c,u,d,h;const r=t.loadUserData(),s=((u=(c=r==null?void 0:r.profile)==null?void 0:c.stxAddress)==null?void 0:u.testnet)||((h=(d=r==null?void 0:r.profile)==null?void 0:d.stxAddress)==null?void 0:h.mainnet);if(!s)throw new Error("Wallet address not found. Please reconnect your wallet.");const i=[sD(s,fg.LessEqual,new G3(1e5))],o=[Ac(e)],l={contractAddress:Qh,contractName:z0,functionName:"release-funds",functionArgs:o,postConditions:i,postConditionMode:fu.Deny,network:yu,anchorMode:Wn.Any,onFinish:f=>(console.log(" Funds released to payee:",f),console.log(` View on Explorer: https://explorer.stacks.co/txid/${f.txId}?chain=${yu.isMainnet()?"mainnet":"testnet"}`),f),onCancel:()=>{console.log(" Fund release cancelled")}};await k0(l)}function Rv(e){return e/1e8}const $l=[{id:"parse",label:"AI Parse Invoice",description:"Extract data from natural language"},{id:"review",label:"Review & Edit",description:"Verify extracted information"},{id:"create",label:"Create Invoice",description:"Deploy on-chain"},{id:"deposit",label:"Deposit sBTC",description:"Transfer to escrow"},{id:"acknowledge",label:"Acknowledge Deposit",description:"Mark as funded"},{id:"release",label:"Release Funds",description:"Complete payment"},{id:"complete",label:"Complete",description:"Invoice settled"}];function wle(){var z,$,F;const[e,t]=S.useState("parse"),[n,r]=S.useState(!1),[s,i]=S.useState(null),[o,l]=S.useState(`Invoice #2024-001
To: SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7 (Alice)
From: WebGuild DAO
Description: UX redesign and deliverables: wireframes + responsive pages
Amount: 0.05 sBTC due on 2025-12-31
Milestones: Initial mockups (50%) | Final delivery (50%)
Arbiter: SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE`),[c,u]=S.useState(null),[d,h]=S.useState(""),[f,p]=S.useState("openai"),[x,m]=S.useState(null),[y,b]=S.useState(""),g=async()=>{r(!0),i(null);try{let U;f==="openai"?U=await dle(o,d):U=await hle(o,d);const P=fle(U);if(!P.valid){i(`Validation errors: ${P.errors.join(", ")}`);return}u(U),t("review")}catch(U){i(U.message||"Failed to parse invoice")}finally{r(!1)}},w=()=>{t("create")},j=async()=>{if(c){r(!0),i(null);try{await gle(c.invoice_id,c.payee||"",c.amount,c.token_contract||"",c.arbiter||"",99999999,null),t("deposit")}catch(U){i(U.message||"Failed to create invoice")}finally{r(!1)}}},E=async()=>{if(c){r(!0),i(null);try{await yle(c.amount,c.payer||"",null),t("acknowledge")}catch(U){i(U.message||"Failed to deposit tokens")}finally{r(!1)}}},M=async()=>{if(c){r(!0),i(null);try{await vle(c.invoice_id,null),b("FUNDED"),t("release")}catch(U){i(U.message||"Failed to acknowledge deposit")}finally{r(!1)}}},O=async()=>{if(c){r(!0),i(null);try{await xle(c.invoice_id,null),b("RELEASED"),t("complete")}catch(U){i(U.message||"Failed to release funds")}finally{r(!1)}}},B=()=>a.jsx("div",{className:"flex items-center justify-between mb-8 overflow-x-auto pb-4",children:$l.map((U,P)=>{const v=$l.findIndex(k=>k.id===e),_=P<v,A=U.id===e;return a.jsxs("div",{className:"flex items-center flex-shrink-0",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`
                flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all
                ${_?"bg-green-500 border-green-500":""}
                ${A?"bg-blue-500 border-blue-500":""}
                ${!_&&!A?"bg-gray-100 border-gray-300":""}
              `,children:_?a.jsx(ji,{className:"w-5 h-5 text-white"}):A?a.jsx(O_,{className:"w-5 h-5 text-white fill-current"}):a.jsx(O_,{className:"w-5 h-5 text-gray-400"})}),a.jsx("span",{className:`
                mt-2 text-xs font-medium text-center max-w-[100px]
                ${A?"text-blue-600":"text-gray-500"}
              `,children:U.label})]}),P<$l.length-1&&a.jsx("div",{className:`
                w-12 h-0.5 mx-2 mt-[-20px]
                ${_?"bg-green-500":"bg-gray-300"}
              `})]},U.id)})});return a.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-5xl",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-orange-500 to-purple-600 bg-clip-text text-transparent",children:"Smart Invoice Deals for DAOs"}),a.jsx("p",{className:"text-gray-600",children:"AI-powered Bitcoin-native invoicing on Stacks"})]}),B(),s&&a.jsx(x3,{variant:"destructive",className:"mb-6",children:a.jsx(w3,{children:s})}),e==="parse"&&a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Bn,{className:"w-5 h-5"}),"AI Invoice Parser"]}),a.jsx(je,{children:"Paste your invoice text below and let AI extract the structured data"})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select AI Provider"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Y,{variant:f==="openai"?"default":"outline",onClick:()=>p("openai"),children:"OpenAI GPT-4"}),a.jsx(Y,{variant:f==="claude"?"default":"outline",onClick:()=>p("claude"),children:"Anthropic Claude"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"API Key"}),a.jsx(Zt,{type:"password",placeholder:`Enter your ${f==="openai"?"OpenAI":"Anthropic"} API key`,value:d,onChange:U=>h(U.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Invoice Text"}),a.jsx(kj,{rows:10,placeholder:"Paste your invoice text here...",value:o,onChange:U=>l(U.target.value),className:"font-mono text-sm"})]}),a.jsx(Y,{onClick:g,disabled:n||!d,className:"w-full",children:n?a.jsxs(a.Fragment,{children:[a.jsx(wa,{className:"w-4 h-4 mr-2 animate-spin"}),"Parsing with AI..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Parse Invoice with AI"]})})]})]}),e==="review"&&c&&a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Jn,{className:"w-5 h-5"}),"Review Extracted Data"]}),a.jsx(je,{children:"Verify the information extracted by AI"})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Invoice ID"}),a.jsx("p",{className:"text-lg font-semibold",children:c.invoice_id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Amount"}),a.jsxs("p",{className:"text-lg font-semibold",children:[Rv(c.amount)," sBTC",a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",c.amount.toLocaleString()," sats)"]})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Payee"}),a.jsx("p",{className:"text-sm font-mono bg-gray-50 p-2 rounded",children:c.payee})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Arbiter"}),a.jsx("p",{className:"text-sm font-mono bg-gray-50 p-2 rounded",children:c.arbiter})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Milestone Description"}),a.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:c.milestone_description})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Deadline"}),a.jsx("p",{className:"text-sm",children:c.deadline||"No deadline"})]})]}),a.jsxs(Y,{onClick:w,className:"w-full",children:["Looks Good, Continue",a.jsx($o,{className:"w-4 h-4 ml-2"})]})]})]}),["create","deposit","acknowledge","release"].includes(e)&&a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(dr,{className:"w-5 h-5"}),(z=$l.find(U=>U.id===e))==null?void 0:z.label]}),a.jsx(je,{children:($=$l.find(U=>U.id===e))==null?void 0:$.description})]}),a.jsxs(q,{className:"space-y-4",children:[c&&a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Invoice ID:"}),a.jsxs("span",{className:"font-mono font-semibold",children:["#",c.invoice_id]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Amount:"}),a.jsxs("span",{className:"font-semibold",children:[Rv(c.amount)," sBTC"]})]}),y&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),a.jsx(pe,{variant:y==="RELEASED"?"default":"secondary",children:y})]})]}),a.jsx(Y,{onClick:e==="create"?j:e==="deposit"?E:e==="acknowledge"?M:O,disabled:n,className:"w-full",children:n?a.jsxs(a.Fragment,{children:[a.jsx(wa,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[(F=$l.find(U=>U.id===e))==null?void 0:F.label,a.jsx($o,{className:"w-4 h-4 ml-2"})]})})]})]}),e==="complete"&&a.jsxs(K,{className:"border-green-500",children:[a.jsxs(se,{children:[a.jsxs(ie,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Gd,{className:"w-6 h-6"}),"Invoice Complete!"]}),a.jsx(je,{children:"Funds have been successfully released to the payee"})]}),a.jsxs(q,{className:"space-y-4",children:[c&&a.jsxs("div",{className:"bg-green-50 p-6 rounded-lg space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Invoice ID:"}),a.jsxs("span",{className:"font-mono font-bold text-lg",children:["#",c.invoice_id]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Amount Transferred:"}),a.jsxs("span",{className:"font-bold text-lg text-green-600",children:[Rv(c.amount)," sBTC"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),a.jsx(pe,{className:"bg-green-500",children:"RELEASED"})]})]}),a.jsx(Y,{variant:"outline",onClick:()=>{t("parse"),u(null),i(null),b("")},className:"w-full",children:"Create Another Invoice"})]})]})]})}const ble=()=>a.jsx(wle,{}),Sle=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Uu);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Lj extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class XC extends Lj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ek extends Lj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tk extends Lj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ub;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ub||(ub={}));var jle=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Nle{constructor(t,{headers:n={},customFetch:r,region:s=ub.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Sle(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return jle(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:l,signal:c}=r;let u={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)));const p=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:c}).catch(b=>{throw b.name==="AbortError"?b:new XC(b)}),x=p.headers.get("x-relay-error");if(x&&x==="true")throw new ek(p);if(!p.ok)throw new tk(p);let m=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield p.json():m==="application/octet-stream"?y=yield p.blob():m==="text/event-stream"?y=p:m==="multipart/form-data"?y=yield p.formData():y=yield p.text(),{data:y,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new XC(i)}:{data:null,error:i,response:i instanceof tk||i instanceof ek?i.context:void 0}}})}}var or={},Bj={},V0={},Nf={},H0={},K0={},_le=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vu=_le();const Ele=vu.fetch,Z3=vu.fetch.bind(vu),Y3=vu.Headers,Ale=vu.Request,Cle=vu.Response,Uu=Object.freeze(Object.defineProperty({__proto__:null,Headers:Y3,Request:Ale,Response:Cle,default:Z3,fetch:Ele},Symbol.toStringTag,{value:"Module"})),kle=fl(Uu);var W0={};Object.defineProperty(W0,"__esModule",{value:!0});let Tle=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};W0.default=Tle;var J3=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(K0,"__esModule",{value:!0});const Ple=J3(kle),Ile=J3(W0);let Mle=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ple.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,h=null,f=null,p=i.status,x=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const y=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,x="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(h=[],d=null,p=200,x="OK")}catch{i.status===404&&y===""?(p=204,x="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,x="OK"),d&&this.shouldThrowOnError)throw new Ile.default(d)}return{error:d,data:h,count:f,status:p,statusText:x}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};K0.default=Mle;var Ole=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(H0,"__esModule",{value:!0});const Rle=Ole(K0);let Dle=class extends Rle.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};H0.default=Dle;var $le=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nf,"__esModule",{value:!0});const Lle=$le(H0);let Ble=class extends Lle.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Nf.default=Ble;var Fle=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(V0,"__esModule",{value:!0});const bd=Fle(Nf);let Ule=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let o=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new bd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new bd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new bd.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new bd.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new bd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};V0.default=Ule;var Q3=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bj,"__esModule",{value:!0});const zle=Q3(V0),Vle=Q3(Nf);let Hle=class X3{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new zle.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new X3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Vle.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Bj.default=Hle;var zu=ze&&ze.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(or,"__esModule",{value:!0});or.PostgrestError=or.PostgrestBuilder=or.PostgrestTransformBuilder=or.PostgrestFilterBuilder=or.PostgrestQueryBuilder=or.PostgrestClient=void 0;const e5=zu(Bj);or.PostgrestClient=e5.default;const t5=zu(V0);or.PostgrestQueryBuilder=t5.default;const n5=zu(Nf);or.PostgrestFilterBuilder=n5.default;const r5=zu(H0);or.PostgrestTransformBuilder=r5.default;const s5=zu(K0);or.PostgrestBuilder=s5.default;const i5=zu(W0);or.PostgrestError=i5.default;var Kle=or.default={PostgrestClient:e5.default,PostgrestQueryBuilder:t5.default,PostgrestFilterBuilder:n5.default,PostgrestTransformBuilder:r5.default,PostgrestBuilder:s5.default,PostgrestError:i5.default};const{PostgrestClient:Wle,PostgrestQueryBuilder:qme,PostgrestFilterBuilder:Gme,PostgrestTransformBuilder:Zme,PostgrestBuilder:Yme,PostgrestError:Jme}=Kle;class qle{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Gle="2.75.0",Zle=`realtime-js/${Gle}`,Yle="1.0.0",db=1e4,Jle=1e3,Qle=100;var oh;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oh||(oh={}));var un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(un||(un={}));var ms;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ms||(ms={}));var hb;(function(e){e.websocket="websocket"})(hb||(hb={}));var ma;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ma||(ma={}));class Xle{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class o5{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var vt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(vt||(vt={}));const nk=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=ece(o,e,t,s),i),{}):{}},ece=(e,t,n,r)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?a5(i,o):fb(o)},a5=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return sce(t,n)}switch(e){case vt.bool:return tce(t);case vt.float4:case vt.float8:case vt.int2:case vt.int4:case vt.int8:case vt.numeric:case vt.oid:return nce(t);case vt.json:case vt.jsonb:return rce(t);case vt.timestamp:return ice(t);case vt.abstime:case vt.date:case vt.daterange:case vt.int4range:case vt.int8range:case vt.money:case vt.reltime:case vt.text:case vt.time:case vt.timestamptz:case vt.timetz:case vt.tsrange:case vt.tstzrange:return fb(t);default:return fb(t)}},fb=e=>e,tce=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},sce=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>a5(t,l))}return e},ice=e=>typeof e=="string"?e.replace(" ","T"):e,l5=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Dv{constructor(t,n,r={},s=db){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var rk;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(rk||(rk={}));class ah{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ah.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=ah.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ah.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),x=d.filter(y=>p.indexOf(y.presence_ref)<0),m=h.filter(y=>f.indexOf(y.presence_ref)<0);x.length>0&&(l[u]=x),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sk||(sk={}));var lh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lh||(lh={}));var yi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));class Fj{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Dv(this,ms.join,this.params,this.timeout),this.rejoinTimer=new o5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=un.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ms.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ah(this),this.broadcastEndpointURL=l5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==un.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[lh.PRESENCE]&&this.bindings[lh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(yi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(yi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var x;if(this.socket.setAuth(),p===void 0){t==null||t(yi.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(x=m==null?void 0:m.length)!==null&&x!==void 0?x:0,b=[];for(let g=0;g<y;g++){const w=m[g],{filter:{event:j,schema:E,table:M,filter:O}}=w,B=p&&p[g];if(B&&B.event===j&&B.schema===E&&B.table===M&&B.filter===O)b.push(Object.assign(Object.assign({},w),{id:B.id}));else{this.unsubscribe(),this.state=un.errored,t==null||t(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(yi.SUBSCRIBED);return}}).receive("error",p=>{this.state=un.errored,t==null||t(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===un.joined&&t===lh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=un.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ms.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Dv(this,ms.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=un.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Dv(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Qle){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ms;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var x,m,y;return((x=p.filter)===null||x===void 0?void 0:x.event)==="*"||((y=(m=p.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var x,m,y,b,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const j=p.id,E=(x=p.filter)===null||x===void 0?void 0:x.event;return j&&((m=n.ids)===null||m===void 0?void 0:m.includes(j))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const j=(g=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:m,table:y,commit_timestamp:b,type:g,errors:w}=x;f=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:b,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(x))}p.callback(f,r)})}_isClosed(){return this.state===un.closed}_isJoined(){return this.state===un.joined}_isJoining(){return this.state===un.joining}_isLeaving(){return this.state===un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Fj.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ms.close,{},t)}_onError(t){this._on(ms.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=nk(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=nk(t.columns,t.old_record)),n}}const $v=()=>{},Ip={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oce=[1e3,2e3,5e3,1e4],ace=1e4,lce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cce{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=db,this.transport=null,this.heartbeatIntervalMs=Ip.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$v,this.ref=0,this.reconnectTimer=null,this.logger=$v,this.conn=null,this.sendBuffer=[],this.serializer=new Xle,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>sl(async()=>{const{default:l}=await Promise.resolve().then(()=>Uu);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${hb.websocket}`,this.httpEndpoint=l5(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qle.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yle}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case oh.connecting:return ma.Connecting;case oh.open:return ma.Open;case oh.closing:return ma.Closing;default:return ma.Closed}}isConnected(){return this.connectionState()===ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Fj(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Jle,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ip.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ms.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([lce],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Zle};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ms.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new o5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ip.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,l,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:db,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ip.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:$v,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:h=>oce[h-1]||ace,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Uj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function rn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class uce extends Uj{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pb extends Uj{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var dce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const c5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Uu);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},hce=()=>dce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sl(()=>Promise.resolve().then(()=>Uu),void 0,import.meta.url)).Response:Response}),mb=e=>{if(Array.isArray(e))return e.map(n=>mb(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=mb(r)}),t},fce=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Al=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Lv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pce=(e,t,n)=>Al(void 0,void 0,void 0,function*(){const r=yield hce();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new uce(Lv(s),i,o))}).catch(s=>{t(new pb(Lv(s),s))}):t(new pb(Lv(e),e))}),mce=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(fce(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function _f(e,t,n,r,s,i){return Al(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(n,mce(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>pce(c,l,r))})})}function kg(e,t,n,r){return Al(this,void 0,void 0,function*(){return _f(e,"GET",t,n,r)})}function Rs(e,t,n,r,s){return Al(this,void 0,void 0,function*(){return _f(e,"POST",t,r,s,n)})}function gb(e,t,n,r,s){return Al(this,void 0,void 0,function*(){return _f(e,"PUT",t,r,s,n)})}function gce(e,t,n,r){return Al(this,void 0,void 0,function*(){return _f(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function u5(e,t,n,r,s){return Al(this,void 0,void 0,function*(){return _f(e,"DELETE",t,r,s,n)})}var yce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class vce{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return yce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rn(t))return{data:null,error:t};throw t}})}}var xce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class wce{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}asStream(){return new vce(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.execute().then(t,n)}execute(){return xce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rn(t))return{data:null,error:t};throw t}})}}var rr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const bce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ik={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sce{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=c5(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return rr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ik),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?gb:Rs)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(rn(i))return{data:null,error:i};throw i}})}upload(t,n,r){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return rr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:ik.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield gb(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return rr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Rs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Uj("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}update(t,n,r){return rr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return rr(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}})}copy(t,n,r){return rr(this,void 0,void 0,function*(){try{return{data:{path:(yield Rs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return rr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Rs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return rr(this,void 0,void 0,function*(){try{const s=yield Rs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),c=()=>kg(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new wce(c,this.shouldThrowOnError)}info(t){return rr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield kg(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:mb(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}exists(t){return rr(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield gce(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r)&&r instanceof pb){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(t){return rr(this,void 0,void 0,function*(){try{return{data:yield u5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}list(t,n,r){return rr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bce),n),{prefix:t||""});return{data:yield Rs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}})}listV2(t,n){return rr(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Rs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const jce="2.75.0",Nce={"X-Client-Info":`storage-js/${jce}`};var Ll=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class _ce{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Nce),n),this.fetch=c5(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ll(this,void 0,void 0,function*(){try{return{data:yield kg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(rn(t))return{data:null,error:t};throw t}})}getBucket(t){return Ll(this,void 0,void 0,function*(){try{return{data:yield kg(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}createBucket(t){return Ll(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Rs(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rn(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ll(this,void 0,void 0,function*(){try{return{data:yield gb(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rn(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ll(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ll(this,void 0,void 0,function*(){try{return{data:yield u5(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(rn(n))return{data:null,error:n};throw n}})}}class Ece extends _ce{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new Sce(this.url,this.headers,t,this.fetch)}}const Ace="2.75.0";let Id="";typeof Deno<"u"?Id="deno":typeof document<"u"?Id="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Id="react-native":Id="node";const Cce={"X-Client-Info":`supabase-js-${Id}/${Ace}`},kce={headers:Cce},Tce={schema:"public"},Pce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ice={};var Mce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};const Oce=e=>{let t;return e?t=e:typeof fetch>"u"?t=Z3:t=fetch,(...n)=>t(...n)},Rce=()=>typeof Headers>"u"?Y3:Headers,Dce=(e,t,n)=>{const r=Oce(n),s=Rce();return(i,o)=>Mce(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var $ce=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};function Lce(e){return e.endsWith("/")?e:e+"/"}function Bce(e,t){var n,r;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>$ce(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Fce(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lce(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const d5="2.75.0",Kl=30*1e3,yb=3,Bv=yb*Kl,Uce="http://localhost:9999",zce="supabase.auth.token",Vce={"X-Client-Info":`gotrue-js/${d5}`},vb="X-Supabase-Api-Version",h5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kce=10*60*1e3;class Xh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Wce extends Xh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function qce(e){return ge(e)&&e.name==="AuthApiError"}class ga extends Xh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Qo extends Xh{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class eo extends Qo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gce(e){return ge(e)&&e.name==="AuthSessionMissingError"}class Bl extends Qo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mp extends Qo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Op extends Qo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zce(e){return ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class ok extends Qo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xb extends Qo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Fv(e){return ge(e)&&e.name==="AuthRetryableFetchError"}class ak extends Qo{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class wb extends Qo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lk=` 	
\r=`.split(""),Yce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lk.length;t+=1)e[lk[t].charCodeAt(0)]=-2;for(let t=0;t<Tg.length;t+=1)e[Tg[t].charCodeAt(0)]=t;return e})();function ck(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Tg[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Tg[r]),t.queuedBits-=6}}function f5(e,t,n){const r=Yce[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uk(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Xce(o,r,n)};for(let o=0;o<e.length;o+=1)f5(e.charCodeAt(o),s,i);return t.join("")}function Jce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Qce(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Jce(r,t)}}function Xce(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Tc(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)f5(e.charCodeAt(s),n,r);return new Uint8Array(t)}function eue(e){const t=[];return Qce(e,n=>t.push(n)),new Uint8Array(t)}function _a(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>ck(s,n,r)),ck(null,n,r),t.join("")}function tue(e){return Math.round(Date.now()/1e3)+e}function nue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xr=()=>typeof window<"u"&&typeof document<"u",aa={tested:!1,writable:!1},p5=()=>{if(!xr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(aa.tested)return aa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),aa.tested=!0,aa.writable=!0}catch{aa.tested=!0,aa.writable=!1}return aa.writable};function rue(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const m5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>sl(async()=>{const{default:r}=await Promise.resolve().then(()=>Uu);return{default:r}},void 0,import.meta.url).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},sue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Wl=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},la=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yi=async(e,t)=>{await e.removeItem(t)};class q0{constructor(){this.promise=new q0.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}q0.promiseConstructor=Promise;function Uv(e){const t=e.split(".");if(t.length!==3)throw new wb("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Hce.test(t[r]))throw new wb("JWT not in base64url format");return{header:JSON.parse(uk(t[0])),payload:JSON.parse(uk(t[1])),signature:Tc(t[2]),raw:{header:t[0],payload:t[1]}}}async function iue(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function oue(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function aue(e){return("0"+e.toString(16)).substr(-2)}function lue(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,aue).join("")}async function cue(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function uue(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cue(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fl(e,t,n=!1){const r=lue();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Wl(e,`${t}-code-verifier`,s);const i=await uue(r);return[i,r===i?"plain":"s256"]}const due=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hue(e){const t=e.headers.get(vb);if(!t||!t.match(due))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fue(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pue(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ul(e){if(!mue.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zv(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dk(e){return JSON.parse(JSON.stringify(e))}var gue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yue=[502,503,504];async function hk(e){var t;if(!sue(e))throw new xb(fa(e),0);if(yue.includes(e.status))throw new xb(fa(e),e.status);let n;try{n=await e.json()}catch(i){throw new ga(fa(i),i)}let r;const s=hue(e);if(s&&s.getTime()>=h5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ak(fa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new eo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ak(fa(n),e.status,n.weak_password.reasons);throw new Wce(fa(n),e.status||500,r)}const vue=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Ne(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[vb]||(i[vb]=h5["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await xue(e,t,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function xue(e,t,n,r,s,i){const o=vue(t,r,s,i);let l;try{l=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new xb(fa(c),0)}if(l.ok||await hk(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await hk(c)}}function is(e){var t;let n=null;Sue(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tue(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function fk(e){const t=is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ao(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wue(e){return{data:e,error:null}}function bue(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=gue(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function pk(e){return e}function Sue(e){return e.access_token&&e.refresh_token&&e.expires_in}const Vv=["global","local","others"];var jue=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Nue{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=m5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Vv[0]){if(Vv.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vv.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ao})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=jue(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bue,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ao})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pk});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ge(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ul(t);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ao})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ul(t);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ao})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Ul(t);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ao})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ul(t.userId);try{const{data:n,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ul(t.userId),Ul(t.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:pk});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(x=>{const m=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(x.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ge(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function mk(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const zl={debug:!!(globalThis&&p5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class g5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _ue extends g5{}async function Eue(e,t,n){zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),zl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw zl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _ue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Aue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function y5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Cue(e){return parseInt(e,16)}function kue(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Tue(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=y5(e.address),x=d?`${d}://${r}`:r,m=e.statement?`${e.statement}
`:"",y=`${x} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);g+=`
- ${w}`}b+=g}return`${y}
${b}`}class nn extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Pg extends nn{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Pue({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new nn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new nn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new nn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new nn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new nn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new nn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new nn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(x5(o)){if(i.rp.id!==o)return new nn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new nn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Iue({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new nn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new nn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(x5(r)){if(n.rpId!==r)return new nn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new nn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new nn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new nn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var v5=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Mue{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Oue=new Mue;function Rue(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=v5(e,["challenge","user","excludeCredentials"]),i=Tc(t).buffer,o=Object.assign(Object.assign({},n),{id:Tc(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Tc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Due(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=v5(e,["challenge","allowCredentials"]),s=Tc(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Tc(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function $ue(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:_a(new Uint8Array(e.response.attestationObject)),clientDataJSON:_a(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Lue(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_a(new Uint8Array(s.authenticatorData)),clientDataJSON:_a(new Uint8Array(s.clientDataJSON)),signature:_a(new Uint8Array(s.signature)),userHandle:s.userHandle?_a(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function x5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function gk(){var e,t;return!!(xr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Bue(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pg("Browser returned unexpected credential type",t)}:{data:null,error:new Pg("Empty credential response",t)}}catch(t){return{data:null,error:Pue({error:t,options:e})}}}async function Fue(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pg("Browser returned unexpected credential type",t)}:{data:null,error:new Pg("Empty credential response",t)}}catch(t){return{data:null,error:Iue({error:t,options:e})}}}const Uue={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},zue={userVerification:"preferred",hints:["security-key"]};function Ig(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const l=r[i];t(l)?r[i]=Ig(l,o):r[i]=Ig(o)}else r[i]=o}return r}function Vue(e,t){return Ig(Uue,e,t||{})}function Hue(e,t){return Ig(zue,e,t||{})}class Kue{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:l};const c=s??Oue.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Vue(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Bue({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Hue(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Fue(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new ga("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new Xh("rpId is required for WebAuthn authentication")};try{if(!gk())return{data:null,error:new ga("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new ga("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new Xh("rpId is required for WebAuthn registration")};try{if(!gk())return{data:null,error:new ga("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ge(o)?{data:null,error:o}:{data:null,error:new ga("Unexpected error in register",o)}}}}Aue();const Wue={url:Uce,storageKey:zce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function yk(e,t,n){return await n()}const Vl={};class ef{get jwks(){var t,n;return(n=(t=Vl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Vl[this.storageKey]=Object.assign(Object.assign({},Vl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Vl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vl[this.storageKey]=Object.assign(Object.assign({},Vl[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ef.nextInstanceID,ef.nextInstanceID+=1,this.instanceID>0&&xr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Wue),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Nue({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=m5(s.fetch),this.lock=s.lock||yk,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:xr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Eue:this.lock=yk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kue(this)},this.persistSession?(s.storage?this.storage=s.storage:p5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mk(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=mk(this.memoryStorage)),xr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${d5}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=rue(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),xr()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zce(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new ga("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:is}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Fl(this.storage,this.storageKey)),i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:x},xform:is})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:is})}else throw new Mp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ge(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:l}=t;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fk})}else if("phone"in t){const{phone:i,password:o,options:l}=t;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fk})}else throw new Mp("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Bl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,l,c,u,d,h,f;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:m,wallet:y,statement:b,options:g}=t;let w;if(xr())if(typeof y=="object")w=y;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")w=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const j=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),E=await w.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=y5(E[0]);let O=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!O){const z=await w.request({method:"eth_chainId"});O=Cue(z)}const B={domain:j.host,address:M,statement:b,uri:j.href,version:"1",chainId:O,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Tue(B),x=await w.request({method:"personal_sign",params:[kue(p),M]})}try{const{data:m,error:y}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:x},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:is});if(y)throw y;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Bl}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:y})}catch(m){if(ge(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(t){var n,r,s,i,o,l,c,u,d,h,f,p;let x,m;if("message"in t)x=t.message,m=t.signature;else{const{chain:y,wallet:b,statement:g,options:w}=t;let j;if(xr())if(typeof b=="object")j=b;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))j=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const M=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),g?{statement:g}:null));let O;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")O=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)O=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)x=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),m=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${E.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const M=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=M}}try{const{data:y,error:b}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:_a(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:is});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Bl}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(ge(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await la(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:is});if(await Yi(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Bl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(ge(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,l=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:is}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Bl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fl(this.storage,this.storageKey));const{error:h}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Mp("You must provide either an email or phone number.")}catch(l){if(ge(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:is});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Fl(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:wue})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new eo;const{error:s}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:l}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Mp("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await la(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Bv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await la(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=zv()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ao}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new eo}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ao})})}catch(n){if(ge(n))return Gce(n)&&(await this._removeSession(),await Yi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new eo;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fl(this.storage,this.storageKey));const{data:u,error:d}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ao});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new eo;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Uv(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new eo;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!xr())throw new Op("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Op(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ok("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Op("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ok("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Op("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Kl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(r){if(ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await la(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(qce(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Yi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=nue(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Fl(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(ge(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return xr()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ge(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:is}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Bl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await oue(async s=>(s>0&&await iue(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:is})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Fv(i)&&Date.now()+o-r<Kl})}catch(r){if(this._debug(n,"error",r),ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),xr()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await la(this.storage,this.storageKey);if(s&&this.userStorage){let o=await la(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Wl(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:zv()}else if(s&&!s.user&&!s.user){const o=await la(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Yi(this.storage,this.storageKey+"-user"),await Wl(this.storage,this.storageKey,s)):s.user=zv()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Bv;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Bv}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Fv(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new eo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new q0;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new eo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ge(i)){const o={data:null,error:i};return Fv(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Wl(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=dk(s);await Wl(this.storage,this.storageKey,i)}else{const s=dk(n);await Wl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Yi(this.storage,this.storageKey),await Yi(this.storage,this.storageKey+"-code-verifier"),await Yi(this.storage,this.storageKey+"-user"),this.userStorage&&await Yi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Kl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kl}ms, refresh threshold is ${yb} ticks`),s<=yb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof g5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Fl(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?$ue(t.webauthn.credential_response):Lue(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Rue(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Due(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Uv(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Kce>s)return r;const{data:i,error:o}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:x}=await this.getSession();if(x||!p.session)return{data:null,error:x};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Uv(r);n!=null&&n.allowExpired||fue(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=pue(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,eue(`${l}.${c}`)))throw new wb("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}}ef.nextInstanceID=0;const que=ef;class Gue extends que{constructor(t){super(t)}}var Zue=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})};class Yue{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const l=Fce(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Tce,realtime:Ice,auth:Object.assign(Object.assign({},Pce),{storageKey:c}),global:kce},d=Bce(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Dce(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Wle(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ece(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Nle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Zue(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gue({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new cce(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jue=(e,t,n)=>new Yue(e,t,n);function Que(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Que()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xue="https://your-project.supabase.co",ede="your-supabase-anon-key",vk=Jue(Xue,ede,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),tde=()=>{const[e,t]=S.useState("idle"),[n,r]=S.useState(""),[s,i]=S.useState([]),[o,l]=S.useState(null),c=async()=>{t("testing"),r(""),i([]),l(null);try{const{data:u,error:d}=await vk.from("invoices").select("count",{count:"exact",head:!0});if(d)throw d;const{data:h,error:f,count:p}=await vk.from("invoices").select("*",{count:"exact"}).limit(1);if(f)throw f;l(p||0),i(["invoices","deals","invoice_line_items","transactions","parser_feedback","audit_logs"]),t("success")}catch(u){console.error("Supabase connection error:",u),r(u.message||"Unknown error occurred"),t("error")}};return S.useEffect(()=>{c()},[]),a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(K,{className:"max-w-3xl mx-auto",children:[a.jsxs(se,{children:[a.jsxs(ie,{className:"flex items-center gap-3",children:[a.jsx(Ah,{className:"w-8 h-8"}),"Supabase Connection Test"]}),a.jsx(je,{children:"Verify your Supabase integration is working correctly"})]}),a.jsxs(q,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:"Connection Status"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[e==="idle"&&"Ready to test...",e==="testing"&&"Testing connection...",e==="success"&&"Connected successfully!",e==="error"&&"Connection failed"]})]}),a.jsxs("div",{children:[e==="testing"&&a.jsx(Ka,{className:"w-8 h-8 text-blue-500 animate-spin"}),e==="success"&&a.jsx(Yn,{className:"w-8 h-8 text-green-500"}),e==="error"&&a.jsx(_u,{className:"w-8 h-8 text-red-500"})]})]}),e==="error"&&n&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Error Details:"}),a.jsx("p",{className:"text-sm text-red-700",children:n}),a.jsxs("div",{className:"mt-3 text-xs text-red-600",children:[a.jsx("p",{children:"Common issues:"}),a.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[a.jsx("li",{children:"Check if your Supabase project is active"}),a.jsx("li",{children:"Verify your API keys are correct"}),a.jsx("li",{children:"Ensure RLS policies allow anonymous access (or disable RLS for testing)"}),a.jsx("li",{children:"Check if the tables exist in your database"})]})]})]}),e==="success"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:" Connection Successful!"}),a.jsx("p",{className:"text-sm text-green-700",children:"Your Supabase database is properly configured and accessible."})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Database Statistics"}),a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Invoices:"}),a.jsx(pe,{variant:"secondary",children:o??"N/A"})]})})]}),a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Available Tables"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(u=>a.jsx(pe,{variant:"outline",className:"text-xs",children:u},u))})]}),a.jsxs("div",{className:"p-4 border rounded-lg bg-blue-50",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Next Steps:"}),a.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside text-muted-foreground",children:[a.jsx("li",{children:"Set up authentication for user accounts"}),a.jsx("li",{children:"Configure Row Level Security (RLS) policies"}),a.jsx("li",{children:"Start storing invoice data in Supabase"}),a.jsx("li",{children:"Integrate with your smart contracts"})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Y,{onClick:c,disabled:e==="testing",children:[a.jsx(Ka,{className:`w-4 h-4 mr-2 ${e==="testing"?"animate-spin":""}`}),"Test Connection"]}),a.jsx(Y,{variant:"outline",asChild:!0,children:a.jsx("a",{href:"https://your-project.supabase.co".replace("/rest/v1",""),target:"_blank",rel:"noopener noreferrer",children:"Open Supabase Dashboard"})})]}),a.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[a.jsx("h4",{className:"font-semibold mb-2 text-sm",children:"Configuration"}),a.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground font-mono",children:[a.jsxs("p",{children:["URL: ","https://your-project.supabase.co"]}),a.jsxs("p",{children:["Status: "," Configured"]})]}),!1]})]})]})})]})},nde=()=>{const{isConnected:e}=ai(),[t,n]=S.useState([]),[r,s]=S.useState(null),[i,o]=S.useState(""),[l,c]=S.useState(!1),[u,d]=S.useState("all");S.useEffect(()=>{h()},[]);const h=async()=>{c(!0);try{const y=[{tokenId:1,invoiceId:2025001,amount:.85,currency:"sBTC",dueDate:Date.now()+2592e6,debtor:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",riskScore:3,listing:{seller:"SP1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",askPrice:.75,isAuction:!0,highestBid:.7,highestBidder:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",auctionEnd:Date.now()+1728e5}},{tokenId:2,invoiceId:2025002,amount:1.2,currency:"sBTC",dueDate:Date.now()+3888e6,debtor:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ8",riskScore:2,listing:{seller:"SP1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",askPrice:1.1,isAuction:!1}},{tokenId:3,invoiceId:2025003,amount:.42,currency:"sBTC",dueDate:Date.now()+5184e6,debtor:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ9",riskScore:5,listing:{seller:"SP1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",askPrice:.38,isAuction:!1}}];n(y)}catch(y){console.error("Failed to load invoices:",y)}finally{c(!1)}},f=async(y,b)=>{if(!e){alert("Please connect your wallet first");return}try{c(!0),alert(`Bid of ${b} STX placed successfully!`),h()}catch(g){console.error("Bid failed:",g),alert("Bid failed: "+g.message)}finally{c(!1)}},p=async(y,b)=>{if(!e){alert("Please connect your wallet first");return}try{c(!0),alert(`Invoice purchased for ${b} sBTC!`),h()}catch(g){console.error("Purchase failed:",g),alert("Purchase failed: "+g.message)}finally{c(!1)}},x=y=>y<=3?"text-green-600 bg-green-100":y<=6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",m=t.filter(y=>{var b,g;return u==="all"?!0:u==="auction"?(b=y.listing)==null?void 0:b.isAuction:u==="fixed"?!((g=y.listing)!=null&&g.isAuction):!0});return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Invoice Receivables Marketplace"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Trade tokenized invoices for instant liquidity"})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(WI,{className:"w-10 h-10 text-purple-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Volume"}),a.jsx("p",{className:"text-2xl font-bold",children:"$2.4M"})]})]})})}),a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pr,{className:"w-10 h-10 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Listings"}),a.jsx("p",{className:"text-2xl font-bold",children:t.length})]})]})})}),a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(D_,{className:"w-10 h-10 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Auctions"}),a.jsx("p",{className:"text-2xl font-bold",children:t.filter(y=>{var b;return(b=y.listing)==null?void 0:b.isAuction}).length})]})]})})}),a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ei,{className:"w-10 h-10 text-orange-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg. Discount"}),a.jsx("p",{className:"text-2xl font-bold",children:"12.3%"})]})]})})})]}),a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx(Y,{variant:u==="all"?"default":"outline",onClick:()=>d("all"),children:"All Listings"}),a.jsx(Y,{variant:u==="auction"?"default":"outline",onClick:()=>d("auction"),children:"Auctions"}),a.jsx(Y,{variant:u==="fixed"?"default":"outline",onClick:()=>d("fixed"),children:"Fixed Price"})]}),l?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading invoices..."})}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(y=>{var b,g;return a.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(se,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs(ie,{children:["Invoice #",y.invoiceId]}),a.jsxs(pe,{className:x(y.riskScore),children:["Risk: ",y.riskScore,"/10"]})]}),a.jsxs(je,{children:["Token ID: ",y.tokenId]})]}),a.jsxs(q,{children:[a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),a.jsxs("span",{className:"font-semibold",children:[y.amount," ",y.currency]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Due:"}),a.jsx("span",{className:"font-semibold",children:new Date(y.dueDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Debtor:"}),a.jsxs("span",{className:"font-mono text-xs",children:[y.debtor.substring(0,8),"..."]})]})]}),(b=y.listing)!=null&&b.isAuction?a.jsxs("div",{className:"space-y-3 border-t pt-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(D_,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-semibold",children:"Auction"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Bid:"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[y.listing.highestBid," sBTC"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ends in:"}),a.jsxs("span",{className:"text-sm",children:[Math.ceil((y.listing.auctionEnd-Date.now())/(24*60*60*1e3))," days"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Zt,{type:"number",placeholder:"Your bid (sBTC)",value:i,onChange:w=>o(w.target.value),step:"0.01"}),a.jsx(Y,{onClick:()=>f(y.tokenId,i),disabled:!i||parseFloat(i)<=(y.listing.highestBid||0),children:"Bid"})]})]}):a.jsxs("div",{className:"space-y-3 border-t pt-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Fixed Price:"}),a.jsxs("span",{className:"text-2xl font-bold text-green-600",children:[(g=y.listing)==null?void 0:g.askPrice," sBTC"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Discount:"}),a.jsxs("span",{className:"text-green-600 font-semibold",children:[((1-y.listing.askPrice/y.amount)*100).toFixed(1),"%"]})]}),a.jsx(Y,{className:"w-full",onClick:()=>p(y.tokenId,y.listing.askPrice),children:"Buy Now"})]})]})]},y.tokenId)})}),!e&&a.jsx(K,{className:"mt-8 bg-yellow-50 border-yellow-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(jc,{className:"w-6 h-6 text-yellow-600"}),a.jsx("p",{className:"text-yellow-800",children:"Connect your wallet to trade invoice NFTs"})]})})})]})},rde=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsx(nde,{})]}),sde=()=>{const[e,t]=S.useState([]),[n,r]=S.useState({highRisk:0,mediumRisk:0,lowRisk:0}),[s,i]=S.useState([]),[o,l]=S.useState(!0);S.useEffect(()=>{c()},[]);const c=async()=>{l(!0);try{const f=[{id:1,amount:5e4,dueDate:"2025-12-31",riskScore:8,status:"pending",paymentHistory:{actualDelay:5,predictedDelay:7}},{id:2,amount:25e3,dueDate:"2025-11-30",riskScore:5,status:"pending",paymentHistory:{actualDelay:2,predictedDelay:3}},{id:3,amount:75e3,dueDate:"2026-01-15",riskScore:3,status:"active",paymentHistory:{actualDelay:0,predictedDelay:1}},{id:4,amount:1e5,dueDate:"2025-12-15",riskScore:9,status:"pending",paymentHistory:{actualDelay:10,predictedDelay:12}},{id:5,amount:3e4,dueDate:"2026-02-01",riskScore:2,status:"active",paymentHistory:{actualDelay:0,predictedDelay:0}}];t(f);const p={highRisk:f.filter(m=>m.riskScore>=8).length,mediumRisk:f.filter(m=>m.riskScore>=5&&m.riskScore<8).length,lowRisk:f.filter(m=>m.riskScore<5).length};r(p);const x=f.map(m=>({date:m.dueDate,actualDelay:m.paymentHistory.actualDelay,predictedDelay:m.paymentHistory.predictedDelay,amount:m.amount}));i(x)}catch(f){console.error("Failed to load analytics:",f)}finally{l(!1)}},u=e.reduce((f,p)=>f+p.amount,0),d=e.length>0?e.reduce((f,p)=>f+p.riskScore,0)/e.length:0,h=[{type:"warning",title:"High Risk Alert",message:`${n.highRisk} invoices require immediate attention`,icon:Co,color:"text-red-600 bg-red-50 border-red-200"},{type:"success",title:"Payment Pattern",message:"94% accuracy in delay predictions this month",icon:pr,color:"text-green-600 bg-green-50 border-green-200"},{type:"info",title:"Liquidity Recommendation",message:"Consider early discount on 3 high-value invoices",icon:Zc,color:"text-blue-600 bg-blue-50 border-blue-200"}];return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3",children:[a.jsx(Xs,{className:"w-10 h-10 text-purple-600"}),"AI-Powered Financial Analytics"]}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Risk scoring, fraud detection, and payment predictions"})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[a.jsx(K,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-700",children:"Total Portfolio"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-900",children:["$",(u/1e3).toFixed(0),"K"]})]}),a.jsx(Zc,{className:"w-12 h-12 text-purple-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700",children:"Active Invoices"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:e.length})]}),a.jsx(z1,{className:"w-12 h-12 text-blue-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700",children:"Avg Risk Score"}),a.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[d.toFixed(1),"/10"]})]}),a.jsx(TF,{className:"w-12 h-12 text-green-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-orange-700",children:"Prediction Accuracy"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"94%"})]}),a.jsx(Xs,{className:"w-12 h-12 text-orange-400"})]})})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"AI Insights & Recommendations"}),a.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:h.map((f,p)=>a.jsx(K,{className:`border-2 ${f.color}`,children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(f.icon,{className:"w-6 h-6 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-1",children:f.title}),a.jsx("p",{className:"text-sm",children:f.message})]})]})})},p))})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Portfolio Risk Analysis"}),a.jsx(je,{children:"Distribution of invoices by risk level"})]}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border-2 border-red-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xl",children:n.highRisk})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-red-900",children:"High Risk"}),a.jsx("p",{className:"text-sm text-red-700",children:"Risk Score 8-10"})]})]}),a.jsx(pe,{variant:"destructive",children:"Critical"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg border-2 border-yellow-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xl",children:n.mediumRisk})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-yellow-900",children:"Medium Risk"}),a.jsx("p",{className:"text-sm text-yellow-700",children:"Risk Score 5-7"})]})]}),a.jsx(pe,{className:"bg-yellow-600",children:"Monitor"})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border-2 border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-xl",children:n.lowRisk})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-green-900",children:"Low Risk"}),a.jsx("p",{className:"text-sm text-green-700",children:"Risk Score 0-4"})]})]}),a.jsx(pe,{className:"bg-green-600",children:"Healthy"})]})]})})]}),a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Payment Delay Forecasting"}),a.jsx(je,{children:"AI predictions vs actual delays"})]}),a.jsx(q,{children:a.jsx("div",{className:"space-y-3",children:s.slice(0,5).map((f,p)=>a.jsxs("div",{className:"p-3 border rounded-lg hover:bg-accent",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"font-semibold",children:f.date}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["$",(f.amount/1e3).toFixed(0),"K"]})]}),a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),a.jsxs("span",{children:["Actual: ",f.actualDelay,"d"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),a.jsxs("span",{children:["Predicted: ",f.predictedDelay,"d"]})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Math.min(100,Math.max(0,100-Math.abs(f.actualDelay-f.predictedDelay)*10))}%`}})}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Prediction accuracy: ",Math.min(100,Math.max(0,100-Math.abs(f.actualDelay-f.predictedDelay)*10)).toFixed(0),"%"]})]})]},p))})})]})]}),a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Liquidity Optimization Recommendations"}),a.jsx(je,{children:"AI-powered insights for maximizing capital efficiency"})]}),a.jsx(q,{children:a.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:e.slice(0,3).map(f=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-bold",children:["Invoice #",f.id]}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",(f.amount/1e3).toFixed(0),"K"]})]}),a.jsxs(pe,{className:f.riskScore>=8?"bg-red-600":f.riskScore>=5?"bg-yellow-600":"bg-green-600",children:["Risk: ",f.riskScore]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Due Date:"}),a.jsx("span",{className:"font-semibold",children:f.dueDate})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Discounted Value:"}),a.jsxs("span",{className:"font-semibold text-green-600",children:["$",(f.amount*.88/1e3).toFixed(0),"K"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Potential Savings:"}),a.jsx("span",{className:"font-semibold text-orange-600",children:"12%"})]})]})]},f.id))})})]})]})},ide=()=>a.jsx(sde,{});function xk(e,[t,n]){return Math.min(n,Math.max(t,e))}var ode=S.createContext(void 0);function zj(e){const t=S.useContext(ode);return e||t||"ltr"}function ade(e){const t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lde=[" ","Enter","ArrowUp","ArrowDown"],cde=[" ","Enter"],cl="Select",[G0,Z0,ude]=$1(cl),[Vu]=qo(cl,[ude,a0]),Y0=a0(),[dde,Xo]=Vu(cl),[hde,fde]=Vu(cl),w5=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:x}=e,m=Y0(t),[y,b]=S.useState(null),[g,w]=S.useState(null),[j,E]=S.useState(!1),M=zj(u),[O,B]=Gc({prop:r,defaultProp:s??!1,onChange:i,caller:cl}),[z,$]=Gc({prop:o,defaultProp:l,onChange:c,caller:cl}),F=S.useRef(null),U=y?x||!!y.closest("form"):!0,[P,v]=S.useState(new Set),_=Array.from(P).map(A=>A.props.value).join(";");return a.jsx(wV,{...m,children:a.jsxs(dde,{required:p,scope:t,trigger:y,onTriggerChange:b,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:E,contentId:ko(),value:z,onValueChange:$,open:O,onOpenChange:B,dir:M,triggerPointerDownPosRef:F,disabled:f,children:[a.jsx(G0.Provider,{scope:t,children:a.jsx(hde,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(A=>{v(k=>new Set(k).add(A))},[]),onNativeOptionRemove:S.useCallback(A=>{v(k=>{const C=new Set(k);return C.delete(A),C})},[]),children:n})}),U?a.jsxs(H5,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:z,onChange:A=>$(A.target.value),disabled:f,form:x,children:[z===void 0?a.jsx("option",{value:""}):null,Array.from(P)]},_):null]})})};w5.displayName=cl;var b5="SelectTrigger",S5=S.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Y0(n),o=Xo(b5,n),l=o.disabled||r,c=bt(t,o.onTriggerChange),u=Z0(n),d=S.useRef("touch"),[h,f,p]=W5(m=>{const y=u().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),g=q5(y,m,b);g!==void 0&&o.onValueChange(g.value)}),x=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(CM,{asChild:!0,...i,children:a.jsx(ke.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":K5(o.value)?"":void 0,...s,ref:c,onClick:ve(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:ve(s.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:ve(s.onKeyDown,m=>{const y=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(y&&m.key===" ")&&lde.includes(m.key)&&(x(),m.preventDefault())})})})});S5.displayName=b5;var j5="SelectValue",N5=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=e,c=Xo(j5,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=bt(t,c.onValueNodeChange);return kn(()=>{u(d)},[u,d]),a.jsx(ke.span,{...l,ref:h,style:{pointerEvents:"none"},children:K5(c.value)?a.jsx(a.Fragment,{children:o}):i})});N5.displayName=j5;var pde="SelectIcon",_5=S.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(ke.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});_5.displayName=pde;var mde="SelectPortal",E5=e=>a.jsx(Xg,{asChild:!0,...e});E5.displayName=mde;var ul="SelectContent",A5=S.forwardRef((e,t)=>{const n=Xo(ul,e.__scopeSelect),[r,s]=S.useState();if(kn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?gl.createPortal(a.jsx(C5,{scope:e.__scopeSelect,children:a.jsx(G0.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(k5,{...e,ref:t})});A5.displayName=ul;var cs=10,[C5,ea]=Vu(ul),gde="SelectContentImpl",yde=qc("SelectContent.RemoveScroll"),k5=S.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:y,...b}=e,g=Xo(ul,n),[w,j]=S.useState(null),[E,M]=S.useState(null),O=bt(t,X=>j(X)),[B,z]=S.useState(null),[$,F]=S.useState(null),U=Z0(n),[P,v]=S.useState(!1),_=S.useRef(!1);S.useEffect(()=>{if(w)return yD(w)},[w]),lD();const A=S.useCallback(X=>{const[he,...we]=U().map(fe=>fe.ref.current),[Oe]=we.slice(-1),ue=document.activeElement;for(const fe of X)if(fe===ue||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===he&&E&&(E.scrollTop=0),fe===Oe&&E&&(E.scrollTop=E.scrollHeight),fe==null||fe.focus(),document.activeElement!==ue))return},[U,E]),k=S.useCallback(()=>A([B,w]),[A,B,w]);S.useEffect(()=>{P&&k()},[P,k]);const{onOpenChange:C,triggerPointerDownPosRef:T}=g;S.useEffect(()=>{if(w){let X={x:0,y:0};const he=Oe=>{var ue,fe;X={x:Math.abs(Math.round(Oe.pageX)-(((ue=T.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((fe=T.current)==null?void 0:fe.y)??0))}},we=Oe=>{X.x<=10&&X.y<=10?Oe.preventDefault():w.contains(Oe.target)||C(!1),document.removeEventListener("pointermove",he),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",we,{capture:!0})}}},[w,C,T]),S.useEffect(()=>{const X=()=>C(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[C]);const[L,I]=W5(X=>{const he=U().filter(ue=>!ue.disabled),we=he.find(ue=>ue.ref.current===document.activeElement),Oe=q5(he,X,we);Oe&&setTimeout(()=>Oe.ref.current.focus())}),N=S.useCallback((X,he,we)=>{const Oe=!_.current&&!we;(g.value!==void 0&&g.value===he||Oe)&&(z(X),Oe&&(_.current=!0))},[g.value]),R=S.useCallback(()=>w==null?void 0:w.focus(),[w]),J=S.useCallback((X,he,we)=>{const Oe=!_.current&&!we;(g.value!==void 0&&g.value===he||Oe)&&F(X)},[g.value]),te=r==="popper"?bb:T5,re=te===bb?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:y}:{};return a.jsx(C5,{scope:n,content:w,viewport:E,onViewportChange:M,itemRefCallback:N,selectedItem:B,onItemLeave:R,itemTextRefCallback:J,focusSelectedItem:k,selectedItemText:$,position:r,isPositioned:P,searchRef:L,children:a.jsx(KS,{as:yde,allowPinchZoom:!0,children:a.jsx(HS,{asChild:!0,trapped:g.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:ve(s,X=>{var he;(he=g.trigger)==null||he.focus({preventScroll:!0}),X.preventDefault()}),children:a.jsx(uf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:a.jsx(te,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:X=>X.preventDefault(),...b,...re,onPlaced:()=>v(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ve(b.onKeyDown,X=>{const he=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!he&&X.key.length===1&&I(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let Oe=U().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(X.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const ue=X.target,fe=Oe.indexOf(ue);Oe=Oe.slice(fe+1)}setTimeout(()=>A(Oe)),X.preventDefault()}})})})})})})});k5.displayName=gde;var vde="SelectItemAlignedPosition",T5=S.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Xo(ul,n),o=ea(ul,n),[l,c]=S.useState(null),[u,d]=S.useState(null),h=bt(t,O=>d(O)),f=Z0(n),p=S.useRef(!1),x=S.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:b,focusSelectedItem:g}=o,w=S.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&y&&b){const O=i.trigger.getBoundingClientRect(),B=u.getBoundingClientRect(),z=i.valueNode.getBoundingClientRect(),$=b.getBoundingClientRect();if(i.dir!=="rtl"){const ue=$.left-B.left,fe=z.left-ue,Jt=O.left-fe,Re=O.width+Jt,qe=Math.max(Re,B.width),zn=window.innerWidth-cs,Ge=xk(fe,[cs,Math.max(cs,zn-qe)]);l.style.minWidth=Re+"px",l.style.left=Ge+"px"}else{const ue=B.right-$.right,fe=window.innerWidth-z.right-ue,Jt=window.innerWidth-O.right-fe,Re=O.width+Jt,qe=Math.max(Re,B.width),zn=window.innerWidth-cs,Ge=xk(fe,[cs,Math.max(cs,zn-qe)]);l.style.minWidth=Re+"px",l.style.right=Ge+"px"}const F=f(),U=window.innerHeight-cs*2,P=m.scrollHeight,v=window.getComputedStyle(u),_=parseInt(v.borderTopWidth,10),A=parseInt(v.paddingTop,10),k=parseInt(v.borderBottomWidth,10),C=parseInt(v.paddingBottom,10),T=_+A+P+C+k,L=Math.min(y.offsetHeight*5,T),I=window.getComputedStyle(m),N=parseInt(I.paddingTop,10),R=parseInt(I.paddingBottom,10),J=O.top+O.height/2-cs,te=U-J,re=y.offsetHeight/2,X=y.offsetTop+re,he=_+A+X,we=T-he;if(he<=J){const ue=F.length>0&&y===F[F.length-1].ref.current;l.style.bottom="0px";const fe=u.clientHeight-m.offsetTop-m.offsetHeight,Jt=Math.max(te,re+(ue?R:0)+fe+k),Re=he+Jt;l.style.height=Re+"px"}else{const ue=F.length>0&&y===F[0].ref.current;l.style.top="0px";const Jt=Math.max(J,_+m.offsetTop+(ue?N:0)+re)+we;l.style.height=Jt+"px",m.scrollTop=he-J+m.offsetTop}l.style.margin=`${cs}px 0`,l.style.minHeight=L+"px",l.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,i.trigger,i.valueNode,l,u,m,y,b,i.dir,r]);kn(()=>w(),[w]);const[j,E]=S.useState();kn(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const M=S.useCallback(O=>{O&&x.current===!0&&(w(),g==null||g(),x.current=!1)},[w,g]);return a.jsx(wde,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:M,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(ke.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});T5.displayName=vde;var xde="SelectPopperPosition",bb=S.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=cs,...i}=e,o=Y0(n);return a.jsx(kM,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bb.displayName=xde;var[wde,Vj]=Vu(ul,{}),Sb="SelectViewport",P5=S.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=ea(Sb,n),o=Vj(Sb,n),l=bt(t,i.onViewportChange),c=S.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(G0.Slot,{scope:n,children:a.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ve(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-cs*2,m=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),b=Math.max(m,y);if(b<x){const g=b+p,w=Math.min(x,g),j=g-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});P5.displayName=Sb;var I5="SelectGroup",[bde,Sde]=Vu(I5),jde=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ko();return a.jsx(bde,{scope:n,id:s,children:a.jsx(ke.div,{role:"group","aria-labelledby":s,...r,ref:t})})});jde.displayName=I5;var M5="SelectLabel",O5=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Sde(M5,n);return a.jsx(ke.div,{id:s.id,...r,ref:t})});O5.displayName=M5;var Mg="SelectItem",[Nde,R5]=Vu(Mg),D5=S.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,l=Xo(Mg,n),c=ea(Mg,n),u=l.value===r,[d,h]=S.useState(i??""),[f,p]=S.useState(!1),x=bt(t,g=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,g,r,s)}),m=ko(),y=S.useRef("touch"),b=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Nde,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:S.useCallback(g=>{h(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:a.jsx(G0.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(ke.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ve(o.onFocus,()=>p(!0)),onBlur:ve(o.onBlur,()=>p(!1)),onClick:ve(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:ve(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:ve(o.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:ve(o.onPointerMove,g=>{var w;y.current=g.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ve(o.onKeyDown,g=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(cde.includes(g.key)&&b(),g.key===" "&&g.preventDefault())})})})})});D5.displayName=Mg;var Md="SelectItemText",$5=S.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=Xo(Md,n),l=ea(Md,n),c=R5(Md,n),u=fde(Md,n),[d,h]=S.useState(null),f=bt(t,b=>h(b),c.onItemTextChange,b=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=S.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return kn(()=>(m(x),()=>y(x)),[m,y,x]),a.jsxs(a.Fragment,{children:[a.jsx(ke.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?gl.createPortal(i.children,o.valueNode):null]})});$5.displayName=Md;var L5="SelectItemIndicator",B5=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return R5(L5,n).isSelected?a.jsx(ke.span,{"aria-hidden":!0,...r,ref:t}):null});B5.displayName=L5;var jb="SelectScrollUpButton",F5=S.forwardRef((e,t)=>{const n=ea(jb,e.__scopeSelect),r=Vj(jb,e.__scopeSelect),[s,i]=S.useState(!1),o=bt(t,r.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(z5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});F5.displayName=jb;var Nb="SelectScrollDownButton",U5=S.forwardRef((e,t)=>{const n=ea(Nb,e.__scopeSelect),r=Vj(Nb,e.__scopeSelect),[s,i]=S.useState(!1),o=bt(t,r.onScrollButtonChange);return kn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(z5,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});U5.displayName=Nb;var z5=S.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=ea("SelectScrollButton",n),o=S.useRef(null),l=Z0(n),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),kn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(ke.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ve(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ve(s.onPointerLeave,()=>{c()})})}),_de="SelectSeparator",V5=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(ke.div,{"aria-hidden":!0,...r,ref:t})});V5.displayName=_de;var _b="SelectArrow",Ede=S.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Y0(n),i=Xo(_b,n),o=ea(_b,n);return i.open&&o.position==="popper"?a.jsx(TM,{...s,...r,ref:t}):null});Ede.displayName=_b;var Ade="SelectBubbleInput",H5=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=S.useRef(null),i=bt(r,s),o=ade(t);return S.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),a.jsx(ke.select,{...n,style:{...NI,...n.style},ref:i,defaultValue:t})});H5.displayName=Ade;function K5(e){return e===""||e===void 0}function W5(e){const t=Qr(e),n=S.useRef(""),r=S.useRef(0),s=S.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function q5(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Cde(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Cde(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var kde=w5,G5=S5,Tde=N5,Pde=_5,Ide=E5,Z5=A5,Mde=P5,Y5=O5,J5=D5,Ode=$5,Rde=B5,Q5=F5,X5=U5,e$=V5;const Od=kde,Rd=Tde,pc=S.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(G5,{ref:r,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(Pde,{asChild:!0,children:a.jsx(V1,{className:"h-4 w-4 opacity-50"})})]}));pc.displayName=G5.displayName;const t$=S.forwardRef(({className:e,...t},n)=>a.jsx(Q5,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(NF,{className:"h-4 w-4"})}));t$.displayName=Q5.displayName;const n$=S.forwardRef(({className:e,...t},n)=>a.jsx(X5,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(V1,{className:"h-4 w-4"})}));n$.displayName=X5.displayName;const mc=S.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(Ide,{children:a.jsxs(Z5,{ref:s,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(t$,{}),a.jsx(Mde,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(n$,{})]})}));mc.displayName=Z5.displayName;const Dde=S.forwardRef(({className:e,...t},n)=>a.jsx(Y5,{ref:n,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Dde.displayName=Y5.displayName;const gc=S.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(J5,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Rde,{children:a.jsx(Gd,{className:"h-4 w-4"})})}),a.jsx(Ode,{children:t})]}));gc.displayName=J5.displayName;const $de=S.forwardRef(({className:e,...t},n)=>a.jsx(e$,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));$de.displayName=e$.displayName;const Lde=()=>{var f;const{isConnected:e}=ai(),[t,n]=S.useState(""),[r,s]=S.useState(""),[i,o]=S.useState(!1),l=[{name:"conservative",apy:7.5,riskLevel:2,minLockup:1e3,description:"Low-risk stable coin farming with established protocols",tvl:25e4},{name:"balanced",apy:12.8,riskLevel:5,minLockup:500,description:"Mixed strategy with diversified yield opportunities",tvl:32e4},{name:"aggressive",apy:25.3,riskLevel:8,minLockup:100,description:"High-yield farming with premium DeFi protocols",tvl:19e4}],c=async()=>{var p;if(!e){alert("Please connect your wallet first");return}if(!t||!r){alert("Please enter amount and select strategy");return}try{o(!0),alert(`Yield position created successfully! Expected APY: ${(p=l.find(x=>x.name===r))==null?void 0:p.apy}%`),n(""),s("")}catch(x){console.error("Failed to create position:",x),alert("Failed to create position: "+x.message)}finally{o(!1)}},u=(p,x,m)=>(p*(x/100)*(m/365)).toFixed(2),d=p=>p<=3?"text-green-600 bg-green-100":p<=6?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",h=p=>p<=3?"Low Risk":p<=6?"Medium Risk":"High Risk";return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3",children:[a.jsx(Mr,{className:"w-10 h-10 text-yellow-500"}),"Yield Optimizer"]}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Earn 7-25% APY on escrowed funds with automated yield strategies"})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[a.jsx(K,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700",children:"Total TVL"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"$760K"})]}),a.jsx(Zc,{className:"w-12 h-12 text-green-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700",children:"Avg APY"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"15.2%"})]}),a.jsx(L_,{className:"w-12 h-12 text-blue-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-700",children:"Active Positions"}),a.jsx("p",{className:"text-3xl font-bold text-purple-900",children:"124"})]}),a.jsx(pr,{className:"w-12 h-12 text-purple-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-orange-700",children:"Total Earned"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"$42.8K"})]}),a.jsx(Mr,{className:"w-12 h-12 text-orange-400"})]})})})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(K,{className:"md:col-span-1",children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Create Yield Position"}),a.jsx(je,{children:"Start earning passive income"})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Amount (sBTC)"}),a.jsx(Zt,{type:"number",placeholder:"0.00",value:t,onChange:p=>n(p.target.value),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Strategy"}),a.jsxs(Od,{value:r,onValueChange:s,children:[a.jsx(pc,{children:a.jsx(Rd,{placeholder:"Select strategy"})}),a.jsx(mc,{children:l.map(p=>a.jsxs(gc,{value:p.name,children:[p.name.charAt(0).toUpperCase()+p.name.slice(1)," - ",p.apy,"% APY"]},p.name))})]})]}),t&&r&&a.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Projected Earnings (30 days)"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[u(parseFloat(t),((f=l.find(p=>p.name===r))==null?void 0:f.apy)||0,30)," sBTC"]})]}),a.jsx(Y,{className:"w-full",onClick:c,disabled:!t||!r||i,children:i?"Creating...":"Create Position"})]})]}),l.map(p=>a.jsxs(K,{className:`cursor-pointer transition-all hover:shadow-lg ${r===p.name?"ring-2 ring-purple-600":""}`,onClick:()=>s(p.name),children:[a.jsxs(se,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(ie,{className:"capitalize",children:p.name}),a.jsx(pe,{className:d(p.riskLevel),children:h(p.riskLevel)})]}),a.jsx(je,{children:p.description})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(L_,{className:"w-6 h-6 text-green-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"APY"})]}),a.jsxs("span",{className:"text-3xl font-bold text-green-600",children:[p.apy,"%"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Min Lockup:"}),a.jsxs("span",{className:"font-semibold",children:["$",p.minLockup]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Risk Level:"}),a.jsxs("span",{className:"font-semibold",children:[p.riskLevel,"/10"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"TVL:"}),a.jsxs("span",{className:"font-semibold",children:["$",(p.tvl/1e3).toFixed(0),"K"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[a.jsx(ei,{className:"w-4 h-4"}),"Example Returns"]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"30 days (1 sBTC):"}),a.jsxs("span",{className:"text-green-600 font-semibold",children:["+",u(1,p.apy,30)," sBTC"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"90 days (1 sBTC):"}),a.jsxs("span",{className:"text-green-600 font-semibold",children:["+",u(1,p.apy,90)," sBTC"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"1 year (1 sBTC):"}),a.jsxs("span",{className:"text-green-600 font-semibold",children:["+",u(1,p.apy,365)," sBTC"]})]})]})]})]})]},p.name))]}),a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Your Active Positions"}),a.jsx(je,{children:"Manage your yield farming positions"})]}),a.jsx(q,{children:e?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No active positions. Create one above to start earning!"}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ar,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),a.jsx("p",{className:"text-muted-foreground",children:"Connect your wallet to view positions"})]})})]})]})},Bde=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsx(Lde,{})]}),Fde=()=>{var j;const{isConnected:e}=ai(),[t,n]=S.useState("STX"),[r,s]=S.useState("BTC"),[i,o]=S.useState(""),[l,c]=S.useState(""),[u,d]=S.useState("stacks"),[h,f]=S.useState("bitcoin"),[p,x]=S.useState(!1),m=[{symbol:"STX",name:"Stacks",balance:1250.5,icon:""},{symbol:"BTC",name:"Bitcoin",balance:.5,icon:""},{symbol:"sBTC",name:"Stacks Bitcoin",balance:.25,icon:""},{symbol:"USDC",name:"USD Coin",balance:5e3,icon:""},{symbol:"ETH",name:"Ethereum",balance:2.5,icon:""}],y=[{name:"stacks",icon:"",status:"active"},{name:"bitcoin",icon:"",status:"active"},{name:"ethereum",icon:"",status:"active"},{name:"polygon",icon:"",status:"active"}],b=E=>{if(!E||isNaN(parseFloat(E))){c("");return}const M={"STX-BTC":2e-5,"BTC-STX":5e4,"STX-sBTC":2e-5,"sBTC-STX":5e4,"STX-USDC":1.2,"USDC-STX":.833,"BTC-ETH":15.5,"ETH-BTC":.0645},O=`${t}-${r}`,B=M[O]||1,$=parseFloat(E)*B*(1-.005);c($.toFixed(6))},g=async()=>{if(!e){alert("Please connect your wallet first");return}if(!i||!l){alert("Please enter an amount");return}try{x(!0),alert(`Swap successful! ${i} ${t}  ${l} ${r}`),o(""),c("")}catch(E){console.error("Swap failed:",E),alert("Swap failed: "+E.message)}finally{x(!1)}},w=()=>{const E=t,M=i,O=u;n(r),s(E),o(l),c(M),d(h),f(O)};return a.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center justify-center gap-3",children:[a.jsx(Zd,{className:"w-10 h-10 text-blue-600"}),"Cross-Chain Swap"]}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Seamless multi-asset payments across blockchains"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[a.jsx(K,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700",children:"24h Volume"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:"$1.2M"})]}),a.jsx(pr,{className:"w-10 h-10 text-blue-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700",children:"Supported Chains"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:y.length})]}),a.jsx(Mr,{className:"w-10 h-10 text-green-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-700",children:"Avg Fee"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:"0.5%"})]}),a.jsx(Zd,{className:"w-10 h-10 text-purple-400"})]})})})]}),a.jsxs(K,{className:"mb-6",children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Swap Tokens"}),a.jsx(je,{children:"Exchange assets across different blockchains"})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"From"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Od,{value:u,onValueChange:d,children:[a.jsx(pc,{children:a.jsx(Rd,{})}),a.jsx(mc,{children:y.map(E=>a.jsx(gc,{value:E.name,children:a.jsxs("span",{className:"flex items-center gap-2",children:[E.icon," ",E.name.charAt(0).toUpperCase()+E.name.slice(1)]})},E.name))})]}),a.jsxs(Od,{value:t,onValueChange:n,children:[a.jsx(pc,{children:a.jsx(Rd,{})}),a.jsx(mc,{children:m.map(E=>a.jsx(gc,{value:E.symbol,children:a.jsxs("span",{className:"flex items-center gap-2",children:[E.icon," ",E.symbol]})},E.symbol))})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Zt,{type:"number",placeholder:"0.00",value:i,onChange:E=>{o(E.target.value),b(E.target.value)},step:"0.000001",className:"text-2xl h-16 pr-20"}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsxs(pe,{variant:"outline",children:["Balance: ",(j=m.find(E=>E.symbol===t))==null?void 0:j.balance.toFixed(4)]})})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(Y,{variant:"outline",size:"icon",className:"rounded-full w-12 h-12",onClick:w,children:a.jsx(wF,{className:"w-6 h-6"})})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"To"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Od,{value:h,onValueChange:f,children:[a.jsx(pc,{children:a.jsx(Rd,{})}),a.jsx(mc,{children:y.map(E=>a.jsx(gc,{value:E.name,children:a.jsxs("span",{className:"flex items-center gap-2",children:[E.icon," ",E.name.charAt(0).toUpperCase()+E.name.slice(1)]})},E.name))})]}),a.jsxs(Od,{value:r,onValueChange:s,children:[a.jsx(pc,{children:a.jsx(Rd,{})}),a.jsx(mc,{children:m.map(E=>a.jsx(gc,{value:E.symbol,children:a.jsxs("span",{className:"flex items-center gap-2",children:[E.icon," ",E.symbol]})},E.symbol))})]})]}),a.jsx("div",{className:"relative",children:a.jsx(Zt,{type:"number",placeholder:"0.00",value:l,readOnly:!0,className:"text-2xl h-16 bg-muted"})})]}),i&&l&&a.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Exchange Rate:"}),a.jsxs("span",{className:"font-semibold",children:["1 ",t," = ",(parseFloat(l)/parseFloat(i)).toFixed(6)," ",r]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Fee (0.5%):"}),a.jsxs("span",{className:"font-semibold",children:[(parseFloat(i)*.005).toFixed(6)," ",t]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Estimated Time:"}),a.jsx("span",{className:"font-semibold",children:"~2-5 minutes"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Route:"}),a.jsxs("span",{className:"font-semibold text-xs",children:[u,"  Bridge  ",h]})]})]}),a.jsx(Y,{className:"w-full h-14 text-lg",onClick:g,disabled:!i||!l||p,children:p?"Swapping...":`Swap ${t}  ${r}`})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsx(K,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Mr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-1",children:"Fast & Secure"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Powered by trusted bridge protocols with instant settlement and low fees"})]})]})})}),a.jsx(K,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Zd,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold mb-1",children:"Multi-Chain Support"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Swap between Stacks, Bitcoin, Ethereum, and more blockchains"})]})]})})})]}),!e&&a.jsx(K,{className:"mt-6 bg-yellow-50 border-yellow-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(jc,{className:"w-6 h-6 text-yellow-600"}),a.jsx("p",{className:"text-yellow-800",children:"Connect your wallet to start swapping tokens"})]})})})]})},Ude=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsx(Fde,{})]}),zde=()=>{const{isConnected:e}=ai(),[t,n]=S.useState(!1),[r,s]=S.useState({title:"",description:"",amount:"",recipient:""}),i=[{id:1,title:"Smart Contract Audit Payment",description:"Payment for Q4 security audit by CertiK",amount:.85,recipient:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",proposedBy:"SP1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",status:"voting",votesFor:3,votesAgainst:0,threshold:3,deadline:"2025-11-15"},{id:2,title:"Marketing Campaign Budget",description:"Q1 2026 marketing and community growth initiatives",amount:1.2,recipient:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",proposedBy:"SP1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",status:"approved",votesFor:5,votesAgainst:0,threshold:3,deadline:"2025-11-01"},{id:3,title:"Developer Grants Program",description:"Fund ecosystem development grants",amount:2.5,recipient:"SP2H8PY27SEZ03MWRKS5XABZYQN17ETGQS3527SA5",proposedBy:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",status:"voting",votesFor:2,votesAgainst:1,threshold:3,deadline:"2025-11-20"}],o=[{address:"SP1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",name:"Alice",weight:1,hasVoted:!0,vote:"approve"},{address:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",name:"Bob",weight:1,hasVoted:!0,vote:"approve"},{address:"SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE",name:"Charlie",weight:1,hasVoted:!1},{address:"SP2H8PY27SEZ03MWRKS5XABZYQN17ETGQS3527SA5",name:"Diana",weight:1,hasVoted:!0,vote:"approve"},{address:"SP3K8BC0PPEVCV7NZ6QSRWPQ2JE9E5B6N3PA0KBR9",name:"Eve",weight:1,hasVoted:!1}],l=async()=>{if(!e){alert("Please connect your wallet first");return}if(!r.title||!r.amount||!r.recipient){alert("Please fill all required fields");return}try{alert("Proposal created successfully!"),n(!1),s({title:"",description:"",amount:"",recipient:""})}catch(d){console.error("Failed to create proposal:",d),alert("Failed to create proposal: "+d.message)}},c=async(d,h)=>{if(!e){alert("Please connect your wallet first");return}try{alert(`Vote ${h?"approved":"rejected"} successfully!`)}catch(f){console.error("Failed to vote:",f),alert("Failed to vote: "+f.message)}},u=d=>{switch(d){case"voting":return"bg-blue-600";case"approved":return"bg-green-600";case"rejected":return"bg-red-600";case"executed":return"bg-purple-600";default:return"bg-gray-600"}};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center gap-3",children:[a.jsx(Jc,{className:"w-10 h-10 text-blue-600"}),"MultiSig Treasury"]}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"3-of-5 approval workflow for secure DAO funding"})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[a.jsx(K,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-blue-700",children:"Treasury Balance"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"12.5 sBTC"})]}),a.jsx(Ar,{className:"w-12 h-12 text-blue-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700",children:"Total Proposals"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"247"})]}),a.jsx($F,{className:"w-12 h-12 text-green-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-purple-700",children:"Active Signers"}),a.jsx("p",{className:"text-3xl font-bold text-purple-900",children:o.length})]}),a.jsx(Jc,{className:"w-12 h-12 text-purple-400"})]})})}),a.jsx(K,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-orange-700",children:"Approval Threshold"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"3/5"})]}),a.jsx(Yn,{className:"w-12 h-12 text-orange-400"})]})})})]}),a.jsx("div",{className:"mb-6",children:a.jsx(Y,{onClick:()=>n(!t),children:t?"Cancel":"Create New Proposal"})}),t&&a.jsxs(K,{className:"mb-6 border-2 border-blue-200",children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Create New Proposal"}),a.jsx(je,{children:"Submit a payment proposal for DAO approval"})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Title"}),a.jsx(Zt,{placeholder:"e.g., Q4 Marketing Budget",value:r.title,onChange:d=>s({...r,title:d.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Description"}),a.jsx(kj,{placeholder:"Detailed description of the proposal",value:r.description,onChange:d=>s({...r,description:d.target.value}),rows:4})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Amount (sBTC)"}),a.jsx(Zt,{type:"number",placeholder:"0.00",value:r.amount,onChange:d=>s({...r,amount:d.target.value}),step:"0.01"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Recipient Address"}),a.jsx(Zt,{placeholder:"SP...",value:r.recipient,onChange:d=>s({...r,recipient:d.target.value})})]})]}),a.jsx(Y,{onClick:l,className:"w-full",children:"Submit Proposal"})]})]}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Active Proposals"}),i.map(d=>a.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(se,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ie,{children:d.title}),a.jsx(pe,{className:u(d.status),children:d.status.toUpperCase()})]}),a.jsx(je,{children:d.description})]}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[d.amount," sBTC"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Votes"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl font-bold text-green-600",children:d.votesFor}),a.jsx("span",{className:"text-muted-foreground",children:"/"}),a.jsx("span",{className:"text-2xl font-bold text-red-600",children:d.votesAgainst})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Threshold"}),a.jsxs("p",{className:"text-2xl font-bold",children:[d.threshold," required"]})]})]}),a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Recipient:"}),a.jsxs("span",{className:"font-mono",children:[d.recipient.substring(0,12),"..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Proposed by:"}),a.jsxs("span",{className:"font-mono",children:[d.proposedBy.substring(0,12),"..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Deadline:"}),a.jsx("span",{className:"font-semibold",children:d.deadline})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[a.jsx("span",{children:"Progress to threshold"}),a.jsxs("span",{className:"font-semibold",children:[d.votesFor,"/",d.threshold]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:`h-3 rounded-full ${d.votesFor>=d.threshold?"bg-green-600":"bg-blue-600"}`,style:{width:`${d.votesFor/d.threshold*100}%`}})})]}),d.status==="voting"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Y,{className:"flex-1 bg-green-600 hover:bg-green-700",onClick:()=>c(d.id,!0),children:[a.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Approve"]}),a.jsxs(Y,{variant:"destructive",className:"flex-1",onClick:()=>c(d.id,!1),children:[a.jsx(_u,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),d.status==="approved"&&a.jsx(Y,{className:"w-full",children:"Execute Payment"})]})]},d.id))]}),a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsx(ie,{children:"DAO Signers"}),a.jsx(je,{children:"Authorized members with voting rights"})]}),a.jsx(q,{children:a.jsx("div",{className:"space-y-3",children:o.map((d,h)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"font-bold text-purple-600",children:d.name[0]})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:d.name}),a.jsxs("p",{className:"text-sm text-muted-foreground font-mono",children:[d.address.substring(0,16),"..."]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(pe,{variant:"outline",children:["Weight: ",d.weight]}),d.hasVoted?a.jsx(pe,{className:d.vote==="approve"?"bg-green-600":"bg-red-600",children:d.vote==="approve"?" Approved":" Rejected"}):a.jsxs(pe,{variant:"outline",className:"text-gray-600",children:[a.jsx(ei,{className:"w-3 h-3 mr-1"}),"Pending"]})]})]},h))})})]})]})},Vde=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsx(zde,{})]}),Hde={"/":"Home","/dashboard":"Dashboard","/invoices":"Invoices","/create":"Create Invoice","/demo":"AI Demo","/api-demo":"API Demo","/analytics":"Analytics","/help":"Help","/landing":"Landing"},Kde=()=>{const e=xl(),t=e.pathname.split("/").filter(s=>s);if(e.pathname==="/"||e.pathname==="/landing")return null;const n=[{label:"Home",path:"/"}];let r="";return t.forEach((s,i)=>{r+=`/${s}`;const o=Hde[r]||s.charAt(0).toUpperCase()+s.slice(1);n.push({label:o,path:r})}),a.jsx("nav",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3",children:a.jsx("ol",{className:"flex items-center space-x-2 text-sm",children:n.map((s,i)=>{const o=i===n.length-1,l=i===0;return a.jsxs("li",{className:"flex items-center",children:[i>0&&a.jsx(jF,{className:"w-4 h-4 text-gray-400 mx-2"}),o?a.jsxs("span",{className:"text-gray-900 font-medium flex items-center gap-1",children:[l&&a.jsx(Yd,{className:"w-4 h-4"}),s.label]}):a.jsxs(Ce,{to:s.path,className:"text-gray-500 hover:text-gray-700 transition-colors flex items-center gap-1",children:[l&&a.jsx(Yd,{className:"w-4 h-4"}),s.label]})]},s.path)})})})})},Wde=({children:e,showNavigation:t=!0,showBreadcrumbs:n=!0,showFooter:r=!0})=>a.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[t&&a.jsx(es,{}),n&&a.jsx(Kde,{}),a.jsx("main",{className:"flex-1",children:e}),r&&a.jsx(v3,{})]});var qde="Label",r$=S.forwardRef((e,t)=>a.jsx(ke.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));r$.displayName=qde;var s$=r$;const _i=S.forwardRef(({className:e,...t},n)=>a.jsx(s$,{ref:n,className:Ie("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));_i.displayName=s$.displayName;function Hv(e,t="USD"){if(e==null||Number.isNaN(Number(e)))return"";const n=Number(e);return`${t} ${n.toFixed(2)}`}function i$(e,t){const n=Number(e)||0,r=Number(t)||0,s=n*r;return Math.round(s*100)/100}function Gde(e=[],t=0,n=0){const r=e.reduce((l,c)=>{const u=i$(c.qty,c.unitPrice);return l+u},0),s=Number(t)||0,i=Number(n)||0,o=Math.round((r+s-i)*100)/100;return{linesSum:r,taxAmount:s,discountAmount:i,total:o}}function Zde(e){const t={};(!e.vendor_name||e.vendor_name.trim().length===0)&&(t.vendor_name="Vendor name required"),(!e.buyer_name||e.buyer_name.trim().length===0)&&(t.buyer_name="Buyer name required"),e.date||(t.date="Invoice date required");const n=Number(e.total_amount);return(Number.isNaN(n)||n<=0)&&(t.total_amount="Total must be a positive number"),!Array.isArray(e.line_items)||e.line_items.length===0?t.line_items="Add at least one line item":e.line_items.forEach((r,s)=>{(!r.description||r.description.trim().length===0)&&(t[`line_${s}_description`]="Description required"),(!r.qty||Number(r.qty)<=0)&&(t[`line_${s}_qty`]="Quantity must be > 0"),(!r.unitPrice||Number(r.unitPrice)<0)&&(t[`line_${s}_unitPrice`]="Unit price required")}),t}const wk=()=>({description:"",qty:1,unitPrice:0});function Yde({parsed:e,onCreateDeal:t}){const{toast:n}=Cu(),[r,s]=S.useState({invoice_number:"",date:"",vendor_name:"",buyer_name:"",total_amount:0,currency:"USD",tax:0,discount:0,line_items:[wk()],parser_confidence:(e==null?void 0:e.confidence)||null}),[i,o]=S.useState({}),[l,c]=S.useState(!1),[u,d]=S.useState(!1);S.useEffect(()=>{e&&s(g=>({...g,invoice_number:e.invoice_number||g.invoice_number,date:e.date||g.date,vendor_name:e.vendor_name||g.vendor_name,buyer_name:e.buyer_name||g.buyer_name,currency:e.currency||g.currency,total_amount:e.total_amount||g.total_amount,line_items:Array.isArray(e.line_items)&&e.line_items.length>0?e.line_items.map(w=>({description:w.description||"",qty:w.qty||1,unitPrice:w.unit_price||w.unitPrice||0})):g.line_items,parser_confidence:e.confidence||g.parser_confidence}))},[e]);const h=Gde(r.line_items,r.tax,r.discount);function f(g,w){if(g.startsWith("line_items.")){const[,j,E]=g.split("."),M=Number(j);s(O=>{const B=O.line_items.map((z,$)=>$===M?{...z,[E]:w}:z);return{...O,line_items:B}})}else s(j=>({...j,[g]:w}))}function p(){s(g=>({...g,line_items:[...g.line_items,wk()]}))}function x(g){if(r.line_items.length<=1){n({title:"Cannot remove",description:"At least one line item is required",variant:"destructive"});return}s(w=>({...w,line_items:w.line_items.filter((j,E)=>E!==g)}))}function m(){const g=Zde(r);return o(g),Object.keys(g).length===0}async function y(g){if(g.preventDefault(),!m()){n({title:"Validation errors",description:"Please fix the errors before previewing",variant:"destructive"});return}c(!0),n({title:"Preview ready",description:"Check values then create deal"})}async function b(g){if(g.preventDefault(),!m()){n({title:"Validation failed",variant:"destructive"});return}try{d(!0);const w=await fetch("/api/invoice/create-deal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({invoice:r})}),j=await w.json();if(!w.ok)throw new Error(j.error||"Create deal failed");n({title:"Deal created successfully",variant:"default"}),t==null||t(j)}catch(w){console.error(w),n({title:"Create deal failed",description:w.message||String(w),variant:"destructive"})}finally{d(!1)}}return a.jsxs(K,{children:[a.jsx(se,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ie,{children:"Invoice Editor"}),r.parser_confidence!==null&&a.jsxs(pe,{variant:"outline",className:"bg-muted",children:["Confidence: ",(r.parser_confidence*100).toFixed(0),"%"]})]})}),a.jsx(q,{children:a.jsxs("form",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(_i,{htmlFor:"invoice_number",children:"Invoice Number"}),a.jsx(Zt,{id:"invoice_number",value:r.invoice_number,onChange:g=>f("invoice_number",g.target.value),"aria-invalid":!!i.invoice_number,className:i.invoice_number?"border-destructive":""}),i.invoice_number&&a.jsx("p",{className:"text-sm text-destructive",children:i.invoice_number})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_i,{htmlFor:"date",children:"Date"}),a.jsx(Zt,{id:"date",type:"date",value:r.date,onChange:g=>f("date",g.target.value),"aria-invalid":!!i.date,className:i.date?"border-destructive":""}),i.date&&a.jsx("p",{className:"text-sm text-destructive",children:i.date})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_i,{htmlFor:"vendor_name",children:"Vendor Name"}),a.jsx(Zt,{id:"vendor_name",value:r.vendor_name,onChange:g=>f("vendor_name",g.target.value),"aria-invalid":!!i.vendor_name,className:i.vendor_name?"border-destructive":""}),i.vendor_name&&a.jsx("p",{className:"text-sm text-destructive",children:i.vendor_name})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(_i,{htmlFor:"buyer_name",children:"Buyer Name"}),a.jsx(Zt,{id:"buyer_name",value:r.buyer_name,onChange:g=>f("buyer_name",g.target.value),"aria-invalid":!!i.buyer_name,className:i.buyer_name?"border-destructive":""}),i.buyer_name&&a.jsx("p",{className:"text-sm text-destructive",children:i.buyer_name})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold",children:"Line Items"}),a.jsxs(Y,{type:"button",variant:"outline",size:"sm",onClick:p,children:[a.jsx(K1,{className:"w-4 h-4 mr-1"}),"Add Line"]})]}),r.line_items.map((g,w)=>a.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start p-3 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"col-span-12 md:col-span-5",children:[a.jsx(Zt,{placeholder:"Description",value:g.description,onChange:j=>f(`line_items.${w}.description`,j.target.value),className:i[`line_${w}_description`]?"border-destructive":""}),i[`line_${w}_description`]&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:i[`line_${w}_description`]})]}),a.jsx("div",{className:"col-span-4 md:col-span-2",children:a.jsx(Zt,{type:"number",min:"0",placeholder:"Qty",value:g.qty,onChange:j=>f(`line_items.${w}.qty`,j.target.value),className:i[`line_${w}_qty`]?"border-destructive":""})}),a.jsx("div",{className:"col-span-4 md:col-span-2",children:a.jsx(Zt,{type:"number",min:"0",step:"0.01",placeholder:"Price",value:g.unitPrice,onChange:j=>f(`line_items.${w}.unitPrice`,j.target.value),className:i[`line_${w}_unitPrice`]?"border-destructive":""})}),a.jsx("div",{className:"col-span-3 md:col-span-2 flex items-center justify-end font-mono text-sm",children:Hv(i$(g.qty,g.unitPrice),r.currency)}),a.jsx("div",{className:"col-span-1 md:col-span-1 flex items-center justify-center",children:a.jsx(Y,{type:"button",variant:"ghost",size:"sm",onClick:()=>x(w),"aria-label":`Remove line ${w+1}`,children:a.jsx(Eu,{className:"w-4 h-4"})})})]},w))]}),a.jsxs("div",{className:"space-y-2 border-t pt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),a.jsx("span",{className:"font-mono",children:Hv(h.linesSum,r.currency)})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Tax"}),a.jsx(Zt,{type:"number",className:"w-32 h-8 text-right",value:r.tax,onChange:g=>f("tax",Number(g.target.value))})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Discount"}),a.jsx(Zt,{type:"number",className:"w-32 h-8 text-right",value:r.discount,onChange:g=>f("discount",Number(g.target.value))})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{className:"font-mono",children:Hv(h.total,r.currency)})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Y,{type:"button",onClick:y,disabled:u,children:[a.jsx(_F,{className:"w-4 h-4 mr-2"}),"Preview"]}),a.jsxs(Y,{type:"button",variant:"default",onClick:b,disabled:u,children:[a.jsx(IF,{className:"w-4 h-4 mr-2"}),"Create Deal"]}),a.jsxs(Y,{type:"button",variant:"outline",onClick:()=>{var g;(g=navigator.clipboard)==null||g.writeText(JSON.stringify(r,null,2)),n({title:"Copied",description:"Invoice JSON copied to clipboard"})},children:[a.jsx(Qp,{className:"w-4 h-4 mr-2"}),"Copy JSON"]})]}),l&&a.jsxs(K,{className:"bg-muted/30",children:[a.jsx(se,{children:a.jsx(ie,{className:"text-base",children:"Preview"})}),a.jsxs(q,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Check values carefully  creating a deal will submit to chain."}),a.jsx("pre",{className:"text-xs bg-background p-3 rounded overflow-auto max-h-64",children:JSON.stringify({...r,totals:h},null,2)})]})]})]})})]})}function Jde(e){return e.retryable}function Qde(e){switch(e.type){case"user_rejected":return"Try Again";case"insufficient_funds":return"Check Balance";case"network_error":case"timeout":return"Retry";case"contract_error":return"Review Details";default:return"Try Again"}}function Xde({state:e,txId:t,error:n,title:r="Transaction Status",successMessage:s="Transaction completed successfully",pendingMessage:i="Transaction pending...",onRetry:o,onClose:l,explorerUrl:c="https://explorer.hiro.so/txid"}){if(e==="idle")return null;const u=()=>{switch(e){case"pending":return a.jsx(wa,{className:"w-12 h-12 text-blue-600 animate-spin"});case"success":return a.jsx(ji,{className:"w-12 h-12 text-green-600"});case"error":return a.jsx(_u,{className:"w-12 h-12 text-red-600"});default:return a.jsx(ei,{className:"w-12 h-12 text-gray-400"})}},d=()=>{switch(e){case"pending":return a.jsx(pe,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Pending"});case"success":return a.jsx(pe,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Success"});case"error":return a.jsx(pe,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:"Failed"});default:return null}};return a.jsxs(K,{className:"border-2",children:[a.jsx(se,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ie,{className:"text-lg",children:r}),d()]})}),a.jsxs(q,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center py-6",children:[u(),e==="pending"&&a.jsxs("div",{className:"text-center mt-4",children:[a.jsx("p",{className:"font-semibold mb-2",children:i}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Please confirm the transaction in your wallet and wait for blockchain confirmation"})]}),e==="success"&&a.jsxs("div",{className:"text-center mt-4",children:[a.jsx("p",{className:"font-semibold text-green-700 mb-2",children:s}),t&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("a",{href:`${c}/${t}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 hover:underline",children:["View on Explorer",a.jsx(Ra,{className:"w-4 h-4"})]}),a.jsx("div",{className:"mt-2 text-xs text-muted-foreground font-mono bg-gray-50 p-2 rounded break-all",children:t})]})]}),e==="error"&&n&&a.jsxs("div",{className:"text-center mt-4 space-y-3 w-full",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-red-700 mb-2",children:"Transaction Failed"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n.message})]}),n.technicalDetails&&a.jsxs("details",{className:"text-xs text-left",children:[a.jsx("summary",{className:"cursor-pointer text-muted-foreground hover:text-foreground",children:"Technical details"}),a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded font-mono break-all",children:n.technicalDetails})]}),Jde(n)&&o&&a.jsxs(Y,{onClick:o,variant:"outline",className:"w-full",children:[a.jsx(Ka,{className:"w-4 h-4 mr-2"}),Qde(n)]})]})]}),(e==="success"||e==="error")&&l&&a.jsx("div",{className:"pt-4 border-t",children:a.jsx(Y,{onClick:l,variant:"outline",className:"w-full",children:"Close"})})]})]})}function ehe(){const[e,t]=S.useState("idle"),[n,r]=S.useState(),s=i=>{i!=null&&i.txId&&(r(i.txId),t("pending"),setTimeout(()=>{t("success")},3e3))};return a.jsx(Wde,{children:a.jsxs("div",{className:"container max-w-6xl mx-auto py-8 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Invoice Editor"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage blockchain-secured invoices"})]}),a.jsx(Hh,{})]}),a.jsx(Yde,{onCreateDeal:s}),e!=="idle"&&n&&a.jsx(Xde,{state:e,txId:n,title:"Deal Creation",successMessage:"Your deal has been created successfully on-chain",pendingMessage:"Creating deal on blockchain...",onClose:()=>{t("idle"),r(void 0)}}),a.jsxs(K,{className:"bg-muted/30",children:[a.jsx(se,{children:a.jsx(ie,{children:"How It Works"})}),a.jsxs(q,{className:"space-y-3 text-sm text-muted-foreground",children:[a.jsxs("div",{children:[a.jsx("strong",{className:"text-foreground",children:"1. Connect Wallet:"})," Connect your Stacks wallet to sign transactions"]}),a.jsxs("div",{children:[a.jsx("strong",{className:"text-foreground",children:"2. Fill Invoice Details:"})," Add line items, vendor/buyer info, and amounts"]}),a.jsxs("div",{children:[a.jsx("strong",{className:"text-foreground",children:"3. Preview & Validate:"})," Review all details before submitting"]}),a.jsxs("div",{children:[a.jsx("strong",{className:"text-foreground",children:"4. Create Deal:"})," Transaction is submitted to blockchain for immutable record"]})]})]})]})})}function o$(e,t){return function(){return e.apply(t,arguments)}}const{toString:the}=Object.prototype,{getPrototypeOf:Hj}=Object,{iterator:J0,toStringTag:a$}=Symbol,Q0=(e=>t=>{const n=the.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Cs=e=>(e=e.toLowerCase(),t=>Q0(t)===e),X0=e=>t=>typeof t===e,{isArray:Hu}=Array,xu=X0("undefined");function Ef(e){return e!==null&&!xu(e)&&e.constructor!==null&&!xu(e.constructor)&&hr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const l$=Cs("ArrayBuffer");function nhe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&l$(e.buffer),t}const rhe=X0("string"),hr=X0("function"),c$=X0("number"),Af=e=>e!==null&&typeof e=="object",she=e=>e===!0||e===!1,hm=e=>{if(Q0(e)!=="object")return!1;const t=Hj(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(a$ in e)&&!(J0 in e)},ihe=e=>{if(!Af(e)||Ef(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ohe=Cs("Date"),ahe=Cs("File"),lhe=Cs("Blob"),che=Cs("FileList"),uhe=e=>Af(e)&&hr(e.pipe),dhe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||hr(e.append)&&((t=Q0(e))==="formdata"||t==="object"&&hr(e.toString)&&e.toString()==="[object FormData]"))},hhe=Cs("URLSearchParams"),[fhe,phe,mhe,ghe]=["ReadableStream","Request","Response","Headers"].map(Cs),yhe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cf(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Hu(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Ef(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let l;for(r=0;r<o;r++)l=i[r],t.call(null,e[l],l,e)}}function u$(e,t){if(Ef(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,d$=e=>!xu(e)&&e!==Ea;function Eb(){const{caseless:e,skipUndefined:t}=d$(this)&&this||{},n={},r=(s,i)=>{const o=e&&u$(n,i)||i;hm(n[o])&&hm(s)?n[o]=Eb(n[o],s):hm(s)?n[o]=Eb({},s):Hu(s)?n[o]=s.slice():(!t||!xu(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Cf(arguments[s],r);return n}const vhe=(e,t,n,{allOwnKeys:r}={})=>(Cf(t,(s,i)=>{n&&hr(s)?e[i]=o$(s,n):e[i]=s},{allOwnKeys:r}),e),xhe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),whe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},bhe=(e,t,n,r)=>{let s,i,o;const l={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&Hj(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},She=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},jhe=e=>{if(!e)return null;if(Hu(e))return e;let t=e.length;if(!c$(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Nhe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hj(Uint8Array)),_he=(e,t)=>{const r=(e&&e[J0]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Ehe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Ahe=Cs("HTMLFormElement"),Che=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),bk=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),khe=Cs("RegExp"),h$=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Cf(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},The=e=>{h$(e,(t,n)=>{if(hr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(hr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Phe=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Hu(e)?r(e):r(String(e).split(t)),n},Ihe=()=>{},Mhe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ohe(e){return!!(e&&hr(e.append)&&e[a$]==="FormData"&&e[J0])}const Rhe=e=>{const t=new Array(10),n=(r,s)=>{if(Af(r)){if(t.indexOf(r)>=0)return;if(Ef(r))return r;if(!("toJSON"in r)){t[s]=r;const i=Hu(r)?[]:{};return Cf(r,(o,l)=>{const c=n(o,s+1);!xu(c)&&(i[l]=c)}),t[s]=void 0,i}}return r};return n(e,0)},Dhe=Cs("AsyncFunction"),$he=e=>e&&(Af(e)||hr(e))&&hr(e.then)&&hr(e.catch),f$=((e,t)=>e?setImmediate:t?((n,r)=>(Ea.addEventListener("message",({source:s,data:i})=>{s===Ea&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Ea.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",hr(Ea.postMessage)),Lhe=typeof queueMicrotask<"u"?queueMicrotask.bind(Ea):typeof process<"u"&&process.nextTick||f$,Bhe=e=>e!=null&&hr(e[J0]),H={isArray:Hu,isArrayBuffer:l$,isBuffer:Ef,isFormData:dhe,isArrayBufferView:nhe,isString:rhe,isNumber:c$,isBoolean:she,isObject:Af,isPlainObject:hm,isEmptyObject:ihe,isReadableStream:fhe,isRequest:phe,isResponse:mhe,isHeaders:ghe,isUndefined:xu,isDate:ohe,isFile:ahe,isBlob:lhe,isRegExp:khe,isFunction:hr,isStream:uhe,isURLSearchParams:hhe,isTypedArray:Nhe,isFileList:che,forEach:Cf,merge:Eb,extend:vhe,trim:yhe,stripBOM:xhe,inherits:whe,toFlatObject:bhe,kindOf:Q0,kindOfTest:Cs,endsWith:She,toArray:jhe,forEachEntry:_he,matchAll:Ehe,isHTMLForm:Ahe,hasOwnProperty:bk,hasOwnProp:bk,reduceDescriptors:h$,freezeMethods:The,toObjectSet:Phe,toCamelCase:Che,noop:Ihe,toFiniteNumber:Mhe,findKey:u$,global:Ea,isContextDefined:d$,isSpecCompliantForm:Ohe,toJSONObject:Rhe,isAsyncFn:Dhe,isThenable:$he,setImmediate:f$,asap:Lhe,isIterable:Bhe};function _e(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}H.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const p$=_e.prototype,m$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{m$[e]={value:e}});Object.defineProperties(_e,m$);Object.defineProperty(p$,"isAxiosError",{value:!0});_e.from=(e,t,n,r,s,i)=>{const o=Object.create(p$);H.toFlatObject(e,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return _e.call(o,l,c,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const Fhe=null;function Ab(e){return H.isPlainObject(e)||H.isArray(e)}function g$(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function Sk(e,t,n){return e?e.concat(t).map(function(s,i){return s=g$(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Uhe(e){return H.isArray(e)&&!e.some(Ab)}const zhe=H.toFlatObject(H,{},null,function(t){return/^is[A-Z]/.test(t)});function ey(e,t,n){if(!H.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!H.isUndefined(y[m])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(t);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function u(x){if(x===null)return"";if(H.isDate(x))return x.toISOString();if(H.isBoolean(x))return x.toString();if(!c&&H.isBlob(x))throw new _e("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(x)||H.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,m,y){let b=x;if(x&&!y&&typeof x=="object"){if(H.endsWith(m,"{}"))m=r?m:m.slice(0,-2),x=JSON.stringify(x);else if(H.isArray(x)&&Uhe(x)||(H.isFileList(x)||H.endsWith(m,"[]"))&&(b=H.toArray(x)))return m=g$(m),b.forEach(function(w,j){!(H.isUndefined(w)||w===null)&&t.append(o===!0?Sk([m],j,i):o===null?m:m+"[]",u(w))}),!1}return Ab(x)?!0:(t.append(Sk(y,m,i),u(x)),!1)}const h=[],f=Object.assign(zhe,{defaultVisitor:d,convertValue:u,isVisitable:Ab});function p(x,m){if(!H.isUndefined(x)){if(h.indexOf(x)!==-1)throw Error("Circular reference detected in "+m.join("."));h.push(x),H.forEach(x,function(b,g){(!(H.isUndefined(b)||b===null)&&s.call(t,b,H.isString(g)?g.trim():g,m,f))===!0&&p(b,m?m.concat(g):[g])}),h.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return p(e),t}function jk(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Kj(e,t){this._pairs=[],e&&ey(e,this,t)}const y$=Kj.prototype;y$.append=function(t,n){this._pairs.push([t,n])};y$.toString=function(t){const n=t?function(r){return t.call(this,r,jk)}:jk;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Vhe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function v$(e,t,n){if(!t)return e;const r=n&&n.encode||Vhe;H.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=H.isURLSearchParams(t)?t.toString():new Kj(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Nk{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){H.forEach(this.handlers,function(r){r!==null&&t(r)})}}const x$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hhe=typeof URLSearchParams<"u"?URLSearchParams:Kj,Khe=typeof FormData<"u"?FormData:null,Whe=typeof Blob<"u"?Blob:null,qhe={isBrowser:!0,classes:{URLSearchParams:Hhe,FormData:Khe,Blob:Whe},protocols:["http","https","file","blob","url","data"]},Wj=typeof window<"u"&&typeof document<"u",Cb=typeof navigator=="object"&&navigator||void 0,Ghe=Wj&&(!Cb||["ReactNative","NativeScript","NS"].indexOf(Cb.product)<0),Zhe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yhe=Wj&&window.location.href||"http://localhost",Jhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wj,hasStandardBrowserEnv:Ghe,hasStandardBrowserWebWorkerEnv:Zhe,navigator:Cb,origin:Yhe},Symbol.toStringTag,{value:"Module"})),$n={...Jhe,...qhe};function Qhe(e,t){return ey(e,new $n.classes.URLSearchParams,{visitor:function(n,r,s,i){return $n.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Xhe(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function efe(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function w$(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&H.isArray(s)?s.length:o,c?(H.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!H.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&H.isArray(s[o])&&(s[o]=efe(s[o])),!l)}if(H.isFormData(e)&&H.isFunction(e.entries)){const n={};return H.forEachEntry(e,(r,s)=>{t(Xhe(r),s,n,0)}),n}return null}function tfe(e,t,n){if(H.isString(e))try{return(t||JSON.parse)(e),H.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const kf={transitional:x$,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=H.isObject(t);if(i&&H.isHTMLForm(t)&&(t=new FormData(t)),H.isFormData(t))return s?JSON.stringify(w$(t)):t;if(H.isArrayBuffer(t)||H.isBuffer(t)||H.isStream(t)||H.isFile(t)||H.isBlob(t)||H.isReadableStream(t))return t;if(H.isArrayBufferView(t))return t.buffer;if(H.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Qhe(t,this.formSerializer).toString();if((l=H.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ey(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),tfe(t)):t}],transformResponse:[function(t){const n=this.transitional||kf.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(H.isResponse(t)||H.isReadableStream(t))return t;if(t&&H.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?_e.from(l,_e.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],e=>{kf.headers[e]={}});const nfe=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rfe=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&nfe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},_k=Symbol("internals");function Sd(e){return e&&String(e).trim().toLowerCase()}function fm(e){return e===!1||e==null?e:H.isArray(e)?e.map(fm):String(e)}function sfe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ife=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Kv(e,t,n,r,s){if(H.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!H.isString(t)){if(H.isString(r))return t.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(t)}}function ofe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function afe(e,t){const n=H.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let fr=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(l,c,u){const d=Sd(c);if(!d)throw new Error("header name must be a non-empty string");const h=H.findKey(s,d);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||c]=fm(l))}const o=(l,c)=>H.forEach(l,(u,d)=>i(u,d,c));if(H.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(H.isString(t)&&(t=t.trim())&&!ife(t))o(rfe(t),n);else if(H.isObject(t)&&H.isIterable(t)){let l={},c,u;for(const d of t){if(!H.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?H.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Sd(t),t){const r=H.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return sfe(s);if(H.isFunction(n))return n.call(this,s,r);if(H.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Sd(t),t){const r=H.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Kv(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Sd(o),o){const l=H.findKey(r,o);l&&(!n||Kv(r,r[l],l,n))&&(delete r[l],s=!0)}}return H.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||Kv(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return H.forEach(this,(s,i)=>{const o=H.findKey(r,i);if(o){n[o]=fm(s),delete n[i];return}const l=t?ofe(i):String(i).trim();l!==i&&delete n[i],n[l]=fm(s),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return H.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[_k]=this[_k]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Sd(o);r[l]||(afe(s,o),r[l]=!0)}return H.isArray(t)?t.forEach(i):i(t),this}};fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(fr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});H.freezeMethods(fr);function Wv(e,t){const n=this||kf,r=t||n,s=fr.from(r.headers);let i=r.data;return H.forEach(e,function(l){i=l.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function b$(e){return!!(e&&e.__CANCEL__)}function Ku(e,t,n){_e.call(this,e??"canceled",_e.ERR_CANCELED,t,n),this.name="CanceledError"}H.inherits(Ku,_e,{__CANCEL__:!0});function S$(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function lfe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function cfe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=r[i];o||(o=u),n[s]=c,r[s]=u;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function ufe(e,t){let n=0,r=1e3/t,s,i;const o=(u,d=Date.now())=>{n=d,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=r?o(u,d):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-h)))},()=>s&&o(s)]}const Og=(e,t,n=3)=>{let r=0;const s=cfe(50,250);return ufe(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),d=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:i,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},n)},Ek=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ak=e=>(...t)=>H.asap(()=>e(...t)),dfe=$n.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$n.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,hfe=$n.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];H.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),H.isString(r)&&o.push("path="+r),H.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ffe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function pfe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function j$(e,t,n){let r=!ffe(t);return e&&(r||n==!1)?pfe(e,t):t}const Ck=e=>e instanceof fr?{...e}:e;function dl(e,t){t=t||{};const n={};function r(u,d,h,f){return H.isPlainObject(u)&&H.isPlainObject(d)?H.merge.call({caseless:f},u,d):H.isPlainObject(d)?H.merge({},d):H.isArray(d)?d.slice():d}function s(u,d,h,f){if(H.isUndefined(d)){if(!H.isUndefined(u))return r(void 0,u,h,f)}else return r(u,d,h,f)}function i(u,d){if(!H.isUndefined(d))return r(void 0,d)}function o(u,d){if(H.isUndefined(d)){if(!H.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function l(u,d,h){if(h in t)return r(u,d);if(h in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,h)=>s(Ck(u),Ck(d),h,!0)};return H.forEach(Object.keys({...e,...t}),function(d){const h=c[d]||s,f=h(e[d],t[d],d);H.isUndefined(f)&&h!==l||(n[d]=f)}),n}const N$=e=>{const t=dl({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=t;if(t.headers=o=fr.from(o),t.url=v$(j$(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),H.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(H.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if($n.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(t)),r||r!==!1&&dfe(t.url))){const c=s&&i&&hfe.read(i);c&&o.set(s,c)}return t},mfe=typeof XMLHttpRequest<"u",gfe=mfe&&function(e){return new Promise(function(n,r){const s=N$(e);let i=s.data;const o=fr.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,h,f,p,x;function m(){p&&p(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function b(){if(!y)return;const w=fr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};S$(function(O){n(O),m()},function(O){r(O),m()},E),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(r(new _e("Request aborted",_e.ECONNABORTED,e,y)),y=null)},y.onerror=function(j){const E=j&&j.message?j.message:"Network Error",M=new _e(E,_e.ERR_NETWORK,e,y);M.event=j||null,r(M),y=null},y.ontimeout=function(){let j=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const E=s.transitional||x$;s.timeoutErrorMessage&&(j=s.timeoutErrorMessage),r(new _e(j,E.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&H.forEach(o.toJSON(),function(j,E){y.setRequestHeader(E,j)}),H.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),l&&l!=="json"&&(y.responseType=s.responseType),u&&([f,x]=Og(u,!0),y.addEventListener("progress",f)),c&&y.upload&&([h,p]=Og(c),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=w=>{y&&(r(!w||w.type?new Ku(null,e,y):w),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const g=lfe(s.url);if(g&&$n.protocols.indexOf(g)===-1){r(new _e("Unsupported protocol "+g+":",_e.ERR_BAD_REQUEST,e));return}y.send(i||null)})},yfe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;r.abort(d instanceof _e?d:new Ku(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,i(new _e(`timeout ${t} of ms exceeded`,_e.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>H.asap(l),c}},vfe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},xfe=async function*(e,t){for await(const n of wfe(e))yield*vfe(n,t)},wfe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},kk=(e,t,n,r)=>{const s=xfe(e,t);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let h=d.byteLength;if(n){let f=i+=h;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},Tk=64*1024,{isFunction:Rp}=H,bfe=(({Request:e,Response:t})=>({Request:e,Response:t}))(H.global),{ReadableStream:Pk,TextEncoder:Ik}=H.global,Mk=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Sfe=e=>{e=H.merge.call({skipUndefined:!0},bfe,e);const{fetch:t,Request:n,Response:r}=e,s=t?Rp(t):typeof fetch=="function",i=Rp(n),o=Rp(r);if(!s)return!1;const l=s&&Rp(Pk),c=s&&(typeof Ik=="function"?(x=>m=>x.encode(m))(new Ik):async x=>new Uint8Array(await new n(x).arrayBuffer())),u=i&&l&&Mk(()=>{let x=!1;const m=new n($n.origin,{body:new Pk,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!m}),d=o&&l&&Mk(()=>H.isReadableStream(new r("").body)),h={stream:d&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!h[x]&&(h[x]=(m,y)=>{let b=m&&m[x];if(b)return b.call(m);throw new _e(`Response type '${x}' is not supported`,_e.ERR_NOT_SUPPORT,y)})});const f=async x=>{if(x==null)return 0;if(H.isBlob(x))return x.size;if(H.isSpecCompliantForm(x))return(await new n($n.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(H.isArrayBufferView(x)||H.isArrayBuffer(x))return x.byteLength;if(H.isURLSearchParams(x)&&(x=x+""),H.isString(x))return(await c(x)).byteLength},p=async(x,m)=>{const y=H.toFiniteNumber(x.getContentLength());return y??f(m)};return async x=>{let{url:m,method:y,data:b,signal:g,cancelToken:w,timeout:j,onDownloadProgress:E,onUploadProgress:M,responseType:O,headers:B,withCredentials:z="same-origin",fetchOptions:$}=N$(x),F=t||fetch;O=O?(O+"").toLowerCase():"text";let U=yfe([g,w&&w.toAbortSignal()],j),P=null;const v=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let _;try{if(M&&u&&y!=="get"&&y!=="head"&&(_=await p(B,b))!==0){let I=new n(m,{method:"POST",body:b,duplex:"half"}),N;if(H.isFormData(b)&&(N=I.headers.get("content-type"))&&B.setContentType(N),I.body){const[R,J]=Ek(_,Og(Ak(M)));b=kk(I.body,Tk,R,J)}}H.isString(z)||(z=z?"include":"omit");const A=i&&"credentials"in n.prototype,k={...$,signal:U,method:y.toUpperCase(),headers:B.normalize().toJSON(),body:b,duplex:"half",credentials:A?z:void 0};P=i&&new n(m,k);let C=await(i?F(P,$):F(m,k));const T=d&&(O==="stream"||O==="response");if(d&&(E||T&&v)){const I={};["status","statusText","headers"].forEach(te=>{I[te]=C[te]});const N=H.toFiniteNumber(C.headers.get("content-length")),[R,J]=E&&Ek(N,Og(Ak(E),!0))||[];C=new r(kk(C.body,Tk,R,()=>{J&&J(),v&&v()}),I)}O=O||"text";let L=await h[H.findKey(h,O)||"text"](C,x);return!T&&v&&v(),await new Promise((I,N)=>{S$(I,N,{data:L,headers:fr.from(C.headers),status:C.status,statusText:C.statusText,config:x,request:P})})}catch(A){throw v&&v(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,x,P),{cause:A.cause||A}):_e.from(A,A&&A.code,x,P)}}},jfe=new Map,_$=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,l=o,c,u,d=jfe;for(;l--;)c=i[l],u=d.get(c),u===void 0&&d.set(c,u=l?new Map:Sfe(t)),d=u;return u};_$();const kb={http:Fhe,xhr:gfe,fetch:{get:_$}};H.forEach(kb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ok=e=>`- ${e}`,Nfe=e=>H.isFunction(e)||e===null||e===!1,E$={getAdapter:(e,t)=>{e=H.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let l;if(s=r,!Nfe(r)&&(s=kb[(l=String(r)).toLowerCase()],s===void 0))throw new _e(`Unknown adapter '${l}'`);if(s&&(H.isFunction(s)||(s=s.get(t))))break;i[l||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(Ok).join(`
`):" "+Ok(o[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:kb};function qv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ku(null,e)}function Rk(e){return qv(e),e.headers=fr.from(e.headers),e.data=Wv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),E$.getAdapter(e.adapter||kf.adapter,e)(e).then(function(r){return qv(e),r.data=Wv.call(e,e.transformResponse,r),r.headers=fr.from(r.headers),r},function(r){return b$(r)||(qv(e),r&&r.response&&(r.response.data=Wv.call(e,e.transformResponse,r.response),r.response.headers=fr.from(r.response.headers))),Promise.reject(r)})}const A$="1.12.2",ty={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ty[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Dk={};ty.transitional=function(t,n,r){function s(i,o){return"[Axios v"+A$+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(t===!1)throw new _e(s(o," has been removed"+(n?" in "+n:"")),_e.ERR_DEPRECATED);return n&&!Dk[o]&&(Dk[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,l):!0}};ty.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function _fe(e,t,n){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const l=e[i],c=l===void 0||o(l,i,e);if(c!==!0)throw new _e("option "+i+" must be "+c,_e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _e("Unknown option "+i,_e.ERR_BAD_OPTION)}}const pm={assertOptions:_fe,validators:ty},Is=pm.validators;let La=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Nk,response:new Nk}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=dl(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&pm.assertOptions(r,{silentJSONParsing:Is.transitional(Is.boolean),forcedJSONParsing:Is.transitional(Is.boolean),clarifyTimeoutError:Is.transitional(Is.boolean)},!1),s!=null&&(H.isFunction(s)?n.paramsSerializer={serialize:s}:pm.assertOptions(s,{encode:Is.function,serialize:Is.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),pm.assertOptions(n,{baseUrl:Is.spelling("baseURL"),withXsrfToken:Is.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&H.merge(i.common,i[n.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=fr.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,h=0,f;if(!c){const x=[Rk.bind(this),void 0];for(x.unshift(...l),x.push(...u),f=x.length,d=Promise.resolve(n);h<f;)d=d.then(x[h++],x[h++]);return d}f=l.length;let p=n;for(;h<f;){const x=l[h++],m=l[h++];try{p=x(p)}catch(y){m.call(this,y);break}}try{d=Rk.call(this,p)}catch(x){return Promise.reject(x)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(t){t=dl(this.defaults,t);const n=j$(t.baseURL,t.url,t.allowAbsoluteUrls);return v$(n,t.params,t.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(t){La.prototype[t]=function(n,r){return this.request(dl(r||{},{method:t,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,l){return this.request(dl(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}La.prototype[t]=n(),La.prototype[t+"Form"]=n(!0)});let Efe=class C${constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,l){r.reason||(r.reason=new Ku(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new C$(function(s){t=s}),cancel:t}}};function Afe(e){return function(n){return e.apply(null,n)}}function Cfe(e){return H.isObject(e)&&e.isAxiosError===!0}const Tb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tb).forEach(([e,t])=>{Tb[t]=e});function k$(e){const t=new La(e),n=o$(La.prototype.request,t);return H.extend(n,La.prototype,t,{allOwnKeys:!0}),H.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return k$(dl(e,s))},n}const Te=k$(kf);Te.Axios=La;Te.CanceledError=Ku;Te.CancelToken=Efe;Te.isCancel=b$;Te.VERSION=A$;Te.toFormData=ey;Te.AxiosError=_e;Te.Cancel=Te.CanceledError;Te.all=function(t){return Promise.all(t)};Te.spread=Afe;Te.isAxiosError=Cfe;Te.mergeConfig=dl;Te.AxiosHeaders=fr;Te.formToJSON=e=>w$(H.isHTMLForm(e)?new FormData(e):e);Te.getAdapter=E$.getAdapter;Te.HttpStatusCode=Tb;Te.default=Te;const{Axios:ege,AxiosError:tge,CanceledError:nge,isCancel:rge,CancelToken:sge,VERSION:ige,all:oge,Cancel:age,isAxiosError:lge,spread:cge,toFormData:uge,AxiosHeaders:dge,HttpStatusCode:hge,formToJSON:fge,getAdapter:pge,mergeConfig:mge}=Te,kfe="838b2c86380729ce15932b28e7004830",Dp="https://api.hiro.so";class T${constructor(t){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.apiKey=t}async getTransactionStatus(t){try{return(await Te.get(`${Dp}/extended/v1/tx/${t}`,{headers:{"X-API-Key":this.apiKey}})).data}catch(n){return console.error("Hiro API error:",n),null}}async getContractEvents(t,n=20){try{return(await Te.get(`${Dp}/extended/v1/contract/${t}/events`,{headers:{"X-API-Key":this.apiKey},params:{limit:n}})).data}catch(r){return console.error("Hiro API error:",r),null}}async getAccountTransactions(t,n=50){try{return(await Te.get(`${Dp}/extended/v1/address/${t}/transactions`,{headers:{"X-API-Key":this.apiKey},params:{limit:n}})).data}catch(r){return console.error("Hiro API error:",r),null}}async getAccountBalance(t){try{return(await Te.get(`${Dp}/extended/v1/address/${t}/balances`,{headers:{"X-API-Key":this.apiKey}})).data}catch(n){return console.error("Hiro API error:",n),null}}}new T$(kfe);class P${constructor(t){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.apiKey=t}async getCryptoPrices(t=["BTC","STX"]){try{return(await Te.get("https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/latest",{headers:{"X-CMC_PRO_API_KEY":this.apiKey},params:{symbol:t.join(","),convert:"USD"}})).data}catch(n){return console.error("CoinMarketCap API error:",n),null}}async getHistoricalData(t,n=30){try{const r=new Date(Date.now()-n*24*60*60*1e3).toISOString();return(await Te.get("https://pro-api.coinmarketcap.com/v1/cryptocurrency/quotes/historical",{headers:{"X-CMC_PRO_API_KEY":this.apiKey},params:{symbol:t,time_start:r,convert:"USD"}})).data}catch(r){return console.error("CoinMarketCap API error:",r),null}}async getMarketMetrics(t="BTC"){try{return(await Te.get("https://pro-api.coinmarketcap.com/v1/cryptocurrency/info",{headers:{"X-CMC_PRO_API_KEY":this.apiKey},params:{symbol:t}})).data}catch(n){return console.error("CoinMarketCap API error:",n),null}}}const Tfe="c4dd8f6bfc794a64bd2ac35292575fdc";new P$(Tfe);class I${constructor(t){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.apiKey=t}async classifyInvoiceType(t){try{return(await Te.post("https://api.cohere.ai/v1/classify",{model:"embed-english-v3.0",inputs:[t],examples:[{text:"Milestone payment for development work",label:"milestone"},{text:"Full payment upon project completion",label:"lump_sum"},{text:"Monthly recurring service fee",label:"recurring"},{text:"Hourly consulting services",label:"hourly"},{text:"One-time purchase order",label:"purchase_order"}]},{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}})).data}catch(n){return console.error("Cohere API error:",n),{classifications:[{prediction:"unknown",confidence:0}]}}}async detectFraudulentInvoice(t){try{return(await Te.post("https://api.cohere.ai/v1/classify",{model:"embed-english-v3.0",inputs:[t],examples:[{text:"URGENT payment needed immediately wire transfer only",label:"suspicious"},{text:"Please send Bitcoin to this address right away",label:"suspicious"},{text:"Professional service invoice for software development",label:"legitimate"},{text:"Consulting services rendered per contract agreement",label:"legitimate"},{text:"Monthly retainer for ongoing support services",label:"legitimate"}]},{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}})).data}catch(n){return console.error("Cohere API error:",n),{classifications:[{prediction:"unknown",confidence:0}]}}}async generateInvoiceSummary(t){try{return(await Te.post("https://api.cohere.ai/v1/summarize",{text:t,length:"short",format:"paragraph",extractiveness:"medium"},{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}})).data}catch(n){return console.error("Cohere API error:",n),{summary:"Unable to generate summary"}}}}const Pfe="wXPn4lvSsndtltIQaF3upiZbrGiyIiShKN9uT8n1";new I$(Pfe);class Ife{constructor(t,n,r){Object.defineProperty(this,"accountSid",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"authToken",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fromNumber",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.accountSid=t,this.authToken=n,this.fromNumber=r}async sendInvoiceNotification(t,n,r){try{return(await Te.post(`https://api.twilio.com/2010-04-01/Accounts/${this.accountSid}/Messages.json`,new URLSearchParams({Body:`BitMind Invoice #${n} for ${r} sBTC has been created. Check your dashboard for details.`,From:this.fromNumber,To:t}),{auth:{username:this.accountSid,password:this.authToken},headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(s){return console.error("Twilio API error:",s),{error:!0,message:"Failed to send SMS"}}}async sendPaymentAlert(t,n){try{return(await Te.post(`https://api.twilio.com/2010-04-01/Accounts/${this.accountSid}/Messages.json`,new URLSearchParams({Body:`Payment of ${n} sBTC has been released via BitMind escrow. Funds are now available.`,From:this.fromNumber,To:t}),{auth:{username:this.accountSid,password:this.authToken},headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}catch(r){return console.error("Twilio API error:",r),{error:!0,message:"Failed to send SMS"}}}}class M${constructor(t,n){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"secretKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.apiKey=t,this.secretKey=n}async uploadInvoiceDocument(t,n){try{const r=new FormData;return r.append("file",t),r.append("pinataMetadata",JSON.stringify({name:`BitMind Invoice ${n.invoiceId}`,keyvalues:{invoiceId:n.invoiceId,createdAt:new Date().toISOString(),...n}})),r.append("pinataOptions",JSON.stringify({cidVersion:1})),(await Te.post("https://api.pinata.cloud/pinning/pinFileToIPFS",r,{maxBodyLength:1/0,headers:{"Content-Type":"multipart/form-data",pinata_api_key:this.apiKey,pinata_secret_api_key:this.secretKey}})).data}catch(r){return console.error("Pinata API error:",r),{error:!0,message:"Failed to upload to IPFS"}}}async uploadJSON(t,n){try{return(await Te.post("https://api.pinata.cloud/pinning/pinJSONToIPFS",{pinataContent:t,pinataMetadata:{name:n},pinataOptions:{cidVersion:1}},{headers:{"Content-Type":"application/json",pinata_api_key:this.apiKey,pinata_secret_api_key:this.secretKey}})).data}catch(r){return console.error("Pinata API error:",r),{error:!0,message:"Failed to upload JSON to IPFS"}}}async getFileByHash(t){try{return(await Te.get(`https://gateway.pinata.cloud/ipfs/${t}`)).data}catch(n){return console.error("Pinata API error:",n),null}}async listFiles(t=10){try{return(await Te.get("https://api.pinata.cloud/data/pinList",{params:{pageLimit:t,status:"pinned"},headers:{pinata_api_key:this.apiKey,pinata_secret_api_key:this.secretKey}})).data}catch(n){return console.error("Pinata API error:",n),{rows:[]}}}}const Mfe="96405b9987dce548b5b8",Ofe="fdbc75a2e0f1cf21474eea653df773401eacc76cddaf2174ef7f603df00ba19b";new M$(Mfe,Ofe);class Rfe{constructor(){Object.defineProperty(this,"apis",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.initializeAPIs()}initializeAPIs(){const t="838b2c86380729ce15932b28e7004830";this.apis.set("hiro",new T$(t));const n="c4dd8f6bfc794a64bd2ac35292575fdc";this.apis.set("cmc",new P$(n));const r="wXPn4lvSsndtltIQaF3upiZbrGiyIiShKN9uT8n1";this.apis.set("cohere",new I$(r));const s="AC97e5b61a4de7a6a8d18ac807557f6ab8",i="bb7038fcf702876199ceaab99c101295",o="+15555555555";this.apis.set("twilio",new Ife(s,i,o));const l="96405b9987dce548b5b8",c="fdbc75a2e0f1cf21474eea653df773401eacc76cddaf2174ef7f603df00ba19b";this.apis.set("pinata",new M$(l,c))}getAPI(t){return this.apis.get(t)}isAPIAvailable(t){return this.apis.has(t)}getAvailableAPIs(){return Array.from(this.apis.keys())}getAPIStatus(){return{blockchain:{hiro:this.isAPIAvailable("hiro"),chainalysis:this.isAPIAvailable("chainalysis")},marketData:{coinmarketcap:this.isAPIAvailable("cmc"),alphaVantage:this.isAPIAvailable("alphaVantage")},ai:{cohere:this.isAPIAvailable("cohere"),huggingface:this.isAPIAvailable("huggingface")},communication:{twilio:this.isAPIAvailable("twilio"),discord:this.isAPIAvailable("discord")},storage:{pinata:this.isAPIAvailable("pinata")}}}}const Ur=new Rfe,Dfe=()=>{const[e]=S.useState(Ur.getAPIStatus()),[t,n]=S.useState({}),[r,s]=S.useState(null),i=async(l,c)=>{s(l);try{const u=await c();n(d=>({...d,[l]:{success:!0,data:u}}))}catch(u){n(d=>({...d,[l]:{success:!1,error:u.message}}))}finally{s(null)}},o=[{name:"Blockchain APIs",icon:Ah,color:"text-orange-600",apis:[{name:"Hiro Stacks API",key:"hiro",available:e.blockchain.hiro,description:"Real-time Stacks blockchain data, transactions, and contract events",test:async()=>{const l=Ur.getAPI("hiro");return await(l==null?void 0:l.getAccountBalance("SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7"))}},{name:"Chainalysis",key:"chainalysis",available:e.blockchain.chainalysis,description:"Compliance screening and risk assessment for Bitcoin addresses",test:async()=>{const l=Ur.getAPI("chainalysis");return await(l==null?void 0:l.screenAddress("bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh"))}}]},{name:"Market Data APIs",icon:pr,color:"text-blue-600",apis:[{name:"CoinMarketCap",key:"cmc",available:e.marketData.coinmarketcap,description:"Comprehensive cryptocurrency market data and pricing",test:async()=>{const l=Ur.getAPI("cmc");return await(l==null?void 0:l.getCryptoPrices(["BTC","STX"]))}},{name:"Alpha Vantage",key:"alphaVantage",available:e.marketData.alphaVantage,description:"Traditional finance and forex data integration",test:async()=>{const l=Ur.getAPI("alphaVantage");return await(l==null?void 0:l.getExchangeRates())}}]},{name:"AI & ML APIs",icon:Xs,color:"text-purple-600",apis:[{name:"Cohere",key:"cohere",available:e.ai.cohere,description:"Advanced NLP for invoice classification and fraud detection",test:async()=>{const l=Ur.getAPI("cohere");return await(l==null?void 0:l.classifyInvoiceType("Milestone payment for development work"))}},{name:"Hugging Face",key:"huggingface",available:e.ai.huggingface,description:"Entity extraction and sentiment analysis",test:async()=>{const l=Ur.getAPI("huggingface");return await(l==null?void 0:l.extractEntities("Payment to John Doe for consulting services in New York"))}}]},{name:"Communication APIs",icon:Ch,color:"text-green-600",apis:[{name:"Twilio SMS",key:"twilio",available:e.communication.twilio,description:"SMS notifications for payment alerts and updates",test:async()=>({message:"Twilio configured (test skipped to avoid SMS charges)"})},{name:"Discord Webhook",key:"discord",available:e.communication.discord,description:"Real-time DAO notifications in Discord channels",test:async()=>{const l=Ur.getAPI("discord");return await(l==null?void 0:l.sendDAONotification("Test notification from API showcase",{id:"TEST-001",amount:"0.1",status:"created",dao:"Demo DAO"}))}}]},{name:"Storage APIs",icon:R_,color:"text-indigo-600",apis:[{name:"Pinata IPFS",key:"pinata",available:e.storage.pinata,description:"Decentralized storage for invoice documents and evidence",test:async()=>{const l=Ur.getAPI("pinata");return await(l==null?void 0:l.uploadJSON({test:"data",timestamp:Date.now()},"BitMind API Test"))}}]}];return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"API Integration Showcase"}),a.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:"BitMind integrates with leading blockchain, AI, and communication APIs to deliver enterprise-grade invoice management"}),a.jsx("div",{className:"grid md:grid-cols-5 gap-4 mb-6",children:[{label:"Blockchain",count:Object.values(e.blockchain).filter(Boolean).length,total:2,icon:Ah},{label:"Market Data",count:Object.values(e.marketData).filter(Boolean).length,total:2,icon:pr},{label:"AI/ML",count:Object.values(e.ai).filter(Boolean).length,total:2,icon:Xs},{label:"Communication",count:Object.values(e.communication).filter(Boolean).length,total:2,icon:Ch},{label:"Storage",count:Object.values(e.storage).filter(Boolean).length,total:1,icon:R_}].map(l=>a.jsx(K,{children:a.jsxs(q,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx(l.icon,{className:"w-5 h-5 text-muted-foreground"}),a.jsxs(pe,{variant:l.count===l.total?"default":"secondary",children:[l.count,"/",l.total]})]}),a.jsx("p",{className:"text-sm font-semibold",children:l.label})]})},l.label))})]}),a.jsx("div",{className:"space-y-8",children:o.map(l=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(l.icon,{className:`w-6 h-6 ${l.color}`}),a.jsx("h2",{className:"text-2xl font-bold",children:l.name})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:l.apis.map(c=>a.jsxs(K,{className:c.available?"border-green-200":"border-gray-200",children:[a.jsx(se,{children:a.jsx("div",{className:"flex items-start justify-between",children:a.jsxs("div",{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[c.name,c.available?a.jsx(Yn,{className:"w-5 h-5 text-green-600"}):a.jsx(_u,{className:"w-5 h-5 text-gray-400"})]}),a.jsx(je,{className:"mt-2",children:c.description})]})})}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"flex gap-2",children:a.jsx(pe,{variant:c.available?"default":"outline",children:c.available?"Configured":"Not Configured"})}),c.available&&a.jsxs(Y,{onClick:()=>i(c.key,c.test),disabled:r===c.key,size:"sm",variant:"outline",className:"w-full",children:[a.jsx(Mr,{className:"w-4 h-4 mr-2"}),r===c.key?"Testing...":"Test API"]}),t[c.key]&&a.jsx("div",{className:`p-3 rounded text-xs ${t[c.key].success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:t[c.key].success?a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold mb-1",children:" Success"}),a.jsxs("pre",{className:"overflow-auto",children:[JSON.stringify(t[c.key].data,null,2).substring(0,200),"..."]})]}):a.jsxs("p",{children:[" ",t[c.key].error]})})]})})]},c.key))})]},l.name))}),a.jsxs(K,{className:"mt-8 bg-gradient-to-r from-purple-50 to-blue-50",children:[a.jsx(se,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"w-6 h-6 text-purple-600"}),"Configuration Guide"]})}),a.jsxs(q,{children:[a.jsxs("p",{className:"mb-4",children:["To enable all APIs, add your API keys to the ",a.jsx("code",{children:".env.local"})," file. See"," ",a.jsx("code",{children:"ENV_SETUP.md"})," for detailed instructions."]}),a.jsxs("div",{className:"bg-white p-4 rounded border",children:[a.jsx("p",{className:"text-sm font-mono mb-2",children:"Available APIs:"}),a.jsx("ul",{className:"text-sm space-y-1 font-mono",children:Ur.getAvailableAPIs().map(l=>a.jsxs("li",{className:"text-green-600",children:[" ",l]},l))})]})]})]})]})]})};var O$={},qj=Object.defineProperty,$fe=Object.getOwnPropertyDescriptor,Lfe=Object.getOwnPropertyNames,Bfe=Object.prototype.hasOwnProperty,Ffe=(e,t)=>{for(var n in t)qj(e,n,{get:t[n],enumerable:!0})},Ufe=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Lfe(t))!Bfe.call(e,s)&&s!==n&&qj(e,s,{get:()=>t[s],enumerable:!(r=$fe(t,s))||r.enumerable});return e},zfe=e=>Ufe(qj({},"__esModule",{value:!0}),e),R$={};Ffe(R$,{createFinalURL:()=>B$,createQuerySerializer:()=>Pb,default:()=>Wfe,defaultBodySerializer:()=>L$,defaultPathSerializer:()=>$$,mergeHeaders:()=>Ib,randomID:()=>D$,serializeArrayParam:()=>Zj,serializeObjectParam:()=>Gj,serializePrimitiveParam:()=>Tf});var $k=zfe(R$),Vfe={"Content-Type":"application/json"},Hfe=/\{[^{}]+\}/g,Kfe=class extends Request{constructor(e,t){super(e,t);for(const n in t)n in this||(this[n]=t[n])}};function D$(){return Math.random().toString(36).slice(2,11)}function Wfe(e){let{baseUrl:t="",fetch:n=globalThis.fetch,querySerializer:r,bodySerializer:s,headers:i,...o}={...e};t.endsWith("/")&&(t=t.substring(0,t.length-1)),i=Ib(Vfe,i);const l=[];async function c(u,d){const{fetch:h=n,headers:f,params:p={},parseAs:x="json",querySerializer:m,bodySerializer:y=s??L$,...b}=d||{};let g=typeof r=="function"?r:Pb(r);m&&(g=typeof m=="function"?m:Pb({...typeof r=="object"?r:{},...m}));const w={redirect:"follow",...o,...b,headers:Ib(i,f,p.header)};w.body&&(w.body=y(w.body),w.body instanceof FormData&&w.headers.delete("Content-Type"));let j,E,M=new Kfe(B$(u,{baseUrl:t,params:p,querySerializer:g}),w);if(l.length){j=D$(),E=Object.freeze({baseUrl:t,fetch:h,parseAs:x,querySerializer:g,bodySerializer:y});for(const z of l)if(z&&typeof z=="object"&&typeof z.onRequest=="function"){const $=await z.onRequest({request:M,schemaPath:u,params:p,options:E,id:j});if($){if(!($ instanceof Request))throw new Error("onRequest: must return new Request() when modifying the request");M=$}}}let O=await h(M);if(l.length)for(let z=l.length-1;z>=0;z--){const $=l[z];if($&&typeof $=="object"&&typeof $.onResponse=="function"){const F=await $.onResponse({request:M,response:O,schemaPath:u,params:p,options:E,id:j});if(F){if(!(F instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");O=F}}}if(O.status===204||O.headers.get("Content-Length")==="0")return O.ok?{data:{},response:O}:{error:{},response:O};if(O.ok)return x==="stream"?{data:O.body,response:O}:{data:await O[x](),response:O};let B=await O.text();try{B=JSON.parse(B)}catch{}return{error:B,response:O}}return{GET(u,d){return c(u,{...d,method:"GET"})},PUT(u,d){return c(u,{...d,method:"PUT"})},POST(u,d){return c(u,{...d,method:"POST"})},DELETE(u,d){return c(u,{...d,method:"DELETE"})},OPTIONS(u,d){return c(u,{...d,method:"OPTIONS"})},HEAD(u,d){return c(u,{...d,method:"HEAD"})},PATCH(u,d){return c(u,{...d,method:"PATCH"})},TRACE(u,d){return c(u,{...d,method:"TRACE"})},use(...u){for(const d of u)if(d){if(typeof d!="object"||!("onRequest"in d||"onResponse"in d))throw new Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");l.push(d)}},eject(...u){for(const d of u){const h=l.indexOf(d);h!==-1&&l.splice(h,1)}}}}function Tf(e,t,n){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.");return`${e}=${(n==null?void 0:n.allowReserved)===!0?t:encodeURIComponent(t)}`}function Gj(e,t,n){if(!t||typeof t!="object")return"";const r=[],s={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(const l in t)r.push(l,n.allowReserved===!0?t[l]:encodeURIComponent(t[l]));const o=r.join(",");switch(n.style){case"form":return`${e}=${o}`;case"label":return`.${o}`;case"matrix":return`;${e}=${o}`;default:return o}}for(const o in t){const l=n.style==="deepObject"?`${e}[${o}]`:o;r.push(Tf(l,t[o],n))}const i=r.join(s);return n.style==="label"||n.style==="matrix"?`${s}${i}`:i}function Zj(e,t,n){if(!Array.isArray(t))return"";if(n.explode===!1){const i={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",o=(n.allowReserved===!0?t:t.map(l=>encodeURIComponent(l))).join(i);switch(n.style){case"simple":return o;case"label":return`.${o}`;case"matrix":return`;${e}=${o}`;default:return`${e}=${o}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",s=[];for(const i of t)n.style==="simple"||n.style==="label"?s.push(n.allowReserved===!0?i:encodeURIComponent(i)):s.push(Tf(e,i,n));return n.style==="label"||n.style==="matrix"?`${r}${s.join(r)}`:s.join(r)}function Pb(e){return function(n){const r=[];if(n&&typeof n=="object")for(const s in n){const i=n[s];if(i!=null){if(Array.isArray(i)){r.push(Zj(s,i,{style:"form",explode:!0,...e==null?void 0:e.array,allowReserved:(e==null?void 0:e.allowReserved)||!1}));continue}if(typeof i=="object"){r.push(Gj(s,i,{style:"deepObject",explode:!0,...e==null?void 0:e.object,allowReserved:(e==null?void 0:e.allowReserved)||!1}));continue}r.push(Tf(s,i,e))}}return r.join("&")}}function $$(e,t){let n=e;for(const r of e.match(Hfe)??[]){let s=r.substring(1,r.length-1),i=!1,o="simple";if(s.endsWith("*")&&(i=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(o="label",s=s.substring(1)):s.startsWith(";")&&(o="matrix",s=s.substring(1)),!t||t[s]===void 0||t[s]===null)continue;const l=t[s];if(Array.isArray(l)){n=n.replace(r,Zj(s,l,{style:o,explode:i}));continue}if(typeof l=="object"){n=n.replace(r,Gj(s,l,{style:o,explode:i}));continue}if(o==="matrix"){n=n.replace(r,`;${Tf(s,l)}`);continue}n=n.replace(r,o==="label"?`.${encodeURIComponent(l)}`:encodeURIComponent(l))}return n}function L$(e){return e instanceof FormData?e:JSON.stringify(e)}function B$(e,t){var s;let n=`${t.baseUrl}${e}`;(s=t.params)!=null&&s.path&&(n=$$(n,t.params.path));let r=t.querySerializer(t.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function Ib(...e){const t=new Headers;for(const n of e){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[s,i]of r)if(i===null)t.delete(s);else if(Array.isArray(i))for(const o of i)t.append(s,o);else i!==void 0&&t.set(s,i)}return t}var hl={};Object.defineProperty(hl,"__esModule",{value:!0});hl.BASE_PATH=void 0;hl.BASE_PATH="https://api.mainnet.hiro.so";var ny={};const ii=Object.create(null);ii.open="0";ii.close="1";ii.ping="2";ii.pong="3";ii.message="4";ii.upgrade="5";ii.noop="6";const mm=Object.create(null);Object.keys(ii).forEach(e=>{mm[ii[e]]=e});const Mb={type:"error",data:"parser error"},F$=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",U$=typeof ArrayBuffer=="function",z$=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Yj=({type:e,data:t},n,r)=>F$&&t instanceof Blob?n?r(t):Lk(t,r):U$&&(t instanceof ArrayBuffer||z$(t))?n?r(t):Lk(new Blob([t]),r):r(ii[e]+(t||"")),Lk=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Bk(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Gv;function qfe(e,t){if(F$&&e.data instanceof Blob)return e.data.arrayBuffer().then(Bk).then(t);if(U$&&(e.data instanceof ArrayBuffer||z$(e.data)))return t(Bk(e.data));Yj(e,!1,n=>{Gv||(Gv=new TextEncoder),t(Gv.encode(n))})}const Fk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Fk.length;e++)Dd[Fk.charCodeAt(e)]=e;const Gfe=e=>{let t=e.length*.75,n=e.length,r,s=0,i,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),d=new Uint8Array(u);for(r=0;r<n;r+=4)i=Dd[e.charCodeAt(r)],o=Dd[e.charCodeAt(r+1)],l=Dd[e.charCodeAt(r+2)],c=Dd[e.charCodeAt(r+3)],d[s++]=i<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},Zfe=typeof ArrayBuffer=="function",Jj=(e,t)=>{if(typeof e!="string")return{type:"message",data:V$(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Yfe(e.substring(1),t)}:mm[n]?e.length>1?{type:mm[n],data:e.substring(1)}:{type:mm[n]}:Mb},Yfe=(e,t)=>{if(Zfe){const n=Gfe(e);return V$(n,t)}else return{base64:!0,data:e}},V$=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},H$="",Jfe=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((i,o)=>{Yj(i,!1,l=>{r[o]=l,++s===n&&t(r.join(H$))})})},Qfe=(e,t)=>{const n=e.split(H$),r=[];for(let s=0;s<n.length;s++){const i=Jj(n[s],t);if(r.push(i),i.type==="error")break}return r};function Xfe(){return new TransformStream({transform(e,t){qfe(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Zv;function $p(e){return e.reduce((t,n)=>t+n.length,0)}function Lp(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function epe(e,t){Zv||(Zv=new TextDecoder);const n=[];let r=0,s=-1,i=!1;return new TransformStream({transform(o,l){for(n.push(o);;){if(r===0){if($p(n)<1)break;const c=Lp(n,1);i=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if($p(n)<2)break;const c=Lp(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if($p(n)<8)break;const c=Lp(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Mb);break}s=d*Math.pow(2,32)+u.getUint32(4),r=3}else{if($p(n)<s)break;const c=Lp(n,s);l.enqueue(Jj(i?c:Zv.decode(c),t)),r=0}if(s===0||s>e){l.enqueue(Mb);break}}}})}const K$=4;function an(e){if(e)return tpe(e)}function tpe(e){for(var t in an.prototype)e[t]=an.prototype[t];return e}an.prototype.on=an.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};an.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};an.prototype.off=an.prototype.removeListener=an.prototype.removeAllListeners=an.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};an.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};an.prototype.emitReserved=an.prototype.emit;an.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};an.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ry=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),qr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),npe="arraybuffer";function W$(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const rpe=qr.setTimeout,spe=qr.clearTimeout;function sy(e,t){t.useNativeTimers?(e.setTimeoutFn=rpe.bind(qr),e.clearTimeoutFn=spe.bind(qr)):(e.setTimeoutFn=qr.setTimeout.bind(qr),e.clearTimeoutFn=qr.clearTimeout.bind(qr))}const ipe=1.33;function ope(e){return typeof e=="string"?ape(e):Math.ceil((e.byteLength||e.size)*ipe)}function ape(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function q$(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function lpe(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function cpe(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class upe extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Qj extends an{constructor(t){super(),this.writable=!1,sy(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new upe(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Jj(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=lpe(t);return n.length?"?"+n:""}}class G$ extends Qj{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Qfe(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Jfe(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=q$()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Z$=!1;try{Z$=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const dpe=Z$;function hpe(){}class fpe extends G${constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let Pc=class gm extends an{constructor(t,n,r){super(),this.createRequest=t,sy(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=W$(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=gm.requestsCount++,gm.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=hpe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete gm.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Pc.requestsCount=0;Pc.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Uk);else if(typeof addEventListener=="function"){const e="onpagehide"in qr?"pagehide":"unload";addEventListener(e,Uk,!1)}}function Uk(){for(let e in Pc.requests)Pc.requests.hasOwnProperty(e)&&Pc.requests[e].abort()}const ppe=function(){const e=Y$({xdomain:!1});return e&&e.responseType!==null}();class Ob extends fpe{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=ppe&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Pc(Y$,this.uri(),t)}}function Y$(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||dpe))return new XMLHttpRequest}catch{}if(!t)try{return new qr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const J$=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class mpe extends Qj{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=J$?{}:W$(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Yj(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}s&&ry(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=q$()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Yv=qr.WebSocket||qr.MozWebSocket;class Rb extends mpe{createSocket(t,n,r){return J$?new Yv(t,n,r):n?new Yv(t,n):new Yv(t)}doWrite(t,n){this.ws.send(n)}}class Q$ extends Qj{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=epe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Xfe();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const i=()=>{r.read().then(({done:l,value:c})=>{l||(this.onPacket(c),i())}).catch(l=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&ry(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const gpe={websocket:Rb,webtransport:Q$,polling:Ob},ype=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vpe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Db(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=ype.exec(e||""),i={},o=14;for(;o--;)i[vpe[o]]=s[o]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=xpe(i,i.path),i.queryKey=wpe(i,i.query),i}function xpe(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function wpe(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,i){s&&(n[s]=i)}),n}const $b=typeof addEventListener=="function"&&typeof removeEventListener=="function",ym=[];$b&&addEventListener("offline",()=>{ym.forEach(e=>e())},!1);class Oo extends an{constructor(t,n){if(super(),this.binaryType=npe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Db(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Db(n.host).host);sy(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=cpe(this.opts.query)),$b&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ym.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=K$,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Oo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Oo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=ope(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ry(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Oo.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),$b&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=ym.indexOf(this._offlineEventListener);r!==-1&&ym.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Oo.protocol=K$;class bpe extends Oo{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Oo.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Oo.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function i(){r||(r=!0,d(),n.close(),n=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=n.name,i(),this.emitReserved("upgradeError",f)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){n&&h.name!==n.name&&i()}const d=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Spe=class extends bpe{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>gpe[s]).filter(s=>!!s)),super(t,r)}};class jpe extends G${doPoll(){this._fetch().then(t=>{if(!t.ok)return this.onError("fetch read error",t.status,t);t.text().then(n=>this.onData(n))}).catch(t=>{this.onError("fetch read error",t)})}doWrite(t,n){this._fetch(t).then(r=>{if(!r.ok)return this.onError("fetch write error",r.status,r);n()}).catch(r=>{this.onError("fetch write error",r)})}_fetch(t){var n;const r=t!==void 0,s=new Headers(this.opts.extraHeaders);return r&&s.set("content-type","text/plain;charset=UTF-8"),(n=this.socket._cookieJar)===null||n===void 0||n.appendCookies(s),fetch(this.uri(),{method:r?"POST":"GET",body:r?t:null,headers:s,credentials:this.opts.withCredentials?"include":"omit"}).then(i=>{var o;return(o=this.socket._cookieJar)===null||o===void 0||o.parseCookies(i.headers.getSetCookie()),i})}}function Npe(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Db(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const _pe=typeof ArrayBuffer=="function",Epe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,X$=Object.prototype.toString,Ape=typeof Blob=="function"||typeof Blob<"u"&&X$.call(Blob)==="[object BlobConstructor]",Cpe=typeof File=="function"||typeof File<"u"&&X$.call(File)==="[object FileConstructor]";function Xj(e){return _pe&&(e instanceof ArrayBuffer||Epe(e))||Ape&&e instanceof Blob||Cpe&&e instanceof File}function vm(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(vm(e[n]))return!0;return!1}if(Xj(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return vm(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&vm(e[n]))return!0;return!1}function kpe(e){const t=[],n=e.data,r=e;return r.data=Lb(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Lb(e,t){if(!e)return e;if(Xj(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Lb(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Lb(e[r],t));return n}return e}function Tpe(e,t){return e.data=Bb(e.data,t),delete e.attachments,e}function Bb(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Bb(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Bb(e[n],t));return e}const Ppe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eL=5;var Ue;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ue||(Ue={}));class Ipe{constructor(t){this.replacer=t}encode(t){return(t.type===Ue.EVENT||t.type===Ue.ACK)&&vm(t)?this.encodeAsBinary({type:t.type===Ue.EVENT?Ue.BINARY_EVENT:Ue.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Ue.BINARY_EVENT||t.type===Ue.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=kpe(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function zk(e){return Object.prototype.toString.call(e)==="[object Object]"}class eN extends an{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Ue.BINARY_EVENT;r||n.type===Ue.BINARY_ACK?(n.type=r?Ue.EVENT:Ue.ACK,this.reconstructor=new Mpe(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Xj(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Ue[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ue.BINARY_EVENT||r.type===Ue.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(i,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const i=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(eN.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Ue.CONNECT:return zk(n);case Ue.DISCONNECT:return n===void 0;case Ue.CONNECT_ERROR:return typeof n=="string"||zk(n);case Ue.EVENT:case Ue.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Ppe.indexOf(n[0])===-1);case Ue.ACK:case Ue.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Mpe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Tpe(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ope=Object.freeze(Object.defineProperty({__proto__:null,Decoder:eN,Encoder:Ipe,get PacketType(){return Ue},protocol:eL},Symbol.toStringTag,{value:"Module"}));function gs(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Rpe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tN extends an{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[gs(t,"open",this.onopen.bind(this)),gs(t,"packet",this.onpacket.bind(this)),gs(t,"error",this.onerror.bind(this)),gs(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,i;if(Rpe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ue.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),o=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const i=(o,l)=>o?s(o):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...i)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ue.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ue.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ue.EVENT:case Ue.BINARY_EVENT:this.onevent(t);break;case Ue.ACK:case Ue.BINARY_ACK:this.onack(t);break;case Ue.DISCONNECT:this.ondisconnect();break;case Ue.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Ue.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ue.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Wu(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Wu.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Wu.prototype.reset=function(){this.attempts=0};Wu.prototype.setMin=function(e){this.ms=e};Wu.prototype.setMax=function(e){this.max=e};Wu.prototype.setJitter=function(e){this.jitter=e};class Rg extends an{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,sy(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Wu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Ope;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Spe(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=gs(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=gs(n,"error",i);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(gs(t,"ping",this.onping.bind(this)),gs(t,"data",this.ondata.bind(this)),gs(t,"error",this.onerror.bind(this)),gs(t,"close",this.onclose.bind(this)),gs(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ry(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new tN(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const jd={};function Ba(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Npe(e,t.path||"/socket.io"),r=n.source,s=n.id,i=n.path,o=jd[s]&&i in jd[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Rg(r,t):(jd[s]||(jd[s]=new Rg(r,t)),c=jd[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Ba,{Manager:Rg,Socket:tN,io:Ba,connect:Ba});const Dpe=Object.freeze(Object.defineProperty({__proto__:null,Fetch:jpe,Manager:Rg,NodeWebSocket:Rb,NodeXHR:Ob,Socket:tN,WebSocket:Rb,WebTransport:Q$,XHR:Ob,connect:Ba,default:Ba,io:Ba,protocol:eL},Symbol.toStringTag,{value:"Module"})),$pe=fl(Dpe);Object.defineProperty(ny,"__esModule",{value:!0});ny.StacksApiSocketClient=void 0;const tL=$pe,Lpe=hl;function Bpe(e){let t;try{if(t=new URL(e),!t.protocol||!t.host)throw new TypeError(`[ERR_INVALID_URL]: Invalid URL: ${e}`)}catch(n){throw console.error('Pass an absolute URL with a protocol/schema, e.g. "wss://example.com"'),n}return t}function Fpe(e){var r;const t={...e==null?void 0:e.socketOpts,query:{...(r=e==null?void 0:e.socketOpts)==null?void 0:r.query,subscriptions:Array.from(new Set(e==null?void 0:e.subscriptions)).join(",")}};return t.transports||(t.transports=["websocket"]),(0,tL.io)(Bpe((e==null?void 0:e.url)??Lpe.BASE_PATH).href,t)}class nN{constructor(t){t instanceof tL.Socket?this.socket=t:this.socket=Fpe(t)}static connect(t){return new nN(t)}handleSubscription(t,n=!1,r){var o;const s=(o=this.socket.io.opts.query)==null?void 0:o.subscriptions,i=new Set(s?s.split(","):[]);return n?(this.socket.emit("subscribe",t,l=>{l&&console.error(`Error subscribing: ${l}`)}),i.add(t)):(this.socket.emit("unsubscribe",t),i.delete(t)),this.socket.io.opts.query===void 0&&(this.socket.io.opts.query={}),this.socket.io.opts.query.subscriptions=Array.from(i).join(","),{unsubscribe:()=>{r&&this.socket.off(t,r),this.handleSubscription(t,!1)}}}subscribeBlocks(t){return t&&this.socket.on("block",t),this.handleSubscription("block",!0,t)}unsubscribeBlocks(){this.handleSubscription("block",!1)}subscribeMicroblocks(t){return t&&this.socket.on("microblock",t),this.handleSubscription("microblock",!0,t)}unsubscribeMicroblocks(){this.handleSubscription("microblock",!1)}subscribeMempool(t){return t&&this.socket.on("mempool",t),this.handleSubscription("mempool",!0,t)}unsubscribeMempool(){this.handleSubscription("mempool",!1)}subscribeAddressTransactions(t,n){return n&&this.socket.on(`address-transaction:${t}`,n),this.handleSubscription(`address-transaction:${t}`,!0,n)}unsubscribeAddressTransactions(t){this.handleSubscription(`address-transaction:${t}`,!1)}subscribeAddressStxBalance(t,n){return n&&this.socket.on(`address-stx-balance:${t}`,n),this.handleSubscription(`address-stx-balance:${t}`,!0,n)}unsubscribeAddressStxBalance(t){this.handleSubscription(`address-stx-balance:${t}`,!1)}subscribeTransaction(t,n){return n&&this.socket.on(`transaction:${t}`,n),this.handleSubscription(`transaction:${t}`,!0,n)}unsubscribeTransaction(t){this.handleSubscription(`transaction:${t}`,!1)}subscribeNftEvent(t){return t&&this.socket.on("nft-event",t),this.handleSubscription("nft-event",!0,t)}unsubscribeNftEvent(){this.handleSubscription("nft-event",!1)}subscribeNftAssetEvent(t,n,r){return r&&this.socket.on(`nft-asset-event:${t}+${n}`,r),this.handleSubscription(`nft-asset-event:${t}+${n}`,!0,r)}unsubscribeNftAssetEvent(t,n){this.handleSubscription(`nft-asset-event:${t}+${n}`,!1)}subscribeNftCollectionEvent(t,n){return n&&this.socket.on(`nft-collection-event:${t}`,n),this.handleSubscription(`nft-collection-event:${t}`,!0,n)}unsubscribeNftCollectionEvent(t){this.handleSubscription(`nft-collection-event:${t}`,!1)}logEvents(){this.socket.on("connect",()=>console.log("socket connected")),this.socket.on("disconnect",t=>console.warn("disconnected",t)),this.socket.on("connect_error",t=>console.error("connect_error",t)),this.socket.on("block",t=>console.log("block",t)),this.socket.on("microblock",t=>console.log("microblock",t)),this.socket.on("mempool",t=>console.log("mempool",t)),this.socket.on("nft-event",t=>console.log("nft-event",t))}}ny.StacksApiSocketClient=nN;var Pf={};const Bp=Object.prototype.hasOwnProperty,rN=typeof Number.isSafeInteger=="function"?Number.isSafeInteger:function(e){return typeof e=="number"&&isFinite(e)&&e===Math.floor(e)&&Math.abs(e)<=9007199254740991};class ta{constructor(){this.jsonrpc="2.0"}serialize(){return JSON.stringify(this)}}ta.VERSION="2.0";class iy extends ta{constructor(t,n,r){super(),this.id=t,this.method=n,r!==void 0&&(this.params=r)}}class oy extends ta{constructor(t,n){super(),this.method=t,n!==void 0&&(this.params=n)}}class ay extends ta{constructor(t,n){super(),this.id=t,this.result=n}}class ly extends ta{constructor(t,n){super(),this.id=t,this.error=n,this.id=t,this.error=n}}class wu{constructor(t,n){this.payload=t,this.type=n,this.payload=t,this.type=n}}class ot{constructor(t,n,r){this.message=t,this.code=rN(n)?n:0,r!=null&&(this.data=r)}}ot.invalidRequest=function(e){return new ot("Invalid request",-32600,e)};ot.methodNotFound=function(e){return new ot("Method not found",-32601,e)};ot.invalidParams=function(e){return new ot("Invalid params",-32602,e)};ot.internalError=function(e){return new ot("Internal error",-32603,e)};ot.parseError=function(e){return new ot("Parse error",-32700,e)};function nL(e,t,n){const r=new iy(e,t,n);return xo(r,!0),r}function rL(e,t){const n=new oy(e,t);return xo(n,!0),n}function sL(e,t){const n=new ay(e,t);return xo(n,!0),n}function iL(e,t){const n=new ly(e,t);return xo(n,!0),n}function sN(e){if(!cy(e))return new wu(ot.invalidRequest(e),"invalid");let t;try{t=JSON.parse(e)}catch{return new wu(ot.parseError(e),"invalid")}return iN(t)}function iN(e){if(!Array.isArray(e))return Dg(e);if(e.length===0)return new wu(ot.invalidRequest(e),"invalid");const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=Dg(e[n]);return t}const oL=sN;function Dg(e){let t=null,n=null,r="invalid";if(e==null||e.jsonrpc!==ta.VERSION)t=ot.invalidRequest(e),r="invalid";else if(Bp.call(e,"id")){if(Bp.call(e,"method")){const s=e;n=new iy(s.id,s.method,s.params),t=xo(n),r="request"}else if(Bp.call(e,"result")){const s=e;n=new ay(s.id,s.result),t=xo(n),r="success"}else if(Bp.call(e,"error")){const s=e;if(r="error",s.error==null)t=ot.internalError(s);else{const i=new ot(s.error.message,s.error.code,s.error.data);i.message!==s.error.message||i.code!==s.error.code?t=ot.internalError(s):(n=new ly(s.id,i),t=xo(n))}}}else{const s=e;n=new oy(s.method,s.params),t=xo(n),r="notification"}return t==null&&n!=null?new wu(n,r):new wu(t??ot.invalidRequest(e),"invalid")}function xo(e,t){let n=null;if(e instanceof iy?(n=Jv(e.id),n==null&&(n=Vk(e.method)),n==null&&(n=Hk(e.params))):e instanceof oy?(n=Vk(e.method),n==null&&(n=Hk(e.params))):e instanceof ay?(n=Jv(e.id),n==null&&(n=Upe(e.result))):e instanceof ly&&(n=Jv(e.id,!0),n==null&&(n=zpe(e.error))),t&&n!=null)throw n;return n}function Jv(e,t){return t&&e===null||cy(e)||rN(e)?null:ot.internalError('"id" must be provided, a string or an integer.')}function Vk(e){return cy(e)?null:ot.invalidRequest(e)}function Upe(e){return e===void 0?ot.internalError("Result must exist for success Response objects"):null}function Hk(e){if(e===void 0)return null;if(Array.isArray(e)||Vpe(e))try{return JSON.stringify(e),null}catch{return ot.parseError(e)}return ot.invalidParams(e)}function zpe(e){return e instanceof ot?rN(e.code)?cy(e.message)?null:ot.internalError("Message must exist or must be a string."):ot.internalError("Invalid error code. It must be an integer."):ot.internalError("Error must be an instance of JsonRpcError")}function cy(e){return e!==""&&typeof e=="string"}function Vpe(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const Kk={JsonRpc:ta,JsonRpcError:ot,request:nL,notification:rL,success:sL,error:iL,parse:sN,parseObject:Dg,parseJsonRpcObject:iN,parseJsonRpcString:oL},Hpe=Object.freeze(Object.defineProperty({__proto__:null,ErrorObject:ly,JsonRpc:ta,JsonRpcError:ot,JsonRpcParsed:wu,NotificationObject:oy,RequestObject:iy,SuccessObject:ay,default:Kk,error:iL,jsonrpc:Kk,notification:rL,parse:sN,parseJsonRpcObject:iN,parseJsonRpcString:oL,parseObject:Dg,request:nL,success:sL},Symbol.toStringTag,{value:"Module"})),Kpe=fl(Hpe);var aL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,h||c,f),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,x=new Array(p);f<p;f++)x[f]=h[f].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,x){var m=n?n+u:u;if(!this._events[m])return!1;var y=this._events[m],b=arguments.length,g,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,f),!0;case 5:return y.fn.call(y.context,d,h,f,p),!0;case 6:return y.fn.call(y.context,d,h,f,p,x),!0}for(w=1,g=new Array(b-1);w<b;w++)g[w-1]=arguments[w];y.fn.apply(y.context,g)}else{var j=y.length,E;for(w=0;w<j;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,h);break;case 4:y[w].fn.call(y[w].context,d,h,f);break;default:if(!g)for(E=1,g=new Array(b-1);E<b;E++)g[E-1]=arguments[E];y[w].fn.apply(y[w].context,g)}}return!0},l.prototype.on=function(u,d,h){return i(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return i(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=n?n+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var x=this._events[p];if(x.fn)x.fn===d&&(!f||x.once)&&(!h||x.context===h)&&o(this,p);else{for(var m=0,y=[],b=x.length;m<b;m++)(x[m].fn!==d||f&&!x[m].once||h&&x[m].context!==h)&&y.push(x[m]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(aL);var Wpe=aL.exports,Qv,Wk;function qpe(){return Wk||(Wk=1,Qv=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}),Qv}Object.defineProperty(Pf,"__esModule",{value:!0});Pf.StacksApiWebSocketClient=void 0;Pf.connectWebSocketClient=Zpe;const qk=Kpe,Gpe=Wpe,lL=hl;class uy{static async connect(t=lL.BASE_PATH){let n;try{n=new URL(t)}catch{n=new URL(`ws://${t}`)}n.protocol==="https:"?n.protocol="wss:":n.protocol==="http:"&&(n.protocol="ws:"),n.pathname==="/"&&(n.pathname="/extended/v1/ws");const r=await new Promise((s,i)=>{const o=new(Ype())(n.toString());o.onopen=()=>s(o),o.onerror=l=>i(l)});return new uy(r)}constructor(t){this.idCursor=0,this.pendingRequests=new Map,this.eventEmitter=new Gpe.EventEmitter,this.webSocket=t,t.addEventListener("message",n=>{const r=qk.parse(n.data);(Array.isArray(r)?r:[r]).forEach(i=>{if(i.type==="notification")this.handleNotification(i.payload);else if(i.type==="success"){const o=this.pendingRequests.get(i.payload.id);o&&(this.pendingRequests.delete(i.payload.id),o.resolve(i.payload.result))}else if(i.type==="error"){const o=this.pendingRequests.get(i.payload.id);o&&(this.pendingRequests.delete(i.payload.id),o.reject(i.payload.error))}})})}handleNotification(t){switch(t.method){case"tx_update":this.eventEmitter.emit("txUpdate",t.params);break;case"address_tx_update":this.eventEmitter.emit("addressTxUpdate",t.params);break;case"address_balance_update":this.eventEmitter.emit("addressBalanceUpdate",t.params);break;case"block":this.eventEmitter.emit("block",t.params);break;case"microblock":this.eventEmitter.emit("microblock",t.params);break;case"mempool":this.eventEmitter.emit("mempool",t.params);break;case"nft_event":this.eventEmitter.emit("nftEventUpdate",t.params);break;case"nft_asset_event":this.eventEmitter.emit("nftAssetEventUpdate",t.params);break;case"nft_collection_event":this.eventEmitter.emit("nftCollectionEventUpdate",t.params);break}}rpcCall(t,n){const r=qk.request(++this.idCursor,t,n);return new Promise((s,i)=>{this.pendingRequests.set(r.id,{resolve:s,reject:i}),this.webSocket.send(r.serialize())})}async subscribeBlocks(t){const n={event:"block"};await this.rpcCall("subscribe",n);const r=s=>{t(s)};return this.eventEmitter.addListener("block",r),{unsubscribe:()=>(this.eventEmitter.removeListener("block",r),this.rpcCall("unsubscribe",n))}}async subscribeMicroblocks(t){const n={event:"microblock"};await this.rpcCall("subscribe",n);const r=s=>{t(s)};return this.eventEmitter.addListener("microblock",r),{unsubscribe:()=>(this.eventEmitter.removeListener("microblock",r),this.rpcCall("unsubscribe",n))}}async subscribeMempool(t){const n={event:"mempool"};await this.rpcCall("subscribe",n);const r=s=>{t(s)};return this.eventEmitter.addListener("mempool",r),{unsubscribe:()=>(this.eventEmitter.removeListener("mempool",r),this.rpcCall("unsubscribe",n))}}async subscribeTxUpdates(t,n){const r={event:"tx_update",tx_id:t},s=await this.rpcCall("subscribe",r),i=o=>{o.tx_id===s.tx_id&&n(o)};return this.eventEmitter.addListener("txUpdate",i),{unsubscribe:()=>(this.eventEmitter.removeListener("txUpdate",i),this.rpcCall("unsubscribe",r))}}async subscribeAddressTransactions(t,n){const r={event:"address_tx_update",address:t},s=await this.rpcCall("subscribe",r),i=o=>{o.address===s.address&&n(o)};return this.eventEmitter.addListener("addressTxUpdate",i),{unsubscribe:()=>(this.eventEmitter.removeListener("addressTxUpdate",i),this.rpcCall("unsubscribe",r))}}async subscribeAddressBalanceUpdates(t,n){const r={event:"address_balance_update",address:t},s=await this.rpcCall("subscribe",r),i=o=>{o.address===s.address&&n(o)};return this.eventEmitter.addListener("addressBalanceUpdate",i),{unsubscribe:()=>(this.eventEmitter.removeListener("addressBalanceUpdate",i),this.rpcCall("unsubscribe",r))}}async subscribeNftEventUpdates(t){const n={event:"nft_event"};await this.rpcCall("subscribe",n);const r=s=>{t(s)};return this.eventEmitter.addListener("nftEventUpdate",r),{unsubscribe:()=>(this.eventEmitter.removeListener("nftEventUpdate",r),this.rpcCall("unsubscribe",n))}}async subscribeNftAssetEventUpdates(t,n,r){const s={event:"nft_asset_event",asset_identifier:t,value:n},i=await this.rpcCall("subscribe",s),o=l=>{l.asset_identifier===i.asset_identifier&&l.value.hex===i.value&&r(l)};return this.eventEmitter.addListener("nftAssetEventUpdate",o),{unsubscribe:()=>(this.eventEmitter.removeListener("nftAssetEventUpdate",o),this.rpcCall("unsubscribe",s))}}async subscribeNftCollectionEventUpdates(t,n){const r={event:"nft_collection_event",asset_identifier:t},s=await this.rpcCall("subscribe",r),i=o=>{o.asset_identifier===s.asset_identifier&&n(o)};return this.eventEmitter.addListener("nftCollectionEventUpdate",i),{unsubscribe:()=>(this.eventEmitter.removeListener("nftCollectionEventUpdate",i),this.rpcCall("unsubscribe",r))}}}Pf.StacksApiWebSocketClient=uy;async function Zpe(e=lL.BASE_PATH){return uy.connect(e)}function Ype(){return typeof WebSocket<"u"?WebSocket:typeof ze<"u"&&ze.WebSocket?ze.WebSocket:typeof window<"u"&&window.WebSocket?window.WebSocket:typeof self<"u"&&self.WebSocket?self.WebSocket:qpe()}(function(e){var t=ze&&ze.__createBinding||(Object.create?function(o,l,c,u){u===void 0&&(u=c);var d=Object.getOwnPropertyDescriptor(l,c);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(o,u,d)}:function(o,l,c,u){u===void 0&&(u=c),o[u]=l[c]}),n=ze&&ze.__exportStar||function(o,l){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.createClient=i;const r=$k,s=hl;function i(o){return(0,r.default)({baseUrl:s.BASE_PATH,...o})}n(hl,e),n(ny,e),n(Pf,e),n($k,e)})(O$);class Jpe{constructor(t,n="testnet"){Object.defineProperty(this,"wsClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"socketClient",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"network",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.apiKey=t,this.network=n,this.baseUrl=n==="testnet"?"https://api.testnet.hiro.so":"https://api.mainnet.hiro.so"}async initializeWebSocket(){try{const t=this.baseUrl.replace("https://","wss://")+"/extended/v1/ws";return this.wsClient=await O$.connectWebSocketClient(t),console.log(" Hiro WebSocket connected successfully"),this.wsClient}catch(t){return console.error(" Failed to connect to Hiro WebSocket:",t),this.createMockWebSocketClient()}}initializeSocketIO(){try{const t=Ba(this.baseUrl,{transports:["websocket"],auth:{token:this.apiKey}});return this.socketClient=t,t.on("connect",()=>{console.log(" Hiro Socket.IO connected")}),t.on("disconnect",()=>{console.log(" Hiro Socket.IO disconnected")}),t.on("error",n=>{console.error(" Socket.IO error:",n)}),this.socketClient}catch(t){return console.error("Failed to initialize Socket.IO:",t),null}}async subscribeToInvoiceTransactions(t,n){this.wsClient||await this.initializeWebSocket();try{return await this.wsClient.subscribeAddressTransactions(t,s=>{console.log(" Invoice transaction update:",s),n(s)})}catch(r){return console.error("Error subscribing to transactions:",r),{unsubscribe:()=>{}}}}async subscribeToContractCalls(t,n,r){if(this.socketClient||this.initializeSocketIO(),!this.socketClient){console.warn("Socket.IO not available, skipping subscription");return}this.socketClient.emit("subscribe",{event:"contract_call",contract_id:t,function_name:n}),this.socketClient.on("contract_call",s=>{s.contract_id===t&&s.function_name===n&&r(s)})}async subscribeMempoolTransactions(t){this.wsClient||await this.initializeWebSocket();try{return await this.wsClient.subscribeMempoolTransactions(r=>{var s,i;(i=(s=r.contract_call)==null?void 0:s.contract_id)!=null&&i.includes("escrow-secure")&&(console.log(" Pending invoice transaction:",r),t(r))})}catch(n){return console.error("Error subscribing to mempool:",n),{unsubscribe:()=>{}}}}disconnect(){var t;(t=this.wsClient)!=null&&t.close&&this.wsClient.close(),this.socketClient&&this.socketClient.disconnect(),console.log(" Hiro API connections closed")}createMockWebSocketClient(){return{subscribeAddressTransactions:async(t,n)=>{console.log(" Using mock WebSocket client");const r={tx_id:"0xmock123",tx_status:"success",contract_call:{function_name:"create-invoice",contract_id:"mock-contract"}};return setTimeout(()=>n(r),2e3),{unsubscribe:()=>{}}},subscribeMempoolTransactions:async t=>(console.log(" Using mock mempool subscription"),{unsubscribe:()=>{}}),close:()=>{}}}getBaseUrl(){return this.baseUrl}getApiKey(){return this.apiKey}}const Qpe="838b2c86380729ce15932b28e7004830",Xpe="testnet",Hl=new Jpe(Qpe,Xpe);class eme{constructor(t,n){Object.defineProperty(this,"hiroAPI",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.hiroAPI=t,this.contractAddress=n}async trackInvoiceLifecycle(t,n){await this.hiroAPI.subscribeToContractCalls(this.contractAddress,"create-invoice",r=>{var s,i;((s=r.function_args)==null?void 0:s.invoice_id)===t&&((i=n.onCreated)==null||i.call(n,r))}),await this.hiroAPI.subscribeToContractCalls(this.contractAddress,"ack-deposit",r=>{var s,i;((s=r.function_args)==null?void 0:s.invoice_id)===t&&((i=n.onFunded)==null||i.call(n,r))}),await this.hiroAPI.subscribeToContractCalls(this.contractAddress,"release-funds",r=>{var s,i;((s=r.function_args)==null?void 0:s.invoice_id)===t&&((i=n.onReleased)==null||i.call(n,r))}),await this.hiroAPI.subscribeToContractCalls(this.contractAddress,"create-dispute",r=>{var s,i;((s=r.function_args)==null?void 0:s.invoice_id)===t&&((i=n.onDisputed)==null||i.call(n,r))})}async getInvoiceTransactionHistory(t){try{return(await Te.get(`${this.hiroAPI.getBaseUrl()}/extended/v1/address/${this.contractAddress}/transactions`,{headers:{"X-API-Key":this.hiroAPI.getApiKey()},params:{limit:50}})).data.results.filter(s=>{var i,o;return(o=(i=s.contract_call)==null?void 0:i.function_args)==null?void 0:o.some(l=>l.name==="invoice-id"&&l.repr===`u${t}`)})}catch(n){return console.error("Error fetching invoice history:",n),[{tx_id:"0xmock123",tx_status:"success",block_height:12345,fee_rate:1e3,contract_call:{function_name:"create-invoice",function_args:[{name:"invoice-id",repr:`u${t}`}]}}]}}async monitorTransactionCosts(t){try{const r=(await Te.get(`${this.hiroAPI.getBaseUrl()}/extended/v1/tx/${t}`,{headers:{"X-API-Key":this.hiroAPI.getApiKey()}})).data;return{fee:r.fee_rate,gas_used:r.execution_cost_read_count+r.execution_cost_read_length,status:r.tx_status,block_height:r.block_height,confirmations:r.canonical?"Confirmed":"Pending"}}catch(n){return console.error("Error monitoring transaction costs:",n),{fee:1e3,gas_used:500,status:"success",block_height:12345,confirmations:"Confirmed"}}}async getLatestBlock(){try{return(await Te.get(`${this.hiroAPI.getBaseUrl()}/extended/v1/block`,{headers:{"X-API-Key":this.hiroAPI.getApiKey()},params:{limit:1}})).data.results[0]}catch(t){return console.error("Error fetching latest block:",t),null}}}class tme{constructor(){Object.defineProperty(this,"discordAPI",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"enabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.discordAPI=Ur.getAPI("discord"),this.enabled=Ur.isAPIAvailable("discord")}isEnabled(){return this.enabled}async notifyInvoiceCreated(t){if(!this.enabled)return console.log("Discord notifications disabled"),{success:!1,reason:"Not configured"};try{return{success:!0,result:await this.discordAPI.sendInvoiceCreated({id:t.invoice_id||t.id,amount:t.amount||"0 sBTC",dao:t.dao||"Unknown DAO",payee:t.payee,description:t.milestone_description||t.description})}}catch(n){return console.error("Failed to send Discord notification:",n),{success:!1,error:n}}}async notifyInvoiceFunded(t,n){if(!this.enabled)return{success:!1,reason:"Not configured"};try{return{success:!0,result:await this.discordAPI.sendInvoiceFunded({id:t.invoice_id||t.id,amount:t.amount||"0 sBTC",dao:t.dao||"Unknown DAO",txId:n||t.txId})}}catch(r){return console.error("Failed to send Discord notification:",r),{success:!1,error:r}}}async notifyPaymentReleased(t,n){if(!this.enabled)return{success:!1,reason:"Not configured"};try{return{success:!0,result:await this.discordAPI.sendInvoiceReleased({id:t.invoice_id||t.id,amount:t.amount||"0 sBTC",dao:t.dao||"Unknown DAO",payee:t.payee,txId:n||t.txId})}}catch(r){return console.error("Failed to send Discord notification:",r),{success:!1,error:r}}}async notifyDispute(t,n){if(!this.enabled)return{success:!1,reason:"Not configured"};try{return{success:!0,result:await this.discordAPI.sendInvoiceDisputed({id:t.invoice_id||t.id,amount:t.amount||"0 sBTC",dao:t.dao||"Unknown DAO",disputeReason:n,arbiter:t.arbiter})}}catch(r){return console.error("Failed to send Discord notification:",r),{success:!1,error:r}}}async notifyMilestoneComplete(t,n){if(!this.enabled)return{success:!1,reason:"Not configured"};try{return{success:!0,result:await this.discordAPI.sendMilestoneCompleted({id:t.invoice_id||t.id},n)}}catch(r){return console.error("Failed to send Discord notification:",r),{success:!1,error:r}}}async notifyAIParsing(t,n){if(!this.enabled)return{success:!1,reason:"Not configured"};try{return{success:!0,result:await this.discordAPI.sendAIParsingComplete({id:t.invoice_id||t.id},n)}}catch(r){return console.error("Failed to send Discord notification:",r),{success:!1,error:r}}}async sendDailySummary(t){if(!this.enabled)return{success:!1,reason:"Not configured"};try{return{success:!0,result:await this.discordAPI.sendDailySummary(t)}}catch(n){return console.error("Failed to send Discord notification:",n),{success:!1,error:n}}}async testConnection(){if(!this.enabled)return{success:!1,reason:"Not configured"};try{return await this.discordAPI.sendTestNotification()}catch(t){return console.error("Failed to test Discord connection:",t),{success:!1,error:t}}}}const vn=new tme;function nme(){const[e,t]=S.useState([]),[n,r]=S.useState("connecting"),[s,i]=S.useState(null),[o,l]=S.useState(!1);S.useEffect(()=>(l(vn.isEnabled()),c(),()=>{Hl.disconnect()}),[]);const c=async()=>{try{await Hl.initializeWebSocket(),r("connected");const y="ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",b=new eme(Hl,y);i(b),await Hl.subscribeToInvoiceTransactions(y,async g=>{const w={id:g.tx_id||`event-${Date.now()}`,type:u(g),timestamp:new Date,txId:g.tx_id||"0x0",amount:d(g),status:g.tx_status==="success"?"confirmed":"pending",invoiceId:h(g)};if(t(j=>[w,...j.slice(0,49)]),o&&g.tx_status==="success"){const j={id:h(g),amount:d(g),dao:"BitMind DAO",txId:g.tx_id};switch(w.type){case"created":await vn.notifyInvoiceCreated(j);break;case"funded":await vn.notifyInvoiceFunded(j);break;case"released":await vn.notifyPaymentReleased(j);break;case"disputed":await vn.notifyDispute(j);break}}}),await Hl.subscribeMempoolTransactions(g=>{const w={id:g.tx_id||`mempool-${Date.now()}`,type:u(g),timestamp:new Date,txId:g.tx_id||"0x0",amount:d(g),status:"pending",invoiceId:h(g)};t(j=>[w,...j.slice(0,49)])})}catch(y){console.error("Failed to initialize Hiro monitoring:",y),r("disconnected")}},u=y=>{var g;const b=(g=y.contract_call)==null?void 0:g.function_name;return b==="create-invoice"||b==="create-invoice-secure"?"created":b==="ack-deposit"?"funded":b==="release-funds"||b==="release-funds-secure"?"released":b==="create-dispute"?"disputed":"created"},d=y=>{var g,w,j;const b=(w=(g=y.contract_call)==null?void 0:g.function_args)==null?void 0:w.find(E=>E.name==="amount");return b?`${parseInt(((j=b.repr)==null?void 0:j.slice(1))||"0")/1e8} sBTC`:"0 sBTC"},h=y=>{var g,w,j;const b=(w=(g=y.contract_call)==null?void 0:g.function_args)==null?void 0:w.find(E=>E.name==="invoice-id");return((j=b==null?void 0:b.repr)==null?void 0:j.slice(1))||""},f=y=>{switch(y){case"confirmed":return"bg-green-500 text-white";case"pending":return"bg-yellow-500 text-white";case"failed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},p=y=>{switch(y){case"created":return"";case"funded":return"";case"released":return"";case"disputed":return"";default:return""}},x=()=>{Hl.disconnect(),t([]),r("connecting"),c()},m="testnet";return a.jsxs("div",{className:"space-y-4",children:[a.jsxs(K,{children:[a.jsx(se,{children:a.jsxs(ie,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Eh,{className:"w-5 h-5"}),"Real-time Blockchain Monitor"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pe,{variant:n==="connected"?"default":"destructive",children:n==="connected"?" Connected":" Disconnected"}),a.jsx(Y,{size:"sm",variant:"outline",onClick:x,children:a.jsx(Ka,{className:"w-4 h-4"})})]})]})}),a.jsxs(q,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Network"}),a.jsx("p",{className:"font-semibold capitalize",children:m})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Events Tracked"}),a.jsx("p",{className:"font-semibold",children:e.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"WebSocket"}),a.jsx("p",{className:"font-semibold",children:n==="connected"?"Active":"Inactive"})]})]}),o&&a.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg flex items-center gap-2",children:[a.jsx(Ch,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Discord notifications enabled - DAO will be notified of all events"})]})]})]}),a.jsxs(K,{children:[a.jsx(se,{children:a.jsx(ie,{children:"Live Transaction Feed"})}),a.jsx(q,{children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Eh,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground animate-pulse"}),a.jsx("p",{className:"text-muted-foreground",children:"Waiting for blockchain events..."}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create an invoice to see real-time updates"})]}):e.map(y=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:p(y.type)}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium capitalize",children:[y.type," Event"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.timestamp.toLocaleTimeString(),"  ",y.amount,y.invoiceId&&`  Invoice #${y.invoiceId}`]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pe,{className:f(y.status),children:y.status}),y.txId!=="0x0"&&a.jsxs("a",{href:`https://explorer.stacks.co/txid/${y.txId}?chain=${m}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline text-sm flex items-center gap-1",children:[a.jsx(Ra,{className:"w-3 h-3"}),"View TX"]})]})]},y.id))})})]}),a.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:[{label:"Created",count:e.filter(y=>y.type==="created").length,icon:""},{label:"Funded",count:e.filter(y=>y.type==="funded").length,icon:""},{label:"Released",count:e.filter(y=>y.type==="released").length,icon:""},{label:"Disputed",count:e.filter(y=>y.type==="disputed").length,icon:""}].map(y=>a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:y.icon}),a.jsx("p",{className:"text-2xl font-bold",children:y.count}),a.jsx("p",{className:"text-sm text-muted-foreground",children:y.label})]})})},y.label))})]})}const rme=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Real-Time Blockchain Monitor"}),a.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:"Live WebSocket integration with Hiro Stacks API for instant transaction tracking and invoice lifecycle monitoring"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[a.jsx(K,{children:a.jsxs(se,{children:[a.jsx(Eh,{className:"w-8 h-8 mb-2 text-blue-600"}),a.jsx(ie,{children:"WebSocket Connection"}),a.jsx(je,{children:"Real-time blockchain event streaming via Hiro API"})]})}),a.jsx(K,{children:a.jsxs(se,{children:[a.jsx(Mr,{className:"w-8 h-8 mb-2 text-orange-600"}),a.jsx(ie,{children:"Instant Updates"}),a.jsx(je,{children:"Sub-second latency for invoice status changes"})]})}),a.jsx(K,{children:a.jsxs(se,{children:[a.jsx(Ar,{className:"w-8 h-8 mb-2 text-green-600"}),a.jsx(ie,{children:"Contract Monitoring"}),a.jsx(je,{children:"Track escrow contract events and mempool transactions"})]})})]}),a.jsx(nme,{}),a.jsxs(K,{className:"mt-8 bg-gradient-to-r from-blue-50 to-purple-50",children:[a.jsx(se,{children:a.jsx(ie,{children:"Technical Implementation"})}),a.jsx(q,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:" WebSocket Features"}),a.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[a.jsx("li",{children:" Address transaction subscriptions"}),a.jsx("li",{children:" Contract call monitoring"}),a.jsx("li",{children:" Mempool transaction tracking"}),a.jsx("li",{children:" Automatic reconnection handling"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-2",children:" Event Tracking"}),a.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[a.jsx("li",{children:" Invoice creation (create-invoice)"}),a.jsx("li",{children:" Escrow funding (ack-deposit)"}),a.jsx("li",{children:" Payment release (release-funds)"}),a.jsx("li",{children:" Dispute creation (create-dispute)"})]})]})]})})]})]})]}),sme=()=>{const{toast:e}=Cu(),[t,n]=S.useState(!1),[r,s]=S.useState("DEMO-001"),[i,o]=S.useState("0.5 sBTC"),[l,c]=S.useState("Demo DAO"),[u,d]=S.useState("Test invoice for Discord notifications"),h=vn.isEnabled(),f=async x=>{n(!0);try{let m;const y={id:r,invoice_id:r,amount:i,dao:l,description:u,payee:"SP2J6ZY48GV1EZ5V2V5RB9MP66SW86PYKKNRV9EJ7",arbiter:"SP3FGQ8Z7JY9BWYZ5WM53E0M9NK7WHJF0691NZ159",txId:"0x1234567890abcdef"};switch(x){case"test":m=await vn.testConnection();break;case"created":m=await vn.notifyInvoiceCreated(y);break;case"funded":m=await vn.notifyInvoiceFunded(y);break;case"released":m=await vn.notifyPaymentReleased(y);break;case"disputed":m=await vn.notifyDispute(y,"Work not completed as specified");break;case"milestone":m=await vn.notifyMilestoneComplete(y,{description:"Phase 1 Development",amount:"0.2 sBTC",progress:33});break;case"ai":m=await vn.notifyAIParsing(y,{confidence:95,fieldsExtracted:12,processingTime:"1.8s"});break;case"summary":m=await vn.sendDailySummary({created:15,completed:12,disputes:1,totalFunded:"8.5 sBTC",totalVolume:"12.3 sBTC",activeDaos:8});break}m!=null&&m.success?e({title:" Notification Sent!",description:`Check your Discord channel for the ${x} notification`}):e({title:" Failed to Send",description:(m==null?void 0:m.reason)||"Discord webhook not configured or failed",variant:"destructive"})}catch{e({title:" Error",description:"Failed to send Discord notification",variant:"destructive"})}finally{n(!1)}},p=[{id:"test",title:" Test Connection",description:"Send a test message to verify webhook configuration",color:"bg-blue-500",icon:a.jsx(Ch,{className:"w-5 h-5"})},{id:"created",title:" Invoice Created",description:"Notify when a new invoice is created",color:"bg-indigo-500",icon:a.jsx(bF,{className:"w-5 h-5"})},{id:"funded",title:" Invoice Funded",description:"Notify when escrow is funded",color:"bg-purple-500",icon:a.jsx(pr,{className:"w-5 h-5"})},{id:"released",title:" Payment Released",description:"Notify when payment is released to contractor",color:"bg-green-500",icon:a.jsx(Yn,{className:"w-5 h-5"})},{id:"disputed",title:" Dispute Raised",description:"Alert when a dispute is raised",color:"bg-red-500",icon:a.jsx(Co,{className:"w-5 h-5"})},{id:"milestone",title:" Milestone Complete",description:"Notify milestone completion",color:"bg-cyan-500",icon:a.jsx(Yn,{className:"w-5 h-5"})},{id:"ai",title:" AI Parsing",description:"Notify when AI parses an invoice",color:"bg-orange-500",icon:a.jsx(B_,{className:"w-5 h-5"})},{id:"summary",title:" Daily Summary",description:"Send daily activity report",color:"bg-teal-500",icon:a.jsx(pr,{className:"w-5 h-5"})}];return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Discord DAO Notifications"}),a.jsx("p",{className:"text-muted-foreground text-lg mb-4",children:"Keep your DAO community informed with real-time Discord notifications for all invoice events"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(pe,{variant:h?"default":"destructive",className:"text-sm py-2 px-4",children:h?a.jsxs(a.Fragment,{children:[a.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Webhook Configured"]}):a.jsxs(a.Fragment,{children:[a.jsx(_u,{className:"w-4 h-4 mr-2"}),"Webhook Not Configured"]})}),!h&&a.jsx("p",{className:"text-sm text-orange-600",children:"Add VITE_DISCORD_WEBHOOK_URL to .env.local to enable notifications"})]})]}),a.jsxs(K,{className:"mb-8",children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Test Configuration"}),a.jsx(je,{children:"Customize the test data for demo notifications"})]}),a.jsx(q,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(_i,{children:"Invoice ID"}),a.jsx(Zt,{value:r,onChange:x=>s(x.target.value)})]}),a.jsxs("div",{children:[a.jsx(_i,{children:"Amount"}),a.jsx(Zt,{value:i,onChange:x=>o(x.target.value)})]}),a.jsxs("div",{children:[a.jsx(_i,{children:"DAO Name"}),a.jsx(Zt,{value:l,onChange:x=>c(x.target.value)})]}),a.jsxs("div",{children:[a.jsx(_i,{children:"Description"}),a.jsx(Zt,{value:u,onChange:x=>d(x.target.value)})]})]})})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:p.map(x=>a.jsxs(K,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(se,{children:[a.jsx("div",{className:`w-12 h-12 ${x.color} rounded-lg flex items-center justify-center text-white mb-3`,children:x.icon}),a.jsx(ie,{className:"text-lg",children:x.title}),a.jsx(je,{className:"text-sm",children:x.description})]}),a.jsx(q,{children:a.jsxs(Y,{onClick:()=>f(x.id),disabled:!h||t,className:"w-full",variant:"outline",children:[a.jsx(B_,{className:"w-4 h-4 mr-2"}),t?"Sending...":"Send Test"]})})]},x.id))}),a.jsxs(K,{className:"mb-8 bg-gradient-to-r from-purple-50 to-blue-50",children:[a.jsx(se,{children:a.jsx(ie,{children:"Discord Integration Features"})}),a.jsx(q,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-3",children:" Rich Embeds"}),a.jsxs("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[a.jsx("li",{children:" Color-coded by event type"}),a.jsx("li",{children:" Invoice details with formatting"}),a.jsx("li",{children:" Clickable blockchain explorer links"}),a.jsx("li",{children:" Timestamps and status indicators"}),a.jsx("li",{children:" Custom thumbnails and footers"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-3",children:" Event Types"}),a.jsxs("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[a.jsx("li",{children:" Invoice creation (@here mention)"}),a.jsx("li",{children:" Escrow funding confirmations"}),a.jsx("li",{children:" Payment release notifications"}),a.jsx("li",{children:" Dispute alerts (@here mention)"}),a.jsx("li",{children:" Milestone completions"}),a.jsx("li",{children:" AI parsing results"}),a.jsx("li",{children:" Daily activity summaries"})]})]})]})})]}),a.jsxs(K,{children:[a.jsx(se,{children:a.jsx(ie,{children:"Setup Instructions"})}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"1. Create Discord Webhook"}),a.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground list-disc list-inside",children:[a.jsx("li",{children:"Open your Discord server settings"}),a.jsx("li",{children:"Go to Integrations  Webhooks"}),a.jsx("li",{children:'Click "New Webhook"'}),a.jsx("li",{children:'Name it "BitMind Notifications"'}),a.jsx("li",{children:"Select the channel for notifications"}),a.jsx("li",{children:"Copy the webhook URL"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"2. Configure Environment Variable"}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Add to your ",a.jsx("code",{className:"bg-secondary px-2 py-1 rounded",children:".env.local"})," file:"]}),a.jsx("div",{className:"bg-secondary p-3 rounded font-mono text-xs",children:"VITE_DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-url"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"3. Restart Development Server"}),a.jsx("div",{className:"bg-secondary p-3 rounded font-mono text-xs",children:"npm run dev"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"4. Test Connection"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Send Test" on the Test Connection card above to verify your webhook works'})]})]})})]})]})]})},ime=({onInvoiceSelect:e,onEventSimulate:t})=>{const[n,r]=S.useState([]),[s,i]=S.useState(null),[o,l]=S.useState([]),[c,u]=S.useState(!1),{toast:d}=Cu();S.useEffect(()=>{r(_n.getAllInvoices())},[]);const h=g=>{i(g),l(_n.getEventsForInvoice(g.invoice_id)),e==null||e(g)},f=async()=>{if(!s)return;u(!0);const g=s.milestones.find(j=>j.status==="in_progress"||j.status==="pending");if(!g){d({title:" No Pending Milestones",description:"All milestones are already completed or blocked",variant:"destructive"}),u(!1);return}const w=_n.simulateNewEvent(s.invoice_id,"milestone_completed",{milestone_title:g.title,amount_released:g.amount,milestone_index:s.milestones.indexOf(g)+1});l(j=>[...j,w]),t==null||t(w),await vn.notifyMilestoneComplete({id:s.invoice_id,amount:Os(s.amount),dao:s.description.split("-")[0].trim()},{description:g.title,amount:Os(g.amount),progress:gA(s)}),d({title:" Milestone Completed!",description:`${g.title} marked as complete`}),setTimeout(()=>u(!1),1e3)},p=async()=>{if(!s)return;u(!0);const g=_n.simulateNewEvent(s.invoice_id,"dispute_raised",{raised_by:"payer",reason:"Quality issues with delivered work"});l(w=>[...w,g]),t==null||t(g),await vn.notifyDispute({id:s.invoice_id,amount:Os(s.amount),dao:s.description.split("-")[0].trim(),arbiter:s.arbiter},"Quality issues with delivered work"),d({title:" Dispute Raised",description:"Dispute has been filed for this invoice",variant:"destructive"}),setTimeout(()=>u(!1),1e3)},x=async()=>{if(!s)return;u(!0);const g=_n.simulateNewEvent(s.invoice_id,"escrow_funded",{amount:s.amount,token_contract:s.token_contract});l(w=>[...w,g]),t==null||t(g),await vn.notifyInvoiceFunded({id:s.invoice_id,amount:Os(s.amount),dao:s.description.split("-")[0].trim(),txId:g.tx_id}),d({title:" Escrow Funded!",description:`${Os(s.amount)} deposited`}),setTimeout(()=>u(!1),1e3)},m=async()=>{if(!s)return;u(!0);const g=_n.simulateNewEvent(s.invoice_id,"payment_released",{amount:s.amount,recipient:s.payee});l(w=>[...w,g]),t==null||t(g),await vn.notifyPaymentReleased({id:s.invoice_id,amount:Os(s.amount),dao:s.description.split("-")[0].trim(),payee:s.payee,txId:g.tx_id}),d({title:" Payment Released!",description:"Funds transferred to contractor"}),setTimeout(()=>u(!1),1e3)},y=g=>{switch(g){case"active":return"bg-green-100 text-green-800";case"disputed":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";case"funded":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},b=g=>{switch(g){case"invoice_created":return"";case"escrow_funded":return"";case"milestone_completed":return"";case"payment_released":return"";case"dispute_raised":return"";default:return""}};return a.jsxs(K,{className:"border-2 border-blue-200",children:[a.jsx(se,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Jn,{className:"w-6 h-6"}),"Demo Invoice Simulator"]})}),a.jsx(q,{children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Select Invoice"}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.map(g=>a.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer hover:bg-accent/50 transition-colors ${(s==null?void 0:s.invoice_id)===g.invoice_id?"border-blue-500 bg-blue-50":"border-gray-200"}`,onClick:()=>h(g),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:"font-semibold",children:g.invoice_id}),a.jsx(pe,{className:y(g.status),children:g.status})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[g.description.substring(0,50),"..."]}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-sm font-medium",children:Os(g.amount)}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[g.milestones.filter(w=>w.status==="completed").length,"/",g.milestones.length," ","milestones"]})]})]},g.invoice_id))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Simulate Events"}),s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("p",{className:"text-sm font-semibold mb-2",children:["Selected: ",s.invoice_id]}),a.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:["Amount: ",Os(s.amount)]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Progress: ",gA(s),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Y,{onClick:x,disabled:c,variant:"outline",className:"w-full",children:[a.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Fund Escrow"]}),a.jsxs(Y,{onClick:f,disabled:c,variant:"outline",className:"w-full",children:[a.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Complete Milestone"]}),a.jsxs(Y,{onClick:m,disabled:c,variant:"outline",className:"w-full",children:[a.jsx(Yn,{className:"w-4 h-4 mr-2"}),"Release Payment"]}),a.jsxs(Y,{onClick:p,disabled:c,variant:"destructive",className:"w-full",children:[a.jsx(Co,{className:"w-4 h-4 mr-2"}),"Raise Dispute"]})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold mb-2 text-sm",children:"Recent Events"}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:o.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No events yet. Simulate some!"}):o.map(g=>a.jsxs("div",{className:"text-xs p-3 bg-secondary rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-1",children:[a.jsxs("span",{className:"font-semibold flex items-center gap-1",children:[a.jsx("span",{children:b(g.event_type)}),g.event_type.replace("_"," ")]}),a.jsx("span",{className:"text-muted-foreground",children:new Date(g.timestamp).toLocaleTimeString()})]}),a.jsxs("div",{className:"text-muted-foreground font-mono",children:["TX: ",g.tx_id.substring(0,20),"..."]}),a.jsxs("div",{className:"text-muted-foreground",children:["Block: ",g.block_height]})]},g.event_id))})]})]}):a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Jn,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{children:"Select an invoice to simulate events"})]})]})]})})]})};var Xv="rovingFocusGroup.onEntryFocus",ome={bubbles:!1,cancelable:!0},If="RovingFocusGroup",[Fb,cL,ame]=$1(If),[lme,uL]=qo(If,[ame]),[cme,ume]=lme(If),dL=S.forwardRef((e,t)=>a.jsx(Fb.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Fb.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(dme,{...e,ref:t})})}));dL.displayName=If;var dme=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=S.useRef(null),p=bt(t,f),x=zj(i),[m,y]=Gc({prop:o,defaultProp:l??null,onChange:c,caller:If}),[b,g]=S.useState(!1),w=Qr(u),j=cL(n),E=S.useRef(!1),[M,O]=S.useState(0);return S.useEffect(()=>{const B=f.current;if(B)return B.addEventListener(Xv,w),()=>B.removeEventListener(Xv,w)},[w]),a.jsx(cme,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:m,onItemFocus:S.useCallback(B=>y(B),[y]),onItemShiftTab:S.useCallback(()=>g(!0),[]),onFocusableItemAdd:S.useCallback(()=>O(B=>B+1),[]),onFocusableItemRemove:S.useCallback(()=>O(B=>B-1),[]),children:a.jsx(ke.div,{tabIndex:b||M===0?-1:0,"data-orientation":r,...h,ref:p,style:{outline:"none",...e.style},onMouseDown:ve(e.onMouseDown,()=>{E.current=!0}),onFocus:ve(e.onFocus,B=>{const z=!E.current;if(B.target===B.currentTarget&&z&&!b){const $=new CustomEvent(Xv,ome);if(B.currentTarget.dispatchEvent($),!$.defaultPrevented){const F=j().filter(A=>A.focusable),U=F.find(A=>A.active),P=F.find(A=>A.id===m),_=[U,P,...F].filter(Boolean).map(A=>A.ref.current);pL(_,d)}}E.current=!1}),onBlur:ve(e.onBlur,()=>g(!1))})})}),hL="RovingFocusGroupItem",fL=S.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=ko(),u=i||c,d=ume(hL,n),h=d.currentTabStopId===u,f=cL(n),{onFocusableItemAdd:p,onFocusableItemRemove:x,currentTabStopId:m}=d;return S.useEffect(()=>{if(r)return p(),()=>x()},[r,p,x]),a.jsx(Fb.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(ke.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ve(e.onMouseDown,y=>{r?d.onItemFocus(u):y.preventDefault()}),onFocus:ve(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ve(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=pme(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const j=w.indexOf(y.currentTarget);w=d.loop?mme(w,j+1):w.slice(j+1)}setTimeout(()=>pL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:m!=null}):o})})});fL.displayName=hL;var hme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fme(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pme(e,t,n){const r=fme(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return hme[r]}function pL(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function mme(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gme=dL,yme=fL,dy="Tabs",[vme]=qo(dy,[uL]),mL=uL(),[xme,oN]=vme(dy),gL=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=zj(l),[h,f]=Gc({prop:r,onChange:s,defaultProp:i??"",caller:dy});return a.jsx(xme,{scope:n,baseId:ko(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:a.jsx(ke.div,{dir:d,"data-orientation":o,...u,ref:t})})});gL.displayName=dy;var yL="TabsList",vL=S.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=oN(yL,n),o=mL(n);return a.jsx(gme,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(ke.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});vL.displayName=yL;var xL="TabsTrigger",wL=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=oN(xL,n),l=mL(n),c=jL(o.baseId,r),u=NL(o.baseId,r),d=r===o.value;return a.jsx(yme,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(ke.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ve(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ve(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ve(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});wL.displayName=xL;var bL="TabsContent",SL=S.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,l=oN(bL,n),c=jL(l.baseId,r),u=NL(l.baseId,r),d=r===l.value,h=S.useRef(d);return S.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(yl,{present:s||d,children:({present:f})=>a.jsx(ke.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});SL.displayName=bL;function jL(e,t){return`${e}-trigger-${t}`}function NL(e,t){return`${e}-content-${t}`}var wme=gL,_L=vL,EL=wL,AL=SL;const bme=wme,CL=S.forwardRef(({className:e,...t},n)=>a.jsx(_L,{ref:n,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));CL.displayName=_L.displayName;const $d=S.forwardRef(({className:e,...t},n)=>a.jsx(EL,{ref:n,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));$d.displayName=EL.displayName;const Ld=S.forwardRef(({className:e,...t},n)=>a.jsx(AL,{ref:n,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ld.displayName=AL.displayName;class Sme{constructor(){Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"TTL",{enumerable:!0,configurable:!0,writable:!0,value:3e5})}get(t){const n=this.cache.get(t);return n?Date.now()-n.timestamp>this.TTL?(this.cache.delete(t),null):n.data:null}set(t,n){this.cache.set(t,{data:n,timestamp:Date.now()})}}const Gk=new Sme;async function jme(e){const n=new TextEncoder().encode(e);let r=0;for(let l=0;l<n.length;l++)r=r*31+n[l]|0;const s=String(r),i=Gk.get(s);if(i)return i;const o=await ule(e);return Gk.set(s,o),o}const Nme=()=>{var p;const{toast:e}=Cu(),[t,n]=S.useState(null),[r,s]=S.useState([]),[i,o]=S.useState(null),[l,c]=S.useState(!1),u=_n.getInvoiceStats(),d=_n.getMilestoneStats(),h=uX(),f=async x=>{c(!0);try{const m=await jme(x.text);o({testId:x.id,description:x.description,extracted:m,expected:x.expected_extraction,success:!0}),e({title:" AI Parsing Complete",description:`Confidence: ${Math.round((m.confidence_score||0)*100)}%`})}catch(m){o({testId:x.id,error:m,success:!1}),e({title:" Parsing Failed",description:"AI parsing encountered an error",variant:"destructive"})}finally{c(!1)}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(es,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:" Interactive Demo Playground"}),a.jsx("p",{className:"text-muted-foreground text-lg mb-6",children:"Explore BitMind's full capabilities with production-grade demo data and interactive simulations"}),a.jsxs("div",{className:"grid md:grid-cols-5 gap-4",children:[a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Jn,{className:"w-8 h-8 mx-auto mb-2 text-blue-600"}),a.jsx("p",{className:"text-2xl font-bold",children:u.total}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Demo Invoices"})]})})}),a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Eh,{className:"w-8 h-8 mx-auto mb-2 text-green-600"}),a.jsx("p",{className:"text-2xl font-bold",children:u.active}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"})]})})}),a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Co,{className:"w-8 h-8 mx-auto mb-2 text-red-600"}),a.jsx("p",{className:"text-2xl font-bold",children:u.disputed}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Disputed"})]})})}),a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(pr,{className:"w-8 h-8 mx-auto mb-2 text-purple-600"}),a.jsx("p",{className:"text-2xl font-bold",children:Os(u.totalValue)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"})]})})}),a.jsx(K,{children:a.jsx(q,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Bn,{className:"w-8 h-8 mx-auto mb-2 text-orange-600"}),a.jsxs("p",{className:"text-2xl font-bold",children:[Math.round(u.averageConfidence*100),"%"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Confidence"})]})})})]})]}),a.jsxs(bme,{defaultValue:"simulator",className:"space-y-6",children:[a.jsxs(CL,{className:"grid w-full grid-cols-4",children:[a.jsx($d,{value:"simulator",children:"Invoice Simulator"}),a.jsx($d,{value:"ai",children:"AI Testing"}),a.jsx($d,{value:"security",children:"Security"}),a.jsx($d,{value:"governance",children:"Governance"})]}),a.jsxs(Ld,{value:"simulator",className:"space-y-6",children:[a.jsx(ime,{onInvoiceSelect:n,onEventSimulate:x=>s(m=>[x,...m])}),r.length>0&&a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsx(ie,{children:"Simulated Events Log"}),a.jsx(je,{children:"Events you've simulated in this session"})]}),a.jsx(q,{children:a.jsx("div",{className:"space-y-2",children:r.slice(0,10).map(x=>a.jsx("div",{className:"p-3 bg-secondary rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:x.event_type.replace("_"," ").toUpperCase()}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Invoice: ",x.invoice_id]})]}),a.jsx(pe,{variant:"outline",children:new Date(x.timestamp).toLocaleTimeString()})]})},x.event_id))})})]})]}),a.jsx(Ld,{value:"ai",className:"space-y-6",children:a.jsxs(K,{children:[a.jsxs(se,{children:[a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Bn,{className:"w-6 h-6"}),"AI Invoice Parsing Test Cases"]}),a.jsx(je,{children:"Test AI parsing with different invoice formats and complexity levels"})]}),a.jsxs(q,{children:[a.jsx("div",{className:"space-y-4",children:_n.getAITestCases().map(x=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:x.id.replace("_"," ").toUpperCase()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]}),a.jsxs(Y,{size:"sm",onClick:()=>f(x),disabled:l,children:[a.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Test Parse"]})]}),a.jsxs("div",{className:"bg-secondary p-3 rounded text-sm font-mono whitespace-pre-wrap",children:[x.text.substring(0,200),"..."]})]},x.id))}),i&&a.jsxs("div",{className:`mt-4 p-4 rounded-lg ${i.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} border`,children:[a.jsx("h4",{className:"font-semibold mb-2",children:i.success?" Parsing Successful":" Parsing Failed"}),a.jsxs("div",{className:"text-sm space-y-1",children:[a.jsxs("p",{children:["Test: ",i.description]}),i.success&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["Confidence: ",Math.round((((p=i.extracted)==null?void 0:p.confidence_score)||0)*100),"%"]}),a.jsxs("p",{children:["Extracted Fields: ",Object.keys(i.extracted||{}).length]})]})]})]})]})]})}),a.jsx(Ld,{value:"security",className:"space-y-6",children:a.jsxs(K,{children:[a.jsx(se,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"w-6 h-6"}),"Security & Risk Assessment"]})}),a.jsx(q,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:`p-4 rounded-lg ${h.valid?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} border`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.valid?a.jsx(Yn,{className:"w-5 h-5 text-green-600"}):a.jsx(Co,{className:"w-5 h-5 text-red-600"}),a.jsxs("h4",{className:"font-semibold",children:["Address Validation: ",h.valid?"All Valid":"Issues Found"]})]}),h.errors.length>0&&a.jsx("ul",{className:"text-sm space-y-1",children:h.errors.map((x,m)=>a.jsxs("li",{className:"text-red-700",children:[" ",x]},m))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-3",children:"Screened Entities"}),a.jsx("div",{className:"space-y-2",children:_n.data.security_data.screened_entities.map(x=>a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("code",{className:"text-xs",children:x.address}),a.jsx(pe,{variant:x.trust_level==="high"?"default":x.trust_level==="medium"?"secondary":"destructive",children:x.trust_level})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Risk Score"}),a.jsxs("p",{className:"font-semibold",children:[x.risk_score,"/10"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Completed"}),a.jsx("p",{className:"font-semibold",children:x.completed_invoices})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Dispute Rate"}),a.jsxs("p",{className:"font-semibold",children:[(x.dispute_rate*100).toFixed(1),"%"]})]})]})]},x.address))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold mb-3 flex items-center gap-2",children:[a.jsx(Co,{className:"w-5 h-5 text-red-600"}),"Blacklisted Addresses"]}),a.jsx("div",{className:"space-y-2",children:_n.data.security_data.blacklisted_addresses.map(x=>a.jsx("div",{className:"p-2 bg-red-50 border border-red-200 rounded",children:a.jsx("code",{className:"text-xs text-red-800",children:x})},x))})]})]})})]})}),a.jsxs(Ld,{value:"governance",className:"space-y-6",children:[a.jsxs(K,{children:[a.jsx(se,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Jc,{className:"w-6 h-6"}),"DAO Governance & Batch Approvals"]})}),a.jsx(q,{children:a.jsx("div",{className:"space-y-4",children:_n.getBatchApprovals().map(x=>a.jsxs("div",{className:"p-4 border-2 border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:x.batch_id}),a.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]}),a.jsx(pe,{variant:"default",className:"bg-green-600",children:x.status})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),a.jsx("p",{className:"font-semibold",children:Os(x.total_amount)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Approval Threshold"}),a.jsxs("p",{className:"font-semibold",children:[x.approvals.filter(m=>m.approved).length," / ",x.approval_threshold]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h5",{className:"font-semibold text-sm",children:"Approvals:"}),x.approvals.map((m,y)=>a.jsxs("div",{className:`p-2 rounded text-sm ${m.approved?"bg-green-50":"bg-orange-50"}`,children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("code",{className:"text-xs",children:[m.org.substring(0,20),"..."]}),a.jsx(pe,{variant:m.approved?"default":"outline",children:m.approved?" Approved":" Pending"})]}),m.reason&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m.reason})]},y))]}),a.jsx("div",{className:"mt-3 pt-3 border-t",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Executed: ",new Date(x.executed_at).toLocaleString()]})})]},x.batch_id))})})]}),a.jsxs(K,{children:[a.jsx(se,{children:a.jsx(ie,{children:"Milestone Performance"})}),a.jsx(q,{children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.completed}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(d.completed/d.total*100),"% completion rate"]})]}),a.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.in_progress}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]}),a.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:d.pending}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting start"})]})]})})]})]})]}),a.jsxs(K,{className:"mt-8 bg-gradient-to-r from-purple-50 to-blue-50",children:[a.jsx(se,{children:a.jsxs(ie,{className:"flex items-center gap-2",children:[a.jsx(Ah,{className:"w-6 h-6"}),"Demo Data Information"]})}),a.jsx(q,{children:a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:" Data Version"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["v",_n.data.version]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Updated: ",_n.data.last_updated]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:" Test Cases"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[_n.getAITestCases().length," AI parsing scenarios"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Standard, minimal, and complex formats"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:" Demo Wallets"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[_n.getDemoWallets().length," configured wallets"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Payer, Payee, and Arbiter roles"})]})]})})]})]})]})},_me=new d9,Eme=()=>a.jsx(f9,{client:_me,children:a.jsxs(LV,{children:[a.jsx(NU,{}),a.jsx(QU,{}),a.jsx(h7,{children:a.jsxs(i7,{children:[a.jsx(Kt,{path:"/landing",element:a.jsx(qre,{})}),a.jsx(Kt,{path:"/",element:a.jsx(Vn,{children:a.jsx(mA,{})})}),a.jsx(Kt,{path:"/app",element:a.jsx(Vn,{children:a.jsx(mA,{})})}),a.jsx(Kt,{path:"/dashboard",element:a.jsx(Vn,{children:a.jsx(Gre,{})})}),a.jsx(Kt,{path:"/invoices",element:a.jsx(Vn,{children:a.jsx(Zre,{})})}),a.jsx(Kt,{path:"/create",element:a.jsx(Vn,{children:a.jsx(JQ,{})})}),a.jsx(Kt,{path:"/demo",element:a.jsx(Vn,{children:a.jsx(ble,{})})}),a.jsx(Kt,{path:"/invoice/:id",element:a.jsx(Vn,{children:a.jsx(dX,{})})}),a.jsx(Kt,{path:"/interactive-demo",element:a.jsx(Vn,{children:a.jsx(Nme,{})})}),a.jsx(Kt,{path:"/help",element:a.jsx(Yre,{})}),a.jsx(Kt,{path:"/api-demo",element:a.jsx(Qre,{})}),a.jsx(Kt,{path:"/api-showcase",element:a.jsx(Dfe,{})}),a.jsx(Kt,{path:"/supabase-test",element:a.jsx(tde,{})}),a.jsx(Kt,{path:"/realtime-monitor",element:a.jsx(rme,{})}),a.jsx(Kt,{path:"/nft-marketplace",element:a.jsx(Vn,{children:a.jsx(rde,{})})}),a.jsx(Kt,{path:"/analytics",element:a.jsx(Vn,{children:a.jsx(ide,{})})}),a.jsx(Kt,{path:"/yield-optimizer",element:a.jsx(Vn,{children:a.jsx(Bde,{})})}),a.jsx(Kt,{path:"/cross-chain-swap",element:a.jsx(Vn,{children:a.jsx(Ude,{})})}),a.jsx(Kt,{path:"/treasury",element:a.jsx(Vn,{children:a.jsx(Vde,{})})}),a.jsx(Kt,{path:"/invoice-editor",element:a.jsx(Vn,{children:a.jsx(ehe,{})})}),a.jsx(Kt,{path:"/discord-notifications",element:a.jsx(Vn,{children:a.jsx(sme,{})})})]})})]})});console.log(" BitMind app starting...");console.log("Environment:","production");console.log("Base URL:","./");window.addEventListener("error",e=>{console.error("Global error caught:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});const kL=document.getElementById("root");if(!kL)throw console.error(" Root element not found! Check your index.html"),new Error("Root element #root not found");console.log(" Root element found, rendering React app...");try{yI(kL).render(a.jsx(S.StrictMode,{children:a.jsx(Eme,{})})),console.log(" React app rendered successfully")}catch(e){throw console.error(" Error rendering React app:",e),e}export{Lme as a,cR as g,uY as h,Bme as r,Pme as s};
