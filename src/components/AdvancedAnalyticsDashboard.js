import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { LineChart, TrendingUp, AlertTriangle, Brain, Target, Shield, Zap, BarChart3, PieChart, DollarSign, Clock, Activity } from 'lucide-react';
const mockRiskScores = [
    {
        invoiceId: '2025-300',
        score: 92,
        risk: 'low',
        factors: ['Established payer', 'On-time history', 'Sufficient collateral'],
        recommendation: 'Safe to fund - excellent payment track record'
    },
    {
        invoiceId: '2025-299',
        score: 75,
        risk: 'medium',
        factors: ['New payer', 'Average industry metrics', 'Standard terms'],
        recommendation: 'Consider milestone-based release'
    },
    {
        invoiceId: '2025-298',
        score: 58,
        risk: 'high',
        factors: ['Delayed payments history', 'High industry default rate', 'Extended terms'],
        recommendation: 'Request additional collateral or escrow'
    },
];
const mockInsights = [
    {
        title: 'Payment Delay Forecast',
        description: 'Invoice #2025-299 has 67% probability of 5-7 day delay based on payer behavior patterns',
        confidence: 67,
        impact: 'negative',
        actionable: true
    },
    {
        title: 'Yield Optimization Opportunity',
        description: 'Moving $125K to aggressive yield pool could generate +$3,200 additional returns',
        confidence: 84,
        impact: 'positive',
        actionable: true
    },
    {
        title: 'Fraud Detection Alert',
        description: 'Unusual pattern detected: 3 invoices from same region with inflated amounts',
        confidence: 91,
        impact: 'negative',
        actionable: true
    },
    {
        title: 'Market Opportunity',
        description: 'Current NFT marketplace discount average (9.2%) is 2.3% above historical mean',
        confidence: 78,
        impact: 'positive',
        actionable: true
    },
];
export const AdvancedAnalyticsDashboard = () => {
    const [selectedPeriod, setSelectedPeriod] = useState('30d');
    return (_jsxs("div", { className: "container mx-auto px-4 py-8", children: [_jsxs("div", { className: "mb-8", children: [_jsxs("h1", { className: "text-4xl font-bold mb-2 flex items-center gap-3", children: [_jsx(Brain, { className: "w-10 h-10 text-purple-600" }), "AI-Powered Analytics Dashboard"] }), _jsx("p", { className: "text-muted-foreground text-lg", children: "Predictive insights, risk scoring, and fraud detection powered by machine learning" })] }), _jsxs("div", { className: "grid md:grid-cols-4 gap-4 mb-8", children: [_jsx(Card, { className: "border-purple-200 bg-purple-50/50", children: _jsx(CardContent, { className: "pt-6", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Target, { className: "w-8 h-8 text-purple-600" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "AI Confidence" }), _jsx("p", { className: "text-2xl font-bold", children: "94.2%" })] })] }) }) }), _jsx(Card, { className: "border-green-200 bg-green-50/50", children: _jsx(CardContent, { className: "pt-6", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx(TrendingUp, { className: "w-8 h-8 text-green-600" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Predicted Growth" }), _jsx("p", { className: "text-2xl font-bold", children: "+23%" })] })] }) }) }), _jsx(Card, { className: "border-blue-200 bg-blue-50/50", children: _jsx(CardContent, { className: "pt-6", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Shield, { className: "w-8 h-8 text-blue-600" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Risk Score" }), _jsx("p", { className: "text-2xl font-bold text-green-600", children: "Low" })] })] }) }) }), _jsx(Card, { className: "border-orange-200 bg-orange-50/50", children: _jsx(CardContent, { className: "pt-6", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Zap, { className: "w-8 h-8 text-orange-600" }), _jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Actionable Alerts" }), _jsx("p", { className: "text-2xl font-bold", children: "7" })] })] }) }) })] }), _jsxs(Tabs, { defaultValue: "risk-scoring", className: "space-y-6", children: [_jsxs(TabsList, { className: "grid w-full grid-cols-4", children: [_jsx(TabsTrigger, { value: "risk-scoring", children: "Risk Scoring" }), _jsx(TabsTrigger, { value: "predictive", children: "Predictive Insights" }), _jsx(TabsTrigger, { value: "portfolio", children: "Portfolio Analytics" }), _jsx(TabsTrigger, { value: "fraud", children: "Fraud Detection" })] }), _jsx(TabsContent, { value: "risk-scoring", className: "space-y-4", children: _jsxs(Card, { children: [_jsxs(CardHeader, { children: [_jsxs(CardTitle, { className: "flex items-center gap-2", children: [_jsx(Shield, { className: "w-5 h-5" }), "Invoice Risk Assessment"] }), _jsx(CardDescription, { children: "ML-powered risk scoring for informed funding decisions" })] }), _jsx(CardContent, { className: "space-y-4", children: mockRiskScores.map((item) => (_jsx(Card, { className: "overflow-hidden", children: _jsxs(CardContent, { className: "pt-6", children: [_jsxs("div", { className: "flex items-start justify-between mb-4", children: [_jsxs("div", { children: [_jsxs("h3", { className: "font-semibold text-lg mb-1", children: ["Invoice #", item.invoiceId] }), _jsxs(Badge, { variant: item.risk === 'low' ? 'default' : 'destructive', className: item.risk === 'low' ? 'bg-green-600' :
                                                                        item.risk === 'medium' ? 'bg-yellow-600' :
                                                                            'bg-red-600', children: [item.risk.toUpperCase(), " RISK"] })] }), _jsxs("div", { className: "text-right", children: [_jsx("p", { className: "text-sm text-muted-foreground mb-1", children: "Risk Score" }), _jsxs("p", { className: "text-3xl font-bold", children: [item.score, _jsx("span", { className: "text-lg text-muted-foreground", children: "/100" })] })] })] }), _jsx("div", { className: "mb-4", children: _jsx("div", { className: "w-full bg-gray-200 rounded-full h-3 overflow-hidden", children: _jsx("div", { className: `h-full ${item.risk === 'low' ? 'bg-green-600' :
                                                                item.risk === 'medium' ? 'bg-yellow-600' :
                                                                    'bg-red-600'}`, style: { width: `${item.score}%` } }) }) }), _jsxs("div", { className: "space-y-3", children: [_jsxs("div", { children: [_jsx("p", { className: "text-sm font-semibold mb-2", children: "Risk Factors:" }), _jsx("div", { className: "flex flex-wrap gap-2", children: item.factors.map((factor, idx) => (_jsx(Badge, { variant: "outline", className: "text-xs", children: factor }, idx))) })] }), _jsxs("div", { className: "pt-3 border-t", children: [_jsx("p", { className: "text-sm font-semibold mb-1", children: "AI Recommendation:" }), _jsx("p", { className: "text-sm text-muted-foreground", children: item.recommendation })] })] })] }) }, item.invoiceId))) })] }) }), _jsx(TabsContent, { value: "predictive", className: "space-y-4", children: _jsxs(Card, { children: [_jsxs(CardHeader, { children: [_jsxs(CardTitle, { className: "flex items-center gap-2", children: [_jsx(Brain, { className: "w-5 h-5" }), "AI Predictive Insights"] }), _jsx(CardDescription, { children: "Machine learning forecasts and actionable recommendations" })] }), _jsx(CardContent, { className: "space-y-4", children: mockInsights.map((insight, idx) => (_jsx(Card, { className: `border-l-4 ${insight.impact === 'positive' ? 'border-l-green-500' :
                                            insight.impact === 'negative' ? 'border-l-red-500' :
                                                'border-l-blue-500'}`, children: _jsxs(CardContent, { className: "pt-6", children: [_jsxs("div", { className: "flex items-start justify-between mb-3", children: [_jsxs("div", { className: "flex items-start gap-3", children: [insight.impact === 'positive' ? (_jsx(TrendingUp, { className: "w-5 h-5 text-green-600 mt-1" })) : insight.impact === 'negative' ? (_jsx(AlertTriangle, { className: "w-5 h-5 text-red-600 mt-1" })) : (_jsx(Activity, { className: "w-5 h-5 text-blue-600 mt-1" })), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold mb-1", children: insight.title }), _jsx("p", { className: "text-sm text-muted-foreground", children: insight.description })] })] }), _jsxs(Badge, { variant: "outline", children: [insight.confidence, "% confidence"] })] }), insight.actionable && (_jsx(Button, { size: "sm", variant: "outline", className: "mt-3", children: "Take Action" }))] }) }, idx))) })] }) }), _jsxs(TabsContent, { value: "portfolio", className: "space-y-4", children: [_jsxs("div", { className: "grid md:grid-cols-2 gap-6", children: [_jsxs(Card, { children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center gap-2", children: [_jsx(PieChart, { className: "w-5 h-5" }), "Portfolio Distribution"] }) }), _jsxs(CardContent, { children: [_jsxs("div", { className: "space-y-4", children: [_jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm font-medium", children: "Active Invoices" }), _jsx("span", { className: "text-sm font-bold", children: "$342K (45%)" })] }), _jsx("div", { className: "w-full bg-gray-200 rounded-full h-2", children: _jsx("div", { className: "bg-blue-600 h-2 rounded-full", style: { width: '45%' } }) })] }), _jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm font-medium", children: "Yield Farming" }), _jsx("span", { className: "text-sm font-bold", children: "$215K (28%)" })] }), _jsx("div", { className: "w-full bg-gray-200 rounded-full h-2", children: _jsx("div", { className: "bg-green-600 h-2 rounded-full", style: { width: '28%' } }) })] }), _jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm font-medium", children: "NFT Marketplace" }), _jsx("span", { className: "text-sm font-bold", children: "$128K (17%)" })] }), _jsx("div", { className: "w-full bg-gray-200 rounded-full h-2", children: _jsx("div", { className: "bg-purple-600 h-2 rounded-full", style: { width: '17%' } }) })] }), _jsxs("div", { children: [_jsxs("div", { className: "flex justify-between mb-2", children: [_jsx("span", { className: "text-sm font-medium", children: "Available Liquidity" }), _jsx("span", { className: "text-sm font-bold", children: "$75K (10%)" })] }), _jsx("div", { className: "w-full bg-gray-200 rounded-full h-2", children: _jsx("div", { className: "bg-orange-600 h-2 rounded-full", style: { width: '10%' } }) })] })] }), _jsx("div", { className: "mt-6 pt-6 border-t", children: _jsxs("div", { className: "flex justify-between items-center", children: [_jsx("span", { className: "font-semibold", children: "Total Portfolio Value" }), _jsx("span", { className: "text-2xl font-bold text-blue-600", children: "$760K" })] }) })] })] }), _jsxs(Card, { children: [_jsx(CardHeader, { children: _jsxs(CardTitle, { className: "flex items-center gap-2", children: [_jsx(BarChart3, { className: "w-5 h-5" }), "Performance Metrics"] }) }), _jsx(CardContent, { children: _jsxs("div", { className: "space-y-4", children: [_jsxs("div", { className: "flex items-center justify-between p-3 bg-green-50 rounded-lg", children: [_jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Total Returns (30d)" }), _jsx("p", { className: "text-2xl font-bold text-green-600", children: "+$24,350" })] }), _jsx(TrendingUp, { className: "w-8 h-8 text-green-600" })] }), _jsxs("div", { className: "flex items-center justify-between p-3 bg-blue-50 rounded-lg", children: [_jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Avg Payment Time" }), _jsx("p", { className: "text-2xl font-bold text-blue-600", children: "38 days" })] }), _jsx(Clock, { className: "w-8 h-8 text-blue-600" })] }), _jsxs("div", { className: "flex items-center justify-between p-3 bg-purple-50 rounded-lg", children: [_jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Success Rate" }), _jsx("p", { className: "text-2xl font-bold text-purple-600", children: "98.2%" })] }), _jsx(Target, { className: "w-8 h-8 text-purple-600" })] }), _jsxs("div", { className: "flex items-center justify-between p-3 bg-orange-50 rounded-lg", children: [_jsxs("div", { children: [_jsx("p", { className: "text-sm text-muted-foreground", children: "Yield Earnings" }), _jsx("p", { className: "text-2xl font-bold text-orange-600", children: "$8,420" })] }), _jsx(DollarSign, { className: "w-8 h-8 text-orange-600" })] })] }) })] })] }), _jsxs(Card, { children: [_jsxs(CardHeader, { children: [_jsxs(CardTitle, { className: "flex items-center gap-2", children: [_jsx(LineChart, { className: "w-5 h-5" }), "Historical Performance"] }), _jsx("div", { className: "flex gap-2", children: ['7d', '30d', '90d', '1y'].map((period) => (_jsx(Button, { size: "sm", variant: selectedPeriod === period ? 'default' : 'outline', onClick: () => setSelectedPeriod(period), children: period }, period))) })] }), _jsx(CardContent, { children: _jsx("div", { className: "h-64 flex items-center justify-center border-2 border-dashed rounded-lg", children: _jsxs("div", { className: "text-center text-muted-foreground", children: [_jsx(LineChart, { className: "w-16 h-16 mx-auto mb-4 opacity-50" }), _jsx("p", { children: "Performance chart visualization" }), _jsx("p", { className: "text-sm", children: "(Integration with charting library)" })] }) }) })] })] }), _jsx(TabsContent, { value: "fraud", className: "space-y-4", children: _jsxs(Card, { children: [_jsxs(CardHeader, { children: [_jsxs(CardTitle, { className: "flex items-center gap-2", children: [_jsx(AlertTriangle, { className: "w-5 h-5 text-red-600" }), "Fraud Detection & Anomalies"] }), _jsx(CardDescription, { children: "Real-time fraud monitoring using pattern recognition" })] }), _jsxs(CardContent, { children: [_jsxs("div", { className: "space-y-4", children: [_jsx(Card, { className: "border-red-200 bg-red-50", children: _jsx(CardContent, { className: "pt-6", children: _jsxs("div", { className: "flex items-start gap-3", children: [_jsx(AlertTriangle, { className: "w-6 h-6 text-red-600 flex-shrink-0" }), _jsxs("div", { className: "flex-1", children: [_jsxs("div", { className: "flex items-start justify-between mb-2", children: [_jsx("h3", { className: "font-semibold text-red-900", children: "High Risk: Duplicate Invoice Pattern" }), _jsx(Badge, { variant: "destructive", children: "Critical" })] }), _jsx("p", { className: "text-sm text-red-800 mb-3", children: "Three invoices submitted by different parties reference the same project deliverables with overlapping dates" }), _jsxs("div", { className: "flex gap-2", children: [_jsx(Button, { size: "sm", variant: "destructive", children: "Flag for Review" }), _jsx(Button, { size: "sm", variant: "outline", children: "View Details" })] })] })] }) }) }), _jsx(Card, { className: "border-yellow-200 bg-yellow-50", children: _jsx(CardContent, { className: "pt-6", children: _jsxs("div", { className: "flex items-start gap-3", children: [_jsx(AlertTriangle, { className: "w-6 h-6 text-yellow-600 flex-shrink-0" }), _jsxs("div", { className: "flex-1", children: [_jsxs("div", { className: "flex items-start justify-between mb-2", children: [_jsx("h3", { className: "font-semibold text-yellow-900", children: "Anomaly: Unusual Amount" }), _jsx(Badge, { className: "bg-yellow-600", children: "Warning" })] }), _jsx("p", { className: "text-sm text-yellow-800 mb-3", children: "Invoice #2025-301 amount ($425K) is 3.2x higher than historical average for this vendor" }), _jsx(Button, { size: "sm", variant: "outline", children: "Review Invoice" })] })] }) }) }), _jsx(Card, { className: "border-green-200 bg-green-50", children: _jsx(CardContent, { className: "pt-6", children: _jsxs("div", { className: "flex items-center gap-3", children: [_jsx(Shield, { className: "w-6 h-6 text-green-600" }), _jsxs("div", { children: [_jsx("h3", { className: "font-semibold text-green-900 mb-1", children: "All Clear" }), _jsx("p", { className: "text-sm text-green-800", children: "No other suspicious patterns detected in the last 30 days" })] })] }) }) })] }), _jsxs("div", { className: "mt-6 pt-6 border-t", children: [_jsx("h3", { className: "font-semibold mb-4", children: "Fraud Prevention Stats (Last 90 Days)" }), _jsxs("div", { className: "grid md:grid-cols-3 gap-4", children: [_jsxs("div", { className: "text-center p-4 bg-gray-50 rounded-lg", children: [_jsx("p", { className: "text-3xl font-bold text-blue-600", children: "247" }), _jsx("p", { className: "text-sm text-muted-foreground", children: "Transactions Monitored" })] }), _jsxs("div", { className: "text-center p-4 bg-gray-50 rounded-lg", children: [_jsx("p", { className: "text-3xl font-bold text-red-600", children: "3" }), _jsx("p", { className: "text-sm text-muted-foreground", children: "Frauds Prevented" })] }), _jsxs("div", { className: "text-center p-4 bg-gray-50 rounded-lg", children: [_jsx("p", { className: "text-3xl font-bold text-green-600", children: "$142K" }), _jsx("p", { className: "text-sm text-muted-foreground", children: "Amount Protected" })] })] })] })] })] }) })] })] }));
};
export default AdvancedAnalyticsDashboard;
